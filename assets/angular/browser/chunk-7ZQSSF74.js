import{a as Q,b as J,c as K,d as Z}from"./chunk-F6AJN7OX.js";import{d as q,f as Y}from"./chunk-3QWAK6LI.js";import{$ as b,$a as U,A as E,Aa as N,B as O,Eb as H,Fb as W,Ha as R,Ia as L,Ja as B,O as r,Oa as X,Pa as j,Q as V,Qa as y,S as z,T as k,Ta as $,X as m,Z as p,ea as a,fa as n,ga as g,ja as P,ka as h,la as f,lb as T,u as S,xa as s,za as G}from"./chunk-456DMZIU.js";import"./chunk-GAL4ENT6.js";var ne=o=>({"sidebar-collapsed":o});function oe(o,i){o&1&&(a(0,"span",29),s(1,"P\xE1gina principal"),n())}function le(o,i){o&1&&(a(0,"span",29),s(1,"Cuenta"),n())}function se(o,i){o&1&&(a(0,"span",29),s(1,"Informaci\xF3n personal"),n())}function re(o,i){o&1&&(a(0,"span",29),s(1,"Seguridad"),n())}function ce(o,i){o&1&&(a(0,"span",29),s(1,"Estadisticas"),n())}function de(o,i){o&1&&(a(0,"span",29),s(1,"Bootstrap"),n())}function pe(o,i){o&1&&(a(0,"span",30),s(1,"Item 1"),n())}function me(o,i){o&1&&(a(0,"span",30),s(1,"Item 2"),n())}function ue(o,i){o&1&&(a(0,"span",29),s(1,"Products"),n())}function he(o,i){o&1&&(a(0,"span",30),s(1,"Product1"),n())}function fe(o,i){o&1&&(a(0,"span",30),s(1,"Product2"),n())}function ge(o,i){o&1&&(a(0,"span",30),s(1,"Product3"),n())}function Ce(o,i){o&1&&(a(0,"span",30),s(1,"Product4"),n())}function _e(o,i){o&1&&(a(0,"span",29),s(1,"Customers"),n())}function ve(o,i){o&1&&(a(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",35)(5,"h2"),s(6,"Bienvenido a tu cuenta"),n(),a(7,"p",36),s(8,"Aqu\xED puedes gestionar todas tus configuraciones, ver tu actividad reciente y actualizar tu informaci\xF3n personal."),n(),a(9,"div",37)(10,"div",38)(11,"div",39)(12,"div",35)(13,"h5",40),s(14,"Cambiar contrase\xF1a"),n(),a(15,"p",36),s(16,"Actualiza tu contrase\xF1a para mantener tu cuenta segura."),n(),a(17,"a",41),s(18,"Cambiar"),n()()()(),a(19,"div",38)(20,"div",39)(21,"div",35)(22,"h5",40),s(23,"Ver Actividades"),n(),a(24,"p",36),s(25,"Revisar actividades de Musicoterapia."),n(),a(26,"a",41),s(27,"Ver dispositivos"),n()()()(),a(28,"div",38)(29,"div",39)(30,"div",35)(31,"h5",40),s(32,"Actualizar informaci\xF3n personal"),n(),a(33,"p",36),s(34,"Aseg\xFArate de que tu informaci\xF3n personal est\xE9 actualizada."),n(),a(35,"a",41),s(36,"Actualizar"),n()()()(),a(37,"div",38)(38,"div",39)(39,"div",35)(40,"h5",40),s(41,"Verificar progreso"),n(),a(42,"p",36),s(43,"Consulta tu progreso."),n(),a(44,"a",41),s(45,"Ver progreso"),n()()()()()()()()()())}var w=class o{constructor(){this.menuOpen=!1;this.showhome=!0;this.showseguridad=!1}toggleMenu(){this.menuOpen=!this.menuOpen}showContent(i){let e=document.getElementById("content-area"),t="";switch(i){case"home":t=`


        `;break;case"dashboard1":t="Detalles del elemento 1 del tablero...";break;case"dashboard2":t="Detalles del elemento 2 del tablero...";break;case"orders":t="Aqu\xED est\xE1n tus \xF3rdenes...";break;case"bootstrap1":t="Detalles del elemento 1 de Bootstrap...";break;case"bootstrap2":t="Detalles del elemento 2 de Bootstrap...";break;case"product1":t="Descripci\xF3n del producto 1...";break;case"product2":t="Descripci\xF3n del producto 2...";break;case"product3":t="Descripci\xF3n del producto 3...";break;case"product4":t="Descripci\xF3n del producto 4...";break;case"customers":t="Informaci\xF3n de clientes...";break;default:t="\xC1rea de contenido..."}e&&(e.innerHTML=t)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=z({type:o,selectors:[["app-perfil"]],standalone:!1,decls:63,vars:18,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","sidebar",3,"ngClass"],["type","button",1,"navbar-toggler","text-dark","toggle-btn",3,"click"],[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","min-vh-100"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],[1,"nav-item"],[1,"nav-link","align-middle","px-0",3,"click"],[1,"fs-4","bi-house"],["class","ms-1 d-sm-inline",4,"ngIf"],["href","#submenu1","data-bs-toggle","collapse",1,"nav-link","px-0","align-middle","text-primary"],[1,"fs-4","bi-person"],["id","submenu1","data-bs-parent","#menu",1,"collapse","show","nav","flex-column","ms-1"],[1,"w-100"],[1,"fs-4","bi-info-square"],[1,"fs-4","bi-shield-check"],[1,"nav-link","px-0","align-middle",3,"click"],[1,"fs-4","bi-table"],["href","#submenu2","data-bs-toggle","collapse",1,"nav-link","px-0","align-middle"],[1,"fs-4","bi-bootstrap"],["id","submenu2","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[1,"nav-link","px-0",3,"click"],["class","d-sm-inline",4,"ngIf"],["href","#submenu3","data-bs-toggle","collapse",1,"nav-link","px-0","align-middle"],[1,"fs-4","bi-grid"],["id","submenu3","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[1,"fs-4","bi-people"],[1,"col","py-3","bg-light"],["class","container mt-5",4,"ngIf"],[1,"ms-1","d-sm-inline"],[1,"d-sm-inline"],[1,"container","mt-5"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"card-text"],[1,"row","mt-4"],[1,"col-md-6"],[1,"card","mb-3"],[1,"card-title"],["href","#",1,"btn","btn-primary"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return t.toggleMenu()}),s(4," \u2630 "),n(),a(5,"div",4)(6,"ul",5)(7,"li",6)(8,"button",7),h("click",function(){return t.showContent("home")}),g(9,"i",8),m(10,oe,2,0,"span",9),n()(),a(11,"li")(12,"button",10),g(13,"i",11),m(14,le,2,0,"span",9),n(),a(15,"ul",12)(16,"li",13)(17,"button",7),h("click",function(){return t.showContent("home")}),g(18,"i",14),m(19,se,2,0,"span",9),n()(),a(20,"li")(21,"button",7),h("click",function(){return t.showContent("home")}),g(22,"i",15),m(23,re,2,0,"span",9),n()()()(),a(24,"li")(25,"button",16),h("click",function(){return t.showContent("orders")}),g(26,"i",17),m(27,ce,2,0,"span",9),n()(),a(28,"li")(29,"button",18),g(30,"i",19),m(31,de,2,0,"span",9),n(),a(32,"ul",20)(33,"li",13)(34,"button",21),h("click",function(){return t.showContent("bootstrap1")}),m(35,pe,2,0,"span",22),n()(),a(36,"li")(37,"button",21),h("click",function(){return t.showContent("bootstrap2")}),m(38,me,2,0,"span",22),n()()()(),a(39,"li")(40,"button",23),g(41,"i",24),m(42,ue,2,0,"span",9),n(),a(43,"ul",25)(44,"li",13)(45,"button",21),h("click",function(){return t.showContent("product1")}),m(46,he,2,0,"span",22),n()(),a(47,"li")(48,"button",21),h("click",function(){return t.showContent("product2")}),m(49,fe,2,0,"span",22),n()(),a(50,"li")(51,"button",21),h("click",function(){return t.showContent("product3")}),m(52,ge,2,0,"span",22),n()(),a(53,"li")(54,"button",21),h("click",function(){return t.showContent("product4")}),m(55,Ce,2,0,"span",22),n()()()(),a(56,"li")(57,"button",16),h("click",function(){return t.showContent("customers")}),g(58,"i",26),m(59,_e,2,0,"span",9),n()()(),g(60,"hr"),n()(),a(61,"div",27),m(62,ve,46,0,"div",28),n()()()),e&2&&(r(2),p("ngClass",R(16,ne,!t.menuOpen)),r(8),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(5),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(3),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(3),p("ngIf",t.menuOpen),r(3),p("ngIf",t.menuOpen),r(3),p("ngIf",t.menuOpen),r(4),p("ngIf",t.menuOpen),r(3),p("ngIf",t.showhome))},dependencies:[X,y],styles:[".sidebar[_ngcontent-%COMP%]{border-right:2px solid black;background-color:#f8f9fa;transition:width .3s}.sidebar.sidebar-collapsed[_ngcontent-%COMP%]{width:60px}.sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar.sidebar-expanded[_ngcontent-%COMP%]{width:250px}.sidebar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:block;margin:1rem;border:none;background:transparent;cursor:pointer;font-size:1.5rem}.sidebar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{outline:none}.sidebar[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#343a40}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:70%}.sidebar.sidebar-collapsed[_ngcontent-%COMP%]{width:60px}.sidebar.sidebar-expanded[_ngcontent-%COMP%]{width:250px}}"]})}};function be(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXEvaluaciones(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionEvaluacion.includes(e)),r(),G(" ",e," ")}}function xe(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXCategorias(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionCategoria.includes(e)),r(),G(" ",e," ")}}function Ee(o,i){if(o&1&&(a(0,"div")(1,"div")(2,"h1",11),s(3,"Estadistica General por categor\xEDas"),n(),a(4,"h4",12),s(5,"Selecciona las Evaluaciones:"),n(),a(6,"ul",6),m(7,be,3,3,"li",13),n()(),a(8,"div")(9,"h4",12),s(10,"Selecciona categorias:"),n(),a(11,"ul",6),m(12,xe,3,3,"li",13),n()(),a(13,"div",14),g(14,"apx-chart",15),n()()),o&2){let e=f();r(7),p("ngForOf",e.allevaluacionesdata),r(5),p("ngForOf",e.allcategoriasdata),r(2),p("series",e.OpcionesGraficas.series)("chart",e.OpcionesGraficas.chart)("xaxis",e.OpcionesGraficas.xaxis)("title",e.OpcionesGraficas.title)("dataLabels",e.OpcionesGraficas.dataLabels)("plotOptions",e.OpcionesGraficas.plotOptions)("legend",e.OpcionesGraficas.legend)}}function Oe(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXEvaluaciones2(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionEvaluacion2.includes(e)),r(),G(" ",e," ")}}function Pe(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXCategorias2(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionCategoria2.includes(e)),r(),G(" ",e," ")}}function Ge(o,i){if(o&1&&(a(0,"div")(1,"h1",16),s(2,"Estadistica General por evaluaci\xF3n"),n(),a(3,"div")(4,"h4",12),s(5,"Selecciona las Evaluaciones:"),n(),a(6,"ul",6),m(7,Oe,3,3,"li",13),n()(),a(8,"div")(9,"h4",12),s(10,"Selecciona categorias:"),n(),a(11,"ul",6),m(12,Pe,3,3,"li",13),n()(),a(13,"div",17),g(14,"apx-chart",15),n()()),o&2){let e=f();r(7),p("ngForOf",e.allevaluacionesdata),r(5),p("ngForOf",e.allcategoriasdata),r(2),p("series",e.OpcionesGraficas2.series)("chart",e.OpcionesGraficas2.chart)("xaxis",e.OpcionesGraficas2.xaxis)("title",e.OpcionesGraficas2.title)("dataLabels",e.OpcionesGraficas2.dataLabels)("plotOptions",e.OpcionesGraficas2.plotOptions)("legend",e.OpcionesGraficas2.legend)}}function Se(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXEvaluacionesChorizo(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionEvaluacionChorizo.includes(e)),r(),G(" ",e," ")}}function ze(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXPalabrasChorizo(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionPalabrasChorizo.includes(e)),r(),G(" ",e," ")}}function ke(o,i){if(o&1&&(a(0,"div"),g(1,"hr"),a(2,"h1",18),s(3,"Estadistica por \xE1reas"),n(),a(4,"div")(5,"h4",12),s(6,"Selecciona las Evaluaciones:"),n(),a(7,"ul",6),m(8,Se,3,3,"li",13),n()(),a(9,"div")(10,"h4",12),s(11,"Selecciona palabras:"),n(),a(12,"ul",6),m(13,ze,3,3,"li",13),n()(),a(14,"div",19),g(15,"apx-chart",20),n()()),o&2){let e=f();r(8),p("ngForOf",e.allevaluacionesdata),r(5),p("ngForOf",e.allpalabrasdata),r(2),p("series",e.OpcionesGraficasChorizo.series)("chart",e.OpcionesGraficasChorizo.chart)("xaxis",e.OpcionesGraficasChorizo.xaxis)("yaxis",e.OpcionesGraficasChorizo.yaxis)("title",e.OpcionesGraficasChorizo.title)("dataLabels",e.OpcionesGraficasChorizo.dataLabels)("plotOptions",e.OpcionesGraficasChorizo.plotOptions)("legend",e.OpcionesGraficasChorizo.legend)}}function ye(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXEvaluacionesChorizo2(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionEvaluacionChorizo2.includes(e)),r(),G(" ",e," ")}}function we(o,i){if(o&1){let e=P();a(0,"li",7)(1,"a",8),h("click",function(){let l=E(e).$implicit,d=f(2);return O(d.FiltrarXPalabrasChorizo2(l))}),s(2),n()()}if(o&2){let e=i.$implicit,t=f(2);r(),b("active",t.seleccionPalabrasChorizo2.includes(e)),r(),G(" ",e," ")}}function De(o,i){if(o&1&&(a(0,"div"),g(1,"hr"),a(2,"h1",21),s(3,"Estadistica de \xE1reas por\xA0evaluaci\xF3n"),n(),a(4,"div")(5,"h4",12),s(6,"Selecciona las Evaluaciones:"),n(),a(7,"ul",6),m(8,ye,3,3,"li",13),n()(),a(9,"div")(10,"h4",12),s(11,"Selecciona palabras:"),n(),a(12,"ul",6),m(13,we,3,3,"li",13),n()(),a(14,"div",22),g(15,"apx-chart",20),n()()),o&2){let e=f();r(8),p("ngForOf",e.allevaluacionesdata),r(5),p("ngForOf",e.allpalabrasdata),r(2),p("series",e.OpcionesGraficasChorizo2.series)("chart",e.OpcionesGraficasChorizo2.chart)("xaxis",e.OpcionesGraficasChorizo2.xaxis)("yaxis",e.OpcionesGraficasChorizo2.yaxis)("title",e.OpcionesGraficasChorizo2.title)("dataLabels",e.OpcionesGraficasChorizo2.dataLabels)("plotOptions",e.OpcionesGraficasChorizo2.plotOptions)("legend",e.OpcionesGraficasChorizo2.legend)}}var D=class o{constructor(i){this._demucas=i;this.infoRecolectada=[];this.infoRecolectada2=[];this.nombrecliente="";this.fechaadmisioncliente="";this.estadisticaGeneralCategorias=!0;this.estadisticaGeneralEvaluacion=!0;this.estadisticaPorAreas=!0;this.estadisticaAreasEvaluacion=!0;this.allcategoriasdata=[];this.allevaluacionesdata=[];this.allpalabrasdata=[];this.seleccionCategoria=[];this.seleccionEvaluacion=[];this.seleccionCategoria2=[];this.seleccionEvaluacion2=[];this.seleccionCategoriaChorizo=[];this.seleccionEvaluacionChorizo=[];this.seleccionPalabrasChorizo=[];this.seleccionCategoriaChorizo2=[];this.seleccionEvaluacionChorizo2=[];this.seleccionPalabrasChorizo2=[];this.DetalleGrafica1={};this.OpcionesGraficas={};this.DetalleGrafica2={};this.OpcionesGraficas2={};this.DetalleGraficaChorizo={};this.OpcionesGraficasChorizo={};this.DetalleGraficaChorizo2={};this.OpcionesGraficasChorizo2={};this.chartOptions={};this.allcategorias=["PRIMERA EVALUACI\xD3N","SEGUNDA EVALUACI\xD3N","TERCERA EVALUACI\xD3N","CUARTA EVALUACI\xD3N","QUINTA EVALUACI\xD3N","SEXTA EVALUACI\xD3N","S\xC9PTIMA EVALUACI\xD3N","OCTAVA EVALUACI\xD3N"];this.selectedMonths=[...this.allcategorias];this.allProducts=["Producto A","Producto B","Producto C"];this.selectedProducts=[...this.allProducts];this.productData={"Producto A":[44,55,41,67,22,43,21,49,13,10,20,30,40,50,60,70,80,90,100,110],"Producto B":[13,23,20,8,13,27,33,12,25,23,12,14,15,16,17,18,19,20,21,22],"Producto C":[11,17,15,15,21,14,15,13,17,18,19,20,21,22,23,24,25,26,27,28]}}ngOnInit(){var i=Number(sessionStorage.getItem("idDemucas"));this.nombrecliente=sessionStorage.getItem("Nombre"),this.fechaadmisioncliente=sessionStorage.getItem("FechaAdmision"),this._demucas.SeleccionarAllInformacionDemucas(i).subscribe(e=>{this.infoRecolectada=e.data,this.infoRecolectada2=e.data,console.log(this.infoRecolectada),console.table(this.infoRecolectada),this.preparandoInformacion(),this.GeneracionGrafica(),this.GeneracionGrafica2(),this.GeneracionGraficaChorizo(),this.GeneracionGraficaChorizo2()},e=>{console.log("ERROR AL CARGAR Demucas",e)})}preparandoInformacion(){let i=[...new Set(this.infoRecolectada.map(l=>l.categoria))],e=[...new Set(this.infoRecolectada.map(l=>l.evaluacion))],t=[...new Set(this.infoRecolectada.map(l=>l.palabra))];this.allcategoriasdata=i,this.allevaluacionesdata=e,this.allpalabrasdata=t,console.log(i),console.log(e),this.seleccionCategoria=[...this.allcategoriasdata],this.seleccionEvaluacion=[...this.allevaluacionesdata],this.seleccionCategoria2=[...this.allcategoriasdata],this.seleccionEvaluacion2=[...this.allevaluacionesdata],this.seleccionCategoriaChorizo=[...this.allcategoriasdata],this.seleccionEvaluacionChorizo=[...this.allevaluacionesdata],this.seleccionPalabrasChorizo=[...this.allpalabrasdata],this.seleccionCategoriaChorizo2=[...this.allcategoriasdata],this.seleccionEvaluacionChorizo2=[...this.allevaluacionesdata],this.seleccionPalabrasChorizo2=[...this.allpalabrasdata]}prepararCategoriaData(){this.DetalleGrafica1={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionCategoria.forEach(e=>{let t=this.infoRecolectada.filter(d=>d.categoria===e),l=[];this.seleccionEvaluacion.forEach(d=>{let C=t.filter(v=>v.evaluacion===d),c=0,u=0;C.forEach(v=>{let x=v.multiplicar?v.multiplicar:1,M=2*x;if(v.escala!=null){c+=M;let A=i[v.escala]*x;u+=A}});let _=0;c>0&&(_=Math.round(u/c*100)),l.push(_)}),this.DetalleGrafica1[e]=l}),console.log(this.DetalleGrafica1)}GeneracionGrafica(){if(this.prepararCategoriaData(),this.seleccionCategoria.length===0||this.seleccionEvaluacion.length===0){console.error("No hay categor\xEDas o evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGrafica1).length===0){console.error("DetalleGrafica1 est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionCategoria.map(c=>({name:c,data:this.seleccionEvaluacion.map((u,_)=>this.DetalleGrafica1[c][_]||0)}));console.log("valor",i);let e=30,t=10,l=400,C=this.seleccionCategoria.length*this.seleccionEvaluacion.length*(e+t)+100;this.OpcionesGraficas={series:i,chart:{type:"bar",height:l,width:C,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Resultados por Categor\xEDa y Evaluaci\xF3n"},xaxis:{categories:this.seleccionEvaluacion,labels:{formatter:c=>c.split(" ").join(`
`),style:{}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]},formatter:c=>`${c}%`},plotOptions:{bar:{horizontal:!1,columnWidth:e+"px",endingShape:"rounded",dataLabels:{position:"top"}}},legend:{position:"top",onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}}}FiltrarXEvaluaciones(i){this.seleccionEvaluacion.includes(i)?this.seleccionEvaluacion=this.seleccionEvaluacion.filter(e=>e!==i):this.seleccionEvaluacion.push(i),console.log(this.seleccionEvaluacion),this.seleccionEvaluacion.sort((e,t)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(t)),this.GeneracionGrafica()}FiltrarXCategorias(i){this.seleccionCategoria.includes(i)?this.seleccionCategoria=this.seleccionCategoria.filter(e=>e!==i):this.seleccionCategoria.push(i),this.seleccionCategoria.sort((e,t)=>this.allcategoriasdata.indexOf(e)-this.allcategoriasdata.indexOf(t)),this.GeneracionGrafica()}prepararCategoriaData2(){this.DetalleGrafica2={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionCategoria2.forEach(e=>{let t=this.infoRecolectada2.filter(d=>d.categoria===e),l=[];this.seleccionEvaluacion2.forEach(d=>{let C=t.filter(v=>v.evaluacion===d),c=0,u=0;C.forEach(v=>{let x=v.multiplicar?v.multiplicar:1,M=2*x;if(v.escala!=null){c+=M;let A=i[v.escala]*x;u+=A}});let _=0;c>0&&(_=Math.round(u/c*100)),l.push(_)}),this.DetalleGrafica2[e]=l})}GeneracionGrafica2(){if(this.prepararCategoriaData2(),this.seleccionCategoria2.length===0||this.seleccionEvaluacion2.length===0){console.error("No hay categor\xEDas o evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGrafica2).length===0){console.error("DetalleGrafica2 est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionEvaluacion2.map(c=>({name:c,data:this.seleccionCategoria2.map(u=>this.DetalleGrafica2[u]?.[this.seleccionEvaluacion2.indexOf(c)]||0)})),e=30,t=10,l=400,C=this.seleccionCategoria2.length*this.seleccionEvaluacion2.length*(e+t)+100;this.OpcionesGraficas2={series:i,chart:{type:"bar",height:l,width:C,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Resultados por Evaluaci\xF3n y Categor\xEDa"},xaxis:{categories:this.seleccionCategoria2,labels:{formatter:c=>c.split(" ").join(`
`),style:{fontSize:"12px"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]},formatter:c=>`${c}%`},plotOptions:{bar:{horizontal:!1,columnWidth:e+"px",endingShape:"rounded",dataLabels:{position:"top"}}},legend:{position:"top"}}}FiltrarXEvaluaciones2(i){this.seleccionEvaluacion2.includes(i)?this.seleccionEvaluacion2=this.seleccionEvaluacion2.filter(e=>e!==i):this.seleccionEvaluacion2.push(i),console.log(this.seleccionEvaluacion2),this.seleccionEvaluacion2.sort((e,t)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(t)),this.GeneracionGrafica2()}FiltrarXCategorias2(i){this.seleccionCategoria2.includes(i)?this.seleccionCategoria2=this.seleccionCategoria2.filter(e=>e!==i):this.seleccionCategoria2.push(i),this.seleccionCategoria2.sort((e,t)=>this.allcategoriasdata.indexOf(e)-this.allcategoriasdata.indexOf(t)),this.GeneracionGrafica2()}prepararCategoriaDataChorizo(){this.DetalleGraficaChorizo={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionEvaluacionChorizo.forEach(e=>{let t=this.infoRecolectada.filter(d=>d.evaluacion===e),l=[];this.seleccionPalabrasChorizo.forEach(d=>{let C=t.filter(u=>u.palabra===d),c=0;C.forEach(u=>{let _=u.multiplicar?u.multiplicar:1;if(u.escala!=null){let x=i[u.escala]*_;c+=x}}),l.push(c)}),this.DetalleGraficaChorizo[e]=l}),console.table(this.DetalleGraficaChorizo)}GeneracionGraficaChorizo(){if(this.prepararCategoriaDataChorizo(),this.seleccionEvaluacionChorizo.length===0){console.error("No hay evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGraficaChorizo).length===0){console.error("DetalleGraficaChorizo est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionEvaluacionChorizo.map(c=>({name:c,data:this.DetalleGraficaChorizo[c]||[]})),e=30,t=10,l=400,C=this.seleccionPalabrasChorizo.length*this.seleccionEvaluacionChorizo.length*(e+t)+100;this.OpcionesGraficasChorizo={series:i,chart:{type:"bar",height:C,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:10,style:{fontSize:"12px",colors:["#000"]}},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1},xaxis:{categories:this.seleccionPalabrasChorizo,labels:{formatter:c=>c.length>10?c.substring(0,10)+"...":c,style:{fontSize:"12px"}}},legend:{position:"top",onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}}}FiltrarXEvaluacionesChorizo(i){this.seleccionEvaluacionChorizo.includes(i)?this.seleccionEvaluacionChorizo=this.seleccionEvaluacionChorizo.filter(e=>e!==i):this.seleccionEvaluacionChorizo.push(i),console.log(this.seleccionEvaluacionChorizo),this.seleccionEvaluacionChorizo.sort((e,t)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(t)),this.GeneracionGraficaChorizo()}FiltrarXPalabrasChorizo(i){this.seleccionPalabrasChorizo.includes(i)?this.seleccionPalabrasChorizo=this.seleccionPalabrasChorizo.filter(e=>e!==i):this.seleccionPalabrasChorizo.push(i),this.seleccionPalabrasChorizo.sort((e,t)=>this.allpalabrasdata.indexOf(e)-this.allpalabrasdata.indexOf(t)),this.GeneracionGraficaChorizo()}prepararCategoriaDataChorizo2(){this.DetalleGraficaChorizo2={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionEvaluacionChorizo2.forEach(e=>{let t=this.infoRecolectada.filter(d=>d.evaluacion===e),l=[];this.seleccionPalabrasChorizo2.forEach(d=>{let C=t.filter(u=>u.palabra===d),c=0;C.forEach(u=>{let _=u.multiplicar?u.multiplicar:1;if(u.escala!=null){let x=i[u.escala]*_;c+=x}}),l.push(c)}),this.DetalleGraficaChorizo2[e]=l}),console.table(this.DetalleGraficaChorizo2)}GeneracionGraficaChorizo2(){if(this.prepararCategoriaDataChorizo2(),this.seleccionEvaluacionChorizo2.length===0){console.error("No hay evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGraficaChorizo2).length===0){console.error("DetalleGraficaChorizo2 est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionPalabrasChorizo2.map(c=>({name:c,data:this.seleccionEvaluacionChorizo2.map(u=>{let _=this.seleccionPalabrasChorizo2.indexOf(c);return this.DetalleGraficaChorizo2[u][_]||0})})),e=30,t=10,l=400,C=this.seleccionPalabrasChorizo2.length*this.seleccionEvaluacionChorizo2.length*(e+t)+100;this.OpcionesGraficasChorizo2={series:i,chart:{type:"bar",height:C,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:10,style:{fontSize:"12px",colors:["#000"]}},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1},xaxis:{categories:this.seleccionEvaluacionChorizo2,labels:{formatter:c=>c.length>10?c.substring(0,10)+"...":c,style:{fontSize:"12px"}}},legend:{position:"top",onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}}}FiltrarXEvaluacionesChorizo2(i){this.seleccionEvaluacionChorizo2.includes(i)?this.seleccionEvaluacionChorizo2=this.seleccionEvaluacionChorizo2.filter(e=>e!==i):this.seleccionEvaluacionChorizo2.push(i),console.log(this.seleccionEvaluacionChorizo2),this.seleccionEvaluacionChorizo2.sort((e,t)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(t)),this.GeneracionGraficaChorizo2()}FiltrarXPalabrasChorizo2(i){this.seleccionPalabrasChorizo2.includes(i)?this.seleccionPalabrasChorizo2=this.seleccionPalabrasChorizo2.filter(e=>e!==i):this.seleccionPalabrasChorizo2.push(i),this.seleccionPalabrasChorizo2.sort((e,t)=>this.allpalabrasdata.indexOf(e)-this.allpalabrasdata.indexOf(t)),this.GeneracionGraficaChorizo2()}cargarbarras(){let i=this.selectedProducts.map(c=>({name:c,data:this.selectedMonths.map(u=>{let _=this.allcategorias.indexOf(u);return this.productData[c][_]})})),e=30,t=10,l=400,C=this.selectedProducts.length*this.selectedMonths.length*(e+t)+100;this.chartOptions={series:i,chart:{type:"bar",height:l,width:C,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Ventas Mensuales por Producto"},xaxis:{categories:this.selectedMonths,labels:{formatter:c=>c.split(" ").join(`
`),style:{fontSize:"12px"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]}},plotOptions:{bar:{horizontal:!1,columnWidth:e+"px",endingShape:"rounded",dataLabels:{position:"top"}}},legend:{position:"top"}}}toggleMonth(i){this.selectedMonths.includes(i)?this.selectedMonths=this.selectedMonths.filter(e=>e!==i):this.selectedMonths.push(i),this.selectedMonths.sort((e,t)=>this.allcategorias.indexOf(e)-this.allcategorias.indexOf(t)),this.cargarbarras()}toggleProduct(i){this.selectedProducts.includes(i)?this.selectedProducts=this.selectedProducts.filter(e=>e!==i):this.selectedProducts.push(i),this.selectedProducts.sort((e,t)=>this.allProducts.indexOf(e)-this.allProducts.indexOf(t)),this.cargarbarras()}static{this.\u0275fac=function(e){return new(e||o)(V(q))}}static{this.\u0275cmp=z({type:o,selectors:[["app-graficas"]],standalone:!1,decls:29,vars:16,consts:[[1,"mt-4","fondoBajo"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","text-danger"],[1,"lead","text-primary"],[1,"row","justify-content-center"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"fondoBajo"],[4,"ngIf"],["id","generalXcategoria",1,"text-center","text-danger"],[1,"text-primary"],["class","nav-item",4,"ngFor","ngForOf"],["id","chart",2,"width","100%","overflow-x","auto"],[3,"series","chart","xaxis","title","dataLabels","plotOptions","legend"],["id","generalXevaluacion",1,"text-center","text-danger"],["id","chart2",2,"width","100%","overflow-x","auto"],["id","Xareas",1,"text-center","text-danger"],["id","chart3",2,"width","100%","overflow-x","auto"],[3,"series","chart","xaxis","yaxis","title","dataLabels","plotOptions","legend"],["id","areasXevaluacion",1,"text-center","text-danger"],["id","chart4",2,"width","100%","overflow-x","auto"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4,"GR\xC1FICAS DE LOS DEMUCAS "),n(),a(5,"p",4),s(6),L(7,"dateFormat"),n()()(),g(8,"hr"),a(9,"div",5)(10,"ul",6)(11,"li",7)(12,"a",8),h("click",function(){return t.estadisticaGeneralCategorias=!t.estadisticaGeneralCategorias}),s(13," Ir a Estadistica General por categor\xEDas "),n()(),a(14,"li",7)(15,"a",8),h("click",function(){return t.estadisticaGeneralEvaluacion=!t.estadisticaGeneralEvaluacion}),s(16," Ir a Estadistica General por evaluaci\xF3n "),n()(),a(17,"li",7)(18,"a",8),h("click",function(){return t.estadisticaPorAreas=!t.estadisticaPorAreas}),s(19," Ir a Estadistica por \xE1reas "),n()(),a(20,"li",7)(21,"a",8),h("click",function(){return t.estadisticaAreasEvaluacion=!t.estadisticaAreasEvaluacion}),s(22," Ir a Estadistica de \xE1reas por evaluaci\xF3n "),n()()()()(),a(23,"div",9),m(24,Ee,15,9,"div",10),g(25,"hr"),m(26,Ge,15,9,"div",10)(27,ke,16,10,"div",10)(28,De,16,10,"div",10),n()),e&2&&(r(6),N("Visualizando Gr\xE1ficas Demucas del Cliente: ",t.nombrecliente," de la Admisi\xF3n: ",B(7,14,t.fechaadmisioncliente),""),r(6),b("active",t.estadisticaGeneralCategorias),r(3),b("active",t.estadisticaGeneralEvaluacion),r(3),b("active",t.estadisticaPorAreas),r(3),b("active",t.estadisticaAreasEvaluacion),r(3),p("ngIf",t.estadisticaGeneralCategorias),r(2),p("ngIf",t.estadisticaGeneralEvaluacion),r(),p("ngIf",t.estadisticaPorAreas),r(),p("ngIf",t.estadisticaAreasEvaluacion))},dependencies:[j,y,K,Y],encapsulation:2})}};var Ie=[{path:"perfil",component:w},{path:"graficas",component:D}],I=class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=k({type:o})}static{this.\u0275inj=S({imports:[T.forChild(Ie),T]})}};var ee=class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=k({type:o})}static{this.\u0275inj=S({imports:[$,H,W,I,Z,U,J,Q]})}};export{ee as PrivadosModule};
