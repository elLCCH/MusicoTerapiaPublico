import{a as x,d as ge,e as H}from"./chunk-HCBPV2BH.js";import{$ as N,A as te,Aa as si,B as Kt,Ba as Ye,C as We,Ca as G,D as g,Da as S,E as h,Ea as ne,F as ei,Fa as M,G as Ze,H as $,Ha as Je,I as xt,Ia as Rt,J as P,Ja as ee,K as Mt,Ka as X,L as ti,La as Y,M as ii,N as wt,Na as li,O as j,Oa as ci,P as l,Pa as di,Q as A,Qa as Dt,R as yt,S as Pt,Sa as w,T as ni,U as v,V as Ce,W as d,Xa as mi,Y as _e,Z as Qe,_ as Ee,a as jt,aa as Ot,ab as ui,b as He,ba as i,ca as n,cb as Te,d as qt,da as m,e as Fe,ea as ye,f as Bt,fa as Pe,fb as Tt,g as Ht,ga as _,gb as pi,h as Ue,ha as u,hb as oe,i as $t,ia as p,ib as gi,j as Wt,ja as oi,jb as q,k as St,ka as Xe,kb as ae,l as we,la as F,lb as re,m as Zt,ma as ie,mb as k,n as It,na as ai,nb as b,o as Qt,ob as se,p as Xt,pb as le,q as Yt,qb as hi,r as At,ra as Q,rb as ce,s as R,sa as a,sb as de,t as Re,ta as C,tb as me,u as Jt,ua as E,ub as ue,v as y,va as W,vb as pe,w as Z,wa as D,x as U,xa as T,y as De,ya as V,z as $e,za as ri}from"./chunk-KUTQQXAC.js";import{g as Ut}from"./chunk-GAL4ENT6.js";function Ai(r,o){if(r&1){let e=_();i(0,"a",12),u("keyup.enter",function(){g(e),p(3);let s=Q(1);return h(s.previous())})("click",function(){g(e),p(3);let s=Q(1);return h(s.previous())}),a(1),i(2,"span",13),a(3),n()()}if(r&2){let e=p(3);l(),E(" ",e.previousLabel," "),l(2),C(e.screenReaderPageLabel)}}function xi(r,o){if(r&1&&(i(0,"span",14),a(1),i(2,"span",13),a(3),n()()),r&2){let e=p(3);l(),E(" ",e.previousLabel," "),l(2),C(e.screenReaderPageLabel)}}function Mi(r,o){if(r&1&&(i(0,"li",9),v(1,Ai,4,2,"a",10)(2,xi,4,2,"span",11),n()),r&2){p(2);let e=Q(1);_e("disabled",e.isFirstPage()),l(),d("ngIf",1<e.getCurrent()),l(),d("ngIf",e.isFirstPage())}}function wi(r,o){if(r&1){let e=_();i(0,"a",12),u("keyup.enter",function(){g(e);let s=p().$implicit;p(2);let c=Q(1);return h(c.setCurrent(s.value))})("click",function(){g(e);let s=p().$implicit;p(2);let c=Q(1);return h(c.setCurrent(s.value))}),i(1,"span",13),a(2),n(),i(3,"span"),a(4),S(5,"number"),n()()}if(r&2){let e=p().$implicit,t=p(2);l(2),E("",t.screenReaderPageLabel," "),l(2),C(e.label==="..."?e.label:M(5,2,e.label,""))}}function yi(r,o){if(r&1&&(ye(0),i(1,"span",16)(2,"span",13),a(3),n(),i(4,"span"),a(5),S(6,"number"),n()(),Pe()),r&2){let e=p().$implicit,t=p(2);l(3),E("",t.screenReaderCurrentLabel," "),l(2),C(e.label==="..."?e.label:M(6,2,e.label,""))}}function Pi(r,o){if(r&1&&(i(0,"li"),v(1,wi,6,5,"a",10)(2,yi,7,5,"ng-container",15),n()),r&2){let e=o.$implicit;p(2);let t=Q(1);_e("current",t.getCurrent()===e.value)("ellipsis",e.label==="..."),l(),d("ngIf",t.getCurrent()!==e.value),l(),d("ngIf",t.getCurrent()===e.value)}}function Oi(r,o){if(r&1){let e=_();i(0,"a",12),u("keyup.enter",function(){g(e),p(3);let s=Q(1);return h(s.next())})("click",function(){g(e),p(3);let s=Q(1);return h(s.next())}),a(1),i(2,"span",13),a(3),n()()}if(r&2){let e=p(3);l(),E(" ",e.nextLabel," "),l(2),C(e.screenReaderPageLabel)}}function Ri(r,o){if(r&1&&(i(0,"span",14),a(1),i(2,"span",13),a(3),n()()),r&2){let e=p(3);l(),E(" ",e.nextLabel," "),l(2),C(e.screenReaderPageLabel)}}function Di(r,o){if(r&1&&(i(0,"li",17),v(1,Oi,4,2,"a",10)(2,Ri,4,2,"span",11),n()),r&2){p(2);let e=Q(1);_e("disabled",e.isLastPage()),l(),d("ngIf",!e.isLastPage()),l(),d("ngIf",e.isLastPage())}}function Ti(r,o){if(r&1&&(i(0,"ul",4),v(1,Mi,3,4,"li",5),i(2,"li",6),a(3),n(),v(4,Pi,3,6,"li",7)(5,Di,3,4,"li",8),n()),r&2){let e=p(),t=Q(1);_e("responsive",e.responsive),l(),d("ngIf",e.directionLinks),l(2),W(" ",t.getCurrent()," / ",t.getLastPage()," "),l(),d("ngForOf",t.pages)("ngForTrackBy",e.trackByIndex),l(),d("ngIf",e.directionLinks)}}var je=class{constructor(){this.change=new $,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(o){return o.id==null&&(o.id=this.DEFAULT_ID),this.instances[o.id]?this.updateInstance(o):(this.instances[o.id]=o,!0)}updateInstance(o){let e=!1;for(let t in this.instances[o.id])o[t]!==this.instances[o.id][t]&&(this.instances[o.id][t]=o[t],e=!0);return e}getCurrentPage(o){return this.instances[o]?this.instances[o].currentPage:1}setCurrentPage(o,e){if(this.instances[o]){let t=this.instances[o],s=Math.ceil(t.totalItems/t.itemsPerPage);e<=s&&1<=e&&(this.instances[o].currentPage=e,this.change.emit(o))}}setTotalItems(o,e){this.instances[o]&&0<=e&&(this.instances[o].totalItems=e,this.change.emit(o))}setItemsPerPage(o,e){this.instances[o]&&(this.instances[o].itemsPerPage=e,this.change.emit(o))}getInstance(o=this.DEFAULT_ID){return this.instances[o]?this.clone(this.instances[o]):{}}clone(o){var e={};for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}},Vi=Number.MAX_SAFE_INTEGER,he=(()=>{class r{constructor(e){this.service=e,this.state={}}transform(e,t){if(!(e instanceof Array)){let B=t.id||this.service.defaultId();return this.state[B]?this.state[B].slice:e}let s=t.totalItems&&t.totalItems!==e.length,c=this.createInstance(e,t),f=c.id,I,O,z=c.itemsPerPage,be=this.service.register(c);if(!s&&e instanceof Array){if(z=+z||Vi,I=(c.currentPage-1)*z,O=I+z,this.stateIsIdentical(f,e,I,O))return this.state[f].slice;{let K=e.slice(I,O);return this.saveState(f,e,K,I,O),this.service.change.emit(f),K}}else return be&&this.service.change.emit(f),this.saveState(f,e,e,I,O),e}createInstance(e,t){return this.checkConfig(t),{id:t.id!=null?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}}checkConfig(e){let s=["itemsPerPage","currentPage"].filter(c=>!(c in e));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(e,t,s,c,f){this.state[e]={collection:t,size:t.length,slice:s,start:c,end:f}}stateIsIdentical(e,t,s,c){let f=this.state[e];return!f||!(f.size===t.length&&f.start===s&&f.end===c)?!1:f.slice.every((O,z)=>O===t[s+z])}}return r.\u0275fac=function(e){return new(e||r)(A(je,16))},r.\u0275pipe=te({name:"paginate",type:r,pure:!1}),r})();var Li=(()=>{class r{constructor(e,t){this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new $,this.pageBoundsCorrection=new $,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),t=this.outOfBoundCorrection(e);t!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(t),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage}createPageArray(e,t,s,c){c=+c;let f=[],I=Math.max(Math.ceil(s/t),1),O=Math.ceil(c/2),z=e<=O,be=I-O<e,B=!z&&!be,K=c<I,Me=1;for(;Me<=I&&Me<=c;){let Ge,Ft=this.calculatePageNumber(Me,e,c,I),Si=Me===2&&(B||be),Ii=Me===c-1&&(B||z);K&&(Si||Ii)?Ge="...":Ge=Ft,f.push({label:Ge,value:Ft}),Me++}return f}calculatePageNumber(e,t,s,c){let f=Math.ceil(s/2);return e===s?c:e===1?e:s<c?c-f<t?c-s+e:f<t?t-f+e:e:e}}return r.\u0275fac=function(e){return new(e||r)(A(je),A(Je))},r.\u0275dir=$e({type:r,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[We]}),r})();function Vt(r){return!!r&&r!=="false"}var fe=(()=>{class r{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new $,this.pageBoundsCorrection=new $,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Vt(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Vt(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Vt(e)}trackByIndex(e){return e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=U({type:r,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,t){if(e&1){let s=_();i(0,"pagination-template",1,0),u("pageChange",function(f){return g(s),h(t.pageChange.emit(f))})("pageBoundsCorrection",function(f){return g(s),h(t.pageBoundsCorrection.emit(f))}),i(2,"nav",2),v(3,Ti,6,8,"ul",3),n()()}if(e&2){let s=Q(1);d("id",t.id)("maxSize",t.maxSize),l(2),Ce("aria-label",t.screenReaderPaginationLabel),l(),d("ngIf",!(t.autoHide&&s.pages.length<=1))}},dependencies:[Li,Y,X,li],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),r})(),cr=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=De({type:r}),r.\u0275inj=Re({providers:[je],imports:[[ci]]}),r})();var Ke={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Lt=new Jt("config",{providedIn:"root",factory:()=>({modules:Ke})});function Ne(r){r||(Kt(Ne),r=Z(Ze));let o=new He(e=>r.onDestroy(e.next.bind(e)));return e=>e.pipe(Xt(o))}var Ni=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],ki=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function zi(r,o){r&1&&m(0,"div",0)}function Gi(r,o){r&1&&m(0,"div",0)}var et=(r,o)=>r||o||"html",Fi=()=>new He(r=>{let o=requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)}),Ui=(()=>{class r{constructor(){this.config=Z(Lt)||{modules:Ke},this.document=Z(Rt),this.quill$=Wt(()=>Ut(this,null,function*(){if(!this.Quill){let e=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let t=yield import("./chunk-GTJGVPUT.js");this.document.addEventListener=e,this.Quill=t.default?.default??t.default??t}return this.config.customOptions?.forEach(e=>{let t=this.Quill.import(e.import);t.whitelist=e.whitelist,this.Quill.register(t,!0,this.config.suppressGlobalRegisterWarning)}),Ht(this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning))})).pipe(Qt({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(e,t,s=this.config.beforeRender){let c=[this.registerCustomModules(e,t)];return s&&c.push(qt(s())),St(c).pipe(Ue(()=>e))}registerCustomModules(e,t,s){if(!Array.isArray(t))return Fe(e);let c=[];for(let f of t){let{path:I,implementation:O}=f;this.registeredModules.has(I)||(this.registeredModules.add(I),Bt(O)?c.push(O.pipe(Yt(z=>{e.register(I,z,s)}))):e.register(I,O,s))}return c.length>0?St(c).pipe(Ue(()=>e)):Fe(e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ji=(()=>{class r{constructor(){this.format=P(void 0),this.theme=P(void 0),this.modules=P(void 0),this.debug=P(!1),this.readOnly=P(!1),this.placeholder=P(void 0),this.maxLength=P(void 0),this.minLength=P(void 0),this.required=P(!1),this.formats=P(void 0),this.customToolbarPosition=P("top"),this.sanitize=P(void 0),this.beforeRender=P(void 0),this.styles=P(null),this.registry=P(void 0),this.bounds=P(void 0),this.customOptions=P([]),this.customModules=P([]),this.trackChanges=P(void 0),this.classes=P(void 0),this.trimOnValidation=P(!1),this.linkPlaceholder=P(void 0),this.compareValues=P(!1),this.filterNull=P(!1),this.debounceTime=P(void 0),this.defaultEmptyValue=P(null),this.onEditorCreated=new $,this.onEditorChanged=new $,this.onContentChanged=new $,this.onSelectionChanged=new $,this.onFocus=new $,this.onBlur=new $,this.onNativeFocus=new $,this.onNativeBlur=new $,this.disabled=!1,this.toolbarPosition=Pt("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=Z(Mt),this.document=Z(Rt),this.cd=Z(Je),this.domSanitizer=Z(mi),this.platformId=Z(ti),this.renderer=Z(yt),this.zone=Z(xt),this.service=Z(Ui),this.destroyRef=Z(Ze),this.valueGetter=P(e=>{let t=e.getSemanticHTML();this.isEmptyValue(t)&&(t=this.defaultEmptyValue());let s=t,c=et(this.format(),this.service.config.format);if(c==="text")s=e.getText();else if(c==="object")s=e.getContents();else if(c==="json")try{s=JSON.stringify(e.getContents())}catch{s=e.getText()}return s}),this.valueSetter=P((e,t)=>{let s=et(this.format(),this.service.config.format);if(s==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(t=this.domSanitizer.sanitize(ii.HTML,t)),e.clipboard.convert({html:t});if(s==="json")try{return JSON.parse(t)}catch{return[{insert:t}]}return t}),this.selectionChangeHandler=(e,t,s)=>{let c=this.trackChanges()||this.service.config.trackChanges,f=!e&&!!this.onModelTouched&&(s==="user"||c&&c==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!f||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:s}):t===null&&this.onFocus.emit({editor:this.quillEditor,source:s}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:t,range:e,source:s}),f&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,t,s)=>{let c=this.quillEditor.getText(),f=this.quillEditor.getContents(),I=this.quillEditor.getSemanticHTML();this.isEmptyValue(I)&&(I=this.defaultEmptyValue());let O=this.trackChanges()||this.service.config.trackChanges,z=(s==="user"||O&&O==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!z||this.zone.run(()=>{if(z){let be=this.valueGetter();this.onModelChange(be(this.quillEditor))}this.onContentChanged.emit({content:f,delta:e,editor:this.quillEditor,html:I,oldDelta:t,source:s,text:c}),this.cd.markForCheck()})},this.editorChangeHandler=(e,t,s,c)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let f=this.quillEditor.getText(),I=this.quillEditor.getContents(),O=this.quillEditor.getSemanticHTML();this.isEmptyValue(O)&&(O=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:I,delta:t,editor:this.quillEditor,event:e,html:O,oldDelta:s,source:c,text:f}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:s,range:t,source:c}),this.cd.markForCheck()})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((s,c)=>{let f=c.trim();return f&&s.push(f),s},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){di(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe($t(e=>this.service.beforeRender(e,this.customModules(),this.beforeRender()))).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let t=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),s=Object.assign({},this.modules()||this.service.config.modules);t?s.toolbar=t:s.toolbar===void 0&&(s.toolbar=Ke.toolbar);let c=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;c===void 0&&(c="Insert text here ...");let f=this.styles();f&&Object.keys(f).forEach(B=>{this.renderer.setStyle(this.editorElem,B,f[B])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(B=>{let K=e.import(B.import);K.whitelist=B.whitelist,e.register(K,!0)});let I=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();I||(I=this.service.config.bounds?this.service.config.bounds:this.document.body);let O=this.debug();!O&&O!==!1&&this.service.config.debug&&(O=this.service.config.debug);let z=this.readOnly();!z&&this.readOnly()!==!1&&(z=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let be=this.formats();if(!be&&be===void 0&&(be=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:I,debug:O,formats:be,modules:s,placeholder:c,readOnly:z,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){we(this.quillEditor.scroll.domNode,"blur").pipe(Ne(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let B=this.quillEditor.getModule("toolbar");B.container&&we(B.container,"mousedown").pipe(Ne(this.destroyRef)).subscribe(K=>K.preventDefault())}if(this.onNativeFocus.observed&&we(this.quillEditor.scroll.domNode,"focus").pipe(Ne(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let K=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");K?.dataset&&(K.dataset.link=this.linkPlaceholder())}}),this.content){if(et(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let Ge=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(Ge,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&Fi().pipe(Ne(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){let t=e.styles.currentValue,s=e.styles.previousValue;s&&Object.keys(s).forEach(c=>{this.renderer.removeStyle(this.editorElem,c)}),t&&Object.keys(t).forEach(c=>{this.renderer.setStyle(this.editorElem,c,this.styles()[c])})}if(e.classes){let t=e.classes.currentValue,s=e.classes.previousValue;s&&this.removeClasses(s),t&&this.addClasses(t)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){r.normalizeClassNames(e).forEach(t=>{this.renderer.addClass(this.editorElem,t)})}removeClasses(e){r.normalizeClassNames(e).forEach(t=>{this.renderer.removeClass(this.editorElem,t)})}writeValue(e){if(this.filterNull()&&e===null||(this.content=e,!this.quillEditor))return;let t=et(this.format(),this.service.config.format),c=this.valueSetter()(this.quillEditor,e);if(this.compareValues()){let f=this.quillEditor.getContents();if(JSON.stringify(f)===JSON.stringify(c))return}if(e){t==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(c);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},t=!0,s=this.quillEditor.getText(),c=this.trimOnValidation()?s.trim().length:s.length===1&&s.trim().length===0?0:s.length-1,f=this.quillEditor.getContents().ops,I=!!f&&f.length===1&&[`
`,""].includes(f[0].insert?.toString());return this.minLength()&&c&&c<this.minLength()&&(e.minLengthError={given:c,minLength:this.minLength()},t=!1),this.maxLength()&&c>this.maxLength()&&(e.maxLengthError={given:c,maxLength:this.maxLength()},t=!1),this.required()&&!c&&I&&(e.requiredError={empty:!0},t=!1),t?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new jt,this.subscription.add(we(this.quillEditor,"selection-change").subscribe(([s,c,f])=>{this.selectionChangeHandler(s,c,f)}));let e=we(this.quillEditor,"text-change"),t=we(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(e=e.pipe(It(this.debounceTime())),t=t.pipe(It(this.debounceTime()))),this.subscription.add(e.subscribe(([s,c,f])=>{this.textChangeHandler(s,c,f)})),this.subscription.add(t.subscribe(([s,c,f,I])=>{this.editorChangeHandler(s,c,f,I)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(e){return e==="<p></p>"||e==="<div></div>"||e==="<p><br></p>"||e==="<div><br></div>"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=$e({type:r,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[We]})}}return r})(),tt=(()=>{class r extends ji{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=ei(r)))(s||r)}})()}static{this.\u0275cmp=U({type:r,selectors:[["quill-editor"]],standalone:!0,features:[ri([{multi:!0,provide:pi,useExisting:At(()=>r)},{multi:!0,provide:gi,useExisting:At(()=>r)}]),ni,si],ngContentSelectors:ki,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(t,s){t&1&&(oi(Ni),v(0,zi,1,0,"div",0),Xe(1),Xe(2,1),Xe(3,2),v(4,Gi,1,0,"div",0)),t&2&&(Ot(s.toolbarPosition()!=="top"?0:-1),l(4),Ot(s.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return r})();var Ur=(()=>{class r{static forRoot(e){return{ngModule:r,providers:[{provide:Lt,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=De({type:r})}static{this.\u0275inj=Re({})}}return r})();var it=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerClientes(){return this.http.get(this.ruta+"api/Clientes/")}AgregarClientes(o){return this.http.post(this.ruta+"api/Clientes/",o)}ModificarClientes(o,e){return this.http.put(this.ruta+"api/Clientes/"+e,o)}SeleccionarClientes(o){return this.http.get(this.ruta+"api/Clientes/"+o)}EliminarClientes(o){return this.http.delete(this.ruta+"api/Clientes/"+o)}createFormGroupClientes(){return new k({id:new b(0),nombres:new b("",[q.required]),apellidos:new b("",[q.required]),carnet:new b("",[q.required]),celular:new b("",[q.required]),fechnac:new b("",[q.required]),edad:new b("",[q.required]),usuario:new b("",[q.required]),contrasenia:new b("",[q.required]),foto:new b(""),estado:new b("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var Ae=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerInfoClientes(){return this.http.get(this.ruta+"api/InfoClientes/")}AgregarInfoClientes(o){return this.http.post(this.ruta+"api/InfoClientes/",o)}ModificarInfoClientes(o,e){return this.http.put(this.ruta+"api/InfoClientes/"+e,o)}SeleccionarInfoClientes(o){return this.http.get(this.ruta+"api/InfoClientes/"+o)}EliminarInfoClientes(o){return this.http.delete(this.ruta+"api/InfoClientes/"+o)}createFormGroupInfoClientes(){return new k({id:new b(0),id_cliente:new b(""),diagnostico:new b(""),residenciaactual:new b(""),tipotratamiento:new b(""),duracion:new b(""),fechaadmision:new b(""),tutor:new b(""),frecuencia:new b(""),objgenerales:new b(""),fisico:new b(""),emocional:new b(""),cognitivo:new b(""),social:new b(""),metodosausar:new b(""),notas:new b(""),cuestionario:new b(x.plantilla)})}SeleccionarAllInformacionCliente(o){return this.http.get(this.ruta+"api/AllInfoClientes/"+o)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var nt=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerDemucas(){return this.http.get(this.ruta+"api/Demucas/")}AgregarDemucas(o){return this.http.post(this.ruta+"api/Demucas/",o)}ModificarDemucas(o,e){return this.http.put(this.ruta+"api/Demucas/"+e,o)}SeleccionarDemucas(o){return this.http.get(this.ruta+"api/Demucas/"+o)}EliminarDemucas(o){return this.http.delete(this.ruta+"api/Demucas/"+o)}createFormGroupDemucas(){return new k({id:new b(0),id_infocliente:new b(""),categoria:new b(""),evaluacion:new b(""),rango:new b(""),palabra:new b(""),escala:new b(""),fecha:new b("")})}SeleccionarAllInformacionDemucas(o){return this.http.get(this.ruta+"api/AllDemucas/"+o)}AgregarGrupoDemucas(o){return this.http.post(this.ruta+"api/AddGrupoDemucas/",o)}EliminarGrupoDemucas(o){return this.http.post(this.ruta+"api/DeleteGrupoDemucas/",o)}ModificarEscalaDemucas(o,e){let t={escala:e};return this.http.put(this.ruta+"api/ModificarEscalaDemucas/"+o,t)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var Se=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerMatrizEscalas(){return this.http.get(this.ruta+"api/MatrizEscalas/")}AgregarMatrizEscalas(o){return this.http.post(this.ruta+"api/MatrizEscalas/",o)}ModificarMatrizEscalas(o,e){return this.http.put(this.ruta+"api/MatrizEscalas/"+e,o)}SeleccionarMatrizEscalas(o){return this.http.get(this.ruta+"api/MatrizEscalas/"+o)}EliminarMatrizEscalas(o){return this.http.delete(this.ruta+"api/MatrizEscalas/"+o)}createFormGroupMatrizEscalas(){return new k({id:new b(0),categoria:new b("",[q.required]),nombrematriz:new b("",[q.required]),valor:new b(""),multiplicar:new b("")})}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var xe=class r{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.apellidos).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.nombres).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.carnet).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275pipe=te({name:"filterapellidosnombrescarnet",type:r,pure:!0})}};var ke=class r{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.categoria).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.titulo).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.evaluacion).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.palabra).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275pipe=te({name:"filtercategoria",type:r,pure:!0})}};var at=class r{transform(o,e){return!o||!e||e.length===0?o:o.filter(t=>e.includes(t.categoria))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275pipe=te({name:"filtercategoriapestania",type:r,pure:!0})}};var Ie=class r{transform(o){if(!o)return"";let e;if(typeof o=="string"){let f=o.split(/[-/]/);if(f.length===3){let[I,O,z]=f.map(Number);e=new Date(I,O-1,z)}else return console.error("Formato de fecha no v\xE1lido:",o),""}else if(o instanceof Date)e=o;else return console.error("Valor de fecha no v\xE1lido:",o),"";let t=this.pad(e.getDate()),s=this.pad(e.getMonth()+1),c=e.getFullYear();return`${t}/${s}/${c}`}pad(o){return o<10?"0"+o:o.toString()}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275pipe=te({name:"dateFormat",type:r,pure:!0})}};var $i=r=>({itemsPerPage:10,currentPage:r});function Wi(r,o){r&1&&(i(0,"tr")(1,"td",132)(2,"div",133)(3,"div",134)(4,"span",135),a(5,"Loading..."),n()()()()())}function Zi(r,o){r&1&&(i(0,"tr")(1,"td",132),a(2,"No hay datos disponibles"),n()())}function Qi(r,o){if(r&1&&(i(0,"a",145),m(1,"i",146),n()),r&2){let e=p().$implicit,t=p();d("href",t.ruta+e.foto,j)}}function Xi(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",136),a(2),n(),i(3,"td"),a(4),n(),i(5,"td"),a(6),n(),i(7,"td"),a(8),n(),i(9,"td"),a(10),n(),i(11,"td",137)(12,"button",138),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarClientes(s.id))}),m(13,"i",139),n(),i(14,"button",140),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarClientes(s.id))}),m(15,"i",141),n(),i(16,"button",142),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarClientes(s.id,"InfoClientes",s.apellidos+" "+s.nombres,s.fecha))}),m(17,"i",143),n(),v(18,Qi,2,1,"a",144),n()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaClientes-1)*10+(e+1)),l(2),C(t.apellidos+" "+t.nombres),l(2),C(t.carnet),l(2),C(t.celular),l(2),C(t.estado),l(8),d("ngIf",!(t.foto==null||t.foto==""))}}function Yi(r,o){if(r&1){let e=_();i(0,"div",147)(1,"button",148),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastClientes())}),m(2,"i",149),a(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",150),n()()}}function Ji(r,o){if(r&1){let e=_();i(0,"button",151),u("click",function(){g(e);let s=p();return h(s.AgregarModificarClientes())}),m(1,"i",152),a(2),m(3,"span",9),n()}if(r&2){let e=p();l(),N("bi bi-",e.newClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ki(r,o){if(r&1){let e=_();i(0,"button",153),u("click",function(){g(e);let s=p();return h(s.AgregarModificarClientes())}),m(1,"span",154),n()}r&2&&d("disabled",!0)}function en(r,o){r&1&&(i(0,"div")(1,"div",155)(2,"div",133)(3,"div",134)(4,"span",135),a(5,"Loading..."),n()()()()())}function tn(r,o){r&1&&(i(0,"div")(1,"td",155),a(2,"No hay datos disponibles"),n()())}function nn(r,o){if(r&1){let e=_();i(0,"div",156)(1,"div",157)(2,"div",158)(3,"div",159)(4,"button",160),m(5,"i",161),n()(),i(6,"div",162)(7,"span"),a(8),S(9,"dateFormat"),n()(),i(10,"div",159)(11,"button",163),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarInfoClientes(s.id,"Demucas"))}),m(12,"i",164),n(),i(13,"a",165),u("click",function(s){let c=g(e).$implicit,f=p();return h(f.onButtonClick(s,c.id))}),m(14,"i",166),n(),i(15,"button",167),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarInfoClientes(s.id))}),m(16,"i",139),n(),i(17,"button",168),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarInfoClientes(s.id))}),m(18,"i",169),n(),i(19,"button",170),m(20,"i",161),n()()(),i(21,"div",171)(22,"ul",172)(23,"li",173)(24,"h5"),a(25,"RESIDENCIA ACTUAL."),n(),i(26,"a",174),a(27),n()(),i(28,"li",173)(29,"h5"),a(30,"DIAGNOSTICO."),n(),i(31,"a",174),a(32),n()(),i(33,"li",173)(34,"h5"),a(35,"TIPO DE TRATAMIENTO."),n(),i(36,"a",174),a(37),n()(),i(38,"li",173)(39,"h5"),a(40,"DURACI\xD3N."),n(),i(41,"a",174),a(42),n()(),i(43,"li",173)(44,"h5"),a(45,"TUTOR."),n(),i(46,"a",174),a(47),n()(),i(48,"li",173)(49,"h5"),a(50,"FRECUENCIA DE LAS SESIONES."),n(),i(51,"a",174),a(52),n()(),i(53,"li",173)(54,"h5"),a(55,"OBJETIVOS GENERALES."),n(),i(56,"a",174),a(57),n()(),i(58,"li",173)(59,"h5"),a(60,"FISICO."),n(),i(61,"a",174),a(62),n()(),i(63,"li",173)(64,"h5"),a(65,"EMOCIONAL."),n(),i(66,"a",174),a(67),n()(),i(68,"li",173)(69,"h5"),a(70,"COGNITIVO."),n(),i(71,"a",174),a(72),n()(),i(73,"li",173)(74,"h5"),a(75,"SOCIAL."),n(),i(76,"a",174),a(77),n()(),i(78,"li",173)(79,"h5"),a(80,"METODOS A USAR."),n(),i(81,"a",174),a(82),n()(),i(83,"li",173)(84,"h5"),a(85,"NOTAS."),n(),i(86,"quill-editor",175),V("ngModelChange",function(s){let c=g(e).$implicit;return T(c.notas,s)||(c.notas=s),h(s)}),n()(),i(87,"li",173)(88,"h5"),a(89,"CUESTIONARIO."),n(),i(90,"quill-editor",175),V("ngModelChange",function(s){let c=g(e).$implicit;return T(c.cuestionario,s)||(c.cuestionario=s),h(s)}),n()()()()()()}if(r&2){let e=o.$implicit,t=o.index,s=p();l(4),Ce("data-bs-target","#collapseCar"+t),l(4),E("FECHA DE ADMISI\xD3N: ",ne(9,21,e.fechaadmision),""),l(5),d("href",s.generateUrl(e.id),j),l(6),Ce("data-bs-target","#collapseCar"+t),l(2),d("id","collapseCar"+t),l(6),C(e.residenciaactual==null?"NINGUNA":e.residenciaactual),l(5),C(e.diagnostico==null?"NINGUNA":e.diagnostico),l(5),C(e.tipotratamiento==null?"NINGUNA":e.tipotratamiento),l(5),C(e.duracion==null?"NINGUNA":e.duracion),l(5),C(e.tutor==null?"NINGUNA":e.tutor),l(5),C(e.frecuencia==null?"NINGUNA":e.frecuencia),l(5),C(e.objgenerales==null?"NINGUNA":e.objgenerales),l(5),C(e.fisico==null?"NINGUNA":e.fisico),l(5),C(e.emocional==null?"NINGUNA":e.emocional),l(5),C(e.cognitivo==null?"NINGUNA":e.cognitivo),l(5),C(e.social==null?"NINGUNA":e.social),l(5),C(e.metodosausar==null?"NINGUNA":e.metodosausar),l(4),d("modules",s._tools.modulesQuillShow),D("ngModel",e.notas),l(4),d("modules",s._tools.modulesQuillShow),D("ngModel",e.cuestionario)}}function on(r,o){if(r&1){let e=_();i(0,"div",147)(1,"button",148),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastInfoClientes())}),m(2,"i",149),a(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",150),n()()}}function an(r,o){if(r&1){let e=_();i(0,"button",151),u("click",function(){g(e);let s=p();return h(s.AgregarModificarInfoClientes())}),m(1,"i",152),a(2),m(3,"span",9),n()}if(r&2){let e=p();l(),N("bi bi-",e.newInfoClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInfoClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function rn(r,o){if(r&1){let e=_();i(0,"button",153),u("click",function(){g(e);let s=p();return h(s.AgregarModificarInfoClientes())}),m(1,"span",154),n()}r&2&&d("disabled",!0)}function sn(r,o){if(r&1){let e=_();i(0,"li",173)(1,"a",176),u("click",function(){let s=g(e).$implicit,c=p();return h(c.toggleCategoria(s.categoria))}),a(2),n()()}if(r&2){let e=o.$implicit,t=p();l(),_e("active",t.categoriasSeleccionadas.includes(e.categoria)),l(),E(" ",e.categoria," ")}}function ln(r,o){r&1&&(i(0,"tr")(1,"td",132)(2,"div",133)(3,"div",134)(4,"span",135),a(5,"Loading..."),n()()()()())}function cn(r,o){r&1&&(i(0,"tr")(1,"td",132),a(2,"No hay datos disponibles"),n()())}function dn(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",136),a(2),n(),i(3,"td",155),a(4),i(5,"div",177)(6,"small",178),a(7),n()()(),i(8,"td",155),a(9),n(),i(10,"td",155),a(11),m(12,"br"),i(13,"div",179)(14,"label",180),u("click",function(){let s=g(e).$implicit,c=p();return h(c.ModificarEscalaDemucas(s.id,"NADA"))}),i(15,"input",181),V("ngModelChange",function(s){let c=g(e).$implicit;return T(c.escala,s)||(c.escala=s),h(s)}),n(),a(16," N "),n(),i(17,"label",180),u("click",function(){let s=g(e).$implicit,c=p();return h(c.ModificarEscalaDemucas(s.id,"POCO"))}),i(18,"input",182),V("ngModelChange",function(s){let c=g(e).$implicit;return T(c.escala,s)||(c.escala=s),h(s)}),n(),a(19," P "),n(),i(20,"label",180),u("click",function(){let s=g(e).$implicit,c=p();return h(c.ModificarEscalaDemucas(s.id,"MUCHO"))}),i(21,"input",183),V("ngModelChange",function(s){let c=g(e).$implicit;return T(c.escala,s)||(c.escala=s),h(s)}),n(),a(22," M "),n()()(),i(23,"td",155),a(24),S(25,"dateFormat"),n(),i(26,"td",137)(27,"button",138),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarDemucas(s.id))}),m(28,"i",139),n(),i(29,"button",140),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarDemucas(s.id))}),m(30,"i",141),n()()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaDemucas-1)*15+(e+1)),l(2),E("",t.evaluacion," "),l(3),E("Cat: ",t.categoria,""),l(2),W("",t.rango,": ",t.palabra," "),l(2),E(" ",t.escala," "),l(3),_e("active",t.escala==="NADA"),l(),ie("id","nada-",e,""),ie("name","escala-",e,""),D("ngModel",t.escala),l(2),_e("active",t.escala==="POCO"),l(),ie("id","poco-",e,""),ie("name","escala-",e,""),D("ngModel",t.escala),l(2),_e("active",t.escala==="MUCHO"),l(),ie("id","mucho-",e,""),ie("name","escala-",e,""),D("ngModel",t.escala),l(3),C(ne(25,28,t.fecha))}}function mn(r,o){if(r&1&&(i(0,"option",184),a(1),n()),r&2){let e=o.$implicit;d("value",e.categoria),l(),C(e.categoria)}}function un(r,o){if(r&1&&(i(0,"option",184),a(1),n()),r&2){let e=o.$implicit;d("value",e.nombrematriz),l(),W("Rango: ",e.valor," - ",e.nombrematriz,"")}}function pn(r,o){if(r&1){let e=_();i(0,"div",147)(1,"button",148),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastDemucas())}),m(2,"i",149),a(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",150),n()()}}function gn(r,o){if(r&1){let e=_();i(0,"button",151),u("click",function(){g(e);let s=p();return h(s.AgregarModificarDemucas())}),m(1,"i",152),a(2),m(3,"span",9),n()}if(r&2){let e=p();l(),N("bi bi-",e.newDemucas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newDemucas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function hn(r,o){if(r&1){let e=_();i(0,"button",153),u("click",function(){g(e);let s=p();return h(s.AgregarModificarDemucas())}),m(1,"span",154),n()}r&2&&d("disabled",!0)}function fn(r,o){if(r&1&&(i(0,"option",184),a(1),n()),r&2){let e=o.$implicit;d("value",e.categoria),l(),C(e.categoria)}}function bn(r,o){r&1&&(i(0,"tr")(1,"td",185),a(2,"No hay datos disponibles"),n()())}function vn(r,o){if(r&1&&(i(0,"tr")(1,"td"),a(2),n(),i(3,"td"),a(4),n()()),r&2){let e=o.$implicit;l(2),C(e.categoria),l(2),W("",e.valor,": ",e.nombrematriz,"")}}function Cn(r,o){if(r&1){let e=_();i(0,"button",151),u("click",function(){g(e);let s=p();return h(s.AgregarGrupoDemucas())}),m(1,"i",152),a(2),m(3,"span",9),n()}if(r&2){let e=p();l(),N("bi bi-",e.newDemucas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newDemucas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function _n(r,o){if(r&1){let e=_();i(0,"button",153),u("click",function(){g(e);let s=p();return h(s.AgregarGrupoDemucas())}),m(1,"span",154),n()}r&2&&d("disabled",!0)}function En(r,o){r&1&&(i(0,"tr")(1,"td",185),a(2,"No hay datos disponibles"),n()())}function Sn(r,o){if(r&1&&(i(0,"tr")(1,"td"),a(2),n(),i(3,"td"),a(4),n()()),r&2){let e=o.$implicit;l(2),C(e.rango),l(2),C(e.palabra)}}var st=class r{constructor(o,e,t,s,c,f,I){this.router=o;this._cli=e;this._tools=t;this._infocli=s;this._demucas=c;this._matrizescalas=f;this.http=I;this.ruta=x.ruta;this.categoriasSeleccionadas=[];this.MatrizEscalas=[];this.MatrizDiferentes=[];this.MatrizDiferentesRespaldo=[];this.MatrizCategorias=[];this.MatrizPalabras=[];this.DemucasDelete=[];this.dataDropZone={iddropzone:"dropzoneclientes",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.uploadProgress=null;this.Clientes=[];this.paginaClientes=1;this.isLoadingClientes=!0;this.AnimacionCargabtnModalClientes=!1;this.filtertxtClientes="";this.idClientesSave=0;this.NameClientesSave="";this.fechaadmisionClientesSave="";this.InfoClientes=[];this.paginaInfoClientes=1;this.isLoadingInfoClientes=!0;this.AnimacionCargabtnModalInfoClientes=!1;this.filtertxtInfoClientes="";this.idInfoClientesSave=0;this.Demucas=[];this.DemucasRespaldo=[];this.paginaDemucas=1;this.isLoadingDemucas=!0;this.AnimacionCargabtnModalDemucas=!1;this.filtertxtDemucas="";this.filterDemucas="";this.newClientes=this._cli.createFormGroupClientes(),this.newClientesAnteriorAccion=this._cli.createFormGroupClientes(),this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientesAnteriorAccion=this._infocli.createFormGroupInfoClientes(),this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucasAnteriorAccion=this._demucas.createFormGroupDemucas()}ngOnInit(){this.CargarMatrizEscalas(),this.CargarClientes()}ngOnDestroy(){this._tools.cerrarModales()}toggleCategoria(o){this.categoriasSeleccionadas.includes(o)?this.categoriasSeleccionadas=this.categoriasSeleccionadas.filter(e=>e!==o):this.categoriasSeleccionadas=[...this.categoriasSeleccionadas,o],console.log("Categor\xEDas seleccionadas:",this.categoriasSeleccionadas)}CalcularEdad(o){var e=this._tools.calcularEdadyMeses(o);this.newClientes.patchValue({edad:e})}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(o=>{this.MatrizEscalas=o.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizDiferentes=o.data.filter(e=>!["ESCALA DE RELACIONES INTERMUSICALES (ERI)","CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)","MOMENTO","OBJETIVOS","RECURSOS MUSICALES","ENFASIS MUSICAL","ENFOQUE","ETAPA MLT"].includes(e.categoria)),this.MatrizDiferentesRespaldo=this.MatrizDiferentes,this.MatrizCategorias=this.MatrizDiferentes.reduce((e,t)=>(e.some(s=>s.categoria===t.categoria)||e.push({categoria:t.categoria}),e),[]),this.MatrizDiferentes.sort((e,t)=>e.categoria<t.categoria?-1:e.categoria>t.categoria?1:e.valor<t.valor?-1:e.valor>t.valor?1:0),console.log("Matrizdiferentes",this.MatrizDiferentes)},o=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",o)})}onCategoriaChange(o){o=="TODOS"?this.MatrizDiferentes=[...this.MatrizDiferentesRespaldo]:o?this.MatrizDiferentes=this.MatrizDiferentesRespaldo.filter(e=>e.categoria===o):this.MatrizDiferentes=[...this.MatrizDiferentesRespaldo],this.MatrizPalabras=[],console.log("MatrizDiferentes filtrado",this.MatrizDiferentes)}onEvaluacionChange(o){o?this.DemucasDelete=this.DemucasRespaldo.filter(e=>e.evaluacion===o):this.DemucasDelete=[...this.DemucasRespaldo],console.log("Demucas filtrado",this.Demucas)}crearDropzone(){sessionStorage.setItem("CategoriaFile","CLIENTE");var o=document.getElementById("dropzoneclientes");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ge.instances.length>0&&ge.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}onFileSelected(o){let e=o.target.files[0];if(!window.FileReader){alert("El navegador no soporta la lectura de archivos");return}if(/\.(jpg|png|jpeg)$/i.test(e.name)){let t="";if(e.size>1e7)switch(this._tools.MostrarMensaje("warning","\xA1TAMA\xD1O EXCEDIDO!. EL TAMA\xD1O DEL ARCHIVO NO PUEDE EXCEDER LOS 10MB"),t){default:o.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}else this.uploadFile(e)}else{switch(this._tools.MostrarMensaje("error","FORMATO INVALIDO!."),""){default:o.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}return}}uploadFile(o){let e=new FormData;e.append("file",o),e.append("type","CLIENTE"),this.http.post(this.ruta+"api/uploadFile",e,{reportProgress:!0,observe:"events"}).subscribe(t=>{t.type===Dt.UploadProgress?t.total&&(this.uploadProgress=Math.round(100*t.loaded/t.total)):t.type===Dt.Response&&(console.log("File uploaded successfully",t),this.uploadProgress=100,this.previousFilePath=t.body,this.newClientes.value.foto=this.previousFilePath.filePath)},t=>{console.error("File upload failed",t),this.uploadProgress=null})}generateUrl(o){let e={id:o,NomC:this.NameClientesSave,FechAdmision:this.fechaadmisionClientesSave};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:e}))}onButtonClick(o,e){if(!(o.ctrlKey||o.button===1)){o.preventDefault();let t={id:e,NomC:this.NameClientesSave,FechAdmision:this.fechaadmisionClientesSave};this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:t})}this._tools.cerrarModal("ModalGestionInfoCliente")}CargarClientes(){this.AnimarCargaTablaClientes(),this._cli.ObtenerClientes().subscribe(o=>{console.log("Clientes CARGADO",o.data),this.Clientes=o.data,this.isLoadingClientes=!1},o=>{console.log("ERROR AL CARGAR Clientes",o),this.isLoadingClientes=!1})}AgregarModificarClientes(){if(this.newClientes.invalid){this.ValidacionTodoElementoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalClientes=!1;return}else{this.AnimarCargaTablaClientes(),this.AnimacionCargabtnModalClientes=!0,this._tools.MostrarMensajeLoading();let e=this.newClientes.controls.id.value;console.log("INFO A PROCESAR",this.newClientes.value);var o=sessionStorage.getItem("IMG");console.log("VALOR img",o),o==null||o==""||(this.newClientes.value.foto=o),e?(console.log("DATA NUEVO",this.newClientes.value),console.log("DATA ANTERIOR",this.newClientesAnteriorAccion.value),this._cli.ModificarClientes(this.newClientes.value,this.newClientes.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Clientes",t.data),this.CargarClientes(),this.newClientesAnteriorAccion.value.foto==this.newClientes.value.foto||this._tools.EliminarArchivo(this.newClientesAnteriorAccion.value.foto),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Clientes",t),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()})):(this.newClientesAnteriorAccion.setValue(this.newClientes.value),this._cli.AgregarClientes(this.newClientes.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Clientes",t.data),this.CargarClientes(),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Clientes",t),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarClientes(o,e,t,s){if(this._tools.MostrarMensajeLoading(),o)switch(e){case"InfoClientes":this.idClientesSave=o,this.NameClientesSave=t,this.fechaadmisionClientesSave=s,this.CargarInfoClientes(),this._tools.abrirModal("ModalGestionInfoCliente"),this._tools.MostrarMensajeSuccess();break;default:this._cli.SeleccionarClientes(o).subscribe(c=>{Object.keys(this.newClientes.controls).forEach(f=>{this.newClientes.controls[f].setValue(c.data[f])}),c.data.foto?this.selectedFileUrl=this.ruta+c.data.foto:this.selectedFileUrl=null,console.log("SELECCION DE Clientes EXITOSA",this.newClientes.value),this.newClientesAnteriorAccion.setValue(this.newClientes.value),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes"),this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL SELECCIONAR Clientes",c),this._tools.MostrarMensajeError()});break}}EliminarClientes(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._cli.EliminarClientes(o).subscribe(t=>{console.log(t.data),this.CargarClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Clientes",t),this._tools.MostrarMensajeError()}))})}resetClientes(){this.selectedFileUrl="",this.newClientes.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionClientes")}AbrirModalClientes(){this.newClientes.reset(),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes")}AutoCompletarLastClientes(){this.newClientes.setValue(this.newClientesAnteriorAccion.value),this.newClientes.patchValue({id:0}),console.log("listo",this.newClientes.value)}AnimarCargaTablaClientes(){this.Clientes=[],this.isLoadingClientes=!0}ValidacionClientesxElemento(o){return this._tools.obtenerValidationClass(this.newClientes,o)}ValidacionTodoElementoClientes(){Object.values(this.newClientes.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarInfoClientes(){this.AnimarCargaTablaInfoClientes(),this._infocli.SeleccionarAllInformacionCliente(this.idClientesSave).subscribe(o=>{console.log("InfoClientes CARGADO",o.data),this.InfoClientes=o.data,this.isLoadingInfoClientes=!1},o=>{console.log("ERROR AL CARGAR InfoClientes",o),this.isLoadingInfoClientes=!1})}AgregarModificarInfoClientes(){if(this.newInfoClientes.invalid){this.ValidacionTodoElementoInfoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInfoClientes=!1;return}else{this.AnimarCargaTablaInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!0,this._tools.MostrarMensajeLoading();let o=this.newInfoClientes.controls.id.value;console.log("INFO A PROCESAR",this.newInfoClientes.value),o?this._infocli.ModificarInfoClientes(this.newInfoClientes.value,this.newInfoClientes.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}):(this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._infocli.AgregarInfoClientes(this.newInfoClientes.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInfoClientes(o,e){switch(e){case"Demucas":this.idInfoClientesSave=o,this.CargarDemucas(),this._tools.abrirModal("modalGDemucas"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),o&&this._infocli.SeleccionarInfoClientes(o).subscribe(t=>{Object.keys(this.newInfoClientes.controls).forEach(s=>{this.newInfoClientes.controls[s].setValue(t.data[s])}),console.log("SELECCION DE InfoClientes EXITOSA",this.newInfoClientes.value),this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._tools.abrirModal("modalgestionInfoClientes"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR InfoClientes",t),this._tools.MostrarMensajeError()});break}}EliminarInfoClientes(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._infocli.EliminarInfoClientes(o).subscribe(t=>{console.log(t.data),this.CargarInfoClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR InfoClientes",t),this._tools.MostrarMensajeError()}))})}resetInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this._tools.cerrarModal("modalgestionInfoClientes")}AbrirModalInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientes.patchValue({id_cliente:this.idClientesSave}),this._tools.abrirModal("modalgestionInfoClientes")}AutoCompletarLastInfoClientes(){this.newInfoClientes.setValue(this.newInfoClientesAnteriorAccion.value),this.newInfoClientes.patchValue({id:0}),console.log("listo",this.newInfoClientes.value)}AnimarCargaTablaInfoClientes(){this.InfoClientes=[],this.isLoadingInfoClientes=!0}ValidacionInfoClientesxElemento(o){return this._tools.obtenerValidationClass(this.newInfoClientes,o)}ValidacionTodoElementoInfoClientes(){Object.values(this.newInfoClientes.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarDemucas(){this.AnimarCargaTablaDemucas(),this._demucas.SeleccionarAllInformacionDemucas(this.idInfoClientesSave).subscribe(o=>{console.log("Demucas CARGADO",o.data),this.Demucas=o.data,this.DemucasRespaldo=o.data,this.isLoadingDemucas=!1},o=>{console.log("ERROR AL CARGAR Demucas",o),this.isLoadingDemucas=!1})}AgregarModificarDemucas(){if(this.newDemucas.invalid){this.ValidacionTodoElementoDemucas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalDemucas=!1;return}else{this.AnimarCargaTablaDemucas(),this.AnimacionCargabtnModalDemucas=!0,this._tools.MostrarMensajeLoading();let o=this.newDemucas.controls.id.value;console.log("INFO A PROCESAR",this.newDemucas.value),o?this._demucas.ModificarDemucas(this.newDemucas.value,this.newDemucas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Demucas",e.data),this.CargarDemucas(),this.resetDemucas(),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Demucas",e),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeError()}):(this.newDemucasAnteriorAccion.setValue(this.newDemucas.value),this._demucas.AgregarDemucas(this.newDemucas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Demucas",e.data),this.CargarDemucas(),this.resetDemucas(),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Demucas",e),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarDemucas(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.Demucas.find(t=>t.id===o))return;this._demucas.SeleccionarDemucas(o).subscribe(t=>{Object.keys(this.newDemucas.controls).forEach(s=>{this.newDemucas.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Demucas EXITOSA",this.newDemucas.value),this.newDemucasAnteriorAccion.setValue(this.newDemucas.value),this._tools.abrirModal("modalgestionDemucas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Demucas",t),this._tools.MostrarMensajeError()})}}EliminarDemucas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._demucas.EliminarDemucas(o).subscribe(t=>{console.log(t.data),this.CargarDemucas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Demucas",t),this._tools.MostrarMensajeError()}))})}resetDemucas(){this.newDemucas=this._demucas.createFormGroupDemucas(),this._tools.cerrarModal("modalgestionDemucas")}AbrirModalDemucas(){this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucas.patchValue({id_infocliente:this.idInfoClientesSave}),this._tools.abrirModal("modalgestionDemucas")}AbrirModalDemucasModos(o){switch(o){case"AddGrupoDemucas":this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucas.patchValue({id_infocliente:this.idInfoClientesSave}),this._tools.abrirModal("modalgrupoaddgestionDemucas"),this.onCategoriaChange("asdasd123123123123");break;case"DeleteGrupoDemucas":this._tools.abrirModal("modalgrupodeletegestionDemucas"),this.onEvaluacionChange("asdasd123123123123");break;default:this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucas.patchValue({id_infocliente:this.idInfoClientesSave}),this._tools.abrirModal("modalgrupoaddgestionDemucas");break}}CerraModalDemucasModos(o){switch(o){case"AddGrupoDemucas":this._tools.cerrarModal("modalgrupoaddgestionDemucas");break;case"DeleteGrupoDemucas":this._tools.cerrarModal("modalgrupodeletegestionDemucas");break;default:break}}AutoCompletarLastDemucas(){this.newDemucas.setValue(this.newDemucasAnteriorAccion.value),this.newDemucas.patchValue({id:0}),console.log("listo",this.newDemucas.value)}AnimarCargaTablaDemucas(){this.Demucas=[],this.isLoadingDemucas=!0}ValidacionDemucasxElemento(o){return this._tools.obtenerValidationClass(this.newDemucas,o)}ValidacionTodoElementoDemucas(){Object.values(this.newDemucas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}AgregarGrupoDemucas(){if(this.newDemucas.invalid){this.ValidacionTodoElementoDemucas(),this._tools.MostrarMensajeFrmIncompleto();return}let o=this.newDemucas.value,e=this.MatrizDiferentes.map(t=>({id_infocliente:o.id_infocliente,categoria:t.categoria,evaluacion:o.evaluacion,escala:"SIN ESCALA",fecha:o.fecha,palabra:t.nombrematriz,rango:t.valor}));this._demucas.AgregarGrupoDemucas(e).subscribe(t=>{console.log("Grupo Demucas a\xF1adido correctamente",t.data),this.CargarDemucas(),this.resetDemucas(),this.CerraModalDemucasModos("AddGrupoDemucas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("Error al a\xF1adir Grupo Demucas",t),this._tools.MostrarMensajeError()})}EliminarGrupoDemucas(){if(this.DemucasDelete.length===0){this._tools.MostrarMensaje("warning","Seleccione al menos un elemento para eliminar.");return}let o=this.DemucasDelete.map(e=>e.id);this._demucas.EliminarGrupoDemucas(o).subscribe(e=>{console.log("Grupo Demucas eliminado correctamente",e.data),this.CargarDemucas(),this.CerraModalDemucasModos("DeleteGrupoDemucas"),this._tools.MostrarMensajeSuccess()},e=>{console.log("Error al eliminar Grupo Demucas",e),this._tools.MostrarMensajeError()})}ModificarEscalaDemucas(o,e){this._demucas.ModificarEscalaDemucas(o,e).subscribe(t=>{console.log("Escala Demucas modificada correctamente",t.data),this._tools.MostrarMensajeSuccess()},t=>{console.log("Error al modificar Escala Demucas",t),this.CargarDemucas(),this._tools.MostrarMensajeError()})}static{this.\u0275fac=function(e){return new(e||r)(A(Te),A(it),A(H),A(Ae),A(nt),A(Se),A(w))}}static{this.\u0275cmp=U({type:r,selectors:[["app-clientes"]],decls:662,vars:91,consts:[["fechnacvalor",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechnac",1,"form-control",3,"ngModelChange","ngClass"],["type","text","placeholder","","formControlName","edad",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["formControlName","estado",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneclientes",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalGestionInfoCliente","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-7","d-flex","justify-content-start"],["title","Admitir Cliente",1,"btn","mouse-dir","primary",3,"click"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionInfoClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","residenciaactual",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","diagnostico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","tipotratamiento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","duracion",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechaadmision",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","tutor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","frecuencia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","objgenerales",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fisico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","emocional",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cognitivo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","social",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","metodosausar",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","notas",1,"quill-container-wrapper",3,"modules"],["formControlName","cuestionario",1,"quill-container-wrapper",3,"modules"],["id","modalGDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-6","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","success",3,"click"],[1,"bi","bi-plus-circle",2,"font-size","1rem"],["title","A\xF1adir",1,"btn","mouse-dir","danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1rem"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],["value","PRIMERA EVALUACI\xD3N"],["value","SEGUNDA EVALUACI\xD3N"],["value","TERCERA EVALUACI\xD3N"],["value","CUARTA EVALUACI\xD3N"],["value","QUINTA EVALUACI\xD3N"],["value","SEXTA EVALUACI\xD3N"],["value","S\xC9PTIMA EVALUACI\xD3N"],["value","OCTAVA EVALUACI\xD3N"],["value","NOVENA EVALUACI\xD3N"],["value","D\xC9CIMA EVALUACI\xD3N"],["value","UND\xC9CIMA EVALUACI\xD3N"],["value","DUOD\xC9CIMA EVALUACI\xD3N"],["value","DECIMOTERCERA EVALUACI\xD3N"],["value","DECIMOCUARTA EVALUACI\xD3N"],["value","DECIMOQUINTA EVALUACI\xD3N"],["value","DECIMOSEXTA EVALUACI\xD3N"],["value","DECIMOS\xC9PTIMA EVALUACI\xD3N"],["value","DECIMOCTAVA EVALUACI\xD3N"],["value","DECIMONOVENA EVALUACI\xD3N"],["value","VIG\xC9SIMA EVALUACI\xD3N"],[1,"nav","nav-tabs","mb-3"],["class","nav-item",4,"ngFor","ngForOf"],["id","modalgestionDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["formControlName","evaluacion",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","rango",1,"form-control",3,"ngClass"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","palabra",1,"form-control",3,"ngClass"],["formControlName","escala",1,"form-control",3,"ngClass"],["value","NADA"],["value","POCO"],["value","MUCHO"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["id","modalgrupoaddgestionDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["value","TODOS"],["id","modalgrupodeletegestionDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"form-control",3,"change"],[1,"btn","mouse-dir","danger",3,"click"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Mostrar m\xE1s Informaci\xF3n",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-info",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-center"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],["type","button","title","ABRIR DEMUCAS",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-file-ruled",2,"font-size","1.5rem"],["title","ABRIR PLANES DE INTERVENCIONES",1,"btn","btn-primary",3,"click","href"],[1,"bi","bi-file-earmark-text",2,"font-size","1.5rem"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"text-center","text-light","bg-primary"],[1,""],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-outline-primary",3,"click"],["type","radio","value","NADA",3,"ngModelChange","id","name","ngModel"],["type","radio","value","POCO",3,"ngModelChange","id","name","ngModel"],["type","radio","value","MUCHO",3,"ngModelChange","id","name","ngModel"],[3,"value"],["colspan","2",1,"text-center"]],template:function(e,t){if(e&1){let s=_();m(0,"hr"),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Gesti\xF3n de Clientes"),n(),i(6,"p",5),a(7,"Administra toda la informaci\xF3n de los Clientes de manera sencilla y eficiente"),n()()()(),i(8,"div",2)(9,"div",6)(10,"button",7),u("click",function(){return g(s),h(t.AbrirModalClientes())}),m(11,"i",8),a(12," A\xF1adir Clientes"),m(13,"span",9),n()(),i(14,"div",10)(15,"div",11)(16,"span",12),m(17,"i",13),n(),i(18,"div",14)(19,"input",15),u("input",function(){return g(s),h(t.paginaClientes=1)}),V("ngModelChange",function(f){return g(s),T(t.filtertxtClientes,f)||(t.filtertxtClientes=f),h(f)}),n(),i(20,"label"),a(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",16)(24,"table",17)(25,"thead")(26,"tr")(27,"th",18),a(28,"#"),n(),i(29,"th",19),a(30,"Nombre Completo"),n(),i(31,"th",19),a(32,"Carnet"),n(),i(33,"th",19),a(34,"Celular"),n(),i(35,"th",19),a(36,"Estado"),n(),i(37,"th",19),a(38,"ACCIONES"),n()()(),i(39,"tbody",20),v(40,Wi,6,0,"tr",21)(41,Zi,3,0,"tr",21)(42,Xi,19,6,"tr",22),S(43,"filterapellidosnombrescarnet"),S(44,"paginate"),n()(),i(45,"pagination-controls",23),u("pageChange",function(f){return g(s),h(t.paginaClientes=f)}),n()(),m(46,"hr"),i(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"div",28)(52,"h1",29),a(53),n(),i(54,"button",30),u("click",function(){return g(s),h(t.resetClientes())})("click",function(){return g(s),h(t.CancelarArchivosDropzone())}),n()()(),i(55,"div",31)(56,"div",32)(57,"div",33)(58,"input",34),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"apellidos"))}),n(),i(59,"label"),a(60,"apellidos"),n(),i(61,"div",35),a(62,"Este campo es obligatorio*"),n()(),i(63,"div",33)(64,"input",36),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"nombres"))}),n(),i(65,"label"),a(66,"nombres"),n(),i(67,"div",35),a(68,"Este campo es obligatorio*"),n()(),i(69,"div",33)(70,"input",37),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"carnet"))}),n(),i(71,"label"),a(72,"carnet"),n(),i(73,"div",35),a(74,"Este campo es obligatorio*"),n()(),i(75,"div",33),m(76,"input",38),i(77,"label"),a(78,"celular"),n(),i(79,"div",35),a(80,"Este campo es obligatorio*"),n()(),i(81,"div",33)(82,"input",39,0),u("ngModelChange",function(){g(s);let f=Q(83);return h(t.CalcularEdad(f.value))}),n(),i(84,"label"),a(85,"fecha de nacimiento"),n(),i(86,"div",35),a(87,"Este campo es obligatorio*"),n()(),i(88,"div",33),m(89,"input",40),i(90,"label"),a(91,"edad"),n(),i(92,"div",35),a(93,"Este campo es obligatorio*"),n()(),i(94,"div",33)(95,"input",41),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"usuario"))}),n(),i(96,"label"),a(97,"usuario"),n(),i(98,"div",35),a(99,"Este campo es obligatorio*"),n()(),i(100,"div",33),m(101,"input",42),i(102,"label"),a(103,"contrase\xF1a"),n(),i(104,"div",35),a(105,"Este campo es obligatorio*"),n()(),i(106,"div",33)(107,"select",43)(108,"option",44),a(109,"Seleccione una opci\xF3n"),n(),i(110,"option",45),a(111,"ACTIVO"),n(),i(112,"option",46),a(113,"INACTIVO"),n()(),i(114,"label"),a(115,"estado"),n(),i(116,"div",35),a(117,"Este campo es obligatorio*"),n()(),i(118,"div",47)(119,"label",48),a(120,"Foto"),n(),m(121,"div",49)(122,"hr"),i(123,"span"),a(124,"IMAGEN ACTUAL:"),n(),m(125,"img",50),n()()(),i(126,"div",51),v(127,Yi,6,0,"div",52),i(128,"div",53)(129,"div",54)(130,"button",55),u("click",function(){return g(s),h(t.resetClientes())})("click",function(){return g(s),h(t.CancelarArchivosDropzone())}),m(131,"i",56),a(132," CANCELAR"),m(133,"span",9),n()(),i(134,"div",57),v(135,Ji,4,4,"button",58)(136,Ki,2,1,"button",59),n()()()()()(),i(137,"div",60)(138,"div",25)(139,"div",26)(140,"div",27)(141,"h5",61),a(142,"Gestion de Informaci\xF3n de Clientes "),n(),m(143,"button",62),n(),i(144,"div",31),m(145,"hr"),i(146,"div",1)(147,"div",2),m(148,"div",3),n()(),i(149,"div",2)(150,"div",63)(151,"button",64),u("click",function(){return g(s),h(t.AbrirModalInfoClientes())}),m(152,"i",8),a(153," A\xF1adir Informaci\xF3n del Cliente para la Admisi\xF3n"),m(154,"span",9),n()(),i(155,"div",10)(156,"div",11)(157,"span",12),m(158,"i",13),n(),i(159,"div",14)(160,"input",15),u("input",function(){return g(s),h(t.paginaInfoClientes=1)}),V("ngModelChange",function(f){return g(s),T(t.filtertxtInfoClientes,f)||(t.filtertxtInfoClientes=f),h(f)}),n(),i(161,"label"),a(162,"Buscar"),n()()()()(),m(163,"hr"),v(164,en,6,0,"div",21)(165,tn,3,0,"div",21),i(166,"div",2),v(167,nn,91,23,"div",65),n(),m(168,"hr"),i(169,"div",66)(170,"div",25)(171,"div",26)(172,"div",27)(173,"div",28)(174,"h1",29),a(175),n(),i(176,"button",30),u("click",function(){return g(s),h(t.resetInfoClientes())}),n()()(),i(177,"div",31)(178,"div",32)(179,"div",33)(180,"input",67),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"residenciaactual"))}),n(),i(181,"label"),a(182,"residencia actual"),n(),i(183,"div",35),a(184,"Este campo es obligatorio*"),n()(),i(185,"div",33)(186,"input",68),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"diagnostico"))}),n(),i(187,"label"),a(188,"diagnostico"),n(),i(189,"div",35),a(190,"Este campo es obligatorio*"),n()(),i(191,"div",33)(192,"input",69),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"tipotratamiento"))}),n(),i(193,"label"),a(194,"tipo de tratamiento"),n(),i(195,"div",35),a(196,"Este campo es obligatorio*"),n()(),i(197,"div",33),m(198,"input",70),i(199,"label"),a(200,"duraci\xF3n"),n(),i(201,"div",35),a(202,"Este campo es obligatorio*"),n()(),i(203,"div",33),m(204,"input",71),i(205,"label"),a(206,"fecha de admisi\xF3n"),n(),i(207,"div",35),a(208,"Este campo es obligatorio*"),n()(),i(209,"div",33)(210,"input",72),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"tutor"))}),n(),i(211,"label"),a(212,"tutor"),n(),i(213,"div",35),a(214,"Este campo es obligatorio*"),n()(),i(215,"div",33)(216,"input",73),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"frecuencia"))}),n(),i(217,"label"),a(218,"frecuencia de las sesiones"),n(),i(219,"div",35),a(220,"Este campo es obligatorio*"),n()(),i(221,"div",33)(222,"input",74),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"objgenerales"))}),n(),i(223,"label"),a(224,"objetivos generales"),n(),i(225,"div",35),a(226,"Este campo es obligatorio*"),n()(),i(227,"div",33)(228,"input",75),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"fisico"))}),n(),i(229,"label"),a(230,"fisico"),n(),i(231,"div",35),a(232,"Este campo es obligatorio*"),n()(),i(233,"div",33)(234,"input",76),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"emocional"))}),n(),i(235,"label"),a(236,"emocional"),n(),i(237,"div",35),a(238,"Este campo es obligatorio*"),n()(),i(239,"div",33)(240,"input",77),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"cognitivo"))}),n(),i(241,"label"),a(242,"cognitivo"),n(),i(243,"div",35),a(244,"Este campo es obligatorio*"),n()(),i(245,"div",33)(246,"input",78),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"social"))}),n(),i(247,"label"),a(248,"social"),n(),i(249,"div",35),a(250,"Este campo es obligatorio*"),n()(),i(251,"div",33)(252,"input",79),u("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"metodosausar"))}),n(),i(253,"label"),a(254,"metodos a usar"),n(),i(255,"div",35),a(256,"Este campo es obligatorio*"),n()(),i(257,"label"),a(258,"notas"),n(),i(259,"div",33),m(260,"quill-editor",80),n(),m(261,"hr"),i(262,"label"),a(263,"cuestionario"),n(),i(264,"div",33),m(265,"quill-editor",81),n()()(),i(266,"div",51),v(267,on,6,0,"div",52),i(268,"div",53)(269,"div",54)(270,"button",55),u("click",function(){return g(s),h(t.resetInfoClientes())}),m(271,"i",56),a(272," CANCELAR"),m(273,"span",9),n()(),i(274,"div",57),v(275,an,4,4,"button",58)(276,rn,2,1,"button",59),n()()()()()()()()()(),i(277,"div",82)(278,"div",25)(279,"div",26)(280,"div",27)(281,"h5",61),a(282,"Gestion de Evaluaci\xF3n DEMUCAS "),n(),m(283,"button",62),n(),i(284,"div",31),m(285,"hr"),i(286,"div",83)(287,"div",84)(288,"button",7),u("click",function(){return g(s),h(t.AbrirModalDemucas())}),m(289,"i",8),a(290," A\xF1adir Demuca"),m(291,"span",9),n(),i(292,"button",85),u("click",function(){return g(s),h(t.AbrirModalDemucasModos("AddGrupoDemucas"))}),m(293,"i",86),a(294," Grupo Demucas"),m(295,"span",9),n(),i(296,"button",87),u("click",function(){return g(s),h(t.AbrirModalDemucasModos("DeleteGrupoDemucas"))}),m(297,"i",88),a(298," Grupo Demucas"),m(299,"span",9),n()(),i(300,"div",89)(301,"div",90)(302,"select",91),u("input",function(){return g(s),h(t.paginaDemucas=1)}),V("ngModelChange",function(f){return g(s),T(t.filterDemucas,f)||(t.filterDemucas=f),h(f)}),i(303,"option",92),a(304,"Seleccione una opci\xF3n"),n(),i(305,"option",93),a(306,"TODA LA INFORMACI\xD3N"),n(),i(307,"option",94),a(308,"PRIMERA EVALUACI\xD3N"),n(),i(309,"option",95),a(310,"SEGUNDA EVALUACI\xD3N"),n(),i(311,"option",96),a(312,"TERCERA EVALUACI\xD3N"),n(),i(313,"option",97),a(314,"CUARTA EVALUACI\xD3N"),n(),i(315,"option",98),a(316,"QUINTA EVALUACI\xD3N"),n(),i(317,"option",99),a(318,"SEXTA EVALUACI\xD3N"),n(),i(319,"option",100),a(320,"S\xC9PTIMA EVALUACI\xD3N"),n(),i(321,"option",101),a(322,"OCTAVA EVALUACI\xD3N"),n(),i(323,"option",102),a(324,"NOVENA EVALUACI\xD3N"),n(),i(325,"option",103),a(326,"D\xC9CIMA EVALUACI\xD3N"),n(),i(327,"option",104),a(328,"UND\xC9CIMA EVALUACI\xD3N"),n(),i(329,"option",105),a(330,"DUOD\xC9CIMA EVALUACI\xD3N"),n(),i(331,"option",106),a(332,"DECIMOTERCERA EVALUACI\xD3N"),n(),i(333,"option",107),a(334,"DECIMOCUARTA EVALUACI\xD3N"),n(),i(335,"option",108),a(336,"DECIMOQUINTA EVALUACI\xD3N"),n(),i(337,"option",109),a(338,"DECIMOSEXTA EVALUACI\xD3N"),n(),i(339,"option",110),a(340,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),n(),i(341,"option",111),a(342,"DECIMOCTAVA EVALUACI\xD3N"),n(),i(343,"option",112),a(344,"DECIMONOVENA EVALUACI\xD3N"),n(),i(345,"option",113),a(346,"VIG\xC9SIMA EVALUACI\xD3N"),n()(),i(347,"label"),a(348,"Filtrar"),n()()(),i(349,"div",10)(350,"div",11)(351,"span",12),m(352,"i",13),n(),i(353,"div",14)(354,"input",15),u("input",function(){return g(s),h(t.paginaDemucas=1)}),V("ngModelChange",function(f){return g(s),T(t.filtertxtDemucas,f)||(t.filtertxtDemucas=f),h(f)}),n(),i(355,"label"),a(356,"Buscar"),n()()()()(),m(357,"hr"),i(358,"ul",114),v(359,sn,3,3,"li",115),n(),i(360,"div",16)(361,"table",17)(362,"thead")(363,"tr")(364,"th",18),a(365,"#"),n(),i(366,"th",19),a(367,"Evaluaci\xF3n/Categoria"),n(),i(368,"th",19),a(369,"N\xBA Orden:Palabra"),n(),i(370,"th",19),a(371,"Escala"),n(),i(372,"th",19),a(373,"Fecha Ev."),n(),i(374,"th",19),a(375,"ACCIONES"),n()()(),i(376,"tbody",20),v(377,ln,6,0,"tr",21)(378,cn,3,0,"tr",21)(379,dn,31,30,"tr",22),S(380,"filtercategoriapestania"),S(381,"filtercategoria"),S(382,"filtercategoria"),n()()(),m(383,"hr"),i(384,"div",116)(385,"div",25)(386,"div",26)(387,"div",27)(388,"div",28)(389,"h1",29),a(390),n(),i(391,"button",30),u("click",function(){return g(s),h(t.resetDemucas())}),n()()(),i(392,"div",31)(393,"div",32)(394,"div",33)(395,"select",117)(396,"option",44),a(397,"Seleccione una opci\xF3n"),n(),i(398,"option",94),a(399,"PRIMERA EVALUACI\xD3N"),n(),i(400,"option",95),a(401,"SEGUNDA EVALUACI\xD3N"),n(),i(402,"option",96),a(403,"TERCERA EVALUACI\xD3N"),n(),i(404,"option",97),a(405,"CUARTA EVALUACI\xD3N"),n(),i(406,"option",98),a(407,"QUINTA EVALUACI\xD3N"),n(),i(408,"option",99),a(409,"SEXTA EVALUACI\xD3N"),n(),i(410,"option",100),a(411,"S\xC9PTIMA EVALUACI\xD3N"),n(),i(412,"option",101),a(413,"OCTAVA EVALUACI\xD3N"),n(),i(414,"option",102),a(415,"NOVENA EVALUACI\xD3N"),n(),i(416,"option",103),a(417,"D\xC9CIMA EVALUACI\xD3N"),n(),i(418,"option",104),a(419,"UND\xC9CIMA EVALUACI\xD3N"),n(),i(420,"option",105),a(421,"DUOD\xC9CIMA EVALUACI\xD3N"),n(),i(422,"option",106),a(423,"DECIMOTERCERA EVALUACI\xD3N"),n(),i(424,"option",107),a(425,"DECIMOCUARTA EVALUACI\xD3N"),n(),i(426,"option",108),a(427,"DECIMOQUINTA EVALUACI\xD3N"),n(),i(428,"option",109),a(429,"DECIMOSEXTA EVALUACI\xD3N"),n(),i(430,"option",110),a(431,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),n(),i(432,"option",111),a(433,"DECIMOCTAVA EVALUACI\xD3N"),n(),i(434,"option",112),a(435,"DECIMONOVENA EVALUACI\xD3N"),n(),i(436,"option",113),a(437,"VIG\xC9SIMA EVALUACI\xD3N"),n()(),i(438,"label"),a(439,"evaluacion"),n(),i(440,"div",35),a(441,"Este campo es obligatorio*"),n()(),i(442,"div",33),m(443,"input",118),i(444,"label"),a(445,"rango"),n(),i(446,"div",35),a(447,"Este campo es obligatorio*"),n()(),i(448,"div",33)(449,"select",119),u("change",function(f){return g(s),h(t.onCategoriaChange(f.target.value))}),i(450,"option",44),a(451,"Seleccione una opci\xF3n"),n(),i(452,"option",93),a(453,"TODAS LAS CATEGORIAS"),n(),v(454,mn,2,2,"option",120),n(),i(455,"label"),a(456,"categoria"),n()(),i(457,"div",33)(458,"select",121)(459,"option",44),a(460,"Seleccione una opci\xF3n"),n(),v(461,un,2,3,"option",120),n(),i(462,"label"),a(463,"palabra"),n(),i(464,"div",35),a(465,"Este campo es obligatorio*"),n()(),i(466,"div",33)(467,"select",122)(468,"option",44),a(469,"Seleccione una opci\xF3n"),n(),i(470,"option",123),a(471,"NADA"),n(),i(472,"option",124),a(473,"POCO"),n(),i(474,"option",125),a(475,"MUCHO"),n()(),i(476,"label"),a(477,"escala"),n(),i(478,"div",35),a(479,"Este campo es obligatorio*"),n()(),i(480,"div",33),m(481,"input",126),i(482,"label"),a(483,"fecha"),n(),i(484,"div",35),a(485,"Este campo es obligatorio*"),n()()()(),i(486,"div",51),v(487,pn,6,0,"div",52),i(488,"div",53)(489,"div",54)(490,"button",55),u("click",function(){return g(s),h(t.resetDemucas())}),m(491,"i",56),a(492," CANCELAR"),m(493,"span",9),n()(),i(494,"div",57),v(495,gn,4,4,"button",58)(496,hn,2,1,"button",59),n()()()()()(),i(497,"div",127)(498,"div",25)(499,"div",26)(500,"div",27)(501,"div",28)(502,"h1",29),a(503),n(),i(504,"button",30),u("click",function(){return g(s),h(t.CerraModalDemucasModos("AddGrupoDemucas"))}),n()()(),i(505,"div",31)(506,"div",32)(507,"div",33)(508,"select",117)(509,"option",44),a(510,"Seleccione una opci\xF3n"),n(),i(511,"option",94),a(512,"PRIMERA EVALUACI\xD3N"),n(),i(513,"option",95),a(514,"SEGUNDA EVALUACI\xD3N"),n(),i(515,"option",96),a(516,"TERCERA EVALUACI\xD3N"),n(),i(517,"option",97),a(518,"CUARTA EVALUACI\xD3N"),n(),i(519,"option",98),a(520,"QUINTA EVALUACI\xD3N"),n(),i(521,"option",99),a(522,"SEXTA EVALUACI\xD3N"),n(),i(523,"option",100),a(524,"S\xC9PTIMA EVALUACI\xD3N"),n(),i(525,"option",101),a(526,"OCTAVA EVALUACI\xD3N"),n(),i(527,"option",102),a(528,"NOVENA EVALUACI\xD3N"),n(),i(529,"option",103),a(530,"D\xC9CIMA EVALUACI\xD3N"),n(),i(531,"option",104),a(532,"UND\xC9CIMA EVALUACI\xD3N"),n(),i(533,"option",105),a(534,"DUOD\xC9CIMA EVALUACI\xD3N"),n(),i(535,"option",106),a(536,"DECIMOTERCERA EVALUACI\xD3N"),n(),i(537,"option",107),a(538,"DECIMOCUARTA EVALUACI\xD3N"),n(),i(539,"option",108),a(540,"DECIMOQUINTA EVALUACI\xD3N"),n(),i(541,"option",109),a(542,"DECIMOSEXTA EVALUACI\xD3N"),n(),i(543,"option",110),a(544,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),n(),i(545,"option",111),a(546,"DECIMOCTAVA EVALUACI\xD3N"),n(),i(547,"option",112),a(548,"DECIMONOVENA EVALUACI\xD3N"),n(),i(549,"option",113),a(550,"VIG\xC9SIMA EVALUACI\xD3N"),n()(),i(551,"label"),a(552,"evaluacion"),n(),i(553,"div",35),a(554,"Este campo es obligatorio*"),n()(),i(555,"div",33)(556,"select",119),u("change",function(f){return g(s),h(t.onCategoriaChange(f.target.value))}),i(557,"option",44),a(558,"Seleccione una opci\xF3n"),n(),i(559,"option",128),a(560,"TODAS LAS CATEGORIAS"),n(),v(561,fn,2,2,"option",120),n(),i(562,"label"),a(563,"categoria"),n()(),i(564,"div",16)(565,"table",17)(566,"thead")(567,"tr")(568,"th",19),a(569,"Categoria"),n(),i(570,"th",19),a(571,"Palabra"),n()()(),i(572,"tbody",20),v(573,bn,3,0,"tr",21)(574,vn,5,3,"tr",22),n()()(),i(575,"div",33),m(576,"input",126),i(577,"label"),a(578,"fecha"),n(),i(579,"div",35),a(580,"Este campo es obligatorio*"),n()()()(),i(581,"div",51)(582,"div",53)(583,"div",57),v(584,Cn,4,4,"button",58)(585,_n,2,1,"button",59),n()()()()()(),i(586,"div",129)(587,"div",25)(588,"div",26)(589,"div",27)(590,"div",28)(591,"h1",29),a(592,"Eliminar Grupo de Demucas"),n(),i(593,"button",30),u("click",function(){return g(s),h(t.CerraModalDemucasModos("DeleteGrupoDemucas"))}),n()()(),i(594,"div",31)(595,"div")(596,"div",33)(597,"select",130),u("change",function(f){return g(s),h(t.onEvaluacionChange(f.target.value))}),i(598,"option",44),a(599,"Seleccione una opci\xF3n"),n(),i(600,"option",94),a(601,"PRIMERA EVALUACI\xD3N"),n(),i(602,"option",95),a(603,"SEGUNDA EVALUACI\xD3N"),n(),i(604,"option",96),a(605,"TERCERA EVALUACI\xD3N"),n(),i(606,"option",97),a(607,"CUARTA EVALUACI\xD3N"),n(),i(608,"option",98),a(609,"QUINTA EVALUACI\xD3N"),n(),i(610,"option",99),a(611,"SEXTA EVALUACI\xD3N"),n(),i(612,"option",100),a(613,"S\xC9PTIMA EVALUACI\xD3N"),n(),i(614,"option",101),a(615,"OCTAVA EVALUACI\xD3N"),n(),i(616,"option",102),a(617,"NOVENA EVALUACI\xD3N"),n(),i(618,"option",103),a(619,"D\xC9CIMA EVALUACI\xD3N"),n(),i(620,"option",104),a(621,"UND\xC9CIMA EVALUACI\xD3N"),n(),i(622,"option",105),a(623,"DUOD\xC9CIMA EVALUACI\xD3N"),n(),i(624,"option",106),a(625,"DECIMOTERCERA EVALUACI\xD3N"),n(),i(626,"option",107),a(627,"DECIMOCUARTA EVALUACI\xD3N"),n(),i(628,"option",108),a(629,"DECIMOQUINTA EVALUACI\xD3N"),n(),i(630,"option",109),a(631,"DECIMOSEXTA EVALUACI\xD3N"),n(),i(632,"option",110),a(633,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),n(),i(634,"option",111),a(635,"DECIMOCTAVA EVALUACI\xD3N"),n(),i(636,"option",112),a(637,"DECIMONOVENA EVALUACI\xD3N"),n(),i(638,"option",113),a(639,"VIG\xC9SIMA EVALUACI\xD3N"),n()(),i(640,"label"),a(641,"evaluacion"),n(),i(642,"div",35),a(643,"Este campo es obligatorio*"),n()(),i(644,"div",16)(645,"table",17)(646,"thead")(647,"tr")(648,"th",19),a(649,"Rango"),n(),i(650,"th",19),a(651,"Palabra"),n()()(),i(652,"tbody",20),v(653,En,3,0,"tr",21)(654,Sn,5,2,"tr",22),n()()()()(),i(655,"div",51)(656,"div",53)(657,"div",57)(658,"button",131),u("click",function(){return g(s),h(t.EliminarGrupoDemucas())}),m(659,"i",88),a(660," ELIMINAR GRUPO"),m(661,"span",9),n()()()()()()()()()()()}e&2&&(l(19),D("ngModel",t.filtertxtClientes),l(21),d("ngIf",t.isLoadingClientes),l(),d("ngIf",!t.isLoadingClientes&&t.Clientes.length===0),l(),d("ngForOf",M(44,77,M(43,74,t.Clientes,t.filtertxtClientes),G(89,$i,t.paginaClientes))),l(11),E("",t.newClientes.get("id").value?"Modificar":"Registrar"," Clientes"),l(3),d("formGroup",t.newClientes),l(2),d("ngClass",t.ValidacionClientesxElemento("apellidos")),l(6),d("ngClass",t.ValidacionClientesxElemento("nombres")),l(6),d("ngClass",t.ValidacionClientesxElemento("carnet")),l(6),d("ngClass",t.ValidacionClientesxElemento("celular")),l(6),d("ngClass",t.ValidacionClientesxElemento("fechnac")),l(7),d("ngClass",t.ValidacionClientesxElemento("edad")),l(6),d("ngClass",t.ValidacionClientesxElemento("usuario")),l(6),d("ngClass",t.ValidacionClientesxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionClientesxElemento("estado")),l(18),d("src",t.ruta+t.newClientes.value.foto,j),l(2),d("ngIf",!t.newClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalClientes),l(),d("ngIf",t.AnimacionCargabtnModalClientes),l(24),D("ngModel",t.filtertxtInfoClientes),l(4),d("ngIf",t.isLoadingInfoClientes),l(),d("ngIf",!t.isLoadingInfoClientes&&t.InfoClientes.length===0),l(2),d("ngForOf",t.InfoClientes),l(8),E("",t.newInfoClientes.get("id").value?"Modificar":"Registrar"," Informaci\xF3n de admisi\xF3n Clientes"),l(3),d("formGroup",t.newInfoClientes),l(2),d("ngClass",t.ValidacionInfoClientesxElemento("residenciaactual")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("diagnostico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tipotratamiento")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("duracion")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fechaadmision")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tutor")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("frecuencia")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("objgenerales")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fisico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("emocional")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("cognitivo")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("social")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("metodosausar")),l(8),d("modules",t._tools.modulesQuillEdicion),l(5),d("modules",t._tools.modulesQuillEdicion),l(2),d("ngIf",!t.newInfoClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInfoClientes),l(),d("ngIf",t.AnimacionCargabtnModalInfoClientes),l(26),D("ngModel",t.filterDemucas),l(52),D("ngModel",t.filtertxtDemucas),l(5),d("ngForOf",t.MatrizCategorias),l(18),d("ngIf",t.isLoadingDemucas),l(),d("ngIf",!t.isLoadingDemucas&&t.Demucas.length===0),l(),d("ngForOf",M(382,86,M(381,83,M(380,80,t.Demucas,t.categoriasSeleccionadas),t.filtertxtDemucas),t.filterDemucas)),l(11),E("",t.newDemucas.get("id").value?"Modificar":"Registrar"," Demucas"),l(3),d("formGroup",t.newDemucas),l(2),d("ngClass",t.ValidacionDemucasxElemento("evaluacion")),l(48),d("ngClass",t.ValidacionDemucasxElemento("rango")),l(6),d("ngClass",t.ValidacionDemucasxElemento("categoria")),l(5),d("ngForOf",t.MatrizCategorias),l(4),d("ngClass",t.ValidacionDemucasxElemento("palabra")),l(3),d("ngForOf",t.MatrizDiferentes),l(6),d("ngClass",t.ValidacionDemucasxElemento("escala")),l(14),d("ngClass",t.ValidacionDemucasxElemento("fecha")),l(6),d("ngIf",!t.newDemucas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalDemucas),l(),d("ngIf",t.AnimacionCargabtnModalDemucas),l(7),E("",t.newDemucas.get("id").value?"Modificar":"Registrar Grupo"," Demucas"),l(3),d("formGroup",t.newDemucas),l(2),d("ngClass",t.ValidacionDemucasxElemento("evaluacion")),l(48),d("ngClass",t.ValidacionDemucasxElemento("categoria")),l(5),d("ngForOf",t.MatrizCategorias),l(12),d("ngIf",t.MatrizDiferentes.length===0),l(),d("ngForOf",t.MatrizDiferentes),l(2),d("ngClass",t.ValidacionDemucasxElemento("fecha")),l(8),d("ngIf",!t.AnimacionCargabtnModalDemucas),l(),d("ngIf",t.AnimacionCargabtnModalDemucas),l(68),d("ngIf",t.DemucasDelete.length===0),l(),d("ngForOf",t.DemucasDelete))},dependencies:[ee,X,Y,ue,pe,oe,le,me,hi,ae,re,se,ce,de,fe,tt,he,xe,ke,at,Ie]})}};var ve=class r{constructor(o,e,t){this.router=o;this.http=e;this._tool=t;this.ruta=x.ruta}canActivate(o,e){let t=localStorage.getItem("token");return t?this.http.post(this.ruta+"api/verify-token",{token:t}).pipe(Ue(s=>s&&s.name==="Admin"?!0:(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)),Zt(s=>(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),Fe(!1)))):(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)}static{this.\u0275fac=function(e){return new(e||r)(y(Te),y(w),y(H))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var lt=class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=U({type:r,selectors:[["app-gestiondeciclosdeplanesdeintervencion"]],decls:2,vars:0,template:function(e,t){e&1&&(i(0,"p"),a(1,"gestiondeciclosdeplanesdeintervencion works!"),n())}})}};var ct=class r{constructor(o,e){this.http=o;this._tools=e;this.ruta=x.ruta}ObtenerPagos(){return this.http.get(this.ruta+"api/Pagos/")}AgregarPagos(o){return this.http.post(this.ruta+"api/Pagos/",o)}ModificarPagos(o,e){return this.http.put(this.ruta+"api/Pagos/"+e,o)}SeleccionarPagos(o){return this.http.get(this.ruta+"api/Pagos/"+o)}EliminarPagos(o){return this.http.delete(this.ruta+"api/Pagos/"+o)}createFormGroupPagos(){return new k({id:new b(0),id_infocliente:new b("",[q.required]),precio:new b("",[q.required]),saldo:new b(""),pagado:new b("0"),horario:new b(""),tipo:new b("MENSUAL",[q.required]),descuento:new b("0"),fecha:new b("")})}static{this.\u0275fac=function(e){return new(e||r)(y(w),y(H))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var dt=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerCiclos(){return this.http.get(this.ruta+"api/Ciclos/")}AgregarCiclos(o){return this.http.post(this.ruta+"api/Ciclos/",o)}ModificarCiclos(o,e){return this.http.put(this.ruta+"api/Ciclos/"+e,o)}SeleccionarCiclos(o){return this.http.get(this.ruta+"api/Ciclos/"+o)}EliminarCiclos(o){return this.http.delete(this.ruta+"api/Ciclos/"+o)}createFormGroupCiclos(){return new k({id:new b(0),id_pago:new b(""),nrociclo:new b(""),sesion:new b(""),estadosesion:new b("SESI\xD3N PENDIENTE"),fecha:new b(""),estadopago:new b("PENDIENTE"),eri:new b(""),cim:new b(""),ejecucion:new b(""),apuntes:new b("")})}SeleccionarAllInformacionCiclos(o){return this.http.get(this.ruta+"api/AllInfoCiclos/"+o)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var mt=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerArchivosPagos(){return this.http.get(this.ruta+"api/ArchivosPagos/")}AgregarArchivosPagos(o){return this.http.post(this.ruta+"api/ArchivosPagos/",o)}ModificarArchivosPagos(o,e){return this.http.put(this.ruta+"api/ArchivosPagos/"+e,o)}SeleccionarArchivosPagos(o){return this.http.get(this.ruta+"api/ArchivosPagos/"+o)}EliminarArchivosPagos(o){return this.http.delete(this.ruta+"api/ArchivosPagos/"+o)}createFormGroupArchivosPagos(){return new k({id:new b(0),id_pago:new b(""),monto:new b(""),fechapago:new b(""),horapago:new b(""),file:new b(""),observacion:new b("NINGUNA"),estadopago:new b("PENDIENTE")})}SeleccionarAllInformacionArchivosPagos(o){return this.http.get(this.ruta+"api/AllInfoArchivosPagos/"+o)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var vi=r=>({itemsPerPage:10,currentPage:r}),Mn=()=>({standalone:!0}),wn=r=>({itemsPerPage:3,currentPage:r});function yn(r,o){r&1&&(i(0,"tr")(1,"td",94)(2,"div",95)(3,"div",96)(4,"span",97),a(5,"Loading..."),n()()()()())}function Pn(r,o){r&1&&(i(0,"tr")(1,"td",94),a(2,"No hay datos disponibles"),n()())}function On(r,o){if(r&1&&(i(0,"div",124),m(1,"a",125),i(2,"a",125),S(3,"dateFormat"),i(4,"sup",126),a(5),n(),m(6,"i",127),i(7,"sub"),a(8),n()()()),r&2){let e=o.$implicit,t=p().$implicit;l(),N("btn btn-",e.estadopago=="PAGADO"?"success":e.estadopago=="RETRASADO"?"danger":e.estadopago=="PENDIENTE"?"secondary":"warning",""),F("href",e.estadopago=="PAGADO"?"https://api.whatsapp.com/send?phone=591"+t.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+e.sesion+" del ciclo "+e.nrociclo+" ha sido *PAGADO*.%0AGracias por su puntualidad.%0A_*Centro Boliviano de Musicoterapia*_":e.estadopago=="RETRASADO"?"https://api.whatsapp.com/send?phone=591"+t.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+e.sesion+" del ciclo "+e.nrociclo+" est\xE1 *RETRASADO*.%0APor favor, regularice su situaci\xF3n lo antes posible.%0A_*Centro Boliviano de Musicoterapia*_":e.estadopago=="PENDIENTE"?"https://api.whatsapp.com/send?phone=591"+t.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+e.sesion+" del ciclo "+e.nrociclo+" est\xE1 *PENDIENTE*.%0APor favor, realice el pago a la brevedad.%0A_*Centro Boliviano de Musicoterapia*_":"https://api.whatsapp.com/send?phone=591"+t.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+e.sesion+" del ciclo "+e.nrociclo+" fue de *PAGO PRESTADO*.%0APor favor, realice el pago a la brevedad.%0A_*Centro Boliviano de Musicoterapia*_",j),F("title",e.estadopago=="PAGADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGADA":e.estadopago=="RETRASADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO RETRASADO":e.estadopago=="PENDIENTE"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PENDIENTE":"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PRESTADO"),l(),N("btn btn-",e.estadosesion=="REALIZADO"?"success":"secondary",""),F("href",e.estadosesion=="REALIZADO"?"https://api.whatsapp.com/send?phone=591"+t.celular+"&text=*Notificaci\xF3n*%0A*Asistencia a Musicoterapia*%0A%0ASesi\xF3n "+e.sesion+" del ciclo "+e.nrociclo+" ha sido *REALIZADA*%0A*Fecha:* "+e.fecha+"%0A*Usuario:* "+t.nombres+" "+t.apellidos+"%0A%0AGracias por su puntualidad.%0A_*Centro Boliviano de Musicoterapia*_":"https://api.whatsapp.com/send?phone=591"+t.celular+"&text=*Hola*%0ALa sesi\xF3n "+e.sesion+" del ciclo "+e.nrociclo+" est\xE1 *PENDIENTE*.%0AGracias por su puntualidad.%0A_*Centro Boliviano de Musicoterapia*_",j),F("title",e.estadosesion=="REALIZADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+"  REALIZADA EL DIA "+ne(3,15,e.fecha):"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PENDIENTE"),l(3),E(" ",e.nrociclo," "),l(),N("bi bi-",e.estadosesion=="REALIZADO"?"check-lg":"clock-history",""),l(2),E(" ",e.sesion,"")}}function Rn(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",98),a(2),n(),i(3,"td",99),a(4),i(5,"div",100)(6,"small",101),a(7),S(8,"dateFormat"),n()()(),i(9,"td",99)(10,"div",100),a(11),n(),i(12,"div",102)(13,"small",101),a(14),n()()(),i(15,"td",99),a(16),n(),i(17,"td",99)(18,"div",103)(19,"div",104),a(20),n(),i(21,"div",105),a(22),n(),i(23,"div",106),a(24),n()(),i(25,"div",100)(26,"small",101),a(27),n()()(),i(28,"td",99),a(29),i(30,"div",100)(31,"small",101),a(32),n()()(),i(33,"td",107)(34,"div",108)(35,"div",109)(36,"a",110),m(37,"i",111),n(),i(38,"button",112),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarPagos(s.id,"Estabilizar"))}),m(39,"img",113),n(),i(40,"button",114),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarPagos(s.id))}),m(41,"i",115),n(),i(42,"button",116),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarPagos(s.id))}),m(43,"i",117),n(),i(44,"button",118),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarPagos(s.id,"ArchivosPagos"))}),m(45,"i",119),n(),i(46,"button",120),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarPagos(s.id,"GestionCiclos"))})("click",function(){let s=g(e).$implicit,c=p();return c.guardadodeid_infocliente=s.id_infocliente,c.guardadodeNomC=s.apellidos+" "+s.nombres,h(c.guardadodeFechaAdmision=s.fechaadmision)}),m(47,"i",121),n()(),i(48,"div",122),v(49,On,9,17,"div",123),n()()()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaPagos-1)*10+(e+1)),l(2),E(" ",t.apellidos+" "+t.nombres," "),l(3),E("Admisi\xF3n: ",ne(8,41,t.fechaadmision),""),l(4),C(t.tipo),l(3),E("Ciclo N\xBA ",t.ciclos[0].nrociclo,""),l(2),C(t.precio),l(3),Qe("width:"+t.pagado+"%"),ie("title","Realiz\xF3 el Pago de: ",t.pagado," Bs."),F("aria-valuenow",t.pagado),F("aria-valuemax",t.precio),l(),E(" ",t.pagado," "),l(),Qe("width:"+t.saldo+"%"),N("progress-bar ",t.saldo<0?"bg-warning":"bg-danger",""),ie("title","",t.saldo<0?"Debe devolver el Monto de:"+t.saldo*-1:"Le falta Cancelar el Monto de: "+t.saldo," Bs."),F("aria-valuenow",t.saldo),F("aria-valuemax",t.precio),l(),E(" ",t.saldo," "),l(),Qe("width:"+t.descuento+"%"),ie("title","Tiene un Descuento de: ",t.descuento," Bs."),F("aria-valuenow",t.descuento),F("aria-valuemax",t.precio),l(),E(" ",t.descuento," "),l(3),W("Precio Total a Pagar: ",t.precio-t.descuento,"Bs. ",t.saldo<0?" || Debe devolver el Monto de: "+t.saldo*-1:"",""),l(2),E(" ",t.horario," "),l(3),E("dias: ",t.fecha,""),l(4),ie("title","Contactar: ",t.celular,""),ai("href","https://api.whatsapp.com/send?phone=591",t.celular,"&text=*Hola*%0AAcabamos de concluir las 4 sesiones del mes con *",t.nombres+" "+t.apellidos,"*%0AComentarle que la siguiente semana _*iniciamos*_ un nuevo ciclo de 4 sesiones.%0ATenga buen resto de jornada.%0A_*Centro Boliviano de Musicoterapia*_",j),l(3),d("src",s.ruta+"fijos/balanza.svg",j),l(10),d("ngForOf",t.ciclos)}}function Dn(r,o){if(r&1){let e=_();i(0,"div",130),u("click",function(s){let c=g(e).$implicit,f=p(2);return h(f.SeleccionandoInfoCliente(s,c))}),i(1,"div",131)(2,"h5",132),a(3),n(),i(4,"small"),a(5),n()(),i(6,"p",132),a(7),n()()}if(r&2){let e=o.$implicit;l(3),W("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function Tn(r,o){if(r&1&&(i(0,"div",128),v(1,Dn,8,4,"div",129),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),n()),r&2){let e=p();l(),d("ngForOf",M(3,4,M(2,1,e.InfoClientes,e.filterInfoClientes),G(7,wn,e.paginaInfoClientes)))}}function Vn(r,o){if(r&1){let e=_();i(0,"div",40)(1,"input",133),V("ngModelChange",function(s){g(e);let c=p();return T(c.nroCiclo,s)||(c.nroCiclo=s),h(s)}),n(),i(2,"label"),a(3,"N\xBA Ciclo"),n(),i(4,"div",42),a(5,"Este campo es obligatorio*"),n()()}if(r&2){let e=p();l(),D("ngModel",e.nroCiclo)}}function Ln(r,o){if(r&1){let e=_();i(0,"div",134)(1,"button",135),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastPagos())}),m(2,"i",136),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",137),n()()}}function Nn(r,o){if(r&1){let e=_();i(0,"button",138),u("click",function(){g(e);let s=p();return h(s.AgregarModificarPagos())}),m(1,"i",127),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function kn(r,o){if(r&1){let e=_();i(0,"button",139),u("click",function(){g(e);let s=p();return h(s.AgregarModificarPagos())}),m(1,"span",140),n()}r&2&&d("disabled",!0)}function zn(r,o){if(r&1){let e=_();i(0,"div",141)(1,"div",142)(2,"div")(3,"div",143)(4,"button",144),m(5,"i",145),n()(),i(6,"div",146)(7,"h3",147),a(8),n(),i(9,"div",100)(10,"small"),a(11),n()()(),i(12,"div",148)(13,"div",1)(14,"div",149)(15,"strong"),a(16,"Estado de Pago:"),n(),a(17),n(),i(18,"div",150)(19,"strong"),a(20,"Estado de Sesi\xF3n:"),n(),a(21),S(22,"dateFormat"),n(),i(23,"div",151)(24,"strong"),a(25,"ERI:"),n(),a(26),n(),i(27,"div",151)(28,"strong"),a(29,"CIM:"),n(),a(30),n()()(),i(31,"div",143)(32,"button",152),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarCiclos(s.id))}),m(33,"i",115),n(),m(34,"br"),i(35,"button",153),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarCiclos(s.id))}),m(36,"i",154),n()()(),i(37,"div",155)(38,"ul",156)(39,"li",157)(40,"h5"),a(41,"APUNTES."),n(),i(42,"quill-editor",158),V("ngModelChange",function(s){let c=g(e).$implicit;return T(c.apuntes,s)||(c.apuntes=s),h(s)}),n()()()()()()}if(r&2){let e=o.$implicit,t=o.index,s=p();l(2),N("card-header d-flex justify-content-between align-items-center ",e.estadosesion=="REALIZADO"?"bg-success":e.estadosesion=="SESI\xD3N PENDIENTE"?"bg-secondary":"bg-danger",""),l(2),Ce("data-bs-target","#collapseCar"+t),l(4),E("SESI\xD3N ",e.sesion,""),l(3),E("CICLO ",e.nrociclo,""),l(6),E(" ",e.estadopago," "),l(4),W(" ",e.estadosesion,". el Dia: ",e.fecha==null?"NO SE REALIZ\xD3":ne(22,14,e.fecha)," "),l(5),E(" ",e.eri," "),l(4),E(" ",e.cim," "),l(7),d("id","collapseCar"+t),l(5),d("modules",s._tools.modulesQuillShow),D("ngModel",e.apuntes)}}function Gn(r,o){if(r&1&&(i(0,"option",159),a(1),n()),r&2){let e=o.$implicit;d("value",e.nombrematriz),l(),C(e.nombrematriz)}}function Fn(r,o){if(r&1&&(i(0,"option",159),a(1),n()),r&2){let e=o.$implicit;d("value",e.nombrematriz),l(),C(e.nombrematriz)}}function Un(r,o){if(r&1){let e=_();i(0,"div",134)(1,"button",135),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastCiclos())}),m(2,"i",136),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",137),n()()}}function jn(r,o){if(r&1){let e=_();i(0,"button",138),u("click",function(){g(e);let s=p();return h(s.AgregarModificarCiclos())}),m(1,"i",127),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newCiclos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newCiclos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function qn(r,o){if(r&1){let e=_();i(0,"button",139),u("click",function(){g(e);let s=p();return h(s.AgregarModificarCiclos())}),m(1,"span",140),n()}r&2&&d("disabled",!0)}function Bn(r,o){r&1&&(i(0,"tr")(1,"td",160)(2,"div",95)(3,"div",96)(4,"span",97),a(5,"Loading..."),n()()()()())}function Hn(r,o){r&1&&(i(0,"tr")(1,"td",160),a(2,"No hay datos disponibles"),n()())}function $n(r,o){if(r&1&&(i(0,"a",162),m(1,"i",163),n()),r&2){let e=p().$implicit,t=p();d("href",t.ruta+e.file,j)}}function Wn(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",98),a(2),n(),i(3,"td",99),a(4),n(),i(5,"td",99),a(6),n(),i(7,"td",99),a(8),n(),i(9,"td",99),a(10),n(),i(11,"td",99),a(12),n(),i(13,"td",107)(14,"button",114),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarArchivosPagos(s.id))}),m(15,"i",115),n(),i(16,"button",116),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarArchivosPagos(s.id,s))}),m(17,"i",117),n(),v(18,$n,2,1,"a",161),n()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaArchivosPagos-1)*10+(e+1)),l(2),C(t.monto),l(2),C(t.fechapago),l(2),C(t.horapago),l(2),C(t.observacion),l(2),C(t.estadopago),l(6),d("ngIf",!(t.file==null||t.file==""))}}function Zn(r,o){if(r&1){let e=_();i(0,"div",134)(1,"button",135),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastArchivosPagos())}),m(2,"i",136),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",137),n()()}}function Qn(r,o){if(r&1){let e=_();i(0,"button",138),u("click",function(){g(e);let s=p();return h(s.AgregarModificarArchivosPagos())}),m(1,"i",127),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newArchivosPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newArchivosPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Xn(r,o){if(r&1){let e=_();i(0,"button",139),u("click",function(){g(e);let s=p();return h(s.AgregarModificarArchivosPagos())}),m(1,"span",140),n()}r&2&&d("disabled",!0)}var ut=class r{constructor(o,e,t,s,c,f,I){this.router=o;this._pagos=e;this._tools=t;this._ciclos=s;this._archivospagos=c;this._infoclientes=f;this._matrizescalas=I;this.ruta=x.ruta;this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.guardadodeid_infocliente=0;this.guardadodeNomC="";this.guardadodeFechaAdmision="";this.dataDropZone={iddropzone:"dropzonearchivospagos",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.Pagos=[];this.paginaPagos=1;this.isLoadingPagos=!0;this.AnimacionCargabtnModalPagos=!1;this.filtertxtPagos="";this.nroCiclo=1;this.idPagosSave=0;this.ArchivosPagos=[];this.paginaArchivosPagos=1;this.isLoadingArchivosPagos=!0;this.AnimacionCargabtnModalArchivosPagos=!1;this.filtertxtArchivosPagos="";this.Ciclos=[];this.paginaCiclos=1;this.isLoadingCiclos=!0;this.AnimacionCargabtnModalCiclos=!1;this.filtertxtCiclos="";this.newPagos=this._pagos.createFormGroupPagos(),this.newPagosAnteriorAccion=this._pagos.createFormGroupPagos(),this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagosAnteriorAccion=this._archivospagos.createFormGroupArchivosPagos(),this.newCiclos=this._ciclos.createFormGroupCiclos(),this.newCiclosAnteriorAccion=this._ciclos.createFormGroupCiclos()}ngOnInit(){this.CargarPagos(),this.CargarMatrizEscalas()}ngOnDestroy(){this._tools.cerrarModales()}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(o=>{this.MatrizEscalas=o.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=o.data.filter(e=>e.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)"),this.MatrizCIM=o.data.filter(e=>e.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)")},o=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",o)})}generateUrl(o){let e={id:o,NomC:this.guardadodeNomC,FechAdmision:this.guardadodeFechaAdmision};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:e}))}onButtonClick(o,e){let t={id:this.guardadodeid_infocliente,NomC:this.guardadodeNomC,FechAdmision:this.guardadodeFechaAdmision};if(o.ctrlKey||o.button===1){o.preventDefault();let s=this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:t}));window.open(s,"_blank")}else this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:t});this._tools.cerrarModal("ModalGestionInfoCliente")}crearDropzone(){sessionStorage.setItem("CategoriaFile","ARCHIVOSPAGO");var o=document.getElementById("dropzonearchivospagos");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ge.instances.length>0&&ge.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(o=>{console.log("INFO CLIENTES CARGADO",o.data),this.InfoClientes=o.data},o=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",o)})}SeleccionandoInfoCliente(o,e){let t=o.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPagos.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPagos.patchValue({id_infocliente:e.id}))}CargarPagos(){this.AnimarCargaTablaPagos(),this._pagos.ObtenerPagos().subscribe(o=>{console.log("Pagos CARGADO",o.data),this.Pagos=o.data,this.isLoadingPagos=!1},o=>{console.log("ERROR AL CARGAR Pagos",o),this.isLoadingPagos=!1})}AgregarModificarPagos(){if(this.newPagos.invalid){this.ValidacionTodoElementoPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPagos=!1;return}else{this.AnimarCargaTablaPagos(),this.AnimacionCargabtnModalPagos=!0,this._tools.MostrarMensajeLoading();let o=this.newPagos.controls.id.value;console.log("INFO A PROCESAR",this.newPagos.value),o?(this.newPagos.value.saldo=this.newPagos.value.precio-this.newPagos.value.pagado-this.newPagos.value.descuento,this._pagos.ModificarPagos(this.newPagos.value,this.newPagos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()})):(this.newPagos.value.saldo=this.newPagos.value.precio,this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._pagos.AgregarPagos(this.newPagos.value).subscribe(e=>{if(console.log("SE A\xD1ADIO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),e.data.tipo=="MENSUAL")for(var t=0;t<4;)t++,this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:t.toString()}),this.AgregarModificarCiclos(),console.log("PASANDO",t);else this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:"1"}),this.AgregarModificarCiclos();this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPagos(o,e){switch(this._tools.MostrarMensajeLoading(),e){case"ArchivosPagos":this.idPagosSave=o,this.CargarArchivosPagos(),o&&this._pagos.SeleccionarPagos(o).subscribe(t=>{Object.keys(this.newPagos.controls).forEach(s=>{this.newPagos.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("ModalAllGestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Pagos",t),this._tools.MostrarMensajeError()});break;case"GestionCiclos":this.idPagosSave=o,this.CargarCiclos(),this._tools.abrirModal("ModalAllGestionCiclos"),this._tools.MostrarMensajeSuccess();break;case"Estabilizar":this.idPagosSave=o,this._archivospagos.SeleccionarAllInformacionArchivosPagos(o).subscribe(t=>{this.ArchivosPagos=t.data;var s=0;this.ArchivosPagos.forEach(c=>{c.estadopago=="CONFIRMADO"&&(s=s+Number(c.monto))}),console.log("suma Archivos Pago de estabilizacion",s),this._pagos.SeleccionarPagos(o).subscribe(c=>{Object.keys(this.newPagos.controls).forEach(f=>{this.newPagos.controls[f].setValue(c.data[f])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagos.patchValue({saldo:this.newPagos.value.precio-s-this.newPagos.value.descuento,pagado:s}),this.AgregarModificarPagos()},c=>{console.log("ERROR AL SELECCIONAR Pagos",c),this._tools.MostrarMensajeError()})});break;default:o&&this._pagos.SeleccionarPagos(o).subscribe(t=>{Object.keys(this.newPagos.controls).forEach(s=>{this.newPagos.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("modalgestionPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Pagos",t),this._tools.MostrarMensajeError()});break}}EliminarPagos(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._pagos.EliminarPagos(o).subscribe(t=>{console.log(t.data),this.CargarPagos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Pagos",t),this._tools.MostrarMensajeError()}))})}resetPagos(){this.newPagos.reset(),this._tools.cerrarModal("modalgestionPagos")}AbrirModalPagos(){this.CargarInfoClientes(),this.newPagos=this._pagos.createFormGroupPagos(),this._tools.abrirModal("modalgestionPagos")}AutoCompletarLastPagos(){this.newPagos.setValue(this.newPagosAnteriorAccion.value),this.newPagos.patchValue({id:0}),console.log("listo",this.newPagos.value)}AnimarCargaTablaPagos(){this.Pagos=[],this.isLoadingPagos=!0}ValidacionPagosxElemento(o){return this._tools.obtenerValidationClass(this.newPagos,o)}ValidacionTodoElementoPagos(){Object.values(this.newPagos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarArchivosPagos(){this.AnimarCargaTablaArchivosPagos(),this._archivospagos.SeleccionarAllInformacionArchivosPagos(this.idPagosSave).subscribe(o=>{console.log("ArchivosPagos CARGADO",o.data),this.ArchivosPagos=o.data,this.isLoadingArchivosPagos=!1},o=>{console.log("ERROR AL CARGAR ArchivosPagos",o),this.isLoadingArchivosPagos=!1})}AgregarModificarArchivosPagos(){if(this.newArchivosPagos.invalid){this.ValidacionTodoElementoArchivosPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalArchivosPagos=!1;return}else{this.AnimarCargaTablaArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!0,this._tools.MostrarMensajeLoading();let t=this.newArchivosPagos.controls.id.value;console.log("INFO A PROCESAR",this.newArchivosPagos.value);var o=sessionStorage.getItem("IMG");if(console.log("VALOR img",o),o==null||o==""||(this.newArchivosPagos.value.file=o),t)this._archivospagos.ModificarArchivosPagos(this.newArchivosPagos.value,this.newArchivosPagos.value.id).subscribe(s=>{console.log("SE MODIFICO CORRECTAMENTE ArchivosPagos",s.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this.newArchivosPagosAnteriorAccion.value.file==this.newArchivosPagos.value.file||this._tools.EliminarArchivo(this.newArchivosPagosAnteriorAccion.value.file),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL MODIFICAR ArchivosPagos",s),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()});else{if(this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.newArchivosPagos.value.estadopago=="CONFIRMADO"){var e=Number(this.newPagos.value.pagado)+Number(this.newArchivosPagos.value.monto);this.newPagos.patchValue({saldo:this.newPagos.value.precio-e-this.newPagos.value.descuento,pagado:e}),this.AgregarModificarPagos()}this._archivospagos.AgregarArchivosPagos(this.newArchivosPagos.value).subscribe(s=>{console.log("SE A\xD1ADIO CORRECTAMENTE ArchivosPagos",s.data),this.CargarArchivosPagos(),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL A\xD1ADIR ArchivosPagos",s),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()})}}}SeleccionarArchivosPagos(o){this._tools.MostrarMensajeLoading(),o&&this._archivospagos.SeleccionarArchivosPagos(o).subscribe(e=>{Object.keys(this.newArchivosPagos.controls).forEach(t=>{this.newArchivosPagos.controls[t].setValue(e.data[t])}),console.log("SELECCION DE ArchivosPagos EXITOSA",this.newArchivosPagos.value),this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR ArchivosPagos",e),this._tools.MostrarMensajeError()})}EliminarArchivosPagos(o,e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._archivospagos.EliminarArchivosPagos(o).subscribe(s=>{console.log(s.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL ELIMINAR ArchivosPagos",s),this._tools.MostrarMensajeError()}))})}resetArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionArchivosPagos")}AbrirModalArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagos.patchValue({id_pago:this.idPagosSave}),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos")}AutoCompletarLastArchivosPagos(){this.newArchivosPagos.setValue(this.newArchivosPagosAnteriorAccion.value),this.newArchivosPagos.patchValue({id:0}),console.log("listo",this.newArchivosPagos.value)}AnimarCargaTablaArchivosPagos(){this.ArchivosPagos=[],this.isLoadingArchivosPagos=!0}ValidacionArchivosPagosxElemento(o){return this._tools.obtenerValidationClass(this.newArchivosPagos,o)}ValidacionTodoElementoArchivosPagos(){Object.values(this.newArchivosPagos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarCiclos(){this.AnimarCargaTablaCiclos(),this._ciclos.SeleccionarAllInformacionCiclos(this.idPagosSave).subscribe(o=>{console.log("Ciclos CARGADO",o.data),this.Ciclos=o.data,this.isLoadingCiclos=!1},o=>{console.log("ERROR AL CARGAR Ciclos",o),this.isLoadingCiclos=!1})}AgregarModificarCiclos(){if(this.newCiclos.invalid){this.ValidacionTodoElementoCiclos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalCiclos=!1;return}else{this.AnimarCargaTablaCiclos(),this.AnimacionCargabtnModalCiclos=!0,this._tools.MostrarMensajeLoading();let o=this.newCiclos.controls.id.value;console.log("INFO A PROCESAR",this.newCiclos.value),o?this._ciclos.ModificarCiclos(this.newCiclos.value,this.newCiclos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()}):(this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._ciclos.AgregarCiclos(this.newCiclos.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()})),this.CargarPagos()}}SeleccionarCiclos(o){this._tools.MostrarMensajeLoading(),o&&this._ciclos.SeleccionarCiclos(o).subscribe(e=>{Object.keys(this.newCiclos.controls).forEach(t=>{this.newCiclos.controls[t].setValue(e.data[t])}),console.log("SELECCION DE Ciclos EXITOSA",this.newCiclos.value),this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._tools.abrirModal("modalgestionCiclos"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR Ciclos",e),this._tools.MostrarMensajeError()})}EliminarCiclos(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ciclos.EliminarCiclos(o).subscribe(t=>{console.log(t.data),this.CargarCiclos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Ciclos",t),this._tools.MostrarMensajeError()}))})}resetCiclos(){this.newCiclos=this._ciclos.createFormGroupCiclos(),this._tools.cerrarModal("modalgestionCiclos")}AbrirModalCiclos(){this.newCiclos.reset(),this.newCiclos.patchValue({id_pago:this.idPagosSave}),this._tools.abrirModal("modalgestionCiclos")}AutoCompletarLastCiclos(){this.newCiclos.setValue(this.newCiclosAnteriorAccion.value),this.newCiclos.patchValue({id:0}),console.log("listo",this.newCiclos.value)}AnimarCargaTablaCiclos(){this.Ciclos=[],this.isLoadingCiclos=!0}ValidacionCiclosxElemento(o){return this._tools.obtenerValidationClass(this.newCiclos,o)}ValidacionTodoElementoCiclos(){Object.values(this.newCiclos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||r)(A(Te),A(ct),A(H),A(dt),A(mt),A(Ae),A(Se))}}static{this.\u0275cmp=U({type:r,selectors:[["app-gestiondecontrolasistenaciapagos"]],decls:349,vars:65,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],["scope","col",1,"text-center"],[1,"text-success","bg-light"],[1,"text-danger","bg-light"],[1,"text-secondary","bg-light"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","precio",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","horario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fecha",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","MENSUAL"],["value","SESI\xD3N"],["type","text","placeholder","","formControlName","descuento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-12","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click","href"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","nrociclo",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","sesion",1,"form-control",3,"ngClass"],["formControlName","estadosesion",1,"form-control",3,"ngClass"],["value","REALIZADO"],["value","SESI\xD3N PENDIENTE"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["formControlName","estadopago",1,"form-control",3,"ngClass"],["value","PAGADO"],["value","PRESTADO"],["value","PENDIENTE"],["value","RETRASADO"],["formControlName","eri",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cim",1,"form-control",3,"ngClass"],["formControlName","apuntes",1,"quill-container-wrapper",3,"modules"],["id","ModalAllGestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","modalgestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","monto",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechapago",1,"form-control",3,"ngClass"],["type","time","placeholder","","formControlName","horapago",1,"form-control",3,"ngClass"],["placeholder","","formControlName","observacion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["value","CONFIRMADO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzonearchivospagos",1,"dropzone"],["alt","","width","50%",3,"src"],["colspan","9",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],[1,"text-center","text-light","bg-primary"],[1,"progress",2,"height","30px"],["role","progressbar","aria-label","Segment one","aria-valuemin","0",1,"progress-bar","bg-success",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment two","aria-valuemin","0",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment three","aria-valuemin","0",1,"progress-bar","bg-secondary",3,"title","aria-valuenow","aria-valuemax"],[2,"white-space","nowrap"],[2,"display","flex","align-items","center","gap","10px"],[2,"margin-right","18px"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-success","p-1","py-0",3,"title","href"],[1,"bi","bi-whatsapp",2,"font-size","1.5rem"],["title","Estabilizar",1,"btn","btn-light","p-1","py-0",3,"click"],["alt","Balanza",1,"image",2,"width","24px","height","auto","display","inline-block",3,"src"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Archivos de Pagos",1,"btn","btn-success","p-1","py-0",3,"click"],[1,"bi","bi-currency-dollar",2,"font-size","1.5rem"],["title","Ciclos",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-border-all",2,"font-size","1.5rem"],[1,"rectangle-grid"],["class","group",4,"ngFor","ngForOf"],[1,"group"],["target","_blank",3,"href","title"],[1,"fw-bolder","circle-container"],[2,"font-size","1rem"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],["type","number","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center",2,"width","300px"],[1,"text-light"],[1,"card-body"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"col-sm-12"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],[1,"collapse","card-body","show",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"],[3,"value"],["colspan","6",1,"text-center"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Gesti\xF3n de Pagos"),n(),i(6,"p",4),a(7,"Administra toda la informaci\xF3n de los Pagos de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),u("click",function(){return t.AbrirModalPagos()}),m(11,"i",7),a(12," A\xF1adir Pagos"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),u("input",function(){return t.paginaPagos=1}),V("ngModelChange",function(c){return T(t.filtertxtPagos,c)||(t.filtertxtPagos=c),c}),n(),i(20,"label"),a(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),a(28,"#"),n(),i(29,"th",18),a(30,"Nombre Completo"),n(),i(31,"th",18),a(32,"Tipo"),n(),i(33,"th",18),a(34,"Precio"),n(),i(35,"th",19)(36,"label",20),a(37,"Pagado/"),n(),i(38,"label",21),a(39,"Deuda/"),n(),i(40,"label",22),a(41,"Descuento"),n()(),i(42,"th",18),a(43,"Horario/Dia"),n(),i(44,"th",18),a(45,"ACCIONES"),n()()(),i(46,"tbody",23),v(47,yn,6,0,"tr",24)(48,Pn,3,0,"tr",24)(49,Rn,50,43,"tr",25),S(50,"filterapellidosnombrescarnet"),S(51,"paginate"),n()(),i(52,"pagination-controls",26),u("pageChange",function(c){return t.paginaPagos=c}),n()(),m(53,"hr"),i(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"div",31)(59,"h1",32),a(60),n(),i(61,"button",33),u("click",function(){return t.resetPagos()}),n()()(),i(62,"div",34)(63,"div",35)(64,"div",36)(65,"label",37),a(66,"Buscar:"),n(),i(67,"input",38),V("ngModelChange",function(c){return T(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),u("input",function(){return t.paginaInfoClientes=1}),n()(),v(68,Tn,4,9,"div",39),i(69,"pagination-controls",26),u("pageChange",function(c){return t.paginaInfoClientes=c}),n(),m(70,"hr"),i(71,"div",40),m(72,"input",41),i(73,"label"),a(74,"cliente"),n(),i(75,"div",42),a(76,"Este campo es obligatorio*"),n()(),i(77,"div",40),m(78,"input",43),i(79,"label"),a(80,"precio"),n(),i(81,"div",42),a(82,"Este campo es obligatorio*"),n()(),i(83,"div",40)(84,"input",44),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"horario")}),n(),i(85,"label"),a(86,"horario"),n(),i(87,"div",42),a(88,"Este campo es obligatorio*"),n()(),i(89,"div",40)(90,"input",45),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"fecha")}),n(),i(91,"label"),a(92,"dias"),n(),i(93,"div",42),a(94,"Este campo es obligatorio*"),n()(),i(95,"div",40)(96,"select",46)(97,"option",47),a(98,"Seleccione una opci\xF3n"),n(),i(99,"option",48),a(100,"MENSUAL"),n(),i(101,"option",49),a(102,"SESI\xD3N"),n()(),i(103,"label"),a(104,"tipo"),n(),i(105,"div",42),a(106,"Este campo es obligatorio*"),n()(),i(107,"div",40)(108,"input",50),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"descuento")}),n(),i(109,"label"),a(110,"descuento"),n(),i(111,"div",42),a(112,"Este campo es obligatorio*"),n()()(),v(113,Vn,6,1,"div",51),n(),i(114,"div",52),v(115,Ln,6,0,"div",53),i(116,"div",54)(117,"div",55)(118,"button",56),u("click",function(){return t.resetPagos()}),m(119,"i",57),a(120," CANCELAR"),m(121,"span",8),n()(),i(122,"div",58),v(123,Nn,4,4,"button",59)(124,kn,2,1,"button",60),n()()()()()(),i(125,"div",61)(126,"div",28)(127,"div",29)(128,"div",30)(129,"h1",62),a(130,"Gestionar Ciclos"),n(),m(131,"button",63),n(),i(132,"div",34),m(133,"hr"),i(134,"div",0)(135,"div",1),m(136,"div",2),n()(),i(137,"div",1)(138,"div",64)(139,"button",6),u("click",function(){return t.AbrirModalCiclos()}),m(140,"i",7),a(141," A\xF1adir Ciclos"),m(142,"span",8),n(),i(143,"a",65),u("click",function(c){return t.onButtonClick(c,t.guardadodeid_infocliente)}),m(144,"i",7),a(145," VER PLAN DE INTERVENCIONES(ver con Ctrl+Click o Click con la Rueda)"),m(146,"span",8),n()()(),m(147,"hr"),i(148,"div",1),v(149,zn,43,16,"div",66),n(),m(150,"hr"),i(151,"div",67)(152,"div",28)(153,"div",29)(154,"div",30)(155,"div",31)(156,"h1",32),a(157),n(),i(158,"button",33),u("click",function(){return t.resetCiclos()}),n()()(),i(159,"div",34)(160,"div",35)(161,"div",40),m(162,"input",68),i(163,"label"),a(164,"nrociclo"),n(),i(165,"div",42),a(166,"Este campo es obligatorio*"),n()(),i(167,"div",40),m(168,"input",69),i(169,"label"),a(170,"sesion"),n(),i(171,"div",42),a(172,"Este campo es obligatorio*"),n()(),i(173,"div",40)(174,"select",70)(175,"option",47),a(176,"Seleccione una opci\xF3n"),n(),i(177,"option",71),a(178,"REALIZADO"),n(),i(179,"option",72),a(180,"SESI\xD3N PENDIENTE"),n()(),i(181,"label"),a(182,"estadosesion"),n(),i(183,"div",42),a(184,"Este campo es obligatorio*"),n()(),i(185,"div",40),m(186,"input",73),i(187,"label"),a(188,"fecha"),n(),i(189,"div",42),a(190,"Este campo es obligatorio*"),n()(),i(191,"div",40)(192,"select",74)(193,"option",47),a(194,"Seleccione una opci\xF3n"),n(),i(195,"option",75),a(196,"PAGADO"),n(),i(197,"option",76),a(198,"PRESTADO"),n(),i(199,"option",77),a(200,"PENDIENTE"),n(),i(201,"option",78),a(202,"RETRASADO"),n()(),i(203,"label"),a(204,"estadopago"),n(),i(205,"div",42),a(206,"Este campo es obligatorio*"),n()(),i(207,"div",40)(208,"select",79)(209,"option",47),a(210,"Seleccione una opci\xF3n"),n(),v(211,Gn,2,2,"option",80),n(),i(212,"label"),a(213,"eri"),n(),i(214,"div",42),a(215,"Este campo es obligatorio*"),n()(),i(216,"div",40)(217,"select",81)(218,"option",47),a(219,"Seleccione una opci\xF3n"),n(),v(220,Fn,2,2,"option",80),n(),i(221,"label"),a(222,"cim"),n(),i(223,"div",42),a(224,"Este campo es obligatorio*"),n()(),i(225,"label"),a(226,"apuntes"),n(),i(227,"div",40),m(228,"quill-editor",82),n()()(),i(229,"div",52),v(230,Un,6,0,"div",53),i(231,"div",54)(232,"div",55)(233,"button",56),u("click",function(){return t.resetCiclos()}),m(234,"i",57),a(235," CANCELAR"),m(236,"span",8),n()(),i(237,"div",58),v(238,jn,4,4,"button",59)(239,qn,2,1,"button",60),n()()()()()()()()()(),i(240,"div",83)(241,"div",28)(242,"div",29)(243,"div",30)(244,"h1",62),a(245,"ARCHIVOS DE PAGO "),n(),m(246,"button",63),n(),i(247,"div",34),m(248,"hr"),i(249,"div",0)(250,"div",1),m(251,"div",2),n()(),i(252,"div",1)(253,"div",5)(254,"button",6),u("click",function(){return t.AbrirModalArchivosPagos()}),m(255,"i",7),a(256," A\xF1adir Archivos de Pagos"),m(257,"span",8),n()()(),m(258,"hr"),i(259,"div",15)(260,"table",16)(261,"thead")(262,"tr")(263,"th",17),a(264,"#"),n(),i(265,"th",18),a(266,"Monto"),n(),i(267,"th",18),a(268,"Fecha de Pago"),n(),i(269,"th",18),a(270,"Hora de Pago"),n(),i(271,"th",18),a(272,"Observaci\xF3n"),n(),i(273,"th",18),a(274,"Estado Pago"),n(),i(275,"th",18),a(276,"ACCIONES"),n()()(),i(277,"tbody",23),v(278,Bn,6,0,"tr",24)(279,Hn,3,0,"tr",24)(280,Wn,19,7,"tr",25),S(281,"paginate"),n()(),i(282,"pagination-controls",26),u("pageChange",function(c){return t.paginaArchivosPagos=c}),n()(),m(283,"hr"),i(284,"div",84)(285,"div",28)(286,"div",29)(287,"div",30)(288,"div",31)(289,"h1",32),a(290),n(),i(291,"button",33),u("click",function(){return t.resetArchivosPagos()})("click",function(){return t.CancelarArchivosDropzone()}),n()()(),i(292,"div",34)(293,"div",35)(294,"div",40),m(295,"input",85),i(296,"label"),a(297,"monto"),n(),i(298,"div",42),a(299,"Este campo es obligatorio*"),n()(),i(300,"div",40),m(301,"input",86),i(302,"label"),a(303,"fechapago"),n(),i(304,"div",42),a(305,"Este campo es obligatorio*"),n()(),i(306,"div",40),m(307,"input",87),i(308,"label"),a(309,"horapago"),n(),i(310,"div",42),a(311,"Este campo es obligatorio*"),n()(),i(312,"div",40)(313,"textarea",88),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newArchivosPagos,"observacion")}),n(),i(314,"label"),a(315,"observacion"),n(),i(316,"div",42),a(317,"Este campo es obligatorio*"),n()(),i(318,"div",40)(319,"select",74)(320,"option",47),a(321,"Seleccione una opci\xF3n"),n(),i(322,"option",77),a(323,"PENDIENTE"),n(),i(324,"option",89),a(325,"CONFIRMADO"),n()(),i(326,"label"),a(327,"estado de pago"),n(),i(328,"div",42),a(329,"Este campo es obligatorio*"),n()(),i(330,"div",90)(331,"label",91),a(332,"Archivo"),n(),m(333,"div",92)(334,"hr"),i(335,"span"),a(336,"IMAGEN ACTUAL:"),n(),m(337,"img",93),n()()(),i(338,"div",52),v(339,Zn,6,0,"div",53),i(340,"div",54)(341,"div",55)(342,"button",56),u("click",function(){return t.resetArchivosPagos()})("click",function(){return t.CancelarArchivosDropzone()}),m(343,"i",57),a(344," CANCELAR"),m(345,"span",8),n()(),i(346,"div",58),v(347,Qn,4,4,"button",59)(348,Xn,2,1,"button",60),n()()()()()()()()()()),e&2&&(l(19),D("ngModel",t.filtertxtPagos),l(28),d("ngIf",t.isLoadingPagos),l(),d("ngIf",!t.isLoadingPagos&&t.Pagos.length===0),l(),d("ngForOf",M(51,54,M(50,51,t.Pagos,t.filtertxtPagos),G(60,vi,t.paginaPagos))),l(11),E("",t.newPagos.get("id").value?"Modificar":"Registrar"," Pagos "),l(3),d("formGroup",t.newPagos),l(4),D("ngModel",t.filterInfoClientes),d("ngModelOptions",Ye(62,Mn)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),F("value",t.nombreseleccionado),d("ngClass",t.ValidacionPagosxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPagosxElemento("precio")),l(6),d("ngClass",t.ValidacionPagosxElemento("horario")),l(6),d("ngClass",t.ValidacionPagosxElemento("fecha")),l(6),d("ngClass",t.ValidacionPagosxElemento("tipo")),l(12),d("ngClass",t.ValidacionPagosxElemento("descuento")),l(5),d("ngIf",!t.newPagos.get("id").value),l(2),d("ngIf",!t.newPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPagos),l(),d("ngIf",t.AnimacionCargabtnModalPagos),l(19),d("href",t.generateUrl(t.guardadodeid_infocliente),j),l(6),d("ngForOf",t.Ciclos),l(8),E(" ",t.newCiclos.get("id").value?"Modificar":"Registrar"," Ciclos"),l(3),d("formGroup",t.newCiclos),l(2),d("ngClass",t.ValidacionCiclosxElemento("nrociclo")),l(6),d("ngClass",t.ValidacionCiclosxElemento("sesion")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadosesion")),l(12),d("ngClass",t.ValidacionCiclosxElemento("fecha")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadopago")),l(16),d("ngClass",t.ValidacionCiclosxElemento("eri")),l(3),d("ngForOf",t.MatrizERI),l(6),d("ngClass",t.ValidacionCiclosxElemento("cim")),l(3),d("ngForOf",t.MatrizCIM),l(8),d("modules",t._tools.modulesQuillEdicion),l(2),d("ngIf",!t.newCiclos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalCiclos),l(),d("ngIf",t.AnimacionCargabtnModalCiclos),l(39),d("ngIf",t.isLoadingArchivosPagos),l(),d("ngIf",!t.isLoadingArchivosPagos&&t.ArchivosPagos.length===0),l(),d("ngForOf",M(281,57,t.ArchivosPagos,G(63,vi,t.paginaArchivosPagos))),l(10),E(" ",t.newArchivosPagos.get("id").value?"Modificar":"Registrar"," ArchivosPagos"),l(3),d("formGroup",t.newArchivosPagos),l(2),d("ngClass",t.ValidacionArchivosPagosxElemento("monto")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("fechapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("horapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("observacion")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("estadopago")),l(18),d("src",t.ruta+t.newArchivosPagos.value.foto,j),l(2),d("ngIf",!t.newArchivosPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalArchivosPagos),l(),d("ngIf",t.AnimacionCargabtnModalArchivosPagos))},dependencies:[ee,X,Y,ue,pe,oe,le,me,ae,re,se,ce,de,fe,tt,he,xe,Ie],styles:[".rectangle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(50,auto)}.group[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,15px);border:2px solid white;border-radius:10px}.group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;text-shadow:1px 1px 2px black}.circle-container[_ngcontent-%COMP%]{display:inline-block;padding:1px;border:1px solid rgb(255,255,255);border-radius:50%;text-align:center;line-height:1}"]})}};var pt=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerInicios(){return this.http.get(this.ruta+"api/Inicios/")}AgregarInicios(o){return this.http.post(this.ruta+"api/Inicios/",o)}ModificarInicios(o,e){return this.http.put(this.ruta+"api/Inicios/"+e,o)}SeleccionarInicios(o){return this.http.get(this.ruta+"api/Inicios/"+o)}EliminarInicios(o){return this.http.delete(this.ruta+"api/Inicios/"+o)}createFormGroupInicios(){return new k({id:new b(0),archivo:new b(""),etiqueta:new b(""),titulo:new b(""),subtitulo:new b(""),descripcion:new b(""),categoria:new b(""),link:new b(""),costo:new b(""),duracion:new b(""),cupos:new b(""),fecha:new b("")})}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var Jn=r=>({itemsPerPage:10,currentPage:r});function Kn(r,o){r&1&&(i(0,"th",31),a(1,"Categoria"),n())}function eo(r,o){r&1&&(i(0,"th",31),a(1,"Titulo"),n())}function to(r,o){if(r&1&&(i(0,"th",31),a(1),n()),r&2){let e=p();l(),C(e.txtSubtituloIconotable)}}function io(r,o){r&1&&(i(0,"th",31),a(1,"Descripci\xF3n"),n())}function no(r,o){r&1&&(i(0,"th",31),a(1,"Etiqueta"),n())}function oo(r,o){r&1&&(i(0,"th",31),a(1,"Enlace"),n())}function ao(r,o){r&1&&(i(0,"th",31),a(1,"Costo"),n())}function ro(r,o){r&1&&(i(0,"th",31),a(1,"Cupos"),n())}function so(r,o){r&1&&(i(0,"th",31),a(1,"Duracion"),n())}function lo(r,o){r&1&&(i(0,"th",31),a(1,"Fecha"),n())}function co(r,o){r&1&&(i(0,"tr")(1,"td",58)(2,"div",59)(3,"div",60)(4,"span",61),a(5,"Loading..."),n()()()()())}function mo(r,o){r&1&&(i(0,"tr")(1,"td",58),a(2,"No hay datos disponibles"),n()())}function uo(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgcategoria),l(),C(e.categoria)}}function po(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgtitulo),l(),C(e.titulo)}}function go(r,o){if(r&1&&m(0,"td",72),r&2){let e=p().$implicit;N("",e.bgsubtitulo," text-center"),d("innerHTML",e.subtitulo,wt)}}function ho(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgdescripcion),l(),C(e.descripcion)}}function fo(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgetiqueta),l(),C(e.etiqueta)}}function bo(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bglink),l(),C(e.link)}}function vo(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgcosto),l(),C(e.costo)}}function Co(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgduracion),l(),C(e.duracion)}}function _o(r,o){if(r&1&&(i(0,"td",71),a(1),n()),r&2){let e=p().$implicit;Ee(e.bgcupos),l(),C(e.cupos)}}function Eo(r,o){if(r&1&&(i(0,"td",71),a(1),S(2,"dateFormat"),n()),r&2){let e=p().$implicit;Ee(e.bgfecha),l(),C(ne(2,4,e.fecha))}}function So(r,o){if(r&1&&(i(0,"a",73),m(1,"i",74),n()),r&2){let e=p().$implicit,t=p();d("href",t.ruta+e.archivo,j)}}function Io(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",62),a(2),n(),v(3,uo,2,4,"td",63)(4,po,2,4,"td",63)(5,go,1,4,"td",64)(6,ho,2,4,"td",63)(7,fo,2,4,"td",63)(8,bo,2,4,"td",63)(9,vo,2,4,"td",63)(10,Co,2,4,"td",63)(11,_o,2,4,"td",63)(12,Eo,3,6,"td",63),i(13,"td",65)(14,"button",66),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarInicios(s.id))}),m(15,"i",67),n(),i(16,"button",68),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarInicios(s.id))}),m(17,"i",69),n(),v(18,So,2,1,"a",70),n()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaInicios-1)*10+(e+1)),l(),d("ngIf",s.showtablecategoria),l(),d("ngIf",s.showtabletitulo),l(),d("ngIf",s.showtablesubtitulo),l(),d("ngIf",s.showtabledescripcion),l(),d("ngIf",s.showtableetiqueta),l(),d("ngIf",s.showtablelink),l(),d("ngIf",s.showtablecosto),l(),d("ngIf",s.showtablecosto),l(),d("ngIf",s.showtablecupos),l(),d("ngIf",s.showtablefecha),l(6),d("ngIf",!(t.archivo==null||t.archivo==""))}}function Ao(r,o){if(r&1){let e=_();i(0,"div",75)(1,"select",76),u("change",function(s){g(e);let c=p();return h(c.VerificarTipoCategoria(s.target.value))}),i(2,"option",77),a(3,"Seleccione una opci\xF3n"),n(),i(4,"option",15),a(5,"BANNER"),n(),i(6,"option",16),a(7,"SERVICIO"),n(),i(8,"option",17),a(9,"PRECIO"),n(),i(10,"option",18),a(11,"GALERIA"),n(),i(12,"option",19),a(13,"CAROUSEL"),n(),i(14,"option",20),a(15,"RED SOCIAL"),n()(),i(16,"label"),a(17,"categoria"),n(),i(18,"div",78),a(19,"Este campo es obligatorio*"),n()()}if(r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("categoria"))}}function xo(r,o){if(r&1&&(i(0,"div",75)(1,"span",79),a(2),n()()),r&2){let e=p();l(2),E("MODIFICANDO ",e.newInicios.controls.categoria.value,"")}}function Mo(r,o){if(r&1){let e=_();i(0,"div",75)(1,"input",80),u("change",function(s){g(e);let c=p();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"titulo"))}),n(),i(2,"label"),a(3,"titulo"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()}if(r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("titulo"))}}function wo(r,o){if(r&1&&(i(0,"div",75),m(1,"input",81),i(2,"label"),a(3),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()),r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("subtitulo")),l(2),C(e.txtSubtituloIcono)}}function yo(r,o){if(r&1){let e=_();i(0,"div",75)(1,"textarea",82),u("change",function(s){g(e);let c=p();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"descripcion"))}),n(),i(2,"label"),a(3,"descripcion"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()}if(r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("descripcion"))}}function Po(r,o){if(r&1){let e=_();i(0,"div",75)(1,"input",83),u("change",function(s){g(e);let c=p();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"etiqueta"))}),n(),i(2,"label"),a(3,"etiqueta"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()}if(r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("etiqueta"))}}function Oo(r,o){if(r&1&&(i(0,"div",75),m(1,"input",84),i(2,"label"),a(3,"link"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()),r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("link"))}}function Ro(r,o){if(r&1&&(i(0,"div",75),m(1,"input",85),i(2,"label"),a(3,"costo"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()),r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("costo"))}}function Do(r,o){if(r&1){let e=_();i(0,"div",75)(1,"input",86),u("change",function(s){g(e);let c=p();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"duracion"))}),n(),i(2,"label"),a(3,"duracion"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()}if(r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("duracion"))}}function To(r,o){if(r&1&&(i(0,"div",75),m(1,"input",87),i(2,"label"),a(3,"cupos"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()),r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("cupos"))}}function Vo(r,o){if(r&1&&(i(0,"div",75),m(1,"input",88),i(2,"label"),a(3,"fecha"),n(),i(4,"div",78),a(5,"Este campo es obligatorio*"),n()()),r&2){let e=p();l(),d("ngClass",e.ValidacionIniciosxElemento("fecha"))}}function Lo(r,o){if(r&1){let e=_();i(0,"div",89)(1,"button",90),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastInicios())}),m(2,"i",91),a(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",92),n(),i(6,"a",93),m(7,"i",94),a(8," IR A DOCUMENTACION PARA ICONOS "),n()()}}function No(r,o){if(r&1){let e=_();i(0,"button",95),u("click",function(){g(e);let s=p();return h(s.AgregarModificarInicios())}),m(1,"i",96),a(2),m(3,"span",9),n()}if(r&2){let e=p();l(),N("bi bi-",e.newInicios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInicios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function ko(r,o){if(r&1){let e=_();i(0,"button",97),u("click",function(){g(e);let s=p();return h(s.AgregarModificarInicios())}),m(1,"span",98),n()}r&2&&d("disabled",!0)}var gt=class r{constructor(o,e,t){this._ini=o;this._tools=e;this.http=t;this.ruta=x.ruta;this.dataDropZone={iddropzone:"my-dropzone",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.filtercategoria="";this.showtitulo=!1;this.showsubtitulo=!1;this.showdescripcion=!1;this.showetiqueta=!1;this.showlink=!1;this.showcosto=!1;this.showcupos=!1;this.showfecha=!1;this.showarchivo=!1;this.showcategoria=!0;this.showduracion=!1;this.txtSubtituloIcono="Subtitulo";this.showtabletitulo=!0;this.showtablesubtitulo=!0;this.showtabledescripcion=!0;this.showtableetiqueta=!0;this.showtablelink=!0;this.showtablecosto=!0;this.showtablecupos=!0;this.showtablefecha=!0;this.showtablearchivo=!0;this.showtablecategoria=!0;this.showtableduracion=!0;this.txtSubtituloIconotable="Subtitulo|icono";this.Inicios=[];this.paginaInicios=1;this.isLoadingInicios=!0;this.AnimacionCargabtnModalInicios=!1;this.filtertxtInicios="";this.newInicios=this._ini.createFormGroupInicios(),this.newIniciosAnteriorAccion=this._ini.createFormGroupInicios()}ngOnInit(){this.CargarInicios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){var o=document.getElementById("my-dropzone");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ge.instances.length>0&&ge.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}VerificarTipoCategoria(o){switch(sessionStorage.setItem("CategoriaFile",o),o){case"BANNER":this.showtitulo=!0,this.showsubtitulo=!1,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"SERVICIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;case"PRECIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!0,this.showcupos=!0,this.showfecha=!0,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!0,this.txtSubtituloIcono="Subtitulo";break;case"GALERIA":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"CAROUSEL":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"RED SOCIAL":this.showtitulo=!1,this.showsubtitulo=!0,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;default:this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break}}VerificarTipoCategoriaTabla(o){switch(o){case"BANNER":this.showtabletitulo=!0,this.showtablesubtitulo=!1,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"SERVICIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;case"PRECIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!0,this.txtSubtituloIconotable="Subtitulo";break;case"GALERIA":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"CAROUSEL":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"RED SOCIAL":this.showtabletitulo=!1,this.showtablesubtitulo=!0,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;default:this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo|icono";break}}CargarInicios(){this.AnimarCargaTablaInicios(),this._ini.ObtenerInicios().subscribe(o=>{console.log("Inicios CARGADO",o.data),o.data.forEach(e=>{switch(e.categoria){case"BANNER":e.bgtitulo="",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"SERVICIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"PRECIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="",e.bgcupos="",e.bgfecha="",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="";break;case"GALERIA":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"CAROUSEL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"RED SOCIAL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;default:break}}),this.Inicios=o.data,this.isLoadingInicios=!1},o=>{console.log("ERROR AL CARGAR Inicios",o),this.isLoadingInicios=!1})}AgregarModificarInicios(){if(this.newInicios.invalid){this.ValidacionTodoElementoInicios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInicios=!1;return}else{this.AnimarCargaTablaInicios(),this.AnimacionCargabtnModalInicios=!0,this._tools.MostrarMensajeLoading();let e=this.newInicios.controls.id.value;console.log("INFO A PROCESAR",this.newInicios.value);var o=sessionStorage.getItem("IMG");console.log("VALOR img",o),o==null||o==""||(this.newInicios.value.archivo=o),e?(console.log("DATA NUEVO",this.newInicios.value),console.log("DATA ANTERIOR",this.newIniciosAnteriorAccion.value),this._ini.ModificarInicios(this.newInicios.value,this.newInicios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.AnimacionCargabtnModalInicios=!1,this.newIniciosAnteriorAccion.value.archivo==this.newInicios.value.archivo||this._tools.EliminarArchivo(this.newIniciosAnteriorAccion.value.archivo),this.resetInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()})):(this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._ini.AgregarInicios(this.newInicios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.resetInicios(),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInicios(o){this._tools.MostrarMensajeLoading(),o&&this._ini.SeleccionarInicios(o).subscribe(e=>{Object.keys(this.newInicios.controls).forEach(t=>{this.newInicios.controls[t].setValue(e.data[t])}),console.log("SELECCION DE Inicios EXITOSA",this.newInicios.value),this.VerificarTipoCategoria(this.newInicios.controls.categoria.value),this.crearDropzone(),this.showcategoria=!1,this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._tools.abrirModal("modalgestionInicios"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR Inicios",e),this._tools.MostrarMensajeError()})}EliminarInicios(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ini.EliminarInicios(o).subscribe(t=>{console.log(t.data),this.CargarInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Inicios",t),this._tools.MostrarMensajeError()}))})}resetInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionInicios")}AbrirModalInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this.VerificarTipoCategoria(""),this._tools.abrirModal("modalgestionInicios")}AutoCompletarLastInicios(){this.newInicios.setValue(this.newIniciosAnteriorAccion.value),this.newInicios.patchValue({id:0}),console.log("listo",this.newInicios.value)}AnimarCargaTablaInicios(){this.Inicios=[],this.isLoadingInicios=!0}ValidacionIniciosxElemento(o){return this._tools.obtenerValidationClass(this.newInicios,o)}ValidacionTodoElementoInicios(){Object.values(this.newInicios.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||r)(A(pt),A(H),A(w))}}static{this.\u0275cmp=U({type:r,selectors:[["app-gestiondeinicios"]],decls:111,vars:47,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","change","ngModel"],["value","","disabled","","selected",""],["value",""],["value","BANNER"],["value","SERVICIO"],["value","PRECIO"],["value","GALERIA"],["value","CAROUSEL"],["value","RED SOCIAL"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionInicios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"form-text"],["id","my-dropzone",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","12",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row",3,"class",4,"ngIf"],["scope","row",3,"class","innerHTML",4,"ngIf"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["scope","row"],["scope","row",3,"innerHTML"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"form-floating","mb-3","col-sm-12"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],["disabled","","selected","",3,"value"],[1,"invalid-feedback"],[1,"form-text","text-center"],["type","text","placeholder","","formControlName","titulo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","subtitulo",1,"form-control",3,"ngClass"],["placeholder","","formControlName","descripcion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["type","text","placeholder","","formControlName","etiqueta",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","link",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","costo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","cupos",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],["href","https://icons.getbootstrap.com/","target","_blank",1,"btn","mouse-dir","primary"],[1,"bi","bi-bootstrap"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Gesti\xF3n de Inicios"),n(),i(6,"p",4),a(7,"Administra toda la informaci\xF3n de los Inicios de manera sencilla y eficiente"),n()()()(),i(8,"div",5)(9,"div",6)(10,"button",7),u("click",function(){return t.AbrirModalInicios()}),m(11,"i",8),a(12," A\xF1adir Inicios"),m(13,"span",9),n()(),i(14,"div",10)(15,"div",11)(16,"select",12),u("input",function(){return t.paginaInicios=1}),V("ngModelChange",function(c){return T(t.filtercategoria,c)||(t.filtercategoria=c),c}),u("change",function(c){return t.VerificarTipoCategoriaTabla(c.target.value)}),i(17,"option",13),a(18,"Seleccione una opci\xF3n"),n(),i(19,"option",14),a(20,"TODA LA INFORMACI\xD3N"),n(),i(21,"option",15),a(22,"BANNER"),n(),i(23,"option",16),a(24,"SERVICIO"),n(),i(25,"option",17),a(26,"PRECIO"),n(),i(27,"option",18),a(28,"GALERIA"),n(),i(29,"option",19),a(30,"CAROUSEL"),n(),i(31,"option",20),a(32,"RED SOCIAL"),n()(),i(33,"label"),a(34,"Filtrar"),n()()(),i(35,"div",21)(36,"div",22)(37,"span",23),m(38,"i",24),n(),i(39,"div",25)(40,"input",26),u("input",function(){return t.paginaInicios=1}),V("ngModelChange",function(c){return T(t.filtertxtInicios,c)||(t.filtertxtInicios=c),c}),n(),i(41,"label"),a(42,"Buscar"),n()()()()(),m(43,"hr"),i(44,"div",27)(45,"table",28)(46,"thead")(47,"tr")(48,"th",29),a(49,"#"),n(),v(50,Kn,2,0,"th",30)(51,eo,2,0,"th",30)(52,to,2,1,"th",30)(53,io,2,0,"th",30)(54,no,2,0,"th",30)(55,oo,2,0,"th",30)(56,ao,2,0,"th",30)(57,ro,2,0,"th",30)(58,so,2,0,"th",30)(59,lo,2,0,"th",30),i(60,"th",31),a(61,"ACCIONES"),n()()(),i(62,"tbody",32),v(63,co,6,0,"tr",33)(64,mo,3,0,"tr",33)(65,Io,19,12,"tr",34),S(66,"filtercategoria"),S(67,"filtercategoria"),S(68,"paginate"),n()(),i(69,"pagination-controls",35),u("pageChange",function(c){return t.paginaInicios=c}),n()(),m(70,"hr"),i(71,"div",36)(72,"div",37)(73,"div",38)(74,"div",39)(75,"div",40)(76,"h1",41),a(77),n(),i(78,"button",42),u("click",function(){return t.resetInicios()})("click",function(){return t.CancelarArchivosDropzone()}),n()()(),i(79,"div",43)(80,"div",44),v(81,Ao,20,1,"div",45)(82,xo,3,1,"div",45)(83,Mo,6,1,"div",45)(84,wo,6,2,"div",45)(85,yo,6,1,"div",45)(86,Po,6,1,"div",45)(87,Oo,6,1,"div",45)(88,Ro,6,1,"div",45)(89,Do,6,1,"div",45)(90,To,6,1,"div",45)(91,Vo,6,1,"div",45),i(92,"div")(93,"label",46),a(94,"Archivo"),n(),m(95,"div",47)(96,"hr"),i(97,"span"),a(98,"IMAGEN ACTUAL:"),n(),m(99,"img",48),n()()(),i(100,"div",49),v(101,Lo,9,0,"div",50),i(102,"div",51)(103,"div",52)(104,"button",53),u("click",function(){return t.resetInicios()})("click",function(){return t.CancelarArchivosDropzone()}),m(105,"i",54),a(106," CANCELAR"),m(107,"span",9),n()(),i(108,"div",55),v(109,No,4,4,"button",56)(110,ko,2,1,"button",57),n()()()()()()),e&2&&(l(16),D("ngModel",t.filtercategoria),l(24),D("ngModel",t.filtertxtInicios),l(10),d("ngIf",t.showtablecategoria),l(),d("ngIf",t.showtabletitulo),l(),d("ngIf",t.showtablesubtitulo),l(),d("ngIf",t.showtabledescripcion),l(),d("ngIf",t.showtableetiqueta),l(),d("ngIf",t.showtablelink),l(),d("ngIf",t.showtablecosto),l(),d("ngIf",t.showtablecupos),l(),d("ngIf",t.showtableduracion),l(),d("ngIf",t.showtablefecha),l(4),d("ngIf",t.isLoadingInicios),l(),d("ngIf",!t.isLoadingInicios&&t.Inicios.length===0),l(),d("ngForOf",M(68,42,M(67,39,M(66,36,t.Inicios,t.filtercategoria),t.filtertxtInicios),G(45,Jn,t.paginaInicios))),l(12),W("",t.newInicios.get("id").value?"MODIFICAR":"Registrar Inicio"," ",t.newInicios.controls.categoria.value,""),l(3),d("formGroup",t.newInicios),l(),d("ngIf",t.showcategoria),l(),d("ngIf",!t.showcategoria),l(),d("ngIf",t.showtitulo),l(),d("ngIf",t.showsubtitulo),l(),d("ngIf",t.showdescripcion),l(),d("ngIf",t.showetiqueta),l(),d("ngIf",t.showlink),l(),d("ngIf",t.showcosto),l(),d("ngIf",t.showduracion),l(),d("ngIf",t.showcupos),l(),d("ngIf",t.showfecha),l(),N("mb-3 col-sm-12 ",t.showarchivo==!0?"":"invisible",""),l(7),d("src",t.ruta+t.newInicios.value.archivo,j),l(2),d("ngIf",!t.newInicios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInicios),l(),d("ngIf",t.AnimacionCargabtnModalInicios))},dependencies:[ee,X,Y,ue,pe,oe,le,me,ae,re,se,ce,de,fe,he,ke,Ie]})}};var ht=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerSubMatrizEscalas(){return this.http.get(this.ruta+"api/SubMatrizEscalas/")}AgregarSubMatrizEscalas(o){return this.http.post(this.ruta+"api/SubMatrizEscalas/",o)}ModificarSubMatrizEscalas(o,e){return this.http.put(this.ruta+"api/SubMatrizEscalas/"+e,o)}SeleccionarSubMatrizEscalas(o){return this.http.get(this.ruta+"api/SubMatrizEscalas/"+o)}EliminarSubMatrizEscalas(o){return this.http.delete(this.ruta+"api/SubMatrizEscalas/"+o)}createFormGroupSubMatrizEscalas(){return new k({id:new b(0),id_matrizescala:new b(""),tipo:new b(""),nombresubmatriz:new b("")})}SeleccionarAllInformacionSubMatrizEscala(o){return this.http.get(this.ruta+"api/AllInfoSubMatrizEscalas/"+o)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var ft=class r{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.categoria).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.nombrematriz).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.valor).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275pipe=te({name:"filtercategorianombrematrizvalor",type:r,pure:!0})}};var Ci=r=>({itemsPerPage:10,currentPage:r});function Fo(r,o){if(r&1&&(i(0,"option",62),a(1),n()),r&2){let e=o.$implicit;F("value",e.categoria),l(),C(e.categoria)}}function Uo(r,o){r&1&&(i(0,"tr")(1,"td",63)(2,"div",64)(3,"div",65)(4,"span",66),a(5,"Loading..."),n()()()()())}function jo(r,o){r&1&&(i(0,"tr")(1,"td",63),a(2,"No hay datos disponibles"),n()())}function qo(r,o){if(r&1){let e=_();i(0,"button",75),u("click",function(){g(e);let s=p().$implicit,c=p();return h(c.SeleccionarMatrizEscalas(s.id,"SubMatrizEscalas"))}),m(1,"i",76),n()}}function Bo(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",67),a(2),n(),i(3,"td",68),a(4),n(),i(5,"td",68),a(6),n(),i(7,"td",68),a(8),n(),i(9,"td",68),a(10),n(),i(11,"td",69)(12,"button",70),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarMatrizEscalas(s.id))}),m(13,"i",71),n(),i(14,"button",72),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarMatrizEscalas(s.id))}),m(15,"i",73),n(),v(16,qo,2,0,"button",74),n()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaMatrizEscalas-1)*10+(e+1)),l(2),C(t.categoria),l(2),C(t.nombrematriz),l(2),C(t.valor),l(2),C(t.multiplicar),l(6),d("ngIf",t.categoria=="OBJETIVOS")}}function Ho(r,o){if(r&1){let e=_();i(0,"div",77)(1,"button",78),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastMatrizEscalas())}),m(2,"i",79),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",80),n()()}}function $o(r,o){if(r&1){let e=_();i(0,"button",81),u("click",function(){g(e);let s=p();return h(s.AgregarModificarMatrizEscalas())}),m(1,"i",82),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Wo(r,o){if(r&1){let e=_();i(0,"button",83),u("click",function(){g(e);let s=p();return h(s.AgregarModificarMatrizEscalas())}),m(1,"span",84),n()}r&2&&d("disabled",!0)}function Zo(r,o){r&1&&(i(0,"tr")(1,"td",85)(2,"div",64)(3,"div",65)(4,"span",66),a(5,"Loading..."),n()()()()())}function Qo(r,o){r&1&&(i(0,"tr")(1,"td",85),a(2,"No hay datos disponibles"),n()())}function Xo(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",67),a(2),n(),i(3,"td",68),a(4),n(),i(5,"td",69)(6,"button",70),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarSubMatrizEscalas(s.id))}),m(7,"i",71),n(),i(8,"button",72),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarSubMatrizEscalas(s.id))}),m(9,"i",73),n()()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaSubMatrizEscalas-1)*10+(e+1)),l(2),C(t.nombresubmatriz)}}function Yo(r,o){if(r&1){let e=_();i(0,"div",77)(1,"button",78),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastSubMatrizEscalas())}),m(2,"i",79),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",80),n()()}}function Jo(r,o){if(r&1){let e=_();i(0,"button",81),u("click",function(){g(e);let s=p();return h(s.AgregarModificarSubMatrizEscalas())}),m(1,"i",82),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newSubMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ko(r,o){if(r&1){let e=_();i(0,"button",83),u("click",function(){g(e);let s=p();return h(s.AgregarModificarSubMatrizEscalas())}),m(1,"span",84),n()}r&2&&d("disabled",!0)}var bt=class r{constructor(o,e,t){this._mescalas=o;this._tools=e;this._submescalas=t;this.MatrizEscalas=[];this.paginaMatrizEscalas=1;this.isLoadingMatrizEscalas=!0;this.AnimacionCargabtnModalMatrizEscalas=!1;this.filtertxtMatrizEscalas="";this.filtertxtMatrizEscalas1="";this.MatrizEscalasSelectCategoriasData=[];this.idMatrizEscalaSave=0;this.SubMatrizEscalas=[];this.paginaSubMatrizEscalas=1;this.isLoadingSubMatrizEscalas=!0;this.AnimacionCargabtnModalSubMatrizEscalas=!1;this.filtertxtSubMatrizEscalas="";this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this.newMatrizEscalasAnteriorAccion=this._mescalas.createFormGroupMatrizEscalas(),this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this.newSubMatrizEscalasAnteriorAccion=this._submescalas.createFormGroupSubMatrizEscalas()}ngOnInit(){this.CargarMatrizEscalas(),setTimeout(()=>{this.RefrescarFiltradorSelectCategoria()},2e3)}ngOnDestroy(){this._tools.cerrarModales()}RefrescarFiltradorSelectCategoria(){var o=[];this.MatrizEscalas.forEach(t=>{o.push(t.categoria)}),Array.from(new Set(o)).forEach(t=>{this.MatrizEscalasSelectCategoriasData.push({categoria:t})}),console.log(this.MatrizEscalasSelectCategoriasData)}CargarMatrizEscalas(){this.AnimarCargaTablaMatrizEscalas(),this._mescalas.ObtenerMatrizEscalas().subscribe(o=>{console.log("MatrizEscalas CARGADO",o.data),this.MatrizEscalas=o.data,this.isLoadingMatrizEscalas=!1},o=>{console.log("ERROR AL CARGAR MatrizEscalas",o),this.isLoadingMatrizEscalas=!1})}AgregarModificarMatrizEscalas(){if(this.newMatrizEscalas.invalid){this.ValidacionTodoElementoMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalMatrizEscalas=!1;return}else{this.AnimarCargaTablaMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let o=this.newMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newMatrizEscalas.value),o?this._mescalas.ModificarMatrizEscalas(this.newMatrizEscalas.value,this.newMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._mescalas.AgregarMatrizEscalas(this.newMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarMatrizEscalas(o,e){switch(e){case"SubMatrizEscalas":this.idMatrizEscalaSave=o,this.CargarSubMatrizEscalas(),this._tools.abrirModal("ModalAllGestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),o&&this._mescalas.SeleccionarMatrizEscalas(o).subscribe(t=>{Object.keys(this.newMatrizEscalas.controls).forEach(s=>{this.newMatrizEscalas.controls[s].setValue(t.data[s])}),console.log("SELECCION DE MatrizEscalas EXITOSA",this.newMatrizEscalas.value),this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._tools.abrirModal("modalgestionMatrizEscalas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR MatrizEscalas",t),this._tools.MostrarMensajeError()});break}}EliminarMatrizEscalas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._mescalas.EliminarMatrizEscalas(o).subscribe(t=>{console.log(t.data),this.CargarMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR MatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetMatrizEscalas(){this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this._tools.cerrarModal("modalgestionMatrizEscalas")}AbrirModalMatrizEscalas(){this.newMatrizEscalas.reset(),this._tools.abrirModal("modalgestionMatrizEscalas")}AutoCompletarLastMatrizEscalas(){this.newMatrizEscalas.setValue(this.newMatrizEscalasAnteriorAccion.value),this.newMatrizEscalas.patchValue({id:0}),console.log("listo",this.newMatrizEscalas.value)}AnimarCargaTablaMatrizEscalas(){this.MatrizEscalas=[],this.isLoadingMatrizEscalas=!0}ValidacionMatrizEscalasxElemento(o){return this._tools.obtenerValidationClass(this.newMatrizEscalas,o)}ValidacionTodoElementoMatrizEscalas(){Object.values(this.newMatrizEscalas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarSubMatrizEscalas(){this.AnimarCargaTablaSubMatrizEscalas(),this._submescalas.SeleccionarAllInformacionSubMatrizEscala(this.idMatrizEscalaSave).subscribe(o=>{console.log("SubMatrizEscalas CARGADO",o.data),this.SubMatrizEscalas=o.data,this.isLoadingSubMatrizEscalas=!1},o=>{console.log("ERROR AL CARGAR SubMatrizEscalas",o),this.isLoadingSubMatrizEscalas=!1})}AgregarModificarSubMatrizEscalas(){if(this.newSubMatrizEscalas.invalid){this.ValidacionTodoElementoSubMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubMatrizEscalas=!1;return}else{this.AnimarCargaTablaSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let o=this.newSubMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newSubMatrizEscalas.value),o?this._submescalas.ModificarSubMatrizEscalas(this.newSubMatrizEscalas.value,this.newSubMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._submescalas.AgregarSubMatrizEscalas(this.newSubMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubMatrizEscalas(o){this._tools.MostrarMensajeLoading(),o&&this._submescalas.SeleccionarSubMatrizEscalas(o).subscribe(e=>{Object.keys(this.newSubMatrizEscalas.controls).forEach(t=>{this.newSubMatrizEscalas.controls[t].setValue(e.data[t])}),console.log("SELECCION DE SubMatrizEscalas EXITOSA",this.newSubMatrizEscalas.value),this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._tools.abrirModal("modalgestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR SubMatrizEscalas",e),this._tools.MostrarMensajeError()})}EliminarSubMatrizEscalas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._submescalas.EliminarSubMatrizEscalas(o).subscribe(t=>{console.log(t.data),this.CargarSubMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetSubMatrizEscalas(){this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this._tools.cerrarModal("modalgestionSubMatrizEscalas")}AbrirModalSubMatrizEscalas(){this.newSubMatrizEscalas.reset(),this.newSubMatrizEscalas.patchValue({id_matrizescala:this.idMatrizEscalaSave}),this._tools.abrirModal("modalgestionSubMatrizEscalas")}AutoCompletarLastSubMatrizEscalas(){this.newSubMatrizEscalas.setValue(this.newSubMatrizEscalasAnteriorAccion.value),this.newSubMatrizEscalas.patchValue({id:0}),console.log("listo",this.newSubMatrizEscalas.value)}AnimarCargaTablaSubMatrizEscalas(){this.SubMatrizEscalas=[],this.isLoadingSubMatrizEscalas=!0}ValidacionSubMatrizEscalasxElemento(o){return this._tools.obtenerValidationClass(this.newSubMatrizEscalas,o)}ValidacionTodoElementoSubMatrizEscalas(){Object.values(this.newSubMatrizEscalas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||r)(A(Se),A(H),A(ht))}}static{this.\u0275cmp=U({type:r,selectors:[["app-gestiondematrizdeescalas"]],decls:181,vars:41,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-9","d-flex","justify-content-end"],["title","REFRESAR TABLA",1,"input-group-text",3,"click"],[1,"bi","bi-cloud-download"],["title","REFRESAR SELECT",1,"input-group-text",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3","col-sm-12"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["type","text","placeholder","","formControlName","categoria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombrematriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","valor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","multiplicar",1,"form-control",3,"ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group-text"],[1,"bi","bi-search"],["id","modalgestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","nombresubmatriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[3,"value"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Gestionar Sub Matriz","class","btn btn-primary p-1 py-0",3,"click",4,"ngIf"],["title","Gestionar Sub Matriz",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-subtract",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","3",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Gesti\xF3n de MatrizEscalas"),n(),i(6,"p",4),a(7,"Administra toda la informaci\xF3n de los MatrizEscalas de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),u("click",function(){return t.AbrirModalMatrizEscalas()}),m(11,"i",7),a(12," A\xF1adir MatrizEscalas"),m(13,"span",8),n()(),i(14,"div",9)(15,"button",10),u("click",function(){return t.CargarMatrizEscalas()}),m(16,"i",11),n(),i(17,"button",12),u("click",function(){return t.RefrescarFiltradorSelectCategoria()}),m(18,"i",13),n(),i(19,"div",14)(20,"div",15)(21,"select",16),u("input",function(){return t.paginaMatrizEscalas=1}),V("ngModelChange",function(c){return T(t.filtertxtMatrizEscalas1,c)||(t.filtertxtMatrizEscalas1=c),c}),i(22,"option",17),a(23,"Seleccione una opci\xF3n"),n(),i(24,"option",18),a(25,"TODA LA INFORMACI\xD3N"),n(),v(26,Fo,2,2,"option",19),n(),i(27,"label"),a(28,"Filtrar"),n()()(),i(29,"div",14)(30,"div",20)(31,"div",21)(32,"input",22),u("input",function(){return t.paginaMatrizEscalas=1}),V("ngModelChange",function(c){return T(t.filtertxtMatrizEscalas,c)||(t.filtertxtMatrizEscalas=c),c}),n(),i(33,"label"),a(34,"Buscar"),n()()()()()(),m(35,"hr"),i(36,"div",23)(37,"table",24)(38,"thead")(39,"tr")(40,"th",25),a(41,"#"),n(),i(42,"th",26),a(43,"Categoria"),n(),i(44,"th",26),a(45,"Nombre de Matriz"),n(),i(46,"th",26),a(47,"Valor"),n(),i(48,"th",26),a(49,"Multiplicar X?"),n(),i(50,"th",26),a(51,"ACCIONES"),n()()(),i(52,"tbody",27),v(53,Uo,6,0,"tr",28)(54,jo,3,0,"tr",28)(55,Bo,17,6,"tr",29),S(56,"filtercategorianombrematrizvalor"),S(57,"filtercategorianombrematrizvalor"),S(58,"paginate"),n()(),i(59,"pagination-controls",30),u("pageChange",function(c){return t.paginaMatrizEscalas=c}),n()(),m(60,"hr"),i(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"div",35)(66,"h1",36),a(67),n(),i(68,"button",37),u("click",function(){return t.resetMatrizEscalas()}),n()()(),i(69,"div",38)(70,"div",39)(71,"div",15)(72,"input",40),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"categoria")}),n(),i(73,"label"),a(74,"categoria"),n(),i(75,"div",41),a(76,"Este campo es obligatorio*"),n()(),i(77,"div",15)(78,"input",42),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"nombrematriz")}),n(),i(79,"label"),a(80,"nombrematriz"),n(),i(81,"div",41),a(82,"Este campo es obligatorio*"),n()(),i(83,"div",15)(84,"input",43),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"valor")}),n(),i(85,"label"),a(86,"valor"),n(),i(87,"div",41),a(88,"Este campo es obligatorio*"),n()(),i(89,"div",15),m(90,"input",44),i(91,"label"),a(92,"multiplicar X2"),n(),i(93,"div",41),a(94,"Este campo es obligatorio*"),n()()()(),i(95,"div",45),v(96,Ho,6,0,"div",46),i(97,"div",47)(98,"div",48)(99,"button",49),u("click",function(){return t.resetMatrizEscalas()}),m(100,"i",50),a(101," CANCELAR"),m(102,"span",8),n()(),i(103,"div",51),v(104,$o,4,4,"button",52)(105,Wo,2,1,"button",53),n()()()()()(),i(106,"div",54)(107,"div",32)(108,"div",33)(109,"div",34)(110,"h1",55),a(111,"Modal Gesti\xF3n Sub Matriz Escalas (Objetivos)"),n(),m(112,"button",56),n(),i(113,"div",38),m(114,"hr"),i(115,"div",0)(116,"div",1)(117,"div",2)(118,"h1",3),a(119,"Gesti\xF3n de SubMatrizEscalas"),n(),i(120,"p",4),a(121,"Administra toda la informaci\xF3n de los SubMatrizEscalas de manera sencilla y eficiente"),n()()()(),i(122,"div",1)(123,"div",5)(124,"button",6),u("click",function(){return t.AbrirModalSubMatrizEscalas()}),m(125,"i",7),a(126," A\xF1adir SubMatrizEscalas"),m(127,"span",8),n()(),i(128,"div",57)(129,"div",20)(130,"span",58),m(131,"i",59),n(),i(132,"div",21)(133,"input",22),u("input",function(){return t.paginaSubMatrizEscalas=1}),V("ngModelChange",function(c){return T(t.filtertxtSubMatrizEscalas,c)||(t.filtertxtSubMatrizEscalas=c),c}),n(),i(134,"label"),a(135,"Buscar"),n()()()()(),m(136,"hr"),i(137,"div",23)(138,"table",24)(139,"thead")(140,"tr")(141,"th",25),a(142,"#"),n(),i(143,"th",26),a(144,"Nombre de Sub Matriz"),n(),i(145,"th",26),a(146,"ACCIONES"),n()()(),i(147,"tbody",27),v(148,Zo,6,0,"tr",28)(149,Qo,3,0,"tr",28)(150,Xo,10,2,"tr",29),S(151,"paginate"),n()(),i(152,"pagination-controls",30),u("pageChange",function(c){return t.paginaSubMatrizEscalas=c}),n()(),m(153,"hr"),i(154,"div",60)(155,"div",32)(156,"div",33)(157,"div",34)(158,"div",35)(159,"h1",36),a(160),n(),i(161,"button",37),u("click",function(){return t.resetSubMatrizEscalas()}),n()()(),i(162,"div",38)(163,"div",39)(164,"div",15)(165,"input",61),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newSubMatrizEscalas,"nombresubmatriz")}),n(),i(166,"label"),a(167,"Nombre Sub Matriz"),n(),i(168,"div",41),a(169,"Este campo es obligatorio*"),n()()()(),i(170,"div",45),v(171,Yo,6,0,"div",46),i(172,"div",47)(173,"div",48)(174,"button",49),u("click",function(){return t.resetSubMatrizEscalas()}),m(175,"i",50),a(176," CANCELAR"),m(177,"span",8),n()(),i(178,"div",51),v(179,Jo,4,4,"button",52)(180,Ko,2,1,"button",53),n()()()()()()()()()()),e&2&&(l(21),D("ngModel",t.filtertxtMatrizEscalas1),l(5),d("ngForOf",t.MatrizEscalasSelectCategoriasData),l(6),D("ngModel",t.filtertxtMatrizEscalas),l(21),d("ngIf",t.isLoadingMatrizEscalas),l(),d("ngIf",!t.isLoadingMatrizEscalas&&t.MatrizEscalas.length===0),l(),d("ngForOf",M(58,31,M(57,28,M(56,25,t.MatrizEscalas,t.filtertxtMatrizEscalas),t.filtertxtMatrizEscalas1),G(37,Ci,t.paginaMatrizEscalas))),l(12),E("",t.newMatrizEscalas.get("id").value?"Modificar":"Registrar"," MatrizEscalas"),l(3),d("formGroup",t.newMatrizEscalas),l(2),d("ngClass",t.ValidacionMatrizEscalasxElemento("categoria")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("nombrematriz")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("valor")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("multiplicar")),l(6),d("ngIf",!t.newMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalMatrizEscalas),l(28),D("ngModel",t.filtertxtSubMatrizEscalas),l(15),d("ngIf",t.isLoadingSubMatrizEscalas),l(),d("ngIf",!t.isLoadingSubMatrizEscalas&&t.SubMatrizEscalas.length===0),l(),d("ngForOf",M(151,34,t.SubMatrizEscalas,G(39,Ci,t.paginaSubMatrizEscalas))),l(10),E("",t.newSubMatrizEscalas.get("id").value?"Modificar":"Registrar"," SubMatrizEscalas"),l(3),d("formGroup",t.newSubMatrizEscalas),l(2),d("ngClass",t.ValidacionSubMatrizEscalasxElemento("nombresubmatriz")),l(6),d("ngIf",!t.newSubMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalSubMatrizEscalas))},dependencies:[ee,X,Y,ue,pe,oe,le,me,ae,re,se,ce,de,fe,he,ft]})}};var vt=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerPlandeIntervencions(){return this.http.get(this.ruta+"api/PlandeIntervencions/")}AgregarPlandeIntervencions(o){return this.http.post(this.ruta+"api/PlandeIntervencions/",o)}ModificarPlandeIntervencions(o,e){return this.http.put(this.ruta+"api/PlandeIntervencions/"+e,o)}SeleccionarPlandeIntervencions(o){return this.http.get(this.ruta+"api/PlandeIntervencions/"+o)}EliminarPlandeIntervencions(o){return this.http.delete(this.ruta+"api/PlandeIntervencions/"+o)}createFormGroupPlandeIntervencions(){return new k({id:new b(0),orden:new b(""),id_infocliente:new b("",[q.required]),momento:new b(""),objetivo:new b(""),foco:new b(""),mlt:new b(""),enfoque:new b(""),duracion:new b("")})}CargarPlandeIntervencionxidInfoCliente(o){return this.http.get(this.ruta+"api/CargarPlandeIntervencionxidInfoCliente/"+o)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var Ct=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerSubPlandeIntervencions(){return this.http.get(this.ruta+"api/SubPlandeIntervencions/")}AgregarSubPlandeIntervencions(o){return this.http.post(this.ruta+"api/SubPlandeIntervencions/",o)}ModificarSubPlandeIntervencions(o,e){return this.http.put(this.ruta+"api/SubPlandeIntervencions/"+e,o)}SeleccionarSubPlandeIntervencions(o){return this.http.get(this.ruta+"api/SubPlandeIntervencions/"+o)}EliminarSubPlandeIntervencions(o){return this.http.delete(this.ruta+"api/SubPlandeIntervencions/"+o)}createFormGroupSubPlandeIntervencions(){return new k({id:new b(0),id_plandeintervencion:new b(""),categoria:new b(""),nombre:new b("")})}SeleccionarAllInformacionSubPlandeIntervencions(o){return this.http.get(this.ruta+"api/AllInfoSubPlandeIntervencions/"+o)}eliminarsubplandeintervencionsxdata(o){return this.http.post(this.ruta+"api/eliminarsubplandeintervencionsxdata/",o)}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var ia=()=>({standalone:!0}),Gt=r=>({itemsPerPage:10,currentPage:r}),na=r=>({itemsPerPage:3,currentPage:r}),_i=r=>({checked:r,"custom-border":!0});function oa(r,o){r&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),a(5,"Loading..."),n()()()()())}function aa(r,o){r&1&&(i(0,"tr")(1,"td",78),a(2,"No hay datos disponibles"),n()())}function ra(r,o){r&1&&(ye(0),m(1,"hr",95),Pe())}function sa(r,o){if(r&1&&(i(0,"li"),a(1),v(2,ra,2,0,"ng-container",59),n()),r&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function la(r,o){r&1&&(ye(0),m(1,"hr",95),Pe())}function ca(r,o){if(r&1&&(i(0,"li"),a(1),v(2,la,2,0,"ng-container",59),n()),r&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function da(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",82),a(2),n(),i(3,"td",83),a(4),n(),i(5,"td",83),a(6),i(7,"div",84)(8,"small",85),a(9),n()()(),i(10,"td",86)(11,"ul",87),v(12,sa,3,2,"li",77),n()(),i(13,"td",86)(14,"ul",87),v(15,ca,3,2,"li",77),n()(),i(16,"td",83),a(17),i(18,"div",84)(19,"small",85),a(20),n()()(),i(21,"td",83),a(22),n(),i(23,"td",88)(24,"button",89),u("click",function(){let s=g(e).$implicit,c=p(3);return h(c.SeleccionarPlandeIntervencions(s.id,"SubPlandeIntervencions"))}),m(25,"i",90),n(),i(26,"button",91),u("click",function(){let s=g(e).$implicit,c=p(3);return h(c.SeleccionarPlandeIntervencions(s.id,"default"))}),m(27,"i",92),n(),i(28,"button",93),u("click",function(){let s=g(e).$implicit,c=p(3);return h(c.EliminarPlandeIntervencions(s.id))}),m(29,"i",94),n()()()}if(r&2){let e=o.$implicit,t=o.index,s=p(3);l(2),C((s.paginaPlandeIntervencions-1)*10+(t+1)),l(2),C(e.momento),l(2),E(" ",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",s.getRecursosMusicalesList(e)),l(3),d("ngForOf",s.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),C(e.duracion)}}function ma(r,o){if(r&1&&(i(0,"div",63)(1,"div",64)(2,"div",65)(3,"button",66),m(4,"i",67),n()(),i(5,"div",68)(6,"span",69),a(7),n()(),i(8,"div",65)(9,"span",69),a(10),S(11,"dateFormat"),n(),i(12,"button",70),m(13,"i",67),n()()(),i(14,"div",71)(15,"div",72)(16,"table",73)(17,"thead")(18,"tr")(19,"th",74),a(20,"#"),n(),i(21,"th",75),a(22,"Momento"),n(),i(23,"th",75),a(24,"Objetivo/Foco"),n(),i(25,"th",75),a(26,"Recursos Musicales"),n(),i(27,"th",75),a(28,"Enfasis Musical"),n(),i(29,"th",75),a(30,"MLT/Enfoque"),n(),i(31,"th",75),a(32,"Duraci\xF3n"),n(),i(33,"th",75),a(34,"ACCIONES"),n()()(),i(35,"tbody",76),v(36,oa,6,0,"tr",59)(37,aa,3,0,"tr",59)(38,da,30,9,"tr",77),n()()()()()),r&2){let e=o.$implicit,t=p(2);l(3),Ce("data-bs-target","#collapseCar"+e.id),l(4),C(e.apellidos+" "+e.nombres),l(3),E("Fecha de Admisi\xF3n: ",ne(11,8,e.fechaadmision),""),l(2),Ce("data-bs-target","#collapseCar"+e.id),l(2),d("id","collapseCar"+e.id),l(22),d("ngIf",t.isLoadingPlandeIntervencions),l(),d("ngIf",!t.isLoadingPlandeIntervencions&&t.PlandeIntervencions.length===0),l(),d("ngForOf",e.intervenciones)}}function ua(r,o){if(r&1){let e=_();i(0,"div",1)(1,"div",61),v(2,ma,39,10,"div",62),S(3,"filterapellidosnombrescarnet"),S(4,"paginate"),i(5,"pagination-controls",30),u("pageChange",function(s){g(e);let c=p();return h(c.paginaPlandeIntervencions=s)}),n()()()}if(r&2){let e=p();l(2),d("ngForOf",M(4,4,M(3,1,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),G(7,Gt,e.paginaPlandeIntervencions)))}}function pa(r,o){r&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),a(5,"Loading..."),n()()()()())}function ga(r,o){r&1&&(i(0,"tr")(1,"td",78),a(2,"No hay datos disponibles"),n()())}function ha(r,o){r&1&&(ye(0),m(1,"hr",95),Pe())}function fa(r,o){if(r&1&&(i(0,"li"),a(1),v(2,ha,2,0,"ng-container",59),n()),r&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function ba(r,o){r&1&&(ye(0),m(1,"hr",95),Pe())}function va(r,o){if(r&1&&(i(0,"li"),a(1),v(2,ba,2,0,"ng-container",59),n()),r&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Ca(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",82),a(2),n(),i(3,"td",83),a(4),i(5,"div",84)(6,"small",85),a(7),S(8,"dateFormat"),n()()(),i(9,"td",83),a(10),n(),i(11,"td",83),a(12),i(13,"div",84)(14,"small",85),a(15),n()()(),i(16,"td",86)(17,"ul",87),v(18,fa,3,2,"li",77),n()(),i(19,"td",86)(20,"ul",87),v(21,va,3,2,"li",77),n()(),i(22,"td",83),a(23),i(24,"div",84)(25,"small",85),a(26),n()()(),i(27,"td",83),a(28),n(),i(29,"td",88)(30,"button",89),u("click",function(){let s=g(e).$implicit,c=p(2);return h(c.SeleccionarPlandeIntervencions(s.id,"SubPlandeIntervencions"))}),m(31,"i",90),n(),i(32,"button",91),u("click",function(){let s=g(e).$implicit,c=p(2);return h(c.SeleccionarPlandeIntervencions(s.id))}),m(33,"i",92),n(),i(34,"button",93),u("click",function(){let s=g(e).$implicit,c=p(2);return h(c.EliminarPlandeIntervencions(s.id))}),m(35,"i",94),n()()()}if(r&2){let e=o.$implicit,t=o.index,s=p(2);l(2),C((s.paginaPlandeIntervencions-1)*10+(t+1)),l(2),E("",e.apellidos+" "+e.nombres," "),l(3),E("Admisi\xF3n: ",ne(8,11,e.fechaadmision),""),l(3),C(e.momento),l(2),E("",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",s.getRecursosMusicalesList(e)),l(3),d("ngForOf",s.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),C(e.duracion)}}function _a(r,o){if(r&1){let e=_();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),a(5,"#"),n(),i(6,"th",75),a(7,"Apellidos nombres"),n(),i(8,"th",75),a(9,"Momento"),n(),i(10,"th",75),a(11,"Objetivo"),n(),i(12,"th",75),a(13,"Recursos Musicales"),n(),i(14,"th",75),a(15,"Enfasis Musical"),n(),i(16,"th",75),a(17,"MLT"),n(),i(18,"th",75),a(19,"Duraci\xF3n"),n(),i(20,"th",75),a(21,"ACCIONES"),n()()(),i(22,"tbody",76),v(23,pa,6,0,"tr",59)(24,ga,3,0,"tr",59)(25,Ca,36,13,"tr",77),S(26,"filterapellidosnombrescarnet"),S(27,"paginate"),n()(),i(28,"pagination-controls",30),u("pageChange",function(s){g(e);let c=p();return h(c.paginaPlandeIntervencions=s)}),n()()}if(r&2){let e=p();l(23),d("ngIf",e.isLoadingPlandeIntervencions),l(),d("ngIf",!e.isLoadingPlandeIntervencions&&e.PlandeIntervencions.length===0),l(),d("ngForOf",M(27,6,M(26,3,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),G(9,Gt,e.paginaPlandeIntervencions)))}}function Ea(r,o){if(r&1){let e=_();i(0,"div",98),u("click",function(s){let c=g(e).$implicit,f=p(2);return h(f.SeleccionandoInfoCliente(s,c))}),i(1,"div",99)(2,"h5",100),a(3),n(),i(4,"small"),a(5),n()(),i(6,"p",100),a(7),n()()}if(r&2){let e=o.$implicit;l(3),W("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function Sa(r,o){if(r&1&&(i(0,"div",96),v(1,Ea,8,4,"div",97),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),n()),r&2){let e=p();l(),d("ngForOf",M(3,4,M(2,1,e.InfoClientes,e.filterInfoClientes),G(7,na,e.paginaInfoClientes)))}}function Ia(r,o){if(r&1&&(i(0,"option",101),a(1),n()),r&2){let e=o.$implicit;F("value",e.nombrematriz),l(),C(e.nombrematriz)}}function Aa(r,o){if(r&1&&(i(0,"option",101),a(1),n()),r&2){let e=o.$implicit;d("value",e.nombrematriz),l(),C(e.nombrematriz)}}function xa(r,o){if(r&1&&(i(0,"option",101),a(1),n()),r&2){let e=o.$implicit;d("value",e.nombresubmatriz),l(),C(e.nombresubmatriz)}}function Ma(r,o){if(r&1&&(i(0,"option",101),a(1),n()),r&2){let e=o.$implicit;F("value",e.nombrematriz),l(),C(e.nombrematriz)}}function wa(r,o){if(r&1&&(i(0,"option",101),a(1),n()),r&2){let e=o.$implicit;F("value",e.nombrematriz),l(),C(e.nombrematriz)}}function ya(r,o){if(r&1){let e=_();i(0,"div",102)(1,"button",103),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastPlandeIntervencions())}),m(2,"i",104),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),n()()}}function Pa(r,o){if(r&1){let e=_();i(0,"button",106),u("click",function(){g(e);let s=p();return h(s.AgregarModificarPlandeIntervencions())}),m(1,"i",107),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Oa(r,o){if(r&1){let e=_();i(0,"button",108),u("click",function(){g(e);let s=p();return h(s.AgregarModificarPlandeIntervencions())}),m(1,"span",109),n()}r&2&&d("disabled",!0)}function Ra(r,o){r&1&&(i(0,"div",116)(1,"span",81),a(2,"Loading..."),n()())}function Da(r,o){if(r&1){let e=_();i(0,"div",112)(1,"input",113),u("click",function(s){let c=g(e).$implicit,f=p(2);return h(f.AccionCheckearAddSubIntervencions(c,s))}),n(),v(2,Ra,3,0,"div",114),i(3,"label",115),a(4),n()()}if(r&2){let e=o.$implicit,t=o.index,s=p(2);d("ngClass",G(8,_i,s.isChecked("RECURSOS MUSICALES",e.nombrematriz))),l(),d("id","checkboxMatrizRecursosMusicales"+t)("value",e.nombrematriz)("checked",s.isChecked("RECURSOS MUSICALES",e.nombrematriz))("disabled",s.isLoading[t]),l(),d("ngIf",s.isLoading[t]),l(),d("for","checkboxMatrizRecursosMusicales"+t),l(),C(e.nombrematriz)}}function Ta(r,o){r&1&&(i(0,"div",116)(1,"span",81),a(2,"Loading..."),n()())}function Va(r,o){if(r&1){let e=_();i(0,"div",112)(1,"input",113),u("click",function(s){let c=g(e).$implicit,f=p(2);return h(f.AccionCheckearAddSubIntervencions(c,s))}),n(),v(2,Ta,3,0,"div",114),i(3,"label",115),a(4),n()()}if(r&2){let e=o.$implicit,t=o.index,s=p(2);d("ngClass",G(8,_i,s.isChecked("ENFASIS MUSICAL",e.nombrematriz))),l(),d("id","checkboxMatrizEnfasisMusical"+t)("value",e.nombrematriz)("checked",s.isChecked("ENFASIS MUSICAL",e.nombrematriz))("disabled",s.isLoading[t]),l(),d("ngIf",s.isLoading[t]),l(),d("for","checkboxMatrizEnfasisMusical"+t),l(),C(e.nombrematriz)}}function La(r,o){if(r&1&&(i(0,"div"),m(1,"hr"),i(2,"h3",84),a(3,"RECURSOS MUSICALES"),n(),i(4,"div",110),v(5,Da,5,10,"div",111),n(),m(6,"hr"),i(7,"h3",84),a(8,"ENFASIS MUSICAL"),n(),i(9,"div",110),v(10,Va,5,10,"div",111),n(),m(11,"hr"),n()),r&2){let e=p();l(5),d("ngForOf",e.MatrizRecursosMusicales),l(5),d("ngForOf",e.MatrizEnfasisMusical)}}function Na(r,o){r&1&&(i(0,"tr")(1,"td",117)(2,"div",79)(3,"div",80)(4,"span",81),a(5,"Loading..."),n()()()()())}function ka(r,o){r&1&&(i(0,"tr")(1,"td",117),a(2,"No hay datos disponibles"),n()())}function za(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",82),a(2),n(),i(3,"td",83),a(4),n(),i(5,"td",83),a(6),n(),i(7,"td",88)(8,"button",93),u("click",function(){let s=g(e).$implicit,c=p(2);return h(c.EliminarSubPlandeIntervencions(s.id))}),m(9,"i",94),n()()()}if(r&2){let e=o.index,t=o.$implicit,s=p(2);l(2),C((s.paginaSubPlandeIntervencions-1)*10+(e+1)),l(2),C(t.categoria),l(2),C(t.nombre)}}function Ga(r,o){if(r&1){let e=_();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),a(5,"#"),n(),i(6,"th",75),a(7,"Categoria"),n(),i(8,"th",75),a(9,"Nombre"),n(),i(10,"th",75),a(11,"ACCIONES"),n()()(),i(12,"tbody",76),v(13,Na,6,0,"tr",59)(14,ka,3,0,"tr",59)(15,za,10,3,"tr",77),S(16,"paginate"),n()(),i(17,"pagination-controls",30),u("pageChange",function(s){g(e);let c=p();return h(c.paginaSubPlandeIntervencions=s)}),n()()}if(r&2){let e=p();l(13),d("ngIf",e.isLoadingSubPlandeIntervencions),l(),d("ngIf",!e.isLoadingSubPlandeIntervencions&&e.SubPlandeIntervencions.length===0),l(),d("ngForOf",M(16,3,e.SubPlandeIntervencions,G(6,Gt,e.paginaSubPlandeIntervencions)))}}function Fa(r,o){if(r&1){let e=_();i(0,"div",102)(1,"button",103),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastSubPlandeIntervencions())}),m(2,"i",104),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),n()()}}function Ua(r,o){if(r&1){let e=_();i(0,"button",106),u("click",function(){g(e);let s=p();return h(s.AgregarModificarSubPlandeIntervencions())}),m(1,"i",107),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newSubPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function ja(r,o){if(r&1){let e=_();i(0,"button",108),u("click",function(){g(e);let s=p();return h(s.AgregarModificarSubPlandeIntervencions())}),m(1,"span",109),n()}r&2&&d("disabled",!0)}var Be=class r{constructor(o,e,t,s,c,f){this.route=o;this._planintervencion=e;this._tools=t;this._subplanintervencion=s;this._matrizescalas=c;this._infoclientes=f;this.idRecibida=0;this.NomCRecibido="";this.FechAdmisionRecibido="";this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.MatrizMomento=[];this.MatrizObjetivos=[];this.MatrizRecursosMusicales=[];this.MatrizEnfasisMusical=[];this.MatrizEnfoque=[];this.MatrizMLT=[];this.subMatrizObjetivo=[];this.PlandeIntervencions=[];this.paginaPlandeIntervencions=1;this.isLoadingPlandeIntervencions=!0;this.AnimacionCargabtnModalPlandeIntervencions=!1;this.filtertxtPlandeIntervencions="";this.idPlandeIntervencionsSave=0;this.SubPlandeIntervencions=[];this.paginaSubPlandeIntervencions=1;this.isLoadingSubPlandeIntervencions=!0;this.AnimacionCargabtnModalSubPlandeIntervencions=!1;this.filtertxtSubPlandeIntervencions="";this.isLoading=[];this.ModoBoolean=!1;this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this.newPlandeIntervencionsAnteriorAccion=this._planintervencion.createFormGroupPlandeIntervencions(),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencionsAnteriorAccion=this._subplanintervencion.createFormGroupSubPlandeIntervencions()}ngOnInit(){this.CargarMatrizEscalas(),this.route.queryParams.subscribe(o=>{this.idRecibida=o.id,this.NomCRecibido=o.NomC,this.FechAdmisionRecibido=o.FechAdmision,console.log("Variable recibida:",this.idRecibida),this.CargarPlandeIntervencions()})}ngOnDestroy(){this._tools.cerrarModales()}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(o=>{console.log("INFO CLIENTES CARGADO",o.data),this.InfoClientes=o.data},o=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",o)})}SeleccionandoInfoCliente(o,e){let t=o.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPlandeIntervencions.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPlandeIntervencions.patchValue({id_infocliente:e.id}))}isChecked(o,e){return this.SubPlandeIntervencions.some(t=>t.categoria===o&&t.nombre===e)}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(o=>{this.MatrizEscalas=o.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=o.data.filter(e=>e.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)"),this.MatrizCIM=o.data.filter(e=>e.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)"),this.MatrizMomento=o.data.filter(e=>e.categoria==="MOMENTO"),this.MatrizObjetivos=o.data.filter(e=>e.categoria==="OBJETIVOS"),this.MatrizRecursosMusicales=o.data.filter(e=>e.categoria==="RECURSOS MUSICALES"),this.MatrizEnfasisMusical=o.data.filter(e=>e.categoria==="ENFASIS MUSICAL"),this.MatrizEnfoque=o.data.filter(e=>e.categoria==="ENFOQUE"),this.MatrizMLT=o.data.filter(e=>e.categoria==="ETAPA MLT"),console.log("MATRIZ Recursos",this.MatrizRecursosMusicales)},o=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",o)})}onObjetivoChange(o){let e=this.MatrizObjetivos.find(t=>t.nombrematriz===o);e?this.subMatrizObjetivo=e.submatrizescala:this.subMatrizObjetivo=[]}CargarPlandeIntervencionsAll(){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.ObtenerPlandeIntervencions().subscribe(o=>{console.log("PlandeIntervencions CARGADO",o.data),this.PlandeIntervencions=o.data;let e=this.PlandeIntervencions.reduce((t,s)=>{let c=t.find(f=>f.nombres===s.nombres&&f.apellidos===s.apellidos&&f.fechaadmision===s.fechaadmision);return c?c.intervenciones.push({id:s.id,momento:s.momento,objetivo:s.objetivo,foco:s.foco,mlt:s.mlt,enfoque:s.enfoque,duracion:s.duracion,subplandeintervencion:s.subplandeintervencion}):t.push({id:s.id,nombres:s.nombres,apellidos:s.apellidos,fechaadmision:s.fechaadmision,intervenciones:[{id:s.id,momento:s.momento,objetivo:s.objetivo,foco:s.foco,mlt:s.mlt,enfoque:s.enfoque,duracion:s.duracion,subplandeintervencion:s.subplandeintervencion}]}),t},[]);console.log("Agrupado Plan de Intervenciones:",e),this.PlandeIntervencions=e,this.isLoadingPlandeIntervencions=!1},o=>{console.log("ERROR AL CARGAR PlandeIntervencions",o),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencionxidInfoCliente(o){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.CargarPlandeIntervencionxidInfoCliente(o).subscribe(e=>{console.log("PlandeIntervencions CARGADO",e.data),this.PlandeIntervencions=e.data,this.isLoadingPlandeIntervencions=!1},e=>{console.log("ERROR AL CARGAR PlandeIntervencions",e),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencions(){this.idRecibida==null||this.idRecibida==0||this.idRecibida==null?this.CargarPlandeIntervencionsAll():this.CargarPlandeIntervencionxidInfoCliente(Number(this.idRecibida))}getRecursosMusicalesList(o){return o.subplandeintervencion.filter(e=>e.categoria==="RECURSOS MUSICALES").map(e=>e.nombre)}getEnfasisMusicalList(o){return o.subplandeintervencion.filter(e=>e.categoria==="ENFASIS MUSICAL").map(e=>e.nombre)}AgregarModificarPlandeIntervencions(){if(this.newPlandeIntervencions.invalid){this.ValidacionTodoElementoPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPlandeIntervencions=!1;return}else{this.AnimarCargaTablaPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let o=this.newPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newPlandeIntervencions.value),o?this._planintervencion.ModificarPlandeIntervencions(this.newPlandeIntervencions.value,this.newPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._planintervencion.AgregarPlandeIntervencions(this.newPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPlandeIntervencions(o,e){switch(e){case"SubPlandeIntervencions":this.idPlandeIntervencionsSave=o,this.CargarSubPlandeIntervencions(),this._tools.abrirModal("ModalAllGestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),o&&this._planintervencion.SeleccionarPlandeIntervencions(o).subscribe(t=>{Object.keys(this.newPlandeIntervencions.controls).forEach(s=>{this.newPlandeIntervencions.controls[s].setValue(t.data[s])}),console.log("SELECCION DE PlandeIntervencions EXITOSA",this.newPlandeIntervencions.value),this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._tools.abrirModal("modalgestionPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR PlandeIntervencions",t),this._tools.MostrarMensajeError()});break}}EliminarPlandeIntervencions(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._planintervencion.EliminarPlandeIntervencions(o).subscribe(t=>{console.log(t.data),this.CargarPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR PlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetPlandeIntervencions(){this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this._tools.cerrarModal("modalgestionPlandeIntervencions")}AbrirModalPlandeIntervencions(){this.CargarInfoClientes(),this.newPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionPlandeIntervencions")}AutoCompletarLastPlandeIntervencions(){this.newPlandeIntervencions.setValue(this.newPlandeIntervencionsAnteriorAccion.value),this.newPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newPlandeIntervencions.value)}AnimarCargaTablaPlandeIntervencions(){this.PlandeIntervencions=[],this.isLoadingPlandeIntervencions=!0}ValidacionPlandeIntervencionsxElemento(o){return this._tools.obtenerValidationClass(this.newPlandeIntervencions,o)}ValidacionTodoElementoPlandeIntervencions(){Object.values(this.newPlandeIntervencions.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarSubPlandeIntervencions(){this.AnimarCargaTablaSubPlandeIntervencions(),this._subplanintervencion.SeleccionarAllInformacionSubPlandeIntervencions(this.idPlandeIntervencionsSave).subscribe(o=>{console.log("SubPlandeIntervencions CARGADO",o.data),this.SubPlandeIntervencions=o.data,this.isLoadingSubPlandeIntervencions=!1},o=>{console.log("ERROR AL CARGAR SubPlandeIntervencions",o),this.isLoadingSubPlandeIntervencions=!1})}AgregarModificarSubPlandeIntervencions(){if(this.newSubPlandeIntervencions.invalid){this.ValidacionTodoElementoSubPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1;return}else{this.AnimarCargaTablaSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let o=this.newSubPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newSubPlandeIntervencions.value),o?this._subplanintervencion.ModificarSubPlandeIntervencions(this.newSubPlandeIntervencions.value,this.newSubPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubPlandeIntervencions(o){this._tools.MostrarMensajeLoading(),o&&this._subplanintervencion.SeleccionarSubPlandeIntervencions(o).subscribe(e=>{Object.keys(this.newSubPlandeIntervencions.controls).forEach(t=>{this.newSubPlandeIntervencions.controls[t].setValue(e.data[t])}),console.log("SELECCION DE SubPlandeIntervencions EXITOSA",this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._tools.abrirModal("modalgestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR SubPlandeIntervencions",e),this._tools.MostrarMensajeError()})}EliminarSubPlandeIntervencions(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._subplanintervencion.EliminarSubPlandeIntervencions(o).subscribe(t=>{console.log(t.data),this.CargarSubPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetSubPlandeIntervencions(){this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this._tools.cerrarModal("modalgestionSubPlandeIntervencions")}AbrirModalSubPlandeIntervencions(){this.newSubPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionSubPlandeIntervencions")}AutoCompletarLastSubPlandeIntervencions(){this.newSubPlandeIntervencions.setValue(this.newSubPlandeIntervencionsAnteriorAccion.value),this.newSubPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newSubPlandeIntervencions.value)}AnimarCargaTablaSubPlandeIntervencions(){this.SubPlandeIntervencions=[],this.isLoadingSubPlandeIntervencions=!0}ValidacionSubPlandeIntervencionsxElemento(o){return this._tools.obtenerValidationClass(this.newSubPlandeIntervencions,o)}ValidacionTodoElementoSubPlandeIntervencions(){Object.values(this.newSubPlandeIntervencions.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}AccionCheckearAddSubIntervencions(o,e){console.log("INFO A PROCESAR",o);let t=e.target.id,s=this.findCheckboxIndexById(t);if(s!==-1&&(this.isLoading[s]=!0),e.target.checked)this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencions.patchValue({id:0,id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:o.categoria,nombre:o.nombrematriz}),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(c=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",c.data),this.SubPlandeIntervencions.push(this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[s]=!1,this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",c),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[s]=!1,document.getElementById(t).checked=!1});else{let c={id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:o.categoria,nombre:o.nombrematriz};this._subplanintervencion.eliminarsubplandeintervencionsxdata(c).subscribe(f=>{console.log("SE ELIMIN\xD3 CORRECTAMENTE SubPlandeIntervencions",f.data),this.SubPlandeIntervencions=this.SubPlandeIntervencions.filter(I=>!(I.id_plandeintervencion===c.id_plandeintervencion&&I.categoria===c.categoria&&I.nombre===c.nombre)),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[s]=!1,this._tools.MostrarMensajeSuccess()},f=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",f),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[s]=!1,document.getElementById(t).checked=!0})}}findCheckboxIndexById(o){let e=o.match(/\d+$/);return e?parseInt(e[0],10):-1}onToggleChange(o){this.ModoBoolean=o.target.checked,this.CargarSubPlandeIntervencions(),console.log("Variable Boolean is now:",this.ModoBoolean)}static{this.\u0275fac=function(e){return new(e||r)(A(ui),A(vt),A(H),A(Ct),A(Se),A(Ae))}}static{this.\u0275cmp=U({type:r,selectors:[["app-gestiondeplanesdeintervencion"]],decls:170,vars:36,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],["class","row",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","modalgestionPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","orden",1,"form-control",3,"ngClass"],["formControlName","momento",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","objetivo",1,"form-control",3,"change","ngClass"],["formControlName","foco",1,"form-control",3,"ngClass"],["formControlName","enfoque",1,"form-control",3,"ngClass"],["formControlName","mlt",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"button","col-sm-6","d-flex","justify-content-start"],[1,"form-check"],["type","checkbox","id","toggleVariable",1,"form-check-input",3,"change"],["for","toggleVariable",1,"form-check-label"],[4,"ngIf"],["id","modalgestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"col-md-12"],["class","card text-bg-primary","style","border-color: aliceblue; border-width: 2px;",4,"ngFor","ngForOf"],[1,"card","text-bg-primary",2,"border-color","aliceblue","border-width","2px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"text-light"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",2,"padding","0","margin","0",3,"id"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],["scope","row",2,"margin","0","padding","0","text-align","center"],[1,"list-unstyled",2,"margin","0","padding","0","text-align","center"],[2,"white-space","nowrap"],["title","Gestionar Sub Planes de Intervencion (Rec. Musicales, Enfasis Musical)",1,"btn","btn-outline-light","p-1","py-0",3,"click"],[1,"bi","bi-music-note",2,"font-size","1.5rem"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],[2,"margin","0","padding","0"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[3,"value"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"d-flex","flex-wrap"],["class","list-group-item col-sm-3 custom-border position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item","col-sm-3","custom-border","position-relative",3,"ngClass"],["type","checkbox",1,"form-check-input","me-1",3,"click","id","value","checked","disabled"],["class","spinner-border spinner-border-sm text-primary position-absolute top-50 start-50 translate-middle","role","status",4,"ngIf"],[1,"form-check-label","stretched-link",3,"for"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute","top-50","start-50","translate-middle"],["colspan","4",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Gesti\xF3n de Plan de Intervenci\xF3n "),n(),i(6,"p",4),a(7),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),u("click",function(){return t.AbrirModalPlandeIntervencions()}),m(11,"i",7),a(12," A\xF1adir PlandeIntervencions"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),u("input",function(){return t.paginaPlandeIntervencions=1}),V("ngModelChange",function(c){return T(t.filtertxtPlandeIntervencions,c)||(t.filtertxtPlandeIntervencions=c),c}),n(),i(20,"label"),a(21,"Buscar"),n()()()()(),m(22,"hr"),v(23,ua,6,9,"div",15)(24,_a,29,11,"div",16),m(25,"hr"),i(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h1",22),a(32),n(),i(33,"button",23),u("click",function(){return t.resetPlandeIntervencions()}),n()()(),i(34,"div",24)(35,"div",25)(36,"div",26)(37,"label",27),a(38,"Buscar:"),n(),i(39,"input",28),V("ngModelChange",function(c){return T(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),u("input",function(){return t.paginaInfoClientes=1}),n()(),v(40,Sa,4,9,"div",29),i(41,"pagination-controls",30),u("pageChange",function(c){return t.paginaInfoClientes=c}),n(),m(42,"hr"),i(43,"div",31),m(44,"input",32),i(45,"label"),a(46,"cliente"),n(),i(47,"div",33),a(48,"Este campo es obligatorio*"),n()(),i(49,"div",31),m(50,"input",34),i(51,"label"),a(52,"orden"),n(),i(53,"div",33),a(54,"Este campo es obligatorio*"),n()(),i(55,"div",31)(56,"select",35)(57,"option",36),a(58,"Seleccione una opci\xF3n"),n(),v(59,Ia,2,2,"option",37),n(),i(60,"label"),a(61,"momento"),n(),i(62,"div",33),a(63,"Este campo es obligatorio*"),n()(),i(64,"div",31)(65,"select",38),u("change",function(c){return t.onObjetivoChange(c.target.value)}),i(66,"option",36),a(67,"Seleccione una opci\xF3n"),n(),v(68,Aa,2,2,"option",37),n(),i(69,"label"),a(70,"objetivo"),n(),i(71,"div",33),a(72,"Este campo es obligatorio*"),n()(),i(73,"div",31)(74,"select",39)(75,"option",36),a(76,"Seleccione una opci\xF3n"),n(),v(77,xa,2,2,"option",37),n(),i(78,"label"),a(79,"foco"),n(),i(80,"div",33),a(81,"Este campo es obligatorio*"),n()(),i(82,"div",31)(83,"select",40)(84,"option",36),a(85,"Seleccione una opci\xF3n"),n(),v(86,Ma,2,2,"option",37),n(),i(87,"label"),a(88,"enfoque"),n(),i(89,"div",33),a(90,"Este campo es obligatorio*"),n()(),i(91,"div",31)(92,"select",41)(93,"option",36),a(94,"Seleccione una opci\xF3n"),n(),v(95,wa,2,2,"option",37),n(),i(96,"label"),a(97,"mlt"),n(),i(98,"div",33),a(99,"Este campo es obligatorio*"),n()(),i(100,"div",31)(101,"input",42),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPlandeIntervencions,"duracion")}),n(),i(102,"label"),a(103,"duracion"),n(),i(104,"div",33),a(105,"Este campo es obligatorio*"),n()()()(),i(106,"div",43),v(107,ya,6,0,"div",44),i(108,"div",45)(109,"div",46)(110,"button",47),u("click",function(){return t.resetPlandeIntervencions()}),m(111,"i",48),a(112," CANCELAR"),m(113,"span",8),n()(),i(114,"div",49),v(115,Pa,4,4,"button",50)(116,Oa,2,1,"button",51),n()()()()()(),i(117,"div",52)(118,"div",18)(119,"div",19)(120,"div",20)(121,"h1",53),a(122,"Sub Plan de Intervencion: Rec. Musicales y Enfasis Musical"),n(),i(123,"button",54),u("click",function(){return t.CargarPlandeIntervencions()}),n()(),i(124,"div",24),m(125,"hr"),i(126,"div",0)(127,"div",1),m(128,"div",2),n()(),i(129,"div",1)(130,"div",55)(131,"div")(132,"div",56)(133,"input",57),u("change",function(c){return t.onToggleChange(c)}),n(),i(134,"label",58),a(135,"Modo Visualizaci\xF3n"),n()()()(),i(136,"div",9)(137,"div",10)(138,"span",11),m(139,"i",12),n(),i(140,"div",13)(141,"input",14),u("input",function(){return t.paginaSubPlandeIntervencions=1}),V("ngModelChange",function(c){return T(t.filtertxtSubPlandeIntervencions,c)||(t.filtertxtSubPlandeIntervencions=c),c}),n(),i(142,"label"),a(143,"Buscar"),n()()()()(),m(144,"hr"),v(145,La,12,2,"div",59)(146,Ga,18,8,"div",16),m(147,"hr"),i(148,"div",60)(149,"div",18)(150,"div",19)(151,"div",20)(152,"div",21)(153,"h1",22),a(154),n(),i(155,"button",23),u("click",function(){return t.resetSubPlandeIntervencions()}),n()()(),i(156,"div",24)(157,"div",25),a(158," ... "),n()(),i(159,"div",43),v(160,Fa,6,0,"div",44),i(161,"div",45)(162,"div",46)(163,"button",47),u("click",function(){return t.resetSubPlandeIntervencions()}),m(164,"i",48),a(165," CANCELAR"),m(166,"span",8),n()(),i(167,"div",49),v(168,Ua,4,4,"button",50)(169,ja,2,1,"button",51),n()()()()()()()()()()),e&2&&(l(7),W("Administra toda la informaci\xF3n del Plan de Intervencions ",t.NomCRecibido==""||t.NomCRecibido==null||t.NomCRecibido==null?"":"de: "+t.NomCRecibido," ",t.FechAdmisionRecibido==""||t.FechAdmisionRecibido==null||t.FechAdmisionRecibido==null?"":"Admisi\xF3n: "+t.FechAdmisionRecibido,""),l(12),D("ngModel",t.filtertxtPlandeIntervencions),l(4),d("ngIf",t.idRecibida==null||t.idRecibida==0||t.idRecibida==null),l(),d("ngIf",!(t.idRecibida==null||t.idRecibida==0||t.idRecibida==null)),l(8),E("",t.newPlandeIntervencions.get("id").value?"Modificar":"Registrar"," Plan de Intervenci\xF3n"),l(3),d("formGroup",t.newPlandeIntervencions),l(4),D("ngModel",t.filterInfoClientes),d("ngModelOptions",Ye(35,ia)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),F("value",t.nombreseleccionado),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("orden")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("momento")),l(3),d("ngForOf",t.MatrizMomento),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("objetivo")),l(3),d("ngForOf",t.MatrizObjetivos),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("foco")),l(3),d("ngForOf",t.subMatrizObjetivo),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("enfoque")),l(3),d("ngForOf",t.MatrizEnfoque),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("mlt")),l(3),d("ngForOf",t.MatrizMLT),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("duracion")),l(6),d("ngIf",!t.newPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalPlandeIntervencions),l(25),D("ngModel",t.filtertxtSubPlandeIntervencions),l(4),d("ngIf",!t.ModoBoolean),l(),d("ngIf",t.ModoBoolean),l(8),E("",t.newSubPlandeIntervencions.get("id").value?"Modificar":"Registrar"," SubPlandeIntervencions"),l(3),d("formGroup",t.newSubPlandeIntervencions),l(3),d("ngIf",!t.newSubPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalSubPlandeIntervencions))},dependencies:[ee,X,Y,ue,pe,oe,le,me,ae,re,se,ce,de,fe,he,xe,Ie],styles:['@charset "UTF-8";.custom-border[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;background-color:#f9f9f9}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}.position-absolute[_ngcontent-%COMP%]{position:absolute}.top-50[_ngcontent-%COMP%]{top:50%}.start-50[_ngcontent-%COMP%]{left:50%}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}.custom-border[_ngcontent-%COMP%]:hover{background-color:#e9ecef;cursor:pointer}.custom-border.checked[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.custom-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]:before{border-color:#28a745;background-color:#28a745}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:disabled ~ .spinner-border[_ngcontent-%COMP%]{display:block}.folder-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.folder[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:background-color .3s ease}.folder[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.icon-folder[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:10px;background-size:cover}span[_ngcontent-%COMP%]{font-size:16px;color:#333}']})}};var _t=class r{constructor(o){this.http=o;this.ruta=x.ruta}ObtenerUsuarios(){return this.http.get(this.ruta+"api/Usuarios/")}AgregarUsuarios(o){return this.http.post(this.ruta+"api/Usuarios/",o)}ModificarUsuarios(o,e){return this.http.put(this.ruta+"api/Usuarios/"+e,o)}SeleccionarUsuarios(o){return this.http.get(this.ruta+"api/Usuarios/"+o)}EliminarUsuarios(o){return this.http.delete(this.ruta+"api/Usuarios/"+o)}createFormGroupUsuarios(){return new k({id:new b(0),nombres:new b(""),apellidos:new b(""),usuario:new b(""),contrasenia:new b(""),celular:new b(""),celulartrabajo:new b(""),carnet:new b(""),foto:new b(""),tipo:new b(""),estado:new b("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||r)(y(w))}}static{this.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"})}};var Ba=r=>({itemsPerPage:10,currentPage:r});function Ha(r,o){r&1&&(i(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),a(5,"Loading..."),n()()()()())}function $a(r,o){r&1&&(i(0,"tr")(1,"td",62),a(2,"No hay datos disponibles"),n()())}function Wa(r,o){if(r&1&&(i(0,"a",73),m(1,"i",74),n()),r&2){let e=p().$implicit,t=p();d("href",t.ruta+e.foto,j)}}function Za(r,o){if(r&1){let e=_();i(0,"tr")(1,"td",66),a(2),n(),i(3,"td"),a(4),n(),i(5,"td"),a(6),n(),i(7,"td"),a(8),n(),i(9,"td"),a(10),n(),i(11,"td",67)(12,"button",68),u("click",function(){let s=g(e).$implicit,c=p();return h(c.SeleccionarUsuarios(s.id))}),m(13,"i",69),n(),i(14,"button",70),u("click",function(){let s=g(e).$implicit,c=p();return h(c.EliminarUsuarios(s.id))}),m(15,"i",71),n(),v(16,Wa,2,1,"a",72),n()()}if(r&2){let e=o.index,t=o.$implicit,s=p();l(2),C((s.paginaUsuarios-1)*10+(e+1)),l(2),C(t.apellidos+" "+t.nombres),l(2),C(t.carnet),l(2),C(t.celular),l(2),C(t.estado),l(6),d("ngIf",!(t.foto==null||t.foto==""))}}function Qa(r,o){if(r&1){let e=_();i(0,"div",75)(1,"button",76),u("click",function(){g(e);let s=p();return h(s.AutoCompletarLastUsuarios())}),m(2,"i",77),a(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",78),n()()}}function Xa(r,o){if(r&1){let e=_();i(0,"button",79),u("click",function(){g(e);let s=p();return h(s.AgregarModificarUsuarios())}),m(1,"i",80),a(2),m(3,"span",8),n()}if(r&2){let e=p();l(),N("bi bi-",e.newUsuarios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newUsuarios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ya(r,o){if(r&1){let e=_();i(0,"button",81),u("click",function(){g(e);let s=p();return h(s.AgregarModificarUsuarios())}),m(1,"span",82),n()}r&2&&d("disabled",!0)}var Et=class r{constructor(o,e){this._user=o;this._tools=e;this.ruta=x.ruta;this.dataDropZone={iddropzone:"dropzoneusuarios",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.Usuarios=[];this.paginaUsuarios=1;this.isLoadingUsuarios=!0;this.AnimacionCargabtnModalUsuarios=!1;this.filtertxtUsuarios="";this.newUsuarios=this._user.createFormGroupUsuarios(),this.newUsuariosAnteriorAccion=this._user.createFormGroupUsuarios()}ngOnInit(){this.CargarUsuarios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","USUARIO");var o=document.getElementById("dropzoneusuarios");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ge.instances.length>0&&ge.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarUsuarios(){this.AnimarCargaTablaUsuarios(),this._user.ObtenerUsuarios().subscribe(o=>{console.log("Usuarios CARGADO",o.data),this.Usuarios=o.data,this.isLoadingUsuarios=!1},o=>{console.log("ERROR AL CARGAR Usuarios",o),this.isLoadingUsuarios=!1})}AgregarModificarUsuarios(){if(this.newUsuarios.invalid){this.ValidacionTodoElementoUsuarios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalUsuarios=!1;return}else{this.AnimarCargaTablaUsuarios(),this.AnimacionCargabtnModalUsuarios=!0,this._tools.MostrarMensajeLoading();let e=this.newUsuarios.controls.id.value;console.log("INFO A PROCESAR",this.newUsuarios.value);var o=sessionStorage.getItem("IMG");console.log("VALOR img",o),o==null||o==""||(this.newUsuarios.value.foto=o),e?this._user.ModificarUsuarios(this.newUsuarios.value,this.newUsuarios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Usuarios",t.data),this.CargarUsuarios(),console.log("ANTERIOR",this.newUsuariosAnteriorAccion.value.foto),console.log("AHORA",this.newUsuarios.value.foto),this.newUsuariosAnteriorAccion.value.foto==this.newUsuarios.value.foto||this._tools.EliminarArchivo(this.newUsuariosAnteriorAccion.value.foto),sessionStorage.removeItem("IMG"),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Usuarios",t),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}):(this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this._user.AgregarUsuarios(this.newUsuarios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Usuarios",t.data),this.CargarUsuarios(),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Usuarios",t),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarUsuarios(o){this._tools.MostrarMensajeLoading(),o&&this._user.SeleccionarUsuarios(o).subscribe(e=>{Object.keys(this.newUsuarios.controls).forEach(t=>{this.newUsuarios.controls[t].setValue(e.data[t])}),console.log("SELECCION DE Usuarios EXITOSA",this.newUsuarios.value),this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR Usuarios",e),this._tools.MostrarMensajeError()})}EliminarUsuarios(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._user.EliminarUsuarios(o).subscribe(t=>{console.log(t.data),this.CargarUsuarios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Usuarios",t),this._tools.MostrarMensajeError()}))})}resetUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionUsuarios")}AbrirModalUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios")}AutoCompletarLastUsuarios(){this.newUsuarios.setValue(this.newUsuariosAnteriorAccion.value),this.newUsuarios.patchValue({id:0}),console.log("listo",this.newUsuarios.value)}AnimarCargaTablaUsuarios(){this.Usuarios=[],this.isLoadingUsuarios=!0}ValidacionUsuariosxElemento(o){return this._tools.obtenerValidationClass(this.newUsuarios,o)}ValidacionTodoElementoUsuarios(){Object.values(this.newUsuarios.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||r)(A(_t),A(H))}}static{this.\u0275cmp=U({type:r,selectors:[["app-gestiondeusuarios"]],decls:143,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionUsuarios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celulartrabajo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","SUPERADMINISTRADOR"],["value","MUSICOTERAPEUTA"],["value","SECRETARIA"],["formControlName","estado",1,"form-control",3,"ngClass"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneusuarios",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Gesti\xF3n de Usuarios"),n(),i(6,"p",4),a(7,"Administra toda la informaci\xF3n de los Usuarios de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),u("click",function(){return t.AbrirModalUsuarios()}),m(11,"i",7),a(12," A\xF1adir Usuarios"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),u("input",function(){return t.paginaUsuarios=1}),V("ngModelChange",function(c){return T(t.filtertxtUsuarios,c)||(t.filtertxtUsuarios=c),c}),n(),i(20,"label"),a(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),a(28,"#"),n(),i(29,"th",18),a(30,"Nombre Completo"),n(),i(31,"th",18),a(32,"Carnet"),n(),i(33,"th",18),a(34,"Celular"),n(),i(35,"th",18),a(36,"Estado"),n(),i(37,"th",18),a(38,"ACCIONES"),n()()(),i(39,"tbody",19),v(40,Ha,6,0,"tr",20)(41,$a,3,0,"tr",20)(42,Za,17,6,"tr",21),S(43,"paginate"),n()(),i(44,"pagination-controls",22),u("pageChange",function(c){return t.paginaUsuarios=c}),n()(),m(45,"hr"),i(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h1",28),a(52),n(),i(53,"button",29),u("click",function(){return t.resetUsuarios()})("click",function(){return t.CancelarArchivosDropzone()}),n()()(),i(54,"div",30)(55,"div",31)(56,"div",32)(57,"input",33),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"nombres")}),n(),i(58,"label"),a(59,"nombres"),n(),i(60,"div",34),a(61,"Este campo es obligatorio*"),n()(),i(62,"div",32)(63,"input",35),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"apellidos")}),n(),i(64,"label"),a(65,"apellidos"),n(),i(66,"div",34),a(67,"Este campo es obligatorio*"),n()(),i(68,"div",32)(69,"input",36),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"usuario")}),n(),i(70,"label"),a(71,"usuario"),n(),i(72,"div",34),a(73,"Este campo es obligatorio*"),n()(),i(74,"div",32),m(75,"input",37),i(76,"label"),a(77,"contrasenia"),n(),i(78,"div",34),a(79,"Este campo es obligatorio*"),n()(),i(80,"div",32),m(81,"input",38),i(82,"label"),a(83,"celular"),n(),i(84,"div",34),a(85,"Este campo es obligatorio*"),n()(),i(86,"div",32),m(87,"input",39),i(88,"label"),a(89,"celulartrabajo"),n(),i(90,"div",34),a(91,"Este campo es obligatorio*"),n()(),i(92,"div",32)(93,"input",40),u("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"carnet")}),n(),i(94,"label"),a(95,"carnet"),n(),i(96,"div",34),a(97,"Este campo es obligatorio*"),n()(),i(98,"div",32)(99,"select",41)(100,"option",42),a(101,"Seleccione una opci\xF3n"),n(),i(102,"option",43),a(103,"SUPERADMINISTRADOR"),n(),i(104,"option",44),a(105,"MUSICOTERAPEUTA"),n(),i(106,"option",45),a(107,"SECRETARIA"),n()(),i(108,"label"),a(109,"tipo"),n(),i(110,"div",34),a(111,"Este campo es obligatorio*"),n()(),i(112,"div",32)(113,"select",46)(114,"option",42),a(115,"Seleccione una opci\xF3n"),n(),i(116,"option",47),a(117,"ACTIVO"),n(),i(118,"option",48),a(119,"INACTIVO"),n()(),i(120,"label"),a(121,"estado"),n(),i(122,"div",34),a(123,"Este campo es obligatorio*"),n()(),i(124,"div",49)(125,"label",50),a(126,"Foto"),n(),m(127,"div",51)(128,"hr"),i(129,"span"),a(130,"IMAGEN ACTUAL:"),n(),m(131,"img",52),n()()(),i(132,"div",53),v(133,Qa,6,0,"div",54),i(134,"div",55)(135,"div",56)(136,"button",57),u("click",function(){return t.resetUsuarios()})("click",function(){return t.CancelarArchivosDropzone()}),m(137,"i",58),a(138," CANCELAR"),m(139,"span",8),n()(),i(140,"div",59),v(141,Xa,4,4,"button",60)(142,Ya,2,1,"button",61),n()()()()()()),e&2&&(l(19),D("ngModel",t.filtertxtUsuarios),l(21),d("ngIf",t.isLoadingUsuarios),l(),d("ngIf",!t.isLoadingUsuarios&&t.Usuarios.length===0),l(),d("ngForOf",M(43,19,t.Usuarios,G(22,Ba,t.paginaUsuarios))),l(10),E("",t.newUsuarios.get("id").value?"Modificar":"Registrar"," Usuarios"),l(3),d("formGroup",t.newUsuarios),l(2),d("ngClass",t.ValidacionUsuariosxElemento("nombres")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("apellidos")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("usuario")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celular")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celulartrabajo")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("carnet")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("tipo")),l(14),d("ngClass",t.ValidacionUsuariosxElemento("estado")),l(18),d("src",t.ruta+t.newUsuarios.value.foto,j),l(2),d("ngIf",!t.newUsuarios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalUsuarios),l(),d("ngIf",t.AnimacionCargabtnModalUsuarios))},dependencies:[ee,X,Y,ue,pe,oe,le,me,ae,re,se,ce,de,fe,he]})}};var Ja=[{path:"clientes",component:st,canActivate:[ve]},{path:"ciclosplanesintervenciones",component:lt,canActivate:[ve]},{path:"pagos",component:ut,canActivate:[ve]},{path:"inicios",component:gt,canActivate:[ve]},{path:"matrizdeescalas",component:bt,canActivate:[ve]},{path:"usuarios",component:Et,canActivate:[ve]},{path:"planesdeintervenciones",component:Be,canActivate:[ve]},{path:"planesdeintervenciones/:variable",component:Be,canActivate:[ve]}],Ei=class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275mod=De({type:r})}static{this.\u0275inj=Re({imports:[Tt.forChild(Ja),Tt]})}};export{pt as a,it as b,Ae as c,nt as d,Se as e,cr as f,Ur as g,ct as h,dt as i,mt as j,ht as k,vt as l,Ct as m,_t as n,Ei as o};
