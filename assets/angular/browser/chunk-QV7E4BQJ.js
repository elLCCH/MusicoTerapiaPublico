import{cb as p,f as o,i as n,n as s,nb as u,rb as c,t as l,w as a}from"./chunk-6TW3IKKZ.js";var e=class e{constructor(t,r){this.http=t;this.router=r;this.ruta=c.ruta}loginConLaravel(t){return this.http.post(`${this.ruta}api/v1/auth/login`,t)}logout(){let t=localStorage.getItem("token");console.log("valorToken: ",t);var r={token:t};t?this.http.post(this.ruta+"api/v1/auth/logout",r).subscribe(i=>{localStorage.removeItem("token"),this.router.navigate(["/auth/login"])},i=>{console.error("Error al cerrar sesi\xF3n:",i)}):this.router.navigate(["/auth/login"])}pedirPerfil(){let t=localStorage.getItem("token");return this.http.get(`${this.ruta}api/v1/auth/user`,{headers:{Authorization:`Bearer ${t}`}})}cambiarClave(t){let r=localStorage.getItem("token");return this.http.post(`${this.ruta}api/v1/auth/cambiar-clave`,t,{headers:{Authorization:`Bearer ${r}`}})}resetPass(t){return this.http.post(`${this.ruta}api/reset-password`,t)}revisarSiesAdmin(){let t=localStorage.getItem("token");return t?this.http.post(`${this.ruta}api/verify-token`,{token:t}).pipe(n(r=>!!(r&&r.name==="Admin")),s(r=>o(!1))):o(!1)}};e.\u0275fac=function(r){return new(r||e)(a(p),a(u))},e.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"});var m=e;export{m as a};
