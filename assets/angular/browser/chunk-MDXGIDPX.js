import{a as A,d as Q}from"./chunk-JKCGTHXR.js";import{$ as k,$a as Ze,A as ue,Aa as K,B as Qt,Ba as M,C as Be,D as h,Da as Ye,E as f,Ea as wt,F as Yt,Fa as Z,G as He,Ga as $,H as q,Ha as W,I as Ct,J as w,Ja as ni,K as Et,Ka as oi,L as Zt,La as ai,M as Xt,Ma as ri,N as St,Na as At,O as Ne,P as l,Pa as P,Q as x,R as It,S as xt,T as Jt,U as v,Ua as si,V as ve,W as d,X as Kt,Y as Ve,Z as $e,Za as li,_ as ge,a as Nt,aa as Mt,b as Ue,ba as i,ca as n,cb as yt,d as Vt,da as m,db as ci,e as Le,ea as Ie,eb as ee,f as Ft,fa as xe,fb as di,g as Dt,ga as C,gb as B,h as Ge,ha as p,hb as te,i as jt,ia as u,ib as ie,j as Ut,ja as ei,jb as N,k as bt,ka as We,kb as g,l as Se,la as D,lb as ne,m as qt,ma as Ae,mb as he,n as vt,na as J,nb as oe,o as Bt,oa as r,ob as ae,p as Ht,pa as b,pb as re,q as $t,qa as E,qb as se,r as _t,ra as be,rb as le,s as O,sa as z,t as Me,ta as L,u as Wt,ua as G,v as R,va as ti,w as H,wa as ii,x as j,xa as Qe,y as we,ya as V,z as qe,za as S}from"./chunk-BYUBF2K6.js";import{g as Gt}from"./chunk-GAL4ENT6.js";function _i(a,o){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){h(e),u(3);let s=J(1);return f(s.previous())})("click",function(){h(e),u(3);let s=J(1);return f(s.previous())}),r(1),i(2,"span",13),r(3),n()()}if(a&2){let e=u(3);l(),E(" ",e.previousLabel," "),l(2),b(e.screenReaderPageLabel)}}function Ci(a,o){if(a&1&&(i(0,"span",14),r(1),i(2,"span",13),r(3),n()()),a&2){let e=u(3);l(),E(" ",e.previousLabel," "),l(2),b(e.screenReaderPageLabel)}}function Ei(a,o){if(a&1&&(i(0,"li",9),v(1,_i,4,2,"a",10)(2,Ci,4,2,"span",11),n()),a&2){u(2);let e=J(1);Ve("disabled",e.isFirstPage()),l(),d("ngIf",1<e.getCurrent()),l(),d("ngIf",e.isFirstPage())}}function Si(a,o){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){h(e);let s=u().$implicit;u(2);let c=J(1);return f(c.setCurrent(s.value))})("click",function(){h(e);let s=u().$implicit;u(2);let c=J(1);return f(c.setCurrent(s.value))}),i(1,"span",13),r(2),n(),i(3,"span"),r(4),S(5,"number"),n()()}if(a&2){let e=u().$implicit,t=u(2);l(2),E("",t.screenReaderPageLabel," "),l(2),b(e.label==="..."?e.label:M(5,2,e.label,""))}}function Ii(a,o){if(a&1&&(Ie(0),i(1,"span",16)(2,"span",13),r(3),n(),i(4,"span"),r(5),S(6,"number"),n()(),xe()),a&2){let e=u().$implicit,t=u(2);l(3),E("",t.screenReaderCurrentLabel," "),l(2),b(e.label==="..."?e.label:M(6,2,e.label,""))}}function xi(a,o){if(a&1&&(i(0,"li"),v(1,Si,6,5,"a",10)(2,Ii,7,5,"ng-container",15),n()),a&2){let e=o.$implicit;u(2);let t=J(1);Ve("current",t.getCurrent()===e.value)("ellipsis",e.label==="..."),l(),d("ngIf",t.getCurrent()!==e.value),l(),d("ngIf",t.getCurrent()===e.value)}}function Mi(a,o){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){h(e),u(3);let s=J(1);return f(s.next())})("click",function(){h(e),u(3);let s=J(1);return f(s.next())}),r(1),i(2,"span",13),r(3),n()()}if(a&2){let e=u(3);l(),E(" ",e.nextLabel," "),l(2),b(e.screenReaderPageLabel)}}function wi(a,o){if(a&1&&(i(0,"span",14),r(1),i(2,"span",13),r(3),n()()),a&2){let e=u(3);l(),E(" ",e.nextLabel," "),l(2),b(e.screenReaderPageLabel)}}function Ai(a,o){if(a&1&&(i(0,"li",17),v(1,Mi,4,2,"a",10)(2,wi,4,2,"span",11),n()),a&2){u(2);let e=J(1);Ve("disabled",e.isLastPage()),l(),d("ngIf",!e.isLastPage()),l(),d("ngIf",e.isLastPage())}}function yi(a,o){if(a&1&&(i(0,"ul",4),v(1,Ei,3,4,"li",5),i(2,"li",6),r(3),n(),v(4,xi,3,6,"li",7)(5,Ai,3,4,"li",8),n()),a&2){let e=u(),t=J(1);Ve("responsive",e.responsive),l(),d("ngIf",e.directionLinks),l(2),be(" ",t.getCurrent()," / ",t.getLastPage()," "),l(),d("ngForOf",t.pages)("ngForTrackBy",e.trackByIndex),l(),d("ngIf",e.directionLinks)}}var Fe=class{constructor(){this.change=new q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(o){return o.id==null&&(o.id=this.DEFAULT_ID),this.instances[o.id]?this.updateInstance(o):(this.instances[o.id]=o,!0)}updateInstance(o){let e=!1;for(let t in this.instances[o.id])o[t]!==this.instances[o.id][t]&&(this.instances[o.id][t]=o[t],e=!0);return e}getCurrentPage(o){return this.instances[o]?this.instances[o].currentPage:1}setCurrentPage(o,e){if(this.instances[o]){let t=this.instances[o],s=Math.ceil(t.totalItems/t.itemsPerPage);e<=s&&1<=e&&(this.instances[o].currentPage=e,this.change.emit(o))}}setTotalItems(o,e){this.instances[o]&&0<=e&&(this.instances[o].totalItems=e,this.change.emit(o))}setItemsPerPage(o,e){this.instances[o]&&(this.instances[o].itemsPerPage=e,this.change.emit(o))}getInstance(o=this.DEFAULT_ID){return this.instances[o]?this.clone(this.instances[o]):{}}clone(o){var e={};for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}},Pi=Number.MAX_SAFE_INTEGER,ce=(()=>{class a{constructor(e){this.service=e,this.state={}}transform(e,t){if(!(e instanceof Array)){let U=t.id||this.service.defaultId();return this.state[U]?this.state[U].slice:e}let s=t.totalItems&&t.totalItems!==e.length,c=this.createInstance(e,t),_=c.id,I,y,F=c.itemsPerPage,me=this.service.register(c);if(!s&&e instanceof Array){if(F=+F||Pi,I=(c.currentPage-1)*F,y=I+F,this.stateIsIdentical(_,e,I,y))return this.state[_].slice;{let Y=e.slice(I,y);return this.saveState(_,e,Y,I,y),this.service.change.emit(_),Y}}else return me&&this.service.change.emit(_),this.saveState(_,e,e,I,y),e}createInstance(e,t){return this.checkConfig(t),{id:t.id!=null?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}}checkConfig(e){let s=["itemsPerPage","currentPage"].filter(c=>!(c in e));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(e,t,s,c,_){this.state[e]={collection:t,size:t.length,slice:s,start:c,end:_}}stateIsIdentical(e,t,s,c){let _=this.state[e];return!_||!(_.size===t.length&&_.start===s&&_.end===c)?!1:_.slice.every((y,F)=>y===t[s+F])}}return a.\u0275fac=function(e){return new(e||a)(x(Fe,16))},a.\u0275pipe=ue({name:"paginate",type:a,pure:!1}),a})();var Oi=(()=>{class a{constructor(e,t){this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new q,this.pageBoundsCorrection=new q,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),t=this.outOfBoundCorrection(e);t!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(t),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage}createPageArray(e,t,s,c){c=+c;let _=[],I=Math.max(Math.ceil(s/t),1),y=Math.ceil(c/2),F=e<=y,me=I-y<e,U=!F&&!me,Y=c<I,Ee=1;for(;Ee<=I&&Ee<=c;){let ze,Lt=this.calculatePageNumber(Ee,e,c,I),bi=Ee===2&&(U||me),vi=Ee===c-1&&(U||F);Y&&(bi||vi)?ze="...":ze=Lt,_.push({label:ze,value:Lt}),Ee++}return _}calculatePageNumber(e,t,s,c){let _=Math.ceil(s/2);return e===s?c:e===1?e:s<c?c-_<t?c-s+e:_<t?t-_+e:e:e}}return a.\u0275fac=function(e){return new(e||a)(x(Fe),x(Ye))},a.\u0275dir=qe({type:a,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[Be]}),a})();function Pt(a){return!!a&&a!=="false"}var de=(()=>{class a{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new q,this.pageBoundsCorrection=new q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Pt(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Pt(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Pt(e)}trackByIndex(e){return e}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=j({type:a,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,t){if(e&1){let s=C();i(0,"pagination-template",1,0),p("pageChange",function(_){return h(s),f(t.pageChange.emit(_))})("pageBoundsCorrection",function(_){return h(s),f(t.pageBoundsCorrection.emit(_))}),i(2,"nav",2),v(3,yi,6,8,"ul",3),n()()}if(e&2){let s=J(1);d("id",t.id)("maxSize",t.maxSize),l(2),ve("aria-label",t.screenReaderPaginationLabel),l(),d("ngIf",!(t.autoHide&&s.pages.length<=1))}},dependencies:[Oi,W,$,oi],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),a})(),Da=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=we({type:a}),a.\u0275inj=Me({providers:[Fe],imports:[[ai]]}),a})();var Xe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Ot=new Wt("config",{providedIn:"root",factory:()=>({modules:Xe})});function Oe(a){a||(Qt(Oe),a=H(He));let o=new Ue(e=>a.onDestroy(e.next.bind(e)));return e=>e.pipe(Ht(o))}var Ri=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],Ti=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function ki(a,o){a&1&&m(0,"div",0)}function zi(a,o){a&1&&m(0,"div",0)}var Je=(a,o)=>a||o||"html",Li=()=>new Ue(a=>{let o=requestAnimationFrame(()=>{a.next(),a.complete()});return()=>cancelAnimationFrame(o)}),Gi=(()=>{class a{constructor(){this.config=H(Ot)||{modules:Xe},this.document=H(wt),this.quill$=Ut(()=>Gt(this,null,function*(){if(!this.Quill){let e=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let t=yield import("./chunk-GTJGVPUT.js");this.document.addEventListener=e,this.Quill=t.default?.default??t.default??t}return this.config.customOptions?.forEach(e=>{let t=this.Quill.import(e.import);t.whitelist=e.whitelist,this.Quill.register(t,!0,this.config.suppressGlobalRegisterWarning)}),Dt(this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning))})).pipe(Bt({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(e,t,s=this.config.beforeRender){let c=[this.registerCustomModules(e,t)];return s&&c.push(Vt(s())),bt(c).pipe(Ge(()=>e))}registerCustomModules(e,t,s){if(!Array.isArray(t))return Le(e);let c=[];for(let _ of t){let{path:I,implementation:y}=_;this.registeredModules.has(I)||(this.registeredModules.add(I),Ft(y)?c.push(y.pipe($t(F=>{e.register(I,F,s)}))):e.register(I,y,s))}return c.length>0?bt(c).pipe(Ge(()=>e)):Le(e)}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Ni=(()=>{class a{constructor(){this.format=w(void 0),this.theme=w(void 0),this.modules=w(void 0),this.debug=w(!1),this.readOnly=w(!1),this.placeholder=w(void 0),this.maxLength=w(void 0),this.minLength=w(void 0),this.required=w(!1),this.formats=w(void 0),this.customToolbarPosition=w("top"),this.sanitize=w(void 0),this.beforeRender=w(void 0),this.styles=w(null),this.registry=w(void 0),this.bounds=w(void 0),this.customOptions=w([]),this.customModules=w([]),this.trackChanges=w(void 0),this.classes=w(void 0),this.trimOnValidation=w(!1),this.linkPlaceholder=w(void 0),this.compareValues=w(!1),this.filterNull=w(!1),this.debounceTime=w(void 0),this.defaultEmptyValue=w(null),this.onEditorCreated=new q,this.onEditorChanged=new q,this.onContentChanged=new q,this.onSelectionChanged=new q,this.onFocus=new q,this.onBlur=new q,this.onNativeFocus=new q,this.onNativeBlur=new q,this.disabled=!1,this.toolbarPosition=xt("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=H(Et),this.document=H(wt),this.cd=H(Ye),this.domSanitizer=H(si),this.platformId=H(Zt),this.renderer=H(It),this.zone=H(Ct),this.service=H(Gi),this.destroyRef=H(He),this.valueGetter=w(e=>{let t=e.getSemanticHTML();this.isEmptyValue(t)&&(t=this.defaultEmptyValue());let s=t,c=Je(this.format(),this.service.config.format);if(c==="text")s=e.getText();else if(c==="object")s=e.getContents();else if(c==="json")try{s=JSON.stringify(e.getContents())}catch{s=e.getText()}return s}),this.valueSetter=w((e,t)=>{let s=Je(this.format(),this.service.config.format);if(s==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(t=this.domSanitizer.sanitize(Xt.HTML,t)),e.clipboard.convert({html:t});if(s==="json")try{return JSON.parse(t)}catch{return[{insert:t}]}return t}),this.selectionChangeHandler=(e,t,s)=>{let c=this.trackChanges()||this.service.config.trackChanges,_=!e&&!!this.onModelTouched&&(s==="user"||c&&c==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!_||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:s}):t===null&&this.onFocus.emit({editor:this.quillEditor,source:s}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:t,range:e,source:s}),_&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,t,s)=>{let c=this.quillEditor.getText(),_=this.quillEditor.getContents(),I=this.quillEditor.getSemanticHTML();this.isEmptyValue(I)&&(I=this.defaultEmptyValue());let y=this.trackChanges()||this.service.config.trackChanges,F=(s==="user"||y&&y==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!F||this.zone.run(()=>{if(F){let me=this.valueGetter();this.onModelChange(me(this.quillEditor))}this.onContentChanged.emit({content:_,delta:e,editor:this.quillEditor,html:I,oldDelta:t,source:s,text:c}),this.cd.markForCheck()})},this.editorChangeHandler=(e,t,s,c)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let _=this.quillEditor.getText(),I=this.quillEditor.getContents(),y=this.quillEditor.getSemanticHTML();this.isEmptyValue(y)&&(y=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:I,delta:t,editor:this.quillEditor,event:e,html:y,oldDelta:s,source:c,text:_}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:s,range:t,source:c}),this.cd.markForCheck()})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((s,c)=>{let _=c.trim();return _&&s.push(_),s},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){ri(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(jt(e=>this.service.beforeRender(e,this.customModules(),this.beforeRender()))).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let t=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),s=Object.assign({},this.modules()||this.service.config.modules);t?s.toolbar=t:s.toolbar===void 0&&(s.toolbar=Xe.toolbar);let c=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;c===void 0&&(c="Insert text here ...");let _=this.styles();_&&Object.keys(_).forEach(U=>{this.renderer.setStyle(this.editorElem,U,_[U])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(U=>{let Y=e.import(U.import);Y.whitelist=U.whitelist,e.register(Y,!0)});let I=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();I||(I=this.service.config.bounds?this.service.config.bounds:this.document.body);let y=this.debug();!y&&y!==!1&&this.service.config.debug&&(y=this.service.config.debug);let F=this.readOnly();!F&&this.readOnly()!==!1&&(F=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let me=this.formats();if(!me&&me===void 0&&(me=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:I,debug:y,formats:me,modules:s,placeholder:c,readOnly:F,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){Se(this.quillEditor.scroll.domNode,"blur").pipe(Oe(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let U=this.quillEditor.getModule("toolbar");U.container&&Se(U.container,"mousedown").pipe(Oe(this.destroyRef)).subscribe(Y=>Y.preventDefault())}if(this.onNativeFocus.observed&&Se(this.quillEditor.scroll.domNode,"focus").pipe(Oe(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let Y=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");Y?.dataset&&(Y.dataset.link=this.linkPlaceholder())}}),this.content){if(Je(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let ze=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(ze,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&Li().pipe(Oe(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){let t=e.styles.currentValue,s=e.styles.previousValue;s&&Object.keys(s).forEach(c=>{this.renderer.removeStyle(this.editorElem,c)}),t&&Object.keys(t).forEach(c=>{this.renderer.setStyle(this.editorElem,c,this.styles()[c])})}if(e.classes){let t=e.classes.currentValue,s=e.classes.previousValue;s&&this.removeClasses(s),t&&this.addClasses(t)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){a.normalizeClassNames(e).forEach(t=>{this.renderer.addClass(this.editorElem,t)})}removeClasses(e){a.normalizeClassNames(e).forEach(t=>{this.renderer.removeClass(this.editorElem,t)})}writeValue(e){if(this.filterNull()&&e===null||(this.content=e,!this.quillEditor))return;let t=Je(this.format(),this.service.config.format),c=this.valueSetter()(this.quillEditor,e);if(this.compareValues()){let _=this.quillEditor.getContents();if(JSON.stringify(_)===JSON.stringify(c))return}if(e){t==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(c);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},t=!0,s=this.quillEditor.getText(),c=this.trimOnValidation()?s.trim().length:s.length===1&&s.trim().length===0?0:s.length-1,_=this.quillEditor.getContents().ops,I=!!_&&_.length===1&&[`
`,""].includes(_[0].insert?.toString());return this.minLength()&&c&&c<this.minLength()&&(e.minLengthError={given:c,minLength:this.minLength()},t=!1),this.maxLength()&&c>this.maxLength()&&(e.maxLengthError={given:c,maxLength:this.maxLength()},t=!1),this.required()&&!c&&I&&(e.requiredError={empty:!0},t=!1),t?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Nt,this.subscription.add(Se(this.quillEditor,"selection-change").subscribe(([s,c,_])=>{this.selectionChangeHandler(s,c,_)}));let e=Se(this.quillEditor,"text-change"),t=Se(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(e=e.pipe(vt(this.debounceTime())),t=t.pipe(vt(this.debounceTime()))),this.subscription.add(e.subscribe(([s,c,_])=>{this.textChangeHandler(s,c,_)})),this.subscription.add(t.subscribe(([s,c,_,I])=>{this.editorChangeHandler(s,c,_,I)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(e){return e==="<p></p>"||e==="<div></div>"||e==="<p><br></p>"||e==="<div><br></div>"}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275dir=qe({type:a,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[Be]})}}return a})(),mi=(()=>{class a extends Ni{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Yt(a)))(s||a)}})()}static{this.\u0275cmp=j({type:a,selectors:[["quill-editor"]],standalone:!0,features:[ti([{multi:!0,provide:ci,useExisting:_t(()=>a)},{multi:!0,provide:di,useExisting:_t(()=>a)}]),Jt,ii],ngContentSelectors:Ti,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(t,s){t&1&&(ei(Ri),v(0,ki,1,0,"div",0),We(1),We(2,1),We(3,2),v(4,zi,1,0,"div",0)),t&2&&(Mt(s.toolbarPosition()!=="top"?0:-1),l(4),Mt(s.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return a})();var vr=(()=>{class a{static forRoot(e){return{ngModule:a,providers:[{provide:Ot,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=we({type:a})}static{this.\u0275inj=Me({})}}return a})();var Ke=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerClientes(){return this.http.get(this.ruta+"api/Clientes/")}AgregarClientes(o){return this.http.post(this.ruta+"api/Clientes/",o)}ModificarClientes(o,e){return this.http.put(this.ruta+"api/Clientes/"+e,o)}SeleccionarClientes(o){return this.http.get(this.ruta+"api/Clientes/"+o)}EliminarClientes(o){return this.http.delete(this.ruta+"api/Clientes/"+o)}createFormGroupClientes(){return new N({id:new g(0),nombres:new g("",[B.required]),apellidos:new g("",[B.required]),carnet:new g("",[B.required]),celular:new g("",[B.required]),fechnac:new g("",[B.required]),edad:new g("",[B.required]),usuario:new g("",[B.required]),contrasenia:new g("",[B.required]),foto:new g(""),estado:new g("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var _e=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerInfoClientes(){return this.http.get(this.ruta+"api/InfoClientes/")}AgregarInfoClientes(o){return this.http.post(this.ruta+"api/InfoClientes/",o)}ModificarInfoClientes(o,e){return this.http.put(this.ruta+"api/InfoClientes/"+e,o)}SeleccionarInfoClientes(o){return this.http.get(this.ruta+"api/InfoClientes/"+o)}EliminarInfoClientes(o){return this.http.delete(this.ruta+"api/InfoClientes/"+o)}createFormGroupInfoClientes(){return new N({id:new g(0),id_cliente:new g(""),diagnostico:new g(""),residenciaactual:new g(""),tipotratamiento:new g(""),duracion:new g(""),fechaadmision:new g(""),tutor:new g(""),frecuencia:new g(""),objgenerales:new g(""),fisico:new g(""),emocional:new g(""),cognitivo:new g(""),social:new g(""),metodosausar:new g(""),notas:new g(""),cuestionario:new g(A.plantilla)})}SeleccionarAllInformacionCliente(o){return this.http.get(this.ruta+"api/AllInfoClientes/"+o)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Ce=class a{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.apellidos).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.nombres).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.carnet).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=ue({name:"filterapellidosnombrescarnet",type:a,pure:!0})}};var fe=class a{transform(o){if(!o)return"";let e;if(typeof o=="string"){let _=o.split(/[-/]/);if(_.length===3){let[I,y,F]=_.map(Number);e=new Date(I,y-1,F)}else return console.error("Formato de fecha no v\xE1lido:",o),""}else if(o instanceof Date)e=o;else return console.error("Valor de fecha no v\xE1lido:",o),"";let t=this.pad(e.getDate()),s=this.pad(e.getMonth()+1),c=e.getFullYear();return`${t}/${s}/${c}`}pad(o){return o<10?"0"+o:o.toString()}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=ue({name:"dateFormat",type:a,pure:!0})}};var Di=a=>({itemsPerPage:10,currentPage:a});function ji(a,o){a&1&&(i(0,"tr")(1,"td",80)(2,"div",81)(3,"div",82)(4,"span",83),r(5,"Loading..."),n()()()()())}function Ui(a,o){a&1&&(i(0,"tr")(1,"td",80),r(2,"No hay datos disponibles"),n()())}function qi(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",84),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),r(8),n(),i(9,"td"),r(10),n(),i(11,"td",85)(12,"button",86),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarClientes(s.id))}),m(13,"i",87),n(),i(14,"button",88),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarClientes(s.id))}),m(15,"i",89),n(),i(16,"button",90),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarClientes(s.id,"InfoClientes",s.apellidos+" "+s.nombres))}),m(17,"i",91),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaClientes-1)*10+(e+1)),l(2),b(t.apellidos+" "+t.nombres),l(2),b(t.carnet),l(2),b(t.celular),l(2),b(t.estado)}}function Bi(a,o){if(a&1&&m(0,"img",92),a&2){let e=u();d("src",e.selectedFileUrl,Ne)}}function Hi(a,o){if(a&1&&(i(0,"div",93)(1,"div",94),r(2),n()()),a&2){let e=u();l(),Kt("width",e.uploadProgress,"%"),D("aria-valuenow",e.uploadProgress),l(),E(" ",e.uploadProgress,"% ")}}function $i(a,o){if(a&1){let e=C();i(0,"div",95)(1,"button",96),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastClientes())}),m(2,"i",97),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",98),n()()}}function Wi(a,o){if(a&1){let e=C();i(0,"button",99),p("click",function(){h(e);let s=u();return f(s.AgregarModificarClientes())}),m(1,"i",100),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Qi(a,o){if(a&1){let e=C();i(0,"button",101),p("click",function(){h(e);let s=u();return f(s.AgregarModificarClientes())}),m(1,"span",102),n()}a&2&&d("disabled",!0)}function Yi(a,o){a&1&&(i(0,"div")(1,"div",103)(2,"div",81)(3,"div",82)(4,"span",83),r(5,"Loading..."),n()()()()())}function Zi(a,o){a&1&&(i(0,"div")(1,"td",103),r(2,"No hay datos disponibles"),n()())}function Xi(a,o){if(a&1){let e=C();i(0,"div",104)(1,"div",105)(2,"div",106)(3,"div",107)(4,"button",108),m(5,"i",109),n()(),i(6,"div",110)(7,"span"),r(8),S(9,"dateFormat"),n()(),i(10,"div",107)(11,"a",111),p("click",function(s){let c=h(e).$implicit,_=u();return f(_.onButtonClick(s,c.id))}),m(12,"i",112),n(),i(13,"button",113),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarInfoClientes(s.id))}),m(14,"i",87),n(),i(15,"button",114),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarInfoClientes(s.id))}),m(16,"i",115),n(),i(17,"button",116),m(18,"i",109),n()()(),i(19,"div",117)(20,"ul",118)(21,"li",119)(22,"h5"),r(23,"RESIDENCIA ACTUAL."),n(),i(24,"a",120),r(25),n()(),i(26,"li",119)(27,"h5"),r(28,"DIAGNOSTICO."),n(),i(29,"a",120),r(30),n()(),i(31,"li",119)(32,"h5"),r(33,"TIPO DE TRATAMIENTO."),n(),i(34,"a",120),r(35),n()(),i(36,"li",119)(37,"h5"),r(38,"DURACI\xD3N."),n(),i(39,"a",120),r(40),n()(),i(41,"li",119)(42,"h5"),r(43,"NOTAS."),n(),i(44,"quill-editor",121),G("ngModelChange",function(s){let c=h(e).$implicit;return L(c.notas,s)||(c.notas=s),f(s)}),n()(),i(45,"li",119)(46,"h5"),r(47,"TUTOR."),n(),i(48,"a",120),r(49),n()(),i(50,"li",119)(51,"h5"),r(52,"FRECUENCIA DE LAS SESIONES."),n(),i(53,"a",120),r(54),n()(),i(55,"li",119)(56,"h5"),r(57,"OBJETIVOS GENERALES."),n(),i(58,"a",120),r(59),n()(),i(60,"li",119)(61,"h5"),r(62,"FISICO."),n(),i(63,"a",120),r(64),n()(),i(65,"li",119)(66,"h5"),r(67,"EMOCIONAL."),n(),i(68,"a",120),r(69),n()(),i(70,"li",119)(71,"h5"),r(72,"COGNITIVO."),n(),i(73,"a",120),r(74),n()(),i(75,"li",119)(76,"h5"),r(77,"SOCIAL."),n(),i(78,"a",120),r(79),n()(),i(80,"li",119)(81,"h5"),r(82,"METODOS A USAR."),n(),i(83,"a",120),r(84),n()(),i(85,"li",119)(86,"h5"),r(87,"CUESTIONARIO."),n(),i(88,"quill-editor",121),G("ngModelChange",function(s){let c=h(e).$implicit;return L(c.cuestionario,s)||(c.cuestionario=s),f(s)}),n()()()()()()}if(a&2){let e=o.$implicit,t=o.index,s=u();l(4),ve("data-bs-target","#collapseCar"+t),l(4),E("FECHA DE ADMISI\xD3N: ",K(9,21,e.fechaadmision),""),l(3),d("href",s.generateUrl(e.id),Ne),l(6),ve("data-bs-target","#collapseCar"+t),l(2),d("id","collapseCar"+t),l(6),b(e.residenciaactual==null?"NINGUNA":e.residenciaactual),l(5),b(e.diagnostico==null?"NINGUNA":e.diagnostico),l(5),b(e.tipotratamiento==null?"NINGUNA":e.tipotratamiento),l(5),b(e.duracion==null?"NINGUNA":e.duracion),l(4),d("modules",s._tools.modulesQuillShow),z("ngModel",e.notas),l(5),b(e.tutor==null?"NINGUNA":e.tutor),l(5),b(e.frecuencia==null?"NINGUNA":e.frecuencia),l(5),b(e.objgenerales==null?"NINGUNA":e.objgenerales),l(5),b(e.fisico==null?"NINGUNA":e.fisico),l(5),b(e.emocional==null?"NINGUNA":e.emocional),l(5),b(e.cognitivo==null?"NINGUNA":e.cognitivo),l(5),b(e.social==null?"NINGUNA":e.social),l(5),b(e.metodosausar==null?"NINGUNA":e.metodosausar),l(4),d("modules",s._tools.modulesQuillShow),z("ngModel",e.cuestionario)}}function Ji(a,o){if(a&1){let e=C();i(0,"div",95)(1,"button",96),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastInfoClientes())}),m(2,"i",97),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",98),n()()}}function Ki(a,o){if(a&1){let e=C();i(0,"button",99),p("click",function(){h(e);let s=u();return f(s.AgregarModificarInfoClientes())}),m(1,"i",100),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newInfoClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInfoClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function en(a,o){if(a&1){let e=C();i(0,"button",101),p("click",function(){h(e);let s=u();return f(s.AgregarModificarInfoClientes())}),m(1,"span",102),n()}a&2&&d("disabled",!0)}var tt=class a{constructor(o,e,t,s,c){this.router=o;this._cli=e;this._tools=t;this._infocli=s;this.http=c;this.ruta=A.ruta;this.uploadProgress=null;this.Clientes=[];this.paginaClientes=1;this.isLoadingClientes=!0;this.AnimacionCargabtnModalClientes=!1;this.filtertxtClientes="";this.idClientesSave=0;this.NameClientesSave="";this.InfoClientes=[];this.paginaInfoClientes=1;this.isLoadingInfoClientes=!0;this.AnimacionCargabtnModalInfoClientes=!1;this.filtertxtInfoClientes="";this.newClientes=this._cli.createFormGroupClientes(),this.newClientesAnteriorAccion=this._cli.createFormGroupClientes(),this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientesAnteriorAccion=this._infocli.createFormGroupInfoClientes()}ngOnInit(){this.CargarClientes()}onFileSelected(o){let e=o.target.files[0];if(!window.FileReader){alert("El navegador no soporta la lectura de archivos");return}if(/\.(jpg|png|jpeg)$/i.test(e.name)){let t="";if(e.size>1e7)switch(this._tools.MostrarMensaje("warning","\xA1TAMA\xD1O EXCEDIDO!. EL TAMA\xD1O DEL ARCHIVO NO PUEDE EXCEDER LOS 10MB"),t){default:o.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}else e&&(this.previousFilePath?this.deleteFile(this.previousFilePath.filePath).subscribe(()=>{this.uploadFile(e)}):this.uploadFile(e))}else{switch(this._tools.MostrarMensaje("error","FORMATO INVALIDO!."),""){default:o.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}return}}uploadFile(o){let e=new FormData;e.append("file",o),e.append("type","CLIENTE"),this.http.post(this.ruta+"api/uploadFile",e,{reportProgress:!0,observe:"events"}).subscribe(t=>{t.type===At.UploadProgress?t.total&&(this.uploadProgress=Math.round(100*t.loaded/t.total)):t.type===At.Response&&(console.log("File uploaded successfully",t),this.uploadProgress=100,this.previousFilePath=t.body,this.newClientes.value.foto=this.previousFilePath.filePath)},t=>{console.error("File upload failed",t),this.uploadProgress=null})}deleteFile(o){return this.http.post(this.ruta+"api/deleteFile",{filePath:o})}generateUrl(o){let e={id:o,NomC:this.NameClientesSave};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:e}))}onButtonClick(o,e){if(!(o.ctrlKey||o.button===1)){o.preventDefault();let t={id:e,NomC:this.NameClientesSave};this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:t})}this._tools.cerrarModal("ModalGestionInfoCliente")}CargarClientes(){this.AnimarCargaTablaClientes(),this._cli.ObtenerClientes().subscribe(o=>{console.log("Clientes CARGADO",o.data),this.Clientes=o.data,this.isLoadingClientes=!1},o=>{console.log("ERROR AL CARGAR Clientes",o),this.isLoadingClientes=!1})}AgregarModificarClientes(){if(this.newClientes.invalid){this.ValidacionTodoElementoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalClientes=!1;return}else{this.AnimarCargaTablaClientes(),this.AnimacionCargabtnModalClientes=!0,this._tools.MostrarMensajeLoading(),this.newClientesAnteriorAccion.setValue(this.newClientes.value);let o=this.newClientes.controls.id.value;console.log("INFO A PROCESAR",this.newClientes.value),o?this._cli.ModificarClientes(this.newClientes.value,this.newClientes.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Clientes",e.data),this.CargarClientes(),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Clientes",e),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()}):this._cli.AgregarClientes(this.newClientes.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Clientes",e.data),this.CargarClientes(),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Clientes",e),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()})}}SeleccionarClientes(o,e,t){if(this._tools.MostrarMensajeLoading(),o)switch(e){case"InfoClientes":this.idClientesSave=o,this.NameClientesSave=t,this.CargarInfoClientes(),this._tools.abrirModal("ModalGestionInfoCliente"),this._tools.MostrarMensajeSuccess();break;default:if(!this.Clientes.find(c=>c.id===o))return;this._cli.SeleccionarClientes(o).subscribe(c=>{Object.keys(this.newClientes.controls).forEach(_=>{this.newClientes.controls[_].setValue(c.data[_])}),c.data.foto?this.selectedFileUrl=this.ruta+c.data.foto:this.selectedFileUrl=null,console.log("SELECCION DE Clientes EXITOSA",this.newClientes.value),this.newClientesAnteriorAccion.setValue(this.newClientes.value),this._tools.abrirModal("modalgestionClientes"),this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL SELECCIONAR Clientes",c),this._tools.MostrarMensajeError()});break}}EliminarClientes(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._cli.EliminarClientes(o).subscribe(t=>{console.log(t.data),this.CargarClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Clientes",t),this._tools.MostrarMensajeError()}))})}resetClientes(){this.selectedFileUrl="",this.newClientes.reset(),this._tools.cerrarModal("modalgestionClientes")}AbrirModalClientes(){this.newClientes.reset(),this._tools.abrirModal("modalgestionClientes")}AutoCompletarLastClientes(){this.newClientes.setValue(this.newClientesAnteriorAccion.value),this.newClientes.patchValue({id:0}),console.log("listo",this.newClientes.value)}AnimarCargaTablaClientes(){this.Clientes=[],this.isLoadingClientes=!0}ValidacionClientesxElemento(o){return this._tools.obtenerValidationClass(this.newClientes,o)}ValidacionTodoElementoClientes(){Object.values(this.newClientes.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarInfoClientes(){this.AnimarCargaTablaInfoClientes(),this._infocli.SeleccionarAllInformacionCliente(this.idClientesSave).subscribe(o=>{console.log("InfoClientes CARGADO",o.data),this.InfoClientes=o.data,this.isLoadingInfoClientes=!1},o=>{console.log("ERROR AL CARGAR InfoClientes",o),this.isLoadingInfoClientes=!1})}AgregarModificarInfoClientes(){if(this.newInfoClientes.invalid){this.ValidacionTodoElementoInfoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInfoClientes=!1;return}else{this.AnimarCargaTablaInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!0,this._tools.MostrarMensajeLoading(),this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value);let o=this.newInfoClientes.controls.id.value;console.log("INFO A PROCESAR",this.newInfoClientes.value),o?this._infocli.ModificarInfoClientes(this.newInfoClientes.value,this.newInfoClientes.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}):this._infocli.AgregarInfoClientes(this.newInfoClientes.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()})}}SeleccionarInfoClientes(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.InfoClientes.find(t=>t.id===o))return;this._infocli.SeleccionarInfoClientes(o).subscribe(t=>{Object.keys(this.newInfoClientes.controls).forEach(s=>{this.newInfoClientes.controls[s].setValue(t.data[s])}),console.log("SELECCION DE InfoClientes EXITOSA",this.newInfoClientes.value),this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._tools.abrirModal("modalgestionInfoClientes"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR InfoClientes",t),this._tools.MostrarMensajeError()})}}EliminarInfoClientes(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._infocli.EliminarInfoClientes(o).subscribe(t=>{console.log(t.data),this.CargarInfoClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR InfoClientes",t),this._tools.MostrarMensajeError()}))})}resetInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this._tools.cerrarModal("modalgestionInfoClientes")}AbrirModalInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientes.patchValue({id_cliente:this.idClientesSave}),this._tools.abrirModal("modalgestionInfoClientes")}AutoCompletarLastInfoClientes(){this.newInfoClientes.setValue(this.newInfoClientesAnteriorAccion.value),this.newInfoClientes.patchValue({id:0}),console.log("listo",this.newInfoClientes.value)}AnimarCargaTablaInfoClientes(){this.InfoClientes=[],this.isLoadingInfoClientes=!0}ValidacionInfoClientesxElemento(o){return this._tools.obtenerValidationClass(this.newInfoClientes,o)}ValidacionTodoElementoInfoClientes(){Object.values(this.newInfoClientes.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(Ze),x(Ke),x(Q),x(_e),x(P))}}static{this.\u0275cmp=j({type:a,selectors:[["app-clientes"]],decls:278,vars:56,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-striped","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechnac",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","edad",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","estado",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","ACTIVO"],["value","INACTIVO"],["alt","Imagen seleccionada","class","mt-2 img-thumbnail","width","30%",3,"src",4,"ngIf"],["type","file",1,"form-control",3,"change","ngClass"],["class","progress mt-2",4,"ngIf"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalGestionInfoCliente","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-7","d-flex","justify-content-start"],["title","Admitir Cliente",1,"btn","mouse-dir","primary",3,"click"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionInfoClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","residenciaactual",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","diagnostico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","tipotratamiento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","duracion",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechaadmision",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","tutor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","frecuencia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","objgenerales",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fisico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","emocional",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cognitivo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","social",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","metodosausar",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","notas",1,"quill-container-wrapper",3,"modules"],["formControlName","cuestionario",1,"quill-container-wrapper",3,"modules"],["colspan","5",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Mostrar m\xE1s Informaci\xF3n",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-info",2,"font-size","1.5rem"],["alt","Imagen seleccionada","width","30%",1,"mt-2","img-thumbnail",3,"src"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"aria-valuenow"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-center"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"btn","btn-primary",3,"click","href"],[1,"bi","bi-file-earmark-text",2,"font-size","1.5rem"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body","show",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Clientes"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Clientes de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalClientes()}),m(11,"i",7),r(12," A\xF1adir Clientes"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaClientes=1}),G("ngModelChange",function(c){return L(t.filtertxtClientes,c)||(t.filtertxtClientes=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),r(28,"#"),n(),i(29,"th",18),r(30,"Nombre Completo"),n(),i(31,"th",18),r(32,"Carnet"),n(),i(33,"th",18),r(34,"Celular"),n(),i(35,"th",18),r(36,"Estado"),n(),i(37,"th",18),r(38,"ACCIONES"),n()()(),i(39,"tbody",19),v(40,ji,6,0,"tr",20)(41,Ui,3,0,"tr",20)(42,qi,18,5,"tr",21),S(43,"filterapellidosnombrescarnet"),S(44,"paginate"),n()(),i(45,"pagination-controls",22),p("pageChange",function(c){return t.paginaClientes=c}),n()(),m(46,"hr"),i(47,"div",23)(48,"div",24)(49,"div",25)(50,"div",26)(51,"div",27)(52,"h1",28),r(53),n(),i(54,"button",29),p("click",function(){return t.resetClientes()}),n()()(),i(55,"div",30)(56,"div",31)(57,"div",32)(58,"input",33),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"apellidos")}),n(),i(59,"label"),r(60,"apellidos"),n(),i(61,"div",34),r(62,"Este campo es obligatorio*"),n()(),i(63,"div",32)(64,"input",35),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"nombres")}),n(),i(65,"label"),r(66,"nombres"),n(),i(67,"div",34),r(68,"Este campo es obligatorio*"),n()(),i(69,"div",32)(70,"input",36),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"carnet")}),n(),i(71,"label"),r(72,"carnet"),n(),i(73,"div",34),r(74,"Este campo es obligatorio*"),n()(),i(75,"div",32),m(76,"input",37),i(77,"label"),r(78,"celular"),n(),i(79,"div",34),r(80,"Este campo es obligatorio*"),n()(),i(81,"div",32),m(82,"input",38),i(83,"label"),r(84,"fecha de nacimiento"),n(),i(85,"div",34),r(86,"Este campo es obligatorio*"),n()(),i(87,"div",32),m(88,"input",39),i(89,"label"),r(90,"edad"),n(),i(91,"div",34),r(92,"Este campo es obligatorio*"),n()(),i(93,"div",32)(94,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"usuario")}),n(),i(95,"label"),r(96,"usuario"),n(),i(97,"div",34),r(98,"Este campo es obligatorio*"),n()(),i(99,"div",32)(100,"input",41),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"contrasenia")}),n(),i(101,"label"),r(102,"contrasenia"),n(),i(103,"div",34),r(104,"Este campo es obligatorio*"),n()(),i(105,"div",32)(106,"select",42)(107,"option",43),r(108,"Seleccione una opci\xF3n"),n(),i(109,"option",44),r(110,"ACTIVO"),n(),i(111,"option",45),r(112,"INACTIVO"),n()(),i(113,"label"),r(114,"estado"),n(),i(115,"div",34),r(116,"Este campo es obligatorio*"),n()(),i(117,"div",32),v(118,Bi,1,1,"img",46),i(119,"input",47),p("change",function(c){return t.onFileSelected(c)}),n(),i(120,"label"),r(121,"Foto"),n(),i(122,"div",34),r(123,"Este campo es obligatorio*"),n()(),v(124,Hi,3,4,"div",48),n()(),i(125,"div",49),v(126,$i,6,0,"div",50),i(127,"div",51)(128,"div",52)(129,"button",53),p("click",function(){return t.resetClientes()}),m(130,"i",54),r(131," CANCELAR"),m(132,"span",8),n()(),i(133,"div",55),v(134,Wi,4,4,"button",56)(135,Qi,2,1,"button",57),n()()()()()(),i(136,"div",58)(137,"div",24)(138,"div",25)(139,"div",26)(140,"h5",59),r(141,"Gestion de Informaci\xF3n de Clientes "),n(),m(142,"button",60),n(),i(143,"div",30),m(144,"hr"),i(145,"div",0)(146,"div",1),m(147,"div",2),n()(),i(148,"div",1)(149,"div",61)(150,"button",62),p("click",function(){return t.AbrirModalInfoClientes()}),m(151,"i",7),r(152," A\xF1adir Informaci\xF3n del Cliente para la Admisi\xF3n"),m(153,"span",8),n()(),i(154,"div",9)(155,"div",10)(156,"span",11),m(157,"i",12),n(),i(158,"div",13)(159,"input",14),p("input",function(){return t.paginaInfoClientes=1}),G("ngModelChange",function(c){return L(t.filtertxtInfoClientes,c)||(t.filtertxtInfoClientes=c),c}),n(),i(160,"label"),r(161,"Buscar"),n()()()()(),m(162,"hr"),v(163,Yi,6,0,"div",20)(164,Zi,3,0,"div",20),i(165,"div",1),v(166,Xi,89,23,"div",63),n(),m(167,"hr"),i(168,"div",64)(169,"div",24)(170,"div",25)(171,"div",26)(172,"div",27)(173,"h1",28),r(174),n(),i(175,"button",29),p("click",function(){return t.resetInfoClientes()}),n()()(),i(176,"div",30)(177,"div",31)(178,"div",32)(179,"input",65),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"residenciaactual")}),n(),i(180,"label"),r(181,"residencia actual"),n(),i(182,"div",34),r(183,"Este campo es obligatorio*"),n()(),i(184,"div",32)(185,"input",66),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"diagnostico")}),n(),i(186,"label"),r(187,"diagnostico"),n(),i(188,"div",34),r(189,"Este campo es obligatorio*"),n()(),i(190,"div",32)(191,"input",67),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"tipotratamiento")}),n(),i(192,"label"),r(193,"tipo de tratamiento"),n(),i(194,"div",34),r(195,"Este campo es obligatorio*"),n()(),i(196,"div",32),m(197,"input",68),i(198,"label"),r(199,"duraci\xF3n"),n(),i(200,"div",34),r(201,"Este campo es obligatorio*"),n()(),i(202,"div",32),m(203,"input",69),i(204,"label"),r(205,"fecha de admisi\xF3n"),n(),i(206,"div",34),r(207,"Este campo es obligatorio*"),n()(),i(208,"div",32)(209,"input",70),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"tutor")}),n(),i(210,"label"),r(211,"tutor"),n(),i(212,"div",34),r(213,"Este campo es obligatorio*"),n()(),i(214,"div",32)(215,"input",71),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"frecuencia")}),n(),i(216,"label"),r(217,"frecuencia de las sesiones"),n(),i(218,"div",34),r(219,"Este campo es obligatorio*"),n()(),i(220,"div",32)(221,"input",72),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"objgenerales")}),n(),i(222,"label"),r(223,"objetivos generales"),n(),i(224,"div",34),r(225,"Este campo es obligatorio*"),n()(),i(226,"div",32)(227,"input",73),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"fisico")}),n(),i(228,"label"),r(229,"fisico"),n(),i(230,"div",34),r(231,"Este campo es obligatorio*"),n()(),i(232,"div",32)(233,"input",74),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"emocional")}),n(),i(234,"label"),r(235,"emocional"),n(),i(236,"div",34),r(237,"Este campo es obligatorio*"),n()(),i(238,"div",32)(239,"input",75),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"cognitivo")}),n(),i(240,"label"),r(241,"cognitivo"),n(),i(242,"div",34),r(243,"Este campo es obligatorio*"),n()(),i(244,"div",32)(245,"input",76),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"social")}),n(),i(246,"label"),r(247,"social"),n(),i(248,"div",34),r(249,"Este campo es obligatorio*"),n()(),i(250,"div",32)(251,"input",77),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"metodosausar")}),n(),i(252,"label"),r(253,"metodos a usar"),n(),i(254,"div",34),r(255,"Este campo es obligatorio*"),n()(),i(256,"label"),r(257,"notas"),n(),i(258,"div",32),m(259,"quill-editor",78),n(),m(260,"hr"),i(261,"label"),r(262,"cuestionario"),n(),i(263,"div",32),m(264,"quill-editor",79),n(),r(265),S(266,"json"),n()(),i(267,"div",49),v(268,Ji,6,0,"div",50),i(269,"div",51)(270,"div",52)(271,"button",53),p("click",function(){return t.resetInfoClientes()}),m(272,"i",54),r(273," CANCELAR"),m(274,"span",8),n()(),i(275,"div",55),v(276,Ki,4,4,"button",56)(277,en,2,1,"button",57),n()()()()()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtClientes),l(21),d("ngIf",t.isLoadingClientes),l(),d("ngIf",!t.isLoadingClientes&&t.Clientes.length===0),l(),d("ngForOf",M(44,49,M(43,46,t.Clientes,t.filtertxtClientes),V(54,Di,t.paginaClientes))),l(11),E("",t.newClientes.get("id").value?"Modificar":"Registrar"," Clientes"),l(3),d("formGroup",t.newClientes),l(2),d("ngClass",t.ValidacionClientesxElemento("apellidos")),l(6),d("ngClass",t.ValidacionClientesxElemento("nombres")),l(6),d("ngClass",t.ValidacionClientesxElemento("carnet")),l(6),d("ngClass",t.ValidacionClientesxElemento("celular")),l(6),d("ngClass",t.ValidacionClientesxElemento("fechnac")),l(6),d("ngClass",t.ValidacionClientesxElemento("edad")),l(6),d("ngClass",t.ValidacionClientesxElemento("usuario")),l(6),d("ngClass",t.ValidacionClientesxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionClientesxElemento("estado")),l(12),d("ngIf",t.selectedFileUrl),l(),d("ngClass",t.ValidacionClientesxElemento("foto")),l(5),d("ngIf",t.uploadProgress!==null),l(2),d("ngIf",!t.newClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalClientes),l(),d("ngIf",t.AnimacionCargabtnModalClientes),l(24),z("ngModel",t.filtertxtInfoClientes),l(4),d("ngIf",t.isLoadingInfoClientes),l(),d("ngIf",!t.isLoadingInfoClientes&&t.InfoClientes.length===0),l(2),d("ngForOf",t.InfoClientes),l(8),E("",t.newInfoClientes.get("id").value?"Modificar":"Registrar"," Informaci\xF3n de admisi\xF3n Clientes"),l(3),d("formGroup",t.newInfoClientes),l(2),d("ngClass",t.ValidacionInfoClientesxElemento("residenciaactual")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("diagnostico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tipotratamiento")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("duracion")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fechaadmision")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tutor")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("frecuencia")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("objgenerales")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fisico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("emocional")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("cognitivo")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("social")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("metodosausar")),l(8),d("modules",t._tools.modulesQuillEdicion),l(5),d("modules",t._tools.modulesQuillEdicion),l(),E(" ",K(266,52,t.newInfoClientes.value)," "),l(3),d("ngIf",!t.newInfoClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInfoClientes),l(),d("ngIf",t.AnimacionCargabtnModalInfoClientes))},dependencies:[Z,$,W,se,le,ee,he,re,te,ie,ne,oe,ae,de,mi,ni,ce,Ce,fe]})}};var pe=class a{constructor(o,e,t){this.router=o;this.http=e;this._tool=t;this.ruta=A.ruta}canActivate(o,e){let t=localStorage.getItem("token");return t?this.http.post(this.ruta+"api/verify-token",{token:t}).pipe(Ge(s=>s&&s.name==="Admin"?!0:(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)),qt(s=>(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),Le(!1)))):(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)}static{this.\u0275fac=function(e){return new(e||a)(R(Ze),R(P),R(Q))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var it=class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=j({type:a,selectors:[["app-gestiondeciclosdeplanesdeintervencion"]],decls:2,vars:0,template:function(e,t){e&1&&(i(0,"p"),r(1,"gestiondeciclosdeplanesdeintervencion works!"),n())}})}};var nt=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerPagos(){return this.http.get(this.ruta+"api/Pagos/")}AgregarPagos(o){return this.http.post(this.ruta+"api/Pagos/",o)}ModificarPagos(o,e){return this.http.put(this.ruta+"api/Pagos/"+e,o)}SeleccionarPagos(o){return this.http.get(this.ruta+"api/Pagos/"+o)}EliminarPagos(o){return this.http.delete(this.ruta+"api/Pagos/"+o)}createFormGroupPagos(){return new N({id:new g(0),id_infocliente:new g("",[B.required]),precio:new g("",[B.required]),saldo:new g(""),pagado:new g("0"),horario:new g(""),tipo:new g("MENSUAL",[B.required]),descuento:new g("0")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ot=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerCiclos(){return this.http.get(this.ruta+"api/Ciclos/")}AgregarCiclos(o){return this.http.post(this.ruta+"api/Ciclos/",o)}ModificarCiclos(o,e){return this.http.put(this.ruta+"api/Ciclos/"+e,o)}SeleccionarCiclos(o){return this.http.get(this.ruta+"api/Ciclos/"+o)}EliminarCiclos(o){return this.http.delete(this.ruta+"api/Ciclos/"+o)}createFormGroupCiclos(){return new N({id:new g(0),id_pago:new g(""),nrociclo:new g(""),sesion:new g(""),estadosesion:new g("SESI\xD3N PENDIENTE"),fecha:new g(""),estadopago:new g("PENDIENTE"),eri:new g(""),cim:new g("")})}SeleccionarAllInformacionCiclos(o){return this.http.get(this.ruta+"api/AllInfoCiclos/"+o)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var at=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerArchivosPagos(){return this.http.get(this.ruta+"api/ArchivosPagos/")}AgregarArchivosPagos(o){return this.http.post(this.ruta+"api/ArchivosPagos/",o)}ModificarArchivosPagos(o,e){return this.http.put(this.ruta+"api/ArchivosPagos/"+e,o)}SeleccionarArchivosPagos(o){return this.http.get(this.ruta+"api/ArchivosPagos/"+o)}EliminarArchivosPagos(o){return this.http.delete(this.ruta+"api/ArchivosPagos/"+o)}createFormGroupArchivosPagos(){return new N({id:new g(0),id_pago:new g(""),monto:new g(""),fechapago:new g(""),horapago:new g(""),file:new g(""),observacion:new g("NINGUNA"),estadopago:new g("PENDIENTE")})}SeleccionarAllInformacionArchivosPagos(o){return this.http.get(this.ruta+"api/AllInfoArchivosPagos/"+o)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var kt=a=>({itemsPerPage:10,currentPage:a}),an=()=>({standalone:!0}),rn=a=>({itemsPerPage:3,currentPage:a});function sn(a,o){a&1&&(i(0,"tr")(1,"td",85)(2,"div",86)(3,"div",87)(4,"span",88),r(5,"Loading..."),n()()()()())}function ln(a,o){a&1&&(i(0,"tr")(1,"td",85),r(2,"No hay datos disponibles"),n()())}function cn(a,o){if(a&1){let e=C();i(0,"div",114)(1,"button",115),p("click",function(){h(e);let s=u().$implicit,c=u();return f(c.SeleccionarPagos(s.id,"GestionCiclos"))}),n(),i(2,"button",115),S(3,"dateFormat"),p("click",function(){h(e);let s=u().$implicit,c=u();return f(c.SeleccionarPagos(s.id,"GestionCiclos"))}),i(4,"sup",116),r(5),n(),m(6,"i",117),i(7,"sub"),r(8),n()()()}if(a&2){let e=o.$implicit;l(),k("btn btn-",e.estadopago=="PAGADO"?"success":e.estadopago=="RETRASADO"?"danger":e.estadopago=="PENDIENTE"?"secondary":"warning",""),D("title",e.estadopago=="SESI\xD3N PAGADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGADA":e.estadopago=="RETRASADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO RETRASADO":e.estadopago=="PENDIENTE"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PENDIENTE":"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PRESTADO"),l(),k("btn btn-",e.estadosesion=="REALIZADO"?"success":"secondary",""),D("title",e.estadosesion=="REALIZADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+"  REALIZADA EL DIA "+K(3,13,e.fecha):"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PENDIENTE"),l(3),E(" ",e.nrociclo," "),l(),k("bi bi-",e.estadosesion=="REALIZADO"?"check-lg":"clock-history",""),l(2),E(" ",e.sesion,"")}}function dn(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",89),r(2),n(),i(3,"td",90),r(4),i(5,"div",91)(6,"small",92),r(7),S(8,"dateFormat"),n()()(),i(9,"td",90)(10,"div",91),r(11),n(),i(12,"div",93)(13,"small",92),r(14),n()()(),i(15,"td",90),r(16),n(),i(17,"td",90)(18,"div",94)(19,"div",95),r(20),n(),i(21,"div",96),r(22),n(),i(23,"div",97),r(24),n()(),i(25,"div",91)(26,"small",92),r(27),n()()(),i(28,"td",90),r(29),n(),i(30,"td",98)(31,"div",99)(32,"div")(33,"a",100),m(34,"i",101),n(),i(35,"button",102),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarPagos(s.id,"Estabilizar"))}),m(36,"img",103),n(),i(37,"button",104),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarPagos(s.id))}),m(38,"i",105),n(),i(39,"button",106),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarPagos(s.id))}),m(40,"i",107),n(),i(41,"button",108),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarPagos(s.id,"ArchivosPagos"))}),m(42,"i",109),n(),i(43,"button",110),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarPagos(s.id,"GestionCiclos"))}),m(44,"i",111),n()(),i(45,"div",112),v(46,cn,9,15,"div",113),n()()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaPagos-1)*10+(e+1)),l(2),E(" ",t.apellidos+" "+t.nombres," "),l(3),E("Admisi\xF3n: ",K(8,38,t.fechaadmision),""),l(4),b(t.tipo),l(3),E("Ciclo N\xBA ",t.ciclos[0].nrociclo,""),l(2),b(t.precio),l(3),$e("width:"+t.pagado+"%"),Ae("title","Realiz\xF3 el Pago de: ",t.pagado," Bs."),D("aria-valuenow",t.pagado),D("aria-valuemax",t.precio),l(),E(" ",t.pagado," "),l(),$e("width:"+t.saldo+"%"),k("progress-bar ",t.saldo<0?"bg-warning":"bg-danger",""),Ae("title","",t.saldo<0?"Debe devolver el Monto de:"+t.saldo*-1:"Le falta Cancelar el Monto de: "+t.saldo," Bs."),D("aria-valuenow",t.saldo),D("aria-valuemax",t.precio),l(),E(" ",t.saldo," "),l(),$e("width:"+t.descuento+"%"),Ae("title","Tiene un Descuento de: ",t.descuento," Bs."),D("aria-valuenow",t.descuento),D("aria-valuemax",t.precio),l(),E(" ",t.descuento," "),l(3),be("Precio Total a Pagar: ",t.precio-t.descuento,"Bs. ",t.saldo<0?" || Debe devolver el Monto de: "+t.saldo*-1:"",""),l(2),b(t.horario),l(4),Ae("title","Contactar: ",t.celular,""),Ae("href","https://api.whatsapp.com/send?phone=591",t.celular,"",Ne),l(13),d("ngForOf",t.ciclos)}}function mn(a,o){if(a&1){let e=C();i(0,"div",120),p("click",function(s){let c=h(e).$implicit,_=u(2);return f(_.SeleccionandoInfoCliente(s,c))}),i(1,"div",121)(2,"h5",122),r(3),n(),i(4,"small"),r(5),n()(),i(6,"p",122),r(7),n()()}if(a&2){let e=o.$implicit;l(3),be("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function pn(a,o){if(a&1&&(i(0,"div",118),v(1,mn,8,4,"div",119),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),n()),a&2){let e=u();l(),d("ngForOf",M(3,4,M(2,1,e.InfoClientes,e.filterInfoClientes),V(7,rn,e.paginaInfoClientes)))}}function un(a,o){if(a&1){let e=C();i(0,"div",40)(1,"input",123),G("ngModelChange",function(s){h(e);let c=u();return L(c.nroCiclo,s)||(c.nroCiclo=s),f(s)}),n(),i(2,"label"),r(3,"N\xBA Ciclo"),n(),i(4,"div",42),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),z("ngModel",e.nroCiclo)}}function gn(a,o){if(a&1){let e=C();i(0,"div",124)(1,"button",125),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastPagos())}),m(2,"i",126),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",127),n()()}}function hn(a,o){if(a&1){let e=C();i(0,"button",128),p("click",function(){h(e);let s=u();return f(s.AgregarModificarPagos())}),m(1,"i",117),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function fn(a,o){if(a&1){let e=C();i(0,"button",129),p("click",function(){h(e);let s=u();return f(s.AgregarModificarPagos())}),m(1,"span",130),n()}a&2&&d("disabled",!0)}function bn(a,o){a&1&&(i(0,"tr")(1,"td",131)(2,"div",86)(3,"div",87)(4,"span",88),r(5,"Loading..."),n()()()()())}function vn(a,o){a&1&&(i(0,"tr")(1,"td",131),r(2,"No hay datos disponibles"),n()())}function _n(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",89),r(2),n(),i(3,"td",90),r(4),n(),i(5,"td",90),r(6),n(),i(7,"td",90),r(8),n(),i(9,"td",90),r(10),n(),i(11,"td",90),r(12),S(13,"dateFormat"),n(),i(14,"td",98)(15,"button",104),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarCiclos(s.id))}),m(16,"i",105),n(),i(17,"button",106),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarCiclos(s.id))}),m(18,"i",107),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaCiclos-1)*10+(e+1)),l(2),E("Ciclo ",t.nrociclo,""),l(2),E("Sesi\xF3n ",t.sesion,""),l(2),b(t.estadopago),l(2),b(t.estadosesion),l(2),b(K(13,6,t.fecha))}}function Cn(a,o){if(a&1){let e=C();i(0,"div",124)(1,"button",125),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastCiclos())}),m(2,"i",126),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",127),n()()}}function En(a,o){if(a&1){let e=C();i(0,"button",128),p("click",function(){h(e);let s=u();return f(s.AgregarModificarCiclos())}),m(1,"i",117),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newCiclos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newCiclos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Sn(a,o){if(a&1){let e=C();i(0,"button",129),p("click",function(){h(e);let s=u();return f(s.AgregarModificarCiclos())}),m(1,"span",130),n()}a&2&&d("disabled",!0)}function In(a,o){a&1&&(i(0,"tr")(1,"td",132)(2,"div",86)(3,"div",87)(4,"span",88),r(5,"Loading..."),n()()()()())}function xn(a,o){a&1&&(i(0,"tr")(1,"td",132),r(2,"No hay datos disponibles"),n()())}function Mn(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",89),r(2),n(),i(3,"td",90),r(4),n(),i(5,"td",90),r(6),n(),i(7,"td",90),r(8),n(),i(9,"td",90),r(10),n(),i(11,"td",90),r(12),n(),i(13,"td",98)(14,"button",104),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarArchivosPagos(s.id))}),m(15,"i",105),n(),i(16,"button",106),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarArchivosPagos(s.id,s))}),m(17,"i",107),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaArchivosPagos-1)*10+(e+1)),l(2),b(t.monto),l(2),b(t.fechapago),l(2),b(t.horapago),l(2),b(t.observacion),l(2),b(t.estadopago)}}function wn(a,o){if(a&1){let e=C();i(0,"div",124)(1,"button",125),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastArchivosPagos())}),m(2,"i",126),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",127),n()()}}function An(a,o){if(a&1){let e=C();i(0,"button",128),p("click",function(){h(e);let s=u();return f(s.AgregarModificarArchivosPagos())}),m(1,"i",117),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newArchivosPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newArchivosPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function yn(a,o){if(a&1){let e=C();i(0,"button",129),p("click",function(){h(e);let s=u();return f(s.AgregarModificarArchivosPagos())}),m(1,"span",130),n()}a&2&&d("disabled",!0)}var rt=class a{constructor(o,e,t,s,c){this._pagos=o;this._tools=e;this._ciclos=t;this._archivospagos=s;this._infoclientes=c;this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.Pagos=[];this.paginaPagos=1;this.isLoadingPagos=!0;this.AnimacionCargabtnModalPagos=!1;this.filtertxtPagos="";this.nroCiclo=1;this.idPagosSave=0;this.ArchivosPagos=[];this.paginaArchivosPagos=1;this.isLoadingArchivosPagos=!0;this.AnimacionCargabtnModalArchivosPagos=!1;this.filtertxtArchivosPagos="";this.Ciclos=[];this.paginaCiclos=1;this.isLoadingCiclos=!0;this.AnimacionCargabtnModalCiclos=!1;this.filtertxtCiclos="";this.newPagos=this._pagos.createFormGroupPagos(),this.newPagosAnteriorAccion=this._pagos.createFormGroupPagos(),this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagosAnteriorAccion=this._archivospagos.createFormGroupArchivosPagos(),this.newCiclos=this._ciclos.createFormGroupCiclos(),this.newCiclosAnteriorAccion=this._ciclos.createFormGroupCiclos()}ngOnInit(){this.CargarPagos()}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(o=>{console.log("INFO CLIENTES CARGADO",o.data),this.InfoClientes=o.data},o=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",o)})}SeleccionandoInfoCliente(o,e){let t=o.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPagos.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPagos.patchValue({id_infocliente:e.id}))}CargarPagos(){this.AnimarCargaTablaPagos(),this._pagos.ObtenerPagos().subscribe(o=>{console.log("Pagos CARGADO",o.data),this.Pagos=o.data,this.isLoadingPagos=!1},o=>{console.log("ERROR AL CARGAR Pagos",o),this.isLoadingPagos=!1})}AgregarModificarPagos(){if(this.newPagos.invalid){this.ValidacionTodoElementoPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPagos=!1;return}else{this.AnimarCargaTablaPagos(),this.AnimacionCargabtnModalPagos=!0,this._tools.MostrarMensajeLoading(),this.newPagosAnteriorAccion.setValue(this.newPagos.value);let o=this.newPagos.controls.id.value;console.log("INFO A PROCESAR",this.newPagos.value),o?(this.newPagos.value.saldo=this.newPagos.value.precio-this.newPagos.value.pagado-this.newPagos.value.descuento,this._pagos.ModificarPagos(this.newPagos.value,this.newPagos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()})):(this.newPagos.value.saldo=this.newPagos.value.precio,this._pagos.AgregarPagos(this.newPagos.value).subscribe(e=>{if(console.log("SE A\xD1ADIO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),e.data.tipo=="MENSUAL")for(var t=0;t<4;)t++,this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:t.toString()}),this.AgregarModificarCiclos(),console.log("PASANDO",t);else this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:"1"}),this.AgregarModificarCiclos();this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPagos(o,e){switch(this._tools.MostrarMensajeLoading(),e){case"ArchivosPagos":if(this.idPagosSave=o,this.CargarArchivosPagos(),o){if(!this.Pagos.find(s=>s.id===o))return;this._pagos.SeleccionarPagos(o).subscribe(s=>{Object.keys(this.newPagos.controls).forEach(c=>{this.newPagos.controls[c].setValue(s.data[c])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("ModalAllGestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL SELECCIONAR Pagos",s),this._tools.MostrarMensajeError()})}break;case"GestionCiclos":this.idPagosSave=o,this.CargarCiclos(),this._tools.abrirModal("ModalAllGestionCiclos"),this._tools.MostrarMensajeSuccess();break;case"Estabilizar":this.idPagosSave=o,this._archivospagos.SeleccionarAllInformacionArchivosPagos(o).subscribe(t=>{this.ArchivosPagos=t.data;var s=0;this.ArchivosPagos.forEach(c=>{c.estadopago=="CONFIRMADO"&&(s=s+Number(c.monto))}),console.log("suma Archivos Pago de estabilizacion",s),this._pagos.SeleccionarPagos(o).subscribe(c=>{Object.keys(this.newPagos.controls).forEach(_=>{this.newPagos.controls[_].setValue(c.data[_])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagos.patchValue({saldo:this.newPagos.value.precio-s-this.newPagos.value.descuento,pagado:s}),this.AgregarModificarPagos()},c=>{console.log("ERROR AL SELECCIONAR Pagos",c),this._tools.MostrarMensajeError()})});break;default:if(o){if(!this.Pagos.find(s=>s.id===o))return;this._pagos.SeleccionarPagos(o).subscribe(s=>{Object.keys(this.newPagos.controls).forEach(c=>{this.newPagos.controls[c].setValue(s.data[c])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("modalgestionPagos"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL SELECCIONAR Pagos",s),this._tools.MostrarMensajeError()})}break}}EliminarPagos(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._pagos.EliminarPagos(o).subscribe(t=>{console.log(t.data),this.CargarPagos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Pagos",t),this._tools.MostrarMensajeError()}))})}resetPagos(){this.newPagos.reset(),this._tools.cerrarModal("modalgestionPagos")}AbrirModalPagos(){this.CargarInfoClientes(),this.newPagos=this._pagos.createFormGroupPagos(),this._tools.abrirModal("modalgestionPagos")}AutoCompletarLastPagos(){this.newPagos.setValue(this.newPagosAnteriorAccion.value),this.newPagos.patchValue({id:0}),console.log("listo",this.newPagos.value)}AnimarCargaTablaPagos(){this.Pagos=[],this.isLoadingPagos=!0}ValidacionPagosxElemento(o){return this._tools.obtenerValidationClass(this.newPagos,o)}ValidacionTodoElementoPagos(){Object.values(this.newPagos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarArchivosPagos(){this.AnimarCargaTablaArchivosPagos(),this._archivospagos.SeleccionarAllInformacionArchivosPagos(this.idPagosSave).subscribe(o=>{console.log("ArchivosPagos CARGADO",o.data),this.ArchivosPagos=o.data,this.isLoadingArchivosPagos=!1},o=>{console.log("ERROR AL CARGAR ArchivosPagos",o),this.isLoadingArchivosPagos=!1})}AgregarModificarArchivosPagos(){if(this.newArchivosPagos.invalid){this.ValidacionTodoElementoArchivosPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalArchivosPagos=!1;return}else{this.AnimarCargaTablaArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!0,this._tools.MostrarMensajeLoading(),this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value);let e=this.newArchivosPagos.controls.id.value;if(console.log("INFO A PROCESAR",this.newArchivosPagos.value),e)this._archivospagos.ModificarArchivosPagos(this.newArchivosPagos.value,this.newArchivosPagos.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE ArchivosPagos",t.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR ArchivosPagos",t),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()});else{if(this.newArchivosPagos.value.estadopago=="CONFIRMADO"){var o=Number(this.newPagos.value.pagado)+Number(this.newArchivosPagos.value.monto);this.newPagos.patchValue({saldo:this.newPagos.value.precio-o-this.newPagos.value.descuento,pagado:o}),this.AgregarModificarPagos()}this._archivospagos.AgregarArchivosPagos(this.newArchivosPagos.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE ArchivosPagos",t.data),this.CargarArchivosPagos(),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR ArchivosPagos",t),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()})}}}SeleccionarArchivosPagos(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.ArchivosPagos.find(t=>t.id===o))return;this._archivospagos.SeleccionarArchivosPagos(o).subscribe(t=>{Object.keys(this.newArchivosPagos.controls).forEach(s=>{this.newArchivosPagos.controls[s].setValue(t.data[s])}),console.log("SELECCION DE ArchivosPagos EXITOSA",this.newArchivosPagos.value),this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this._tools.abrirModal("modalgestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR ArchivosPagos",t),this._tools.MostrarMensajeError()})}}EliminarArchivosPagos(o,e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._archivospagos.EliminarArchivosPagos(o).subscribe(s=>{console.log(s.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL ELIMINAR ArchivosPagos",s),this._tools.MostrarMensajeError()}))})}resetArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this._tools.cerrarModal("modalgestionArchivosPagos")}AbrirModalArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagos.patchValue({id_pago:this.idPagosSave}),this._tools.abrirModal("modalgestionArchivosPagos")}AutoCompletarLastArchivosPagos(){this.newArchivosPagos.setValue(this.newArchivosPagosAnteriorAccion.value),this.newArchivosPagos.patchValue({id:0}),console.log("listo",this.newArchivosPagos.value)}AnimarCargaTablaArchivosPagos(){this.ArchivosPagos=[],this.isLoadingArchivosPagos=!0}ValidacionArchivosPagosxElemento(o){return this._tools.obtenerValidationClass(this.newArchivosPagos,o)}ValidacionTodoElementoArchivosPagos(){Object.values(this.newArchivosPagos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarCiclos(){this.AnimarCargaTablaCiclos(),this._ciclos.SeleccionarAllInformacionCiclos(this.idPagosSave).subscribe(o=>{console.log("Ciclos CARGADO",o.data),this.Ciclos=o.data,this.isLoadingCiclos=!1},o=>{console.log("ERROR AL CARGAR Ciclos",o),this.isLoadingCiclos=!1})}AgregarModificarCiclos(){if(this.newCiclos.invalid){this.ValidacionTodoElementoCiclos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalCiclos=!1;return}else{this.AnimarCargaTablaCiclos(),this.AnimacionCargabtnModalCiclos=!0,this._tools.MostrarMensajeLoading(),this.newCiclosAnteriorAccion.setValue(this.newCiclos.value);let o=this.newCiclos.controls.id.value;console.log("INFO A PROCESAR",this.newCiclos.value),o?this._ciclos.ModificarCiclos(this.newCiclos.value,this.newCiclos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()}):this._ciclos.AgregarCiclos(this.newCiclos.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()}),this.CargarPagos()}}SeleccionarCiclos(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.Ciclos.find(t=>t.id===o))return;this._ciclos.SeleccionarCiclos(o).subscribe(t=>{Object.keys(this.newCiclos.controls).forEach(s=>{this.newCiclos.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Ciclos EXITOSA",this.newCiclos.value),this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._tools.abrirModal("modalgestionCiclos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Ciclos",t),this._tools.MostrarMensajeError()})}}EliminarCiclos(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ciclos.EliminarCiclos(o).subscribe(t=>{console.log(t.data),this.CargarCiclos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Ciclos",t),this._tools.MostrarMensajeError()}))})}resetCiclos(){this.newCiclos=this._ciclos.createFormGroupCiclos(),this._tools.cerrarModal("modalgestionCiclos")}AbrirModalCiclos(){this.newCiclos.reset(),this.newCiclos.patchValue({id_pago:this.idPagosSave}),this._tools.abrirModal("modalgestionCiclos")}AutoCompletarLastCiclos(){this.newCiclos.setValue(this.newCiclosAnteriorAccion.value),this.newCiclos.patchValue({id:0}),console.log("listo",this.newCiclos.value)}AnimarCargaTablaCiclos(){this.Ciclos=[],this.isLoadingCiclos=!0}ValidacionCiclosxElemento(o){return this._tools.obtenerValidationClass(this.newCiclos,o)}ValidacionTodoElementoCiclos(){Object.values(this.newCiclos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(nt),x(Q),x(ot),x(at),x(_e))}}static{this.\u0275cmp=j({type:a,selectors:[["app-gestiondecontrolasistenaciapagos"]],decls:349,vars:67,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-striped","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],["scope","col",1,"text-center"],[1,"text-success","bg-light"],[1,"text-danger","bg-light"],[1,"text-secondary","bg-light"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","precio",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","horario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","MENSUAL"],["value","SESI\xD3N"],["type","text","placeholder","","formControlName","descuento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","modalgestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","nrociclo",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","sesion",1,"form-control",3,"ngClass"],["formControlName","estadosesion",1,"form-control",3,"ngClass"],["value","REALIZADO"],["value","SESI\xD3N PENDIENTE"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["formControlName","estadopago",1,"form-control",3,"ngClass"],["value","PAGADO"],["value","PRESTADO"],["value","PENDIENTE"],["value","RETRASADO"],["type","text","placeholder","","formControlName","eri",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cim",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["id","ModalAllGestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","modalgestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","monto",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechapago",1,"form-control",3,"ngClass"],["type","time","placeholder","","formControlName","horapago",1,"form-control",3,"ngClass"],["type","file","formControlName","file",1,"form-control",3,"ngClass"],["placeholder","","formControlName","observacion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["value","CONFIRMADO"],["colspan","9",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],[1,"text-center","text-light","bg-primary"],[1,"progress",2,"height","30px"],["role","progressbar","aria-label","Segment one","aria-valuemin","0",1,"progress-bar","bg-success",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment two","aria-valuemin","0",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment three","aria-valuemin","0",1,"progress-bar","bg-secondary",3,"title","aria-valuenow","aria-valuemax"],[2,"white-space","nowrap"],[2,"display","flex","align-items","center","gap","10px"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-success","p-1","py-0",3,"title","href"],[1,"bi","bi-whatsapp",2,"font-size","1.5rem"],["title","Estabilizar",1,"btn","btn-light","p-1","py-0",3,"click"],["src","assets/images/balanza.svg","alt","Balanza",1,"image",2,"width","24px","height","auto","display","inline-block"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Archivos de Pagos",1,"btn","btn-success","p-1","py-0",3,"click"],[1,"bi","bi-currency-dollar",2,"font-size","1.5rem"],["title","Ciclos",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-border-all",2,"font-size","1.5rem"],[1,"rectangle-grid"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[3,"click","title"],[1,"fw-bolder","circle-container"],[2,"font-size","1rem"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],["type","number","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","7",1,"text-center"],["colspan","6",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Pagos"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Pagos de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalPagos()}),m(11,"i",7),r(12," A\xF1adir Pagos"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaPagos=1}),G("ngModelChange",function(c){return L(t.filtertxtPagos,c)||(t.filtertxtPagos=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),r(28,"#"),n(),i(29,"th",18),r(30,"Nombre Completo"),n(),i(31,"th",18),r(32,"Tipo"),n(),i(33,"th",18),r(34,"Precio"),n(),i(35,"th",19)(36,"label",20),r(37,"Pagado/"),n(),i(38,"label",21),r(39,"Deuda/"),n(),i(40,"label",22),r(41,"Descuento"),n()(),i(42,"th",18),r(43,"Horario"),n(),i(44,"th",18),r(45,"ACCIONES"),n()()(),i(46,"tbody",23),v(47,sn,6,0,"tr",24)(48,ln,3,0,"tr",24)(49,dn,47,40,"tr",25),S(50,"filterapellidosnombrescarnet"),S(51,"paginate"),n()(),i(52,"pagination-controls",26),p("pageChange",function(c){return t.paginaPagos=c}),n()(),m(53,"hr"),i(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"div",31)(59,"h1",32),r(60),n(),i(61,"button",33),p("click",function(){return t.resetPagos()}),n()()(),i(62,"div",34)(63,"div",35)(64,"div",36)(65,"label",37),r(66,"Buscar:"),n(),i(67,"input",38),G("ngModelChange",function(c){return L(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),p("input",function(){return t.paginaInfoClientes=1}),n()(),v(68,pn,4,9,"div",39),i(69,"pagination-controls",26),p("pageChange",function(c){return t.paginaInfoClientes=c}),n(),m(70,"hr"),i(71,"div",40),m(72,"input",41),i(73,"label"),r(74,"cliente"),n(),i(75,"div",42),r(76,"Este campo es obligatorio*"),n()(),i(77,"div",40),m(78,"input",43),i(79,"label"),r(80,"precio"),n(),i(81,"div",42),r(82,"Este campo es obligatorio*"),n()(),i(83,"div",40)(84,"input",44),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"horario")}),n(),i(85,"label"),r(86,"horario"),n(),i(87,"div",42),r(88,"Este campo es obligatorio*"),n()(),i(89,"div",40)(90,"select",45)(91,"option",46),r(92,"Seleccione una opci\xF3n"),n(),i(93,"option",47),r(94,"MENSUAL"),n(),i(95,"option",48),r(96,"SESI\xD3N"),n()(),i(97,"label"),r(98,"tipo"),n(),i(99,"div",42),r(100,"Este campo es obligatorio*"),n()(),i(101,"div",40)(102,"input",49),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"descuento")}),n(),i(103,"label"),r(104,"descuento"),n(),i(105,"div",42),r(106,"Este campo es obligatorio*"),n()()(),v(107,un,6,1,"div",50),n(),i(108,"div",51),v(109,gn,6,0,"div",52),i(110,"div",53)(111,"div",54)(112,"button",55),p("click",function(){return t.resetPagos()}),m(113,"i",56),r(114," CANCELAR"),m(115,"span",8),n()(),i(116,"div",57),v(117,hn,4,4,"button",58)(118,fn,2,1,"button",59),n()()()()()(),i(119,"div",60)(120,"div",28)(121,"div",29)(122,"div",30)(123,"h1",61),r(124,"Gestionar Ciclos"),n(),m(125,"button",62),n(),i(126,"div",34),m(127,"hr"),i(128,"div",0)(129,"div",1),m(130,"div",2),n()(),i(131,"div",1)(132,"div",5)(133,"button",6),p("click",function(){return t.AbrirModalCiclos()}),m(134,"i",7),r(135," A\xF1adir Ciclos"),m(136,"span",8),n()()(),m(137,"hr"),i(138,"div",15)(139,"table",16)(140,"thead")(141,"tr")(142,"th",17),r(143,"#"),n(),i(144,"th",18),r(145,"Nro. Ciclo"),n(),i(146,"th",18),r(147,"Nro. Sesi\xF3n"),n(),i(148,"th",18),r(149,"Estado de Pago"),n(),i(150,"th",18),r(151,"Estado de Sesi\xF3n"),n(),i(152,"th",18),r(153,"Fecha de Realizaci\xF3n"),n(),i(154,"th",18),r(155,"ACCIONES"),n()()(),i(156,"tbody",23),v(157,bn,6,0,"tr",24)(158,vn,3,0,"tr",24)(159,_n,19,8,"tr",25),S(160,"paginate"),n()(),i(161,"pagination-controls",26),p("pageChange",function(c){return t.paginaCiclos=c}),n()(),m(162,"hr"),i(163,"div",63)(164,"div",28)(165,"div",29)(166,"div",30)(167,"div",31)(168,"h1",32),r(169),n(),i(170,"button",33),p("click",function(){return t.resetCiclos()}),n()()(),i(171,"div",34)(172,"div",35)(173,"div",40),m(174,"input",64),i(175,"label"),r(176,"nrociclo"),n(),i(177,"div",42),r(178,"Este campo es obligatorio*"),n()(),i(179,"div",40),m(180,"input",65),i(181,"label"),r(182,"sesion"),n(),i(183,"div",42),r(184,"Este campo es obligatorio*"),n()(),i(185,"div",40)(186,"select",66)(187,"option",46),r(188,"Seleccione una opci\xF3n"),n(),i(189,"option",67),r(190,"REALIZADO"),n(),i(191,"option",68),r(192,"SESI\xD3N PENDIENTE"),n()(),i(193,"label"),r(194,"estadosesion"),n(),i(195,"div",42),r(196,"Este campo es obligatorio*"),n()(),i(197,"div",40),m(198,"input",69),i(199,"label"),r(200,"fecha"),n(),i(201,"div",42),r(202,"Este campo es obligatorio*"),n()(),i(203,"div",40)(204,"select",70)(205,"option",46),r(206,"Seleccione una opci\xF3n"),n(),i(207,"option",71),r(208,"PAGADO"),n(),i(209,"option",72),r(210,"PRESTADO"),n(),i(211,"option",73),r(212,"PENDIENTE"),n(),i(213,"option",74),r(214,"RETRASADO"),n()(),i(215,"label"),r(216,"estadopago"),n(),i(217,"div",42),r(218,"Este campo es obligatorio*"),n()(),i(219,"div",40)(220,"input",75),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newCiclos,"eri")}),n(),i(221,"label"),r(222,"eri"),n(),i(223,"div",42),r(224,"Este campo es obligatorio*"),n()(),i(225,"div",40)(226,"input",76),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newCiclos,"cim")}),n(),i(227,"label"),r(228,"cim"),n(),i(229,"div",42),r(230,"Este campo es obligatorio*"),n()()()(),i(231,"div",51),v(232,Cn,6,0,"div",52),i(233,"div",53)(234,"div",54)(235,"button",55),p("click",function(){return t.resetCiclos()}),m(236,"i",56),r(237," CANCELAR"),m(238,"span",8),n()(),i(239,"div",57),v(240,En,4,4,"button",58)(241,Sn,2,1,"button",59),n()()()()()()()()()(),i(242,"div",77)(243,"div",28)(244,"div",29)(245,"div",30)(246,"h1",61),r(247,"ARCHIVOS DE PAGO "),n(),m(248,"button",62),n(),i(249,"div",34),m(250,"hr"),i(251,"div",0)(252,"div",1),m(253,"div",2),n()(),i(254,"div",1)(255,"div",5)(256,"button",6),p("click",function(){return t.AbrirModalArchivosPagos()}),m(257,"i",7),r(258," A\xF1adir Archivos de Pagos"),m(259,"span",8),n()()(),m(260,"hr"),i(261,"div",15)(262,"table",16)(263,"thead")(264,"tr")(265,"th",17),r(266,"#"),n(),i(267,"th",18),r(268,"Monto"),n(),i(269,"th",18),r(270,"Fecha de Pago"),n(),i(271,"th",18),r(272,"Hora de Pago"),n(),i(273,"th",18),r(274,"Observaci\xF3n"),n(),i(275,"th",18),r(276,"Estado Pago"),n(),i(277,"th",18),r(278,"ACCIONES"),n()()(),i(279,"tbody",23),v(280,In,6,0,"tr",24)(281,xn,3,0,"tr",24)(282,Mn,18,6,"tr",25),S(283,"paginate"),n()(),i(284,"pagination-controls",26),p("pageChange",function(c){return t.paginaArchivosPagos=c}),n()(),m(285,"hr"),i(286,"div",78)(287,"div",28)(288,"div",29)(289,"div",30)(290,"div",31)(291,"h1",32),r(292),n(),i(293,"button",33),p("click",function(){return t.resetArchivosPagos()}),n()()(),i(294,"div",34)(295,"div",35)(296,"div",40),m(297,"input",79),i(298,"label"),r(299,"monto"),n(),i(300,"div",42),r(301,"Este campo es obligatorio*"),n()(),i(302,"div",40),m(303,"input",80),i(304,"label"),r(305,"fechapago"),n(),i(306,"div",42),r(307,"Este campo es obligatorio*"),n()(),i(308,"div",40),m(309,"input",81),i(310,"label"),r(311,"horapago"),n(),i(312,"div",42),r(313,"Este campo es obligatorio*"),n()(),i(314,"div",40),m(315,"input",82),i(316,"label"),r(317,"file"),n(),i(318,"div",42),r(319,"Este campo es obligatorio*"),n()(),i(320,"div",40)(321,"textarea",83),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newArchivosPagos,"observacion")}),n(),i(322,"label"),r(323,"observacion"),n(),i(324,"div",42),r(325,"Este campo es obligatorio*"),n()(),i(326,"div",40)(327,"select",70)(328,"option",46),r(329,"Seleccione una opci\xF3n"),n(),i(330,"option",73),r(331,"PENDIENTE"),n(),i(332,"option",84),r(333,"CONFIRMADO"),n()(),i(334,"label"),r(335,"estadopago"),n(),i(336,"div",42),r(337,"Este campo es obligatorio*"),n()()()(),i(338,"div",51),v(339,wn,6,0,"div",52),i(340,"div",53)(341,"div",54)(342,"button",55),p("click",function(){return t.resetArchivosPagos()}),m(343,"i",56),r(344," CANCELAR"),m(345,"span",8),n()(),i(346,"div",57),v(347,An,4,4,"button",58)(348,yn,2,1,"button",59),n()()()()()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtPagos),l(28),d("ngIf",t.isLoadingPagos),l(),d("ngIf",!t.isLoadingPagos&&t.Pagos.length===0),l(),d("ngForOf",M(51,51,M(50,48,t.Pagos,t.filtertxtPagos),V(60,kt,t.paginaPagos))),l(11),E("",t.newPagos.get("id").value?"Modificar":"Registrar"," Pagos "),l(3),d("formGroup",t.newPagos),l(4),z("ngModel",t.filterInfoClientes),d("ngModelOptions",Qe(62,an)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),D("value",t.nombreseleccionado),d("ngClass",t.ValidacionPagosxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPagosxElemento("precio")),l(6),d("ngClass",t.ValidacionPagosxElemento("horario")),l(6),d("ngClass",t.ValidacionPagosxElemento("tipo")),l(12),d("ngClass",t.ValidacionPagosxElemento("descuento")),l(5),d("ngIf",!t.newPagos.get("id").value),l(2),d("ngIf",!t.newPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPagos),l(),d("ngIf",t.AnimacionCargabtnModalPagos),l(39),d("ngIf",t.isLoadingCiclos),l(),d("ngIf",!t.isLoadingCiclos&&t.Ciclos.length===0),l(),d("ngForOf",M(160,54,t.Ciclos,V(63,kt,t.paginaCiclos))),l(10),E(" ",t.newCiclos.get("id").value?"Modificar":"Registrar"," Ciclos"),l(3),d("formGroup",t.newCiclos),l(2),d("ngClass",t.ValidacionCiclosxElemento("nrociclo")),l(6),d("ngClass",t.ValidacionCiclosxElemento("sesion")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadosesion")),l(12),d("ngClass",t.ValidacionCiclosxElemento("fecha")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadopago")),l(16),d("ngClass",t.ValidacionCiclosxElemento("eri")),l(6),d("ngClass",t.ValidacionCiclosxElemento("cim")),l(6),d("ngIf",!t.newCiclos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalCiclos),l(),d("ngIf",t.AnimacionCargabtnModalCiclos),l(39),d("ngIf",t.isLoadingArchivosPagos),l(),d("ngIf",!t.isLoadingArchivosPagos&&t.ArchivosPagos.length===0),l(),d("ngForOf",M(283,57,t.ArchivosPagos,V(65,kt,t.paginaArchivosPagos))),l(10),E(" ",t.newArchivosPagos.get("id").value?"Modificar":"Registrar"," ArchivosPagos"),l(3),d("formGroup",t.newArchivosPagos),l(2),d("ngClass",t.ValidacionArchivosPagosxElemento("monto")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("fechapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("horapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("file")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("observacion")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("estadopago")),l(12),d("ngIf",!t.newArchivosPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalArchivosPagos),l(),d("ngIf",t.AnimacionCargabtnModalArchivosPagos))},dependencies:[Z,$,W,se,le,ee,he,re,te,ie,ne,oe,ae,de,ce,Ce,fe],styles:[".rectangle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(50,auto)}.group[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,15px);border:2px solid white;border-radius:10px}.group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;text-shadow:1px 1px 2px black}.circle-container[_ngcontent-%COMP%]{display:inline-block;padding:1px;border:1px solid rgb(255,255,255);border-radius:50%;text-align:center;line-height:1}"]})}};var st=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerInicios(){return this.http.get(this.ruta+"api/Inicios/")}AgregarInicios(o){return this.http.post(this.ruta+"api/Inicios/",o)}ModificarInicios(o,e){return this.http.put(this.ruta+"api/Inicios/"+e,o)}SeleccionarInicios(o){return this.http.get(this.ruta+"api/Inicios/"+o)}EliminarInicios(o){return this.http.delete(this.ruta+"api/Inicios/"+o)}createFormGroupInicios(){return new N({id:new g(0),archivo:new g(""),etiqueta:new g(""),titulo:new g(""),subtitulo:new g(""),descripcion:new g(""),categoria:new g(""),link:new g(""),costo:new g(""),duracion:new g(""),cupos:new g(""),fecha:new g("")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var lt=class a{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.categoria).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=ue({name:"filtercategoria",type:a,pure:!0})}};var Rn=a=>({itemsPerPage:10,currentPage:a});function Tn(a,o){a&1&&(i(0,"th",31),r(1,"Categoria"),n())}function kn(a,o){a&1&&(i(0,"th",31),r(1,"Titulo"),n())}function zn(a,o){if(a&1&&(i(0,"th",31),r(1),n()),a&2){let e=u();l(),b(e.txtSubtituloIconotable)}}function Ln(a,o){a&1&&(i(0,"th",31),r(1,"Descripci\xF3n"),n())}function Gn(a,o){a&1&&(i(0,"th",31),r(1,"Etiqueta"),n())}function Nn(a,o){a&1&&(i(0,"th",31),r(1,"Enlace"),n())}function Vn(a,o){a&1&&(i(0,"th",31),r(1,"Costo"),n())}function Fn(a,o){a&1&&(i(0,"th",31),r(1,"Cupos"),n())}function Dn(a,o){a&1&&(i(0,"th",31),r(1,"Duracion"),n())}function jn(a,o){a&1&&(i(0,"th",31),r(1,"Fecha"),n())}function Un(a,o){a&1&&(i(0,"tr")(1,"td",57)(2,"div",58)(3,"div",59)(4,"span",60),r(5,"Loading..."),n()()()()())}function qn(a,o){a&1&&(i(0,"tr")(1,"td",57),r(2,"No hay datos disponibles"),n()())}function Bn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgcategoria),l(),b(e.categoria)}}function Hn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgtitulo),l(),b(e.titulo)}}function $n(a,o){if(a&1&&m(0,"td",70),a&2){let e=u().$implicit;k("",e.bgsubtitulo," text-center"),d("innerHTML",e.subtitulo,St)}}function Wn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgdescripcion),l(),b(e.descripcion)}}function Qn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgetiqueta),l(),b(e.etiqueta)}}function Yn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bglink),l(),b(e.link)}}function Zn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgcosto),l(),b(e.costo)}}function Xn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgduracion),l(),b(e.duracion)}}function Jn(a,o){if(a&1&&(i(0,"td",69),r(1),n()),a&2){let e=u().$implicit;ge(e.bgcupos),l(),b(e.cupos)}}function Kn(a,o){if(a&1&&(i(0,"td",69),r(1),S(2,"dateFormat"),n()),a&2){let e=u().$implicit;ge(e.bgfecha),l(),b(K(2,4,e.fecha))}}function eo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",61),r(2),n(),v(3,Bn,2,4,"td",62)(4,Hn,2,4,"td",62)(5,$n,1,4,"td",63)(6,Wn,2,4,"td",62)(7,Qn,2,4,"td",62)(8,Yn,2,4,"td",62)(9,Zn,2,4,"td",62)(10,Xn,2,4,"td",62)(11,Jn,2,4,"td",62)(12,Kn,3,6,"td",62),i(13,"td",64)(14,"button",65),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarInicios(s.id))}),m(15,"i",66),n(),i(16,"button",67),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarInicios(s.id))}),m(17,"i",68),n()()()}if(a&2){let e=o.index,t=u();l(2),b((t.paginaInicios-1)*10+(e+1)),l(),d("ngIf",t.showtablecategoria),l(),d("ngIf",t.showtabletitulo),l(),d("ngIf",t.showtablesubtitulo),l(),d("ngIf",t.showtabledescripcion),l(),d("ngIf",t.showtableetiqueta),l(),d("ngIf",t.showtablelink),l(),d("ngIf",t.showtablecosto),l(),d("ngIf",t.showtablecosto),l(),d("ngIf",t.showtablecupos),l(),d("ngIf",t.showtablefecha)}}function to(a,o){if(a&1){let e=C();i(0,"div",71)(1,"select",72),p("change",function(s){h(e);let c=u();return f(c.VerificarTipoCategoria(s.target.value))}),i(2,"option",73),r(3,"Seleccione una opci\xF3n"),n(),i(4,"option",15),r(5,"BANNER"),n(),i(6,"option",16),r(7,"SERVICIO"),n(),i(8,"option",17),r(9,"PRECIO"),n(),i(10,"option",18),r(11,"GALERIA"),n(),i(12,"option",19),r(13,"CAROUSEL"),n(),i(14,"option",20),r(15,"RED SOCIAL"),n()(),i(16,"label"),r(17,"categoria"),n(),i(18,"div",74),r(19,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("categoria"))}}function io(a,o){if(a&1&&(i(0,"div",71)(1,"span",75),r(2),n()()),a&2){let e=u();l(2),E("MODIFICANDO ",e.newInicios.controls.categoria.value,"")}}function no(a,o){if(a&1){let e=C();i(0,"div",71)(1,"input",76),p("change",function(s){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(s,c.newInicios,"titulo"))}),n(),i(2,"label"),r(3,"titulo"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("titulo"))}}function oo(a,o){if(a&1&&(i(0,"div",71),m(1,"input",77),i(2,"label"),r(3),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("subtitulo")),l(2),b(e.txtSubtituloIcono)}}function ao(a,o){if(a&1){let e=C();i(0,"div",71)(1,"textarea",78),p("change",function(s){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(s,c.newInicios,"descripcion"))}),n(),i(2,"label"),r(3,"descripcion"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("descripcion"))}}function ro(a,o){if(a&1){let e=C();i(0,"div",71)(1,"input",79),p("change",function(s){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(s,c.newInicios,"etiqueta"))}),n(),i(2,"label"),r(3,"etiqueta"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("etiqueta"))}}function so(a,o){if(a&1&&(i(0,"div",71),m(1,"input",80),i(2,"label"),r(3,"link"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("link"))}}function lo(a,o){if(a&1&&(i(0,"div",71),m(1,"input",81),i(2,"label"),r(3,"costo"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("costo"))}}function co(a,o){if(a&1){let e=C();i(0,"div",71)(1,"input",82),p("change",function(s){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(s,c.newInicios,"duracion"))}),n(),i(2,"label"),r(3,"duracion"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("duracion"))}}function mo(a,o){if(a&1&&(i(0,"div",71),m(1,"input",83),i(2,"label"),r(3,"cupos"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("cupos"))}}function po(a,o){if(a&1&&(i(0,"div",71),m(1,"input",84),i(2,"label"),r(3,"fecha"),n(),i(4,"div",74),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("fecha"))}}function uo(a,o){if(a&1){let e=C();i(0,"div",85)(1,"button",86),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastInicios())}),m(2,"i",87),r(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",88),n(),i(6,"a",89),m(7,"i",90),r(8," IR A DOCUMENTACION PARA ICONOS "),n()()}}function go(a,o){if(a&1){let e=C();i(0,"button",91),p("click",function(){h(e);let s=u();return f(s.AgregarModificarInicios())}),m(1,"i",92),r(2),m(3,"span",9),n()}if(a&2){let e=u();l(),k("bi bi-",e.newInicios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInicios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function ho(a,o){if(a&1){let e=C();i(0,"button",93),p("click",function(){h(e);let s=u();return f(s.AgregarModificarInicios())}),m(1,"span",94),n()}a&2&&d("disabled",!0)}var ct=class a{constructor(o,e,t){this._ini=o;this._tools=e;this.http=t;this.ruta=A.ruta;this.dataDropZone={iddropzone:"my-dropzone",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf",type:""};this.filtercategoria="";this.showtitulo=!1;this.showsubtitulo=!1;this.showdescripcion=!1;this.showetiqueta=!1;this.showlink=!1;this.showcosto=!1;this.showcupos=!1;this.showfecha=!1;this.showarchivo=!1;this.showcategoria=!0;this.showduracion=!1;this.txtSubtituloIcono="Subtitulo";this.showtabletitulo=!0;this.showtablesubtitulo=!0;this.showtabledescripcion=!0;this.showtableetiqueta=!0;this.showtablelink=!0;this.showtablecosto=!0;this.showtablecupos=!0;this.showtablefecha=!0;this.showtablearchivo=!0;this.showtablecategoria=!0;this.showtableduracion=!0;this.txtSubtituloIconotable="Subtitulo|icono";this.Inicios=[];this.paginaInicios=1;this.isLoadingInicios=!0;this.AnimacionCargabtnModalInicios=!1;this.filtertxtInicios="";this.newInicios=this._ini.createFormGroupInicios(),this.newIniciosAnteriorAccion=this._ini.createFormGroupInicios()}ngOnInit(){this.CargarInicios()}crearDropzone(){this.dropzone=this._tools.createDropzone(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos,this.dataDropZone.type),this.dropzone.options.maxFiles===1&&this.dropzone.files.length>=1&&(this.dropzone.options.addRemoveLinks=!1)}CancelarArchivosDropzone(){this.dropzone&&this.dropzone.removeAllFiles(!0)}ResetArchivosDropzone(){this.dropzone=this._tools.createDropzone(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos,this.dataDropZone.type)}loadInitialFile(){if(this.newInicios.value.archivo){let o={name:"archivo",size:1234567};o.serverFilePath=this.newInicios.value.archivo,this.dropzone.emit("addedfile",o),this.dropzone.emit("thumbnail",o,this.ruta+this.newInicios.value.archivo),this.dropzone.emit("complete",o)}}VerificarTipoCategoria(o){switch(o){case"BANNER":this.showtitulo=!0,this.showsubtitulo=!1,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"SERVICIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;case"PRECIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!0,this.showcupos=!0,this.showfecha=!0,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!0,this.txtSubtituloIcono="Subtitulo";break;case"GALERIA":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"CAROUSEL":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"RED SOCIAL":this.showtitulo=!1,this.showsubtitulo=!0,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;default:this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break}}VerificarTipoCategoriaTabla(o){switch(o){case"BANNER":this.showtabletitulo=!0,this.showtablesubtitulo=!1,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"SERVICIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;case"PRECIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!0,this.txtSubtituloIconotable="Subtitulo";break;case"GALERIA":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"CAROUSEL":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"RED SOCIAL":this.showtabletitulo=!1,this.showtablesubtitulo=!0,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;default:this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo|icono";break}}CargarInicios(){this.AnimarCargaTablaInicios(),this._ini.ObtenerInicios().subscribe(o=>{console.log("Inicios CARGADO",o.data),o.data.forEach(e=>{switch(e.categoria){case"BANNER":e.bgtitulo="",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"SERVICIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"PRECIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="",e.bgcupos="",e.bgfecha="",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="";break;case"GALERIA":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"CAROUSEL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"RED SOCIAL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;default:break}}),this.Inicios=o.data,this.isLoadingInicios=!1},o=>{console.log("ERROR AL CARGAR Inicios",o),this.isLoadingInicios=!1})}AgregarModificarInicios(){if(this.newInicios.invalid){this.ValidacionTodoElementoInicios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInicios=!1;return}else{this.AnimarCargaTablaInicios(),this.AnimacionCargabtnModalInicios=!0,this._tools.MostrarMensajeLoading(),this.newIniciosAnteriorAccion.setValue(this.newInicios.value);let e=this.newInicios.controls.id.value;console.log("INFO A PROCESAR",this.newInicios.value);var o=sessionStorage.getItem("IMG");this.newInicios.value.archivo=o,e?this._ini.ModificarInicios(this.newInicios.value,this.newInicios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.resetInicios(),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()}):(this.dataDropZone.type=this.newInicios.controls.categoria.value,this.crearDropzone(),this._ini.AgregarInicios(this.newInicios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.resetInicios(),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInicios(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.Inicios.find(t=>t.id===o))return;this._ini.SeleccionarInicios(o).subscribe(t=>{Object.keys(this.newInicios.controls).forEach(s=>{this.newInicios.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Inicios EXITOSA",this.newInicios.value),this.VerificarTipoCategoria(this.newInicios.controls.categoria.value),this.dataDropZone.type=this.newInicios.controls.categoria.value,this.crearDropzone(),this.showcategoria=!1,this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this.loadInitialFile(),this._tools.abrirModal("modalgestionInicios"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Inicios",t),this._tools.MostrarMensajeError()})}}EliminarInicios(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ini.EliminarInicios(o).subscribe(t=>{console.log(t.data),this.CargarInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Inicios",t),this._tools.MostrarMensajeError()}))})}resetInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this.newInicios.get("id").value?this.ResetArchivosDropzone():this.CancelarArchivosDropzone(),this._tools.cerrarModal("modalgestionInicios")}AbrirModalInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this.ResetArchivosDropzone(),this.VerificarTipoCategoria(""),this._tools.abrirModal("modalgestionInicios")}AutoCompletarLastInicios(){this.newInicios.setValue(this.newIniciosAnteriorAccion.value),this.newInicios.patchValue({id:0}),console.log("listo",this.newInicios.value)}AnimarCargaTablaInicios(){this.Inicios=[],this.isLoadingInicios=!0}ValidacionIniciosxElemento(o){return this._tools.obtenerValidationClass(this.newInicios,o)}ValidacionTodoElementoInicios(){Object.values(this.newInicios.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(st),x(Q),x(P))}}static{this.\u0275cmp=j({type:a,selectors:[["app-gestiondeinicios"]],decls:106,vars:43,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","change","ngModel"],["value","","disabled","","selected",""],["value",""],["value","BANNER"],["value","SERVICIO"],["value","PRECIO"],["value","GALERIA"],["value","CAROUSEL"],["value","RED SOCIAL"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-striped","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionInicios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"form-text"],["id","my-dropzone",1,"dropzone"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","12",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row",3,"class",4,"ngIf"],["scope","row",3,"class","innerHTML",4,"ngIf"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["scope","row"],["scope","row",3,"innerHTML"],[1,"form-floating","mb-3","col-sm-12"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],["disabled","","selected","",3,"value"],[1,"invalid-feedback"],[1,"form-text","text-center"],["type","text","placeholder","","formControlName","titulo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","subtitulo",1,"form-control",3,"ngClass"],["placeholder","","formControlName","descripcion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["type","text","placeholder","","formControlName","etiqueta",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","link",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","costo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","cupos",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],["href","https://icons.getbootstrap.com/","target","_blank",1,"btn","mouse-dir","primary"],[1,"bi","bi-bootstrap"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Inicios"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Inicios de manera sencilla y eficiente"),n()()()(),i(8,"div",5)(9,"div",6)(10,"button",7),p("click",function(){return t.AbrirModalInicios()}),m(11,"i",8),r(12," A\xF1adir Inicios"),m(13,"span",9),n()(),i(14,"div",10)(15,"div",11)(16,"select",12),p("input",function(){return t.paginaInicios=1}),G("ngModelChange",function(c){return L(t.filtercategoria,c)||(t.filtercategoria=c),c}),p("change",function(c){return t.VerificarTipoCategoriaTabla(c.target.value)}),i(17,"option",13),r(18,"Seleccione una opci\xF3n"),n(),i(19,"option",14),r(20,"TODA LA INFORMACI\xD3N"),n(),i(21,"option",15),r(22,"BANNER"),n(),i(23,"option",16),r(24,"SERVICIO"),n(),i(25,"option",17),r(26,"PRECIO"),n(),i(27,"option",18),r(28,"GALERIA"),n(),i(29,"option",19),r(30,"CAROUSEL"),n(),i(31,"option",20),r(32,"RED SOCIAL"),n()(),i(33,"label"),r(34,"Filtrar"),n()()(),i(35,"div",21)(36,"div",22)(37,"span",23),m(38,"i",24),n(),i(39,"div",25)(40,"input",26),p("input",function(){return t.paginaInicios=1}),G("ngModelChange",function(c){return L(t.filtertxtInicios,c)||(t.filtertxtInicios=c),c}),n(),i(41,"label"),r(42,"Buscar"),n()()()()(),m(43,"hr"),i(44,"div",27)(45,"table",28)(46,"thead")(47,"tr")(48,"th",29),r(49,"#"),n(),v(50,Tn,2,0,"th",30)(51,kn,2,0,"th",30)(52,zn,2,1,"th",30)(53,Ln,2,0,"th",30)(54,Gn,2,0,"th",30)(55,Nn,2,0,"th",30)(56,Vn,2,0,"th",30)(57,Fn,2,0,"th",30)(58,Dn,2,0,"th",30)(59,jn,2,0,"th",30),i(60,"th",31),r(61,"ACCIONES"),n()()(),i(62,"tbody",32),v(63,Un,6,0,"tr",33)(64,qn,3,0,"tr",33)(65,eo,18,11,"tr",34),S(66,"filtercategoria"),S(67,"paginate"),n()(),i(68,"pagination-controls",35),p("pageChange",function(c){return t.paginaInicios=c}),n()(),m(69,"hr"),i(70,"div",36)(71,"div",37)(72,"div",38)(73,"div",39)(74,"div",40)(75,"h1",41),r(76),n(),i(77,"button",42),p("click",function(){return t.resetInicios()}),n()()(),i(78,"div",43)(79,"div",44),v(80,to,20,1,"div",45)(81,io,3,1,"div",45)(82,no,6,1,"div",45)(83,oo,6,2,"div",45)(84,ao,6,1,"div",45)(85,ro,6,1,"div",45)(86,so,6,1,"div",45)(87,lo,6,1,"div",45)(88,co,6,1,"div",45)(89,mo,6,1,"div",45)(90,po,6,1,"div",45),i(91,"div")(92,"label",46),r(93,"Archivo"),n(),m(94,"div",47),n()()(),i(95,"div",48),v(96,uo,9,0,"div",49),i(97,"div",50)(98,"div",51)(99,"button",52),p("click",function(){return t.resetInicios()}),m(100,"i",53),r(101," CANCELAR"),m(102,"span",9),n()(),i(103,"div",54),v(104,go,4,4,"button",55)(105,ho,2,1,"button",56),n()()()()()()),e&2&&(l(16),z("ngModel",t.filtercategoria),l(24),z("ngModel",t.filtertxtInicios),l(10),d("ngIf",t.showtablecategoria),l(),d("ngIf",t.showtabletitulo),l(),d("ngIf",t.showtablesubtitulo),l(),d("ngIf",t.showtabledescripcion),l(),d("ngIf",t.showtableetiqueta),l(),d("ngIf",t.showtablelink),l(),d("ngIf",t.showtablecosto),l(),d("ngIf",t.showtablecupos),l(),d("ngIf",t.showtableduracion),l(),d("ngIf",t.showtablefecha),l(4),d("ngIf",t.isLoadingInicios),l(),d("ngIf",!t.isLoadingInicios&&t.Inicios.length===0),l(),d("ngForOf",M(67,38,M(66,35,t.Inicios,t.filtercategoria),V(41,Rn,t.paginaInicios))),l(11),be("",t.newInicios.get("id").value?"MODIFICAR":"Registrar Inicio"," ",t.newInicios.controls.categoria.value,""),l(3),d("formGroup",t.newInicios),l(),d("ngIf",t.showcategoria),l(),d("ngIf",!t.showcategoria),l(),d("ngIf",t.showtitulo),l(),d("ngIf",t.showsubtitulo),l(),d("ngIf",t.showdescripcion),l(),d("ngIf",t.showetiqueta),l(),d("ngIf",t.showlink),l(),d("ngIf",t.showcosto),l(),d("ngIf",t.showduracion),l(),d("ngIf",t.showcupos),l(),d("ngIf",t.showfecha),l(),k("mb-3 col-sm-12 ",t.showarchivo==!0?"":"invisible",""),l(5),d("ngIf",!t.newInicios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInicios),l(),d("ngIf",t.AnimacionCargabtnModalInicios))},dependencies:[Z,$,W,se,le,ee,he,re,te,ie,ne,oe,ae,de,ce,lt,fe],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #0087F7;border-radius:5px;background:#fff;padding:20px}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{color:#666;font-size:1.2em;font-weight:500;text-align:center}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{color:red}"]})}};var ke=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerMatrizEscalas(){return this.http.get(this.ruta+"api/MatrizEscalas/")}AgregarMatrizEscalas(o){return this.http.post(this.ruta+"api/MatrizEscalas/",o)}ModificarMatrizEscalas(o,e){return this.http.put(this.ruta+"api/MatrizEscalas/"+e,o)}SeleccionarMatrizEscalas(o){return this.http.get(this.ruta+"api/MatrizEscalas/"+o)}EliminarMatrizEscalas(o){return this.http.delete(this.ruta+"api/MatrizEscalas/"+o)}createFormGroupMatrizEscalas(){return new N({id:new g(0),categoria:new g(""),nombrematriz:new g(""),valor:new g("")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var dt=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerSubMatrizEscalas(){return this.http.get(this.ruta+"api/SubMatrizEscalas/")}AgregarSubMatrizEscalas(o){return this.http.post(this.ruta+"api/SubMatrizEscalas/",o)}ModificarSubMatrizEscalas(o,e){return this.http.put(this.ruta+"api/SubMatrizEscalas/"+e,o)}SeleccionarSubMatrizEscalas(o){return this.http.get(this.ruta+"api/SubMatrizEscalas/"+o)}EliminarSubMatrizEscalas(o){return this.http.delete(this.ruta+"api/SubMatrizEscalas/"+o)}createFormGroupSubMatrizEscalas(){return new N({id:new g(0),id_matrizescala:new g(""),tipo:new g(""),nombresubmatriz:new g("")})}SeleccionarAllInformacionSubMatrizEscala(o){return this.http.get(this.ruta+"api/AllInfoSubMatrizEscalas/"+o)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var mt=class a{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.categoria).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.nombrematriz).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.valor).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=ue({name:"filtercategorianombrematrizvalor",type:a,pure:!0})}};var gi=a=>({itemsPerPage:10,currentPage:a});function vo(a,o){if(a&1&&(i(0,"option",61),r(1),n()),a&2){let e=o.$implicit;D("value",e.categoria),l(),b(e.categoria)}}function _o(a,o){a&1&&(i(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),r(5,"Loading..."),n()()()()())}function Co(a,o){a&1&&(i(0,"tr")(1,"td",62),r(2,"No hay datos disponibles"),n()())}function Eo(a,o){if(a&1){let e=C();i(0,"button",74),p("click",function(){h(e);let s=u().$implicit,c=u();return f(c.SeleccionarMatrizEscalas(s.id,"SubMatrizEscalas"))}),m(1,"i",75),n()}}function So(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",66),r(2),n(),i(3,"td",67),r(4),n(),i(5,"td",67),r(6),n(),i(7,"td",67),r(8),n(),i(9,"td",68)(10,"button",69),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarMatrizEscalas(s.id))}),m(11,"i",70),n(),i(12,"button",71),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarMatrizEscalas(s.id))}),m(13,"i",72),n(),v(14,Eo,2,0,"button",73),n()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaMatrizEscalas-1)*10+(e+1)),l(2),b(t.categoria),l(2),b(t.nombrematriz),l(2),b(t.valor),l(6),d("ngIf",t.categoria=="OBJETIVOS")}}function Io(a,o){if(a&1){let e=C();i(0,"div",76)(1,"button",77),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastMatrizEscalas())}),m(2,"i",78),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",79),n()()}}function xo(a,o){if(a&1){let e=C();i(0,"button",80),p("click",function(){h(e);let s=u();return f(s.AgregarModificarMatrizEscalas())}),m(1,"i",81),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Mo(a,o){if(a&1){let e=C();i(0,"button",82),p("click",function(){h(e);let s=u();return f(s.AgregarModificarMatrizEscalas())}),m(1,"span",83),n()}a&2&&d("disabled",!0)}function wo(a,o){a&1&&(i(0,"tr")(1,"td",84)(2,"div",63)(3,"div",64)(4,"span",65),r(5,"Loading..."),n()()()()())}function Ao(a,o){a&1&&(i(0,"tr")(1,"td",84),r(2,"No hay datos disponibles"),n()())}function yo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",66),r(2),n(),i(3,"td",67),r(4),n(),i(5,"td",68)(6,"button",69),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarSubMatrizEscalas(s.id))}),m(7,"i",70),n(),i(8,"button",71),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarSubMatrizEscalas(s.id))}),m(9,"i",72),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaSubMatrizEscalas-1)*10+(e+1)),l(2),b(t.nombresubmatriz)}}function Po(a,o){if(a&1){let e=C();i(0,"div",76)(1,"button",77),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastSubMatrizEscalas())}),m(2,"i",78),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",79),n()()}}function Oo(a,o){if(a&1){let e=C();i(0,"button",80),p("click",function(){h(e);let s=u();return f(s.AgregarModificarSubMatrizEscalas())}),m(1,"i",81),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newSubMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ro(a,o){if(a&1){let e=C();i(0,"button",82),p("click",function(){h(e);let s=u();return f(s.AgregarModificarSubMatrizEscalas())}),m(1,"span",83),n()}a&2&&d("disabled",!0)}var pt=class a{constructor(o,e,t){this._mescalas=o;this._tools=e;this._submescalas=t;this.MatrizEscalas=[];this.paginaMatrizEscalas=1;this.isLoadingMatrizEscalas=!0;this.AnimacionCargabtnModalMatrizEscalas=!1;this.filtertxtMatrizEscalas="";this.filtertxtMatrizEscalas1="";this.MatrizEscalasSelectCategoriasData=[];this.idMatrizEscalaSave=0;this.SubMatrizEscalas=[];this.paginaSubMatrizEscalas=1;this.isLoadingSubMatrizEscalas=!0;this.AnimacionCargabtnModalSubMatrizEscalas=!1;this.filtertxtSubMatrizEscalas="";this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this.newMatrizEscalasAnteriorAccion=this._mescalas.createFormGroupMatrizEscalas(),this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this.newSubMatrizEscalasAnteriorAccion=this._submescalas.createFormGroupSubMatrizEscalas()}ngOnInit(){this.CargarMatrizEscalas(),setTimeout(()=>{this.RefrescarFiltradorSelectCategoria()},1e3)}RefrescarFiltradorSelectCategoria(){var o=[];this.MatrizEscalas.forEach(t=>{o.push(t.categoria)}),Array.from(new Set(o)).forEach(t=>{this.MatrizEscalasSelectCategoriasData.push({categoria:t})})}CargarMatrizEscalas(){this.AnimarCargaTablaMatrizEscalas(),this._mescalas.ObtenerMatrizEscalas().subscribe(o=>{console.log("MatrizEscalas CARGADO",o.data),this.MatrizEscalas=o.data,this.isLoadingMatrizEscalas=!1},o=>{console.log("ERROR AL CARGAR MatrizEscalas",o),this.isLoadingMatrizEscalas=!1})}AgregarModificarMatrizEscalas(){if(this.newMatrizEscalas.invalid){this.ValidacionTodoElementoMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalMatrizEscalas=!1;return}else{this.AnimarCargaTablaMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!0,this._tools.MostrarMensajeLoading(),this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value);let o=this.newMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newMatrizEscalas.value),o?this._mescalas.ModificarMatrizEscalas(this.newMatrizEscalas.value,this.newMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}):this._mescalas.AgregarMatrizEscalas(this.newMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()})}}SeleccionarMatrizEscalas(o,e){switch(e){case"SubMatrizEscalas":this.idMatrizEscalaSave=o,this.CargarSubMatrizEscalas(),this._tools.abrirModal("ModalAllGestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess();break;default:if(this._tools.MostrarMensajeLoading(),o){if(!this.MatrizEscalas.find(s=>s.id===o))return;this._mescalas.SeleccionarMatrizEscalas(o).subscribe(s=>{Object.keys(this.newMatrizEscalas.controls).forEach(c=>{this.newMatrizEscalas.controls[c].setValue(s.data[c])}),console.log("SELECCION DE MatrizEscalas EXITOSA",this.newMatrizEscalas.value),this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._tools.abrirModal("modalgestionMatrizEscalas"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL SELECCIONAR MatrizEscalas",s),this._tools.MostrarMensajeError()})}break}}EliminarMatrizEscalas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._mescalas.EliminarMatrizEscalas(o).subscribe(t=>{console.log(t.data),this.CargarMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR MatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetMatrizEscalas(){this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this._tools.cerrarModal("modalgestionMatrizEscalas")}AbrirModalMatrizEscalas(){this.newMatrizEscalas.reset(),this._tools.abrirModal("modalgestionMatrizEscalas")}AutoCompletarLastMatrizEscalas(){this.newMatrizEscalas.setValue(this.newMatrizEscalasAnteriorAccion.value),this.newMatrizEscalas.patchValue({id:0}),console.log("listo",this.newMatrizEscalas.value)}AnimarCargaTablaMatrizEscalas(){this.MatrizEscalas=[],this.isLoadingMatrizEscalas=!0}ValidacionMatrizEscalasxElemento(o){return this._tools.obtenerValidationClass(this.newMatrizEscalas,o)}ValidacionTodoElementoMatrizEscalas(){Object.values(this.newMatrizEscalas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarSubMatrizEscalas(){this.AnimarCargaTablaSubMatrizEscalas(),this._submescalas.SeleccionarAllInformacionSubMatrizEscala(this.idMatrizEscalaSave).subscribe(o=>{console.log("SubMatrizEscalas CARGADO",o.data),this.SubMatrizEscalas=o.data,this.isLoadingSubMatrizEscalas=!1},o=>{console.log("ERROR AL CARGAR SubMatrizEscalas",o),this.isLoadingSubMatrizEscalas=!1})}AgregarModificarSubMatrizEscalas(){if(this.newSubMatrizEscalas.invalid){this.ValidacionTodoElementoSubMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubMatrizEscalas=!1;return}else{this.AnimarCargaTablaSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!0,this._tools.MostrarMensajeLoading(),this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value);let o=this.newSubMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newSubMatrizEscalas.value),o?this._submescalas.ModificarSubMatrizEscalas(this.newSubMatrizEscalas.value,this.newSubMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}):this._submescalas.AgregarSubMatrizEscalas(this.newSubMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()})}}SeleccionarSubMatrizEscalas(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.SubMatrizEscalas.find(t=>t.id===o))return;this._submescalas.SeleccionarSubMatrizEscalas(o).subscribe(t=>{Object.keys(this.newSubMatrizEscalas.controls).forEach(s=>{this.newSubMatrizEscalas.controls[s].setValue(t.data[s])}),console.log("SELECCION DE SubMatrizEscalas EXITOSA",this.newSubMatrizEscalas.value),this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._tools.abrirModal("modalgestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()})}}EliminarSubMatrizEscalas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._submescalas.EliminarSubMatrizEscalas(o).subscribe(t=>{console.log(t.data),this.CargarSubMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetSubMatrizEscalas(){this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this._tools.cerrarModal("modalgestionSubMatrizEscalas")}AbrirModalSubMatrizEscalas(){this.newSubMatrizEscalas.reset(),this.newSubMatrizEscalas.patchValue({id_matrizescala:this.idMatrizEscalaSave}),this._tools.abrirModal("modalgestionSubMatrizEscalas")}AutoCompletarLastSubMatrizEscalas(){this.newSubMatrizEscalas.setValue(this.newSubMatrizEscalasAnteriorAccion.value),this.newSubMatrizEscalas.patchValue({id:0}),console.log("listo",this.newSubMatrizEscalas.value)}AnimarCargaTablaSubMatrizEscalas(){this.SubMatrizEscalas=[],this.isLoadingSubMatrizEscalas=!0}ValidacionSubMatrizEscalasxElemento(o){return this._tools.obtenerValidationClass(this.newSubMatrizEscalas,o)}ValidacionTodoElementoSubMatrizEscalas(){Object.values(this.newSubMatrizEscalas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(ke),x(Q),x(dt))}}static{this.\u0275cmp=j({type:a,selectors:[["app-gestiondematrizdeescalas"]],decls:173,vars:40,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-9","d-flex","justify-content-end"],["title","REFRESAR TABLA",1,"input-group-text",3,"click"],[1,"bi","bi-cloud-download"],["title","REFRESAR SELECT",1,"input-group-text",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3","col-sm-12"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-striped","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["type","text","placeholder","","formControlName","categoria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombrematriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","valor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group-text"],[1,"bi","bi-search"],["id","modalgestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","nombresubmatriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[3,"value"],["colspan","5",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Gestionar Sub Matriz","class","btn btn-primary p-1 py-0",3,"click",4,"ngIf"],["title","Gestionar Sub Matriz",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-subtract",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","3",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de MatrizEscalas"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los MatrizEscalas de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalMatrizEscalas()}),m(11,"i",7),r(12," A\xF1adir MatrizEscalas"),m(13,"span",8),n()(),i(14,"div",9)(15,"button",10),p("click",function(){return t.CargarMatrizEscalas()}),m(16,"i",11),n(),i(17,"button",12),p("click",function(){return t.RefrescarFiltradorSelectCategoria()}),m(18,"i",13),n(),i(19,"div",14)(20,"div",15)(21,"select",16),p("input",function(){return t.paginaMatrizEscalas=1}),G("ngModelChange",function(c){return L(t.filtertxtMatrizEscalas1,c)||(t.filtertxtMatrizEscalas1=c),c}),i(22,"option",17),r(23,"Seleccione una opci\xF3n"),n(),i(24,"option",18),r(25,"TODA LA INFORMACI\xD3N"),n(),v(26,vo,2,2,"option",19),n(),i(27,"label"),r(28,"Filtrar"),n()()(),i(29,"div",14)(30,"div",20)(31,"div",21)(32,"input",22),p("input",function(){return t.paginaMatrizEscalas=1}),G("ngModelChange",function(c){return L(t.filtertxtMatrizEscalas,c)||(t.filtertxtMatrizEscalas=c),c}),n(),i(33,"label"),r(34,"Buscar"),n()()()()()(),m(35,"hr"),i(36,"div",23)(37,"table",24)(38,"thead")(39,"tr")(40,"th",25),r(41,"#"),n(),i(42,"th",26),r(43,"Categoria"),n(),i(44,"th",26),r(45,"Nombre de Matriz"),n(),i(46,"th",26),r(47,"Valor"),n(),i(48,"th",26),r(49,"ACCIONES"),n()()(),i(50,"tbody",27),v(51,_o,6,0,"tr",28)(52,Co,3,0,"tr",28)(53,So,15,5,"tr",29),S(54,"filtercategorianombrematrizvalor"),S(55,"filtercategorianombrematrizvalor"),S(56,"paginate"),n()(),i(57,"pagination-controls",30),p("pageChange",function(c){return t.paginaMatrizEscalas=c}),n()(),m(58,"hr"),i(59,"div",31)(60,"div",32)(61,"div",33)(62,"div",34)(63,"div",35)(64,"h1",36),r(65),n(),i(66,"button",37),p("click",function(){return t.resetMatrizEscalas()}),n()()(),i(67,"div",38)(68,"div",39)(69,"div",15)(70,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"categoria")}),n(),i(71,"label"),r(72,"categoria"),n(),i(73,"div",41),r(74,"Este campo es obligatorio*"),n()(),i(75,"div",15)(76,"input",42),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"nombrematriz")}),n(),i(77,"label"),r(78,"nombrematriz"),n(),i(79,"div",41),r(80,"Este campo es obligatorio*"),n()(),i(81,"div",15)(82,"input",43),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"valor")}),n(),i(83,"label"),r(84,"valor"),n(),i(85,"div",41),r(86,"Este campo es obligatorio*"),n()()()(),i(87,"div",44),v(88,Io,6,0,"div",45),i(89,"div",46)(90,"div",47)(91,"button",48),p("click",function(){return t.resetMatrizEscalas()}),m(92,"i",49),r(93," CANCELAR"),m(94,"span",8),n()(),i(95,"div",50),v(96,xo,4,4,"button",51)(97,Mo,2,1,"button",52),n()()()()()(),i(98,"div",53)(99,"div",32)(100,"div",33)(101,"div",34)(102,"h1",54),r(103,"Modal Gesti\xF3n Sub Matriz Escalas (Objetivos)"),n(),m(104,"button",55),n(),i(105,"div",38),m(106,"hr"),i(107,"div",0)(108,"div",1)(109,"div",2)(110,"h1",3),r(111,"Gesti\xF3n de SubMatrizEscalas"),n(),i(112,"p",4),r(113,"Administra toda la informaci\xF3n de los SubMatrizEscalas de manera sencilla y eficiente"),n()()()(),i(114,"div",1)(115,"div",5)(116,"button",6),p("click",function(){return t.AbrirModalSubMatrizEscalas()}),m(117,"i",7),r(118," A\xF1adir SubMatrizEscalas"),m(119,"span",8),n()(),i(120,"div",56)(121,"div",20)(122,"span",57),m(123,"i",58),n(),i(124,"div",21)(125,"input",22),p("input",function(){return t.paginaSubMatrizEscalas=1}),G("ngModelChange",function(c){return L(t.filtertxtSubMatrizEscalas,c)||(t.filtertxtSubMatrizEscalas=c),c}),n(),i(126,"label"),r(127,"Buscar"),n()()()()(),m(128,"hr"),i(129,"div",23)(130,"table",24)(131,"thead")(132,"tr")(133,"th",25),r(134,"#"),n(),i(135,"th",26),r(136,"Nombre de Sub Matriz"),n(),i(137,"th",26),r(138,"ACCIONES"),n()()(),i(139,"tbody",27),v(140,wo,6,0,"tr",28)(141,Ao,3,0,"tr",28)(142,yo,10,2,"tr",29),S(143,"paginate"),n()(),i(144,"pagination-controls",30),p("pageChange",function(c){return t.paginaSubMatrizEscalas=c}),n()(),m(145,"hr"),i(146,"div",59)(147,"div",32)(148,"div",33)(149,"div",34)(150,"div",35)(151,"h1",36),r(152),n(),i(153,"button",37),p("click",function(){return t.resetSubMatrizEscalas()}),n()()(),i(154,"div",38)(155,"div",39)(156,"div",15)(157,"input",60),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newSubMatrizEscalas,"nombresubmatriz")}),n(),i(158,"label"),r(159,"Nombre Sub Matriz"),n(),i(160,"div",41),r(161,"Este campo es obligatorio*"),n()()()(),i(162,"div",44),v(163,Po,6,0,"div",45),i(164,"div",46)(165,"div",47)(166,"button",48),p("click",function(){return t.resetSubMatrizEscalas()}),m(167,"i",49),r(168," CANCELAR"),m(169,"span",8),n()(),i(170,"div",50),v(171,Oo,4,4,"button",51)(172,Ro,2,1,"button",52),n()()()()()()()()()()),e&2&&(l(21),z("ngModel",t.filtertxtMatrizEscalas1),l(5),d("ngForOf",t.MatrizEscalasSelectCategoriasData),l(6),z("ngModel",t.filtertxtMatrizEscalas),l(19),d("ngIf",t.isLoadingMatrizEscalas),l(),d("ngIf",!t.isLoadingMatrizEscalas&&t.MatrizEscalas.length===0),l(),d("ngForOf",M(56,30,M(55,27,M(54,24,t.MatrizEscalas,t.filtertxtMatrizEscalas),t.filtertxtMatrizEscalas1),V(36,gi,t.paginaMatrizEscalas))),l(12),E("",t.newMatrizEscalas.get("id").value?"Modificar":"Registrar"," MatrizEscalas"),l(3),d("formGroup",t.newMatrizEscalas),l(2),d("ngClass",t.ValidacionMatrizEscalasxElemento("categoria")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("nombrematriz")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("valor")),l(6),d("ngIf",!t.newMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalMatrizEscalas),l(28),z("ngModel",t.filtertxtSubMatrizEscalas),l(15),d("ngIf",t.isLoadingSubMatrizEscalas),l(),d("ngIf",!t.isLoadingSubMatrizEscalas&&t.SubMatrizEscalas.length===0),l(),d("ngForOf",M(143,33,t.SubMatrizEscalas,V(38,gi,t.paginaSubMatrizEscalas))),l(10),E("",t.newSubMatrizEscalas.get("id").value?"Modificar":"Registrar"," SubMatrizEscalas"),l(3),d("formGroup",t.newSubMatrizEscalas),l(2),d("ngClass",t.ValidacionSubMatrizEscalasxElemento("nombresubmatriz")),l(6),d("ngIf",!t.newSubMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalSubMatrizEscalas))},dependencies:[Z,$,W,se,le,ee,re,te,ie,ne,oe,ae,de,ce,mt]})}};var ut=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerPlandeIntervencions(){return this.http.get(this.ruta+"api/PlandeIntervencions/")}AgregarPlandeIntervencions(o){return this.http.post(this.ruta+"api/PlandeIntervencions/",o)}ModificarPlandeIntervencions(o,e){return this.http.put(this.ruta+"api/PlandeIntervencions/"+e,o)}SeleccionarPlandeIntervencions(o){return this.http.get(this.ruta+"api/PlandeIntervencions/"+o)}EliminarPlandeIntervencions(o){return this.http.delete(this.ruta+"api/PlandeIntervencions/"+o)}createFormGroupPlandeIntervencions(){return new N({id:new g(0),orden:new g(""),id_infocliente:new g("",[B.required]),momento:new g(""),objetivo:new g(""),foco:new g(""),mlt:new g(""),enfoque:new g(""),duracion:new g("")})}CargarPlandeIntervencionxidInfoCliente(o){return this.http.get(this.ruta+"api/CargarPlandeIntervencionxidInfoCliente/"+o)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var gt=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerSubPlandeIntervencions(){return this.http.get(this.ruta+"api/SubPlandeIntervencions/")}AgregarSubPlandeIntervencions(o){return this.http.post(this.ruta+"api/SubPlandeIntervencions/",o)}ModificarSubPlandeIntervencions(o,e){return this.http.put(this.ruta+"api/SubPlandeIntervencions/"+e,o)}SeleccionarSubPlandeIntervencions(o){return this.http.get(this.ruta+"api/SubPlandeIntervencions/"+o)}EliminarSubPlandeIntervencions(o){return this.http.delete(this.ruta+"api/SubPlandeIntervencions/"+o)}createFormGroupSubPlandeIntervencions(){return new N({id:new g(0),id_plandeintervencion:new g(""),categoria:new g(""),nombre:new g("")})}SeleccionarAllInformacionSubPlandeIntervencions(o){return this.http.get(this.ruta+"api/AllInfoSubPlandeIntervencions/"+o)}eliminarsubplandeintervencionsxdata(o){return this.http.post(this.ruta+"api/eliminarsubplandeintervencionsxdata/",o)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var zo=()=>({standalone:!0}),zt=a=>({itemsPerPage:10,currentPage:a}),Lo=a=>({itemsPerPage:3,currentPage:a}),hi=a=>({checked:a,"custom-border":!0});function Go(a,o){a&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),r(5,"Loading..."),n()()()()())}function No(a,o){a&1&&(i(0,"tr")(1,"td",78),r(2,"No hay datos disponibles"),n()())}function Vo(a,o){a&1&&(Ie(0),m(1,"hr",95),xe())}function Fo(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Vo,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Do(a,o){a&1&&(Ie(0),m(1,"hr",95),xe())}function jo(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Do,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Uo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",82),r(2),n(),i(3,"td",83),r(4),n(),i(5,"td",83),r(6),i(7,"div",84)(8,"small",85),r(9),n()()(),i(10,"td",86)(11,"ul",87),v(12,Fo,3,2,"li",77),n()(),i(13,"td",86)(14,"ul",87),v(15,jo,3,2,"li",77),n()(),i(16,"td",83),r(17),i(18,"div",84)(19,"small",85),r(20),n()()(),i(21,"td",83),r(22),n(),i(23,"td",88)(24,"button",89),p("click",function(){let s=h(e).$implicit,c=u(3);return f(c.SeleccionarPlandeIntervencions(s.id,"SubPlandeIntervencions"))}),m(25,"i",90),n(),i(26,"button",91),p("click",function(){let s=h(e).$implicit,c=u(3);return f(c.SeleccionarPlandeIntervencions(s.id))}),m(27,"i",92),n(),i(28,"button",93),p("click",function(){let s=h(e).$implicit,c=u(3);return f(c.EliminarPlandeIntervencions(s.id))}),m(29,"i",94),n()()()}if(a&2){let e=o.$implicit,t=o.index,s=u(3);l(2),b((s.paginaPlandeIntervencions-1)*10+(t+1)),l(2),b(e.momento),l(2),E(" ",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",s.getRecursosMusicalesList(e)),l(3),d("ngForOf",s.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),b(e.duracion)}}function qo(a,o){if(a&1&&(i(0,"div",63)(1,"div",64)(2,"div",65)(3,"button",66),m(4,"i",67),n()(),i(5,"div",68)(6,"span",69),r(7),n()(),i(8,"div",65)(9,"span",69),r(10),S(11,"dateFormat"),n(),i(12,"button",70),m(13,"i",67),n()()(),i(14,"div",71)(15,"div",72)(16,"table",73)(17,"thead")(18,"tr")(19,"th",74),r(20,"#"),n(),i(21,"th",75),r(22,"Momento"),n(),i(23,"th",75),r(24,"Objetivo/Foco"),n(),i(25,"th",75),r(26,"Recursos Musicales"),n(),i(27,"th",75),r(28,"Enfasis Musical"),n(),i(29,"th",75),r(30,"MLT/Enfoque"),n(),i(31,"th",75),r(32,"Duraci\xF3n"),n(),i(33,"th",75),r(34,"ACCIONES"),n()()(),i(35,"tbody",76),v(36,Go,6,0,"tr",59)(37,No,3,0,"tr",59)(38,Uo,30,9,"tr",77),n()()()()()),a&2){let e=o.$implicit,t=u(2);l(3),ve("data-bs-target","#collapseCar"+e.id),l(4),b(e.apellidos+" "+e.nombres),l(3),E("Fecha de Admisi\xF3n: ",K(11,8,e.fechaadmision),""),l(2),ve("data-bs-target","#collapseCar"+e.id),l(2),d("id","collapseCar"+e.id),l(22),d("ngIf",t.isLoadingPlandeIntervencions),l(),d("ngIf",!t.isLoadingPlandeIntervencions&&t.PlandeIntervencions.length===0),l(),d("ngForOf",e.intervenciones)}}function Bo(a,o){if(a&1){let e=C();i(0,"div",1)(1,"div",61),v(2,qo,39,10,"div",62),S(3,"filterapellidosnombrescarnet"),S(4,"paginate"),i(5,"pagination-controls",30),p("pageChange",function(s){h(e);let c=u();return f(c.paginaPlandeIntervencions=s)}),n()()()}if(a&2){let e=u();l(2),d("ngForOf",M(4,4,M(3,1,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),V(7,zt,e.paginaPlandeIntervencions)))}}function Ho(a,o){a&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),r(5,"Loading..."),n()()()()())}function $o(a,o){a&1&&(i(0,"tr")(1,"td",78),r(2,"No hay datos disponibles"),n()())}function Wo(a,o){a&1&&(Ie(0),m(1,"hr",95),xe())}function Qo(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Wo,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Yo(a,o){a&1&&(Ie(0),m(1,"hr",95),xe())}function Zo(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Yo,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Xo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",82),r(2),n(),i(3,"td",83),r(4),i(5,"div",84)(6,"small",85),r(7),S(8,"dateFormat"),n()()(),i(9,"td",83),r(10),n(),i(11,"td",83),r(12),i(13,"div",84)(14,"small",85),r(15),n()()(),i(16,"td",86)(17,"ul",87),v(18,Qo,3,2,"li",77),n()(),i(19,"td",86)(20,"ul",87),v(21,Zo,3,2,"li",77),n()(),i(22,"td",83),r(23),i(24,"div",84)(25,"small",85),r(26),n()()(),i(27,"td",83),r(28),n(),i(29,"td",88)(30,"button",89),p("click",function(){let s=h(e).$implicit,c=u(2);return f(c.SeleccionarPlandeIntervencions(s.id,"SubPlandeIntervencions"))}),m(31,"i",90),n(),i(32,"button",91),p("click",function(){let s=h(e).$implicit,c=u(2);return f(c.SeleccionarPlandeIntervencions(s.id))}),m(33,"i",92),n(),i(34,"button",93),p("click",function(){let s=h(e).$implicit,c=u(2);return f(c.EliminarPlandeIntervencions(s.id))}),m(35,"i",94),n()()()}if(a&2){let e=o.$implicit,t=o.index,s=u(2);l(2),b((s.paginaPlandeIntervencions-1)*10+(t+1)),l(2),E("",e.apellidos+" "+e.nombres," "),l(3),E("Admisi\xF3n: ",K(8,11,e.fechaadmision),""),l(3),b(e.momento),l(2),E("",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",s.getRecursosMusicalesList(e)),l(3),d("ngForOf",s.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),b(e.duracion)}}function Jo(a,o){if(a&1){let e=C();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),r(5,"#"),n(),i(6,"th",75),r(7,"Apellidos nombres"),n(),i(8,"th",75),r(9,"Momento"),n(),i(10,"th",75),r(11,"Objetivo"),n(),i(12,"th",75),r(13,"Recursos Musicales"),n(),i(14,"th",75),r(15,"Enfasis Musical"),n(),i(16,"th",75),r(17,"MLT"),n(),i(18,"th",75),r(19,"Duraci\xF3n"),n(),i(20,"th",75),r(21,"ACCIONES"),n()()(),i(22,"tbody",76),v(23,Ho,6,0,"tr",59)(24,$o,3,0,"tr",59)(25,Xo,36,13,"tr",77),S(26,"filterapellidosnombrescarnet"),S(27,"paginate"),n()(),i(28,"pagination-controls",30),p("pageChange",function(s){h(e);let c=u();return f(c.paginaPlandeIntervencions=s)}),n()()}if(a&2){let e=u();l(23),d("ngIf",e.isLoadingPlandeIntervencions),l(),d("ngIf",!e.isLoadingPlandeIntervencions&&e.PlandeIntervencions.length===0),l(),d("ngForOf",M(27,6,M(26,3,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),V(9,zt,e.paginaPlandeIntervencions)))}}function Ko(a,o){if(a&1){let e=C();i(0,"div",98),p("click",function(s){let c=h(e).$implicit,_=u(2);return f(_.SeleccionandoInfoCliente(s,c))}),i(1,"div",99)(2,"h5",100),r(3),n(),i(4,"small"),r(5),n()(),i(6,"p",100),r(7),n()()}if(a&2){let e=o.$implicit;l(3),be("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function ea(a,o){if(a&1&&(i(0,"div",96),v(1,Ko,8,4,"div",97),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),n()),a&2){let e=u();l(),d("ngForOf",M(3,4,M(2,1,e.InfoClientes,e.filterInfoClientes),V(7,Lo,e.paginaInfoClientes)))}}function ta(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;D("value",e.nombrematriz),l(),b(e.nombrematriz)}}function ia(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;d("value",e.nombrematriz),l(),b(e.nombrematriz)}}function na(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;d("value",e.nombresubmatriz),l(),b(e.nombresubmatriz)}}function oa(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;D("value",e.nombrematriz),l(),b(e.nombrematriz)}}function aa(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;D("value",e.nombrematriz),l(),b(e.nombrematriz)}}function ra(a,o){if(a&1){let e=C();i(0,"div",102)(1,"button",103),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastPlandeIntervencions())}),m(2,"i",104),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),n()()}}function sa(a,o){if(a&1){let e=C();i(0,"button",106),p("click",function(){h(e);let s=u();return f(s.AgregarModificarPlandeIntervencions())}),m(1,"i",107),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function la(a,o){if(a&1){let e=C();i(0,"button",108),p("click",function(){h(e);let s=u();return f(s.AgregarModificarPlandeIntervencions())}),m(1,"span",109),n()}a&2&&d("disabled",!0)}function ca(a,o){a&1&&(i(0,"div",116)(1,"span",81),r(2,"Loading..."),n()())}function da(a,o){if(a&1){let e=C();i(0,"div",112)(1,"input",113),p("click",function(s){let c=h(e).$implicit,_=u(2);return f(_.AccionCheckearAddSubIntervencions(c,s))}),n(),v(2,ca,3,0,"div",114),i(3,"label",115),r(4),n()()}if(a&2){let e=o.$implicit,t=o.index,s=u(2);d("ngClass",V(8,hi,s.isChecked("RECURSOS MUSICALES",e.nombrematriz))),l(),d("id","checkboxMatrizRecursosMusicales"+t)("value",e.nombrematriz)("checked",s.isChecked("RECURSOS MUSICALES",e.nombrematriz))("disabled",s.isLoading[t]),l(),d("ngIf",s.isLoading[t]),l(),d("for","checkboxMatrizRecursosMusicales"+t),l(),b(e.nombrematriz)}}function ma(a,o){a&1&&(i(0,"div",116)(1,"span",81),r(2,"Loading..."),n()())}function pa(a,o){if(a&1){let e=C();i(0,"div",112)(1,"input",113),p("click",function(s){let c=h(e).$implicit,_=u(2);return f(_.AccionCheckearAddSubIntervencions(c,s))}),n(),v(2,ma,3,0,"div",114),i(3,"label",115),r(4),n()()}if(a&2){let e=o.$implicit,t=o.index,s=u(2);d("ngClass",V(8,hi,s.isChecked("ENFASIS MUSICAL",e.nombrematriz))),l(),d("id","checkboxMatrizEnfasisMusical"+t)("value",e.nombrematriz)("checked",s.isChecked("ENFASIS MUSICAL",e.nombrematriz))("disabled",s.isLoading[t]),l(),d("ngIf",s.isLoading[t]),l(),d("for","checkboxMatrizEnfasisMusical"+t),l(),b(e.nombrematriz)}}function ua(a,o){if(a&1&&(i(0,"div"),m(1,"hr"),i(2,"h3",84),r(3,"RECURSOS MUSICALES"),n(),i(4,"div",110),v(5,da,5,10,"div",111),n(),m(6,"hr"),i(7,"h3",84),r(8,"ENFASIS MUSICAL"),n(),i(9,"div",110),v(10,pa,5,10,"div",111),n(),m(11,"hr"),n()),a&2){let e=u();l(5),d("ngForOf",e.MatrizRecursosMusicales),l(5),d("ngForOf",e.MatrizEnfasisMusical)}}function ga(a,o){a&1&&(i(0,"tr")(1,"td",117)(2,"div",79)(3,"div",80)(4,"span",81),r(5,"Loading..."),n()()()()())}function ha(a,o){a&1&&(i(0,"tr")(1,"td",117),r(2,"No hay datos disponibles"),n()())}function fa(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",82),r(2),n(),i(3,"td",83),r(4),n(),i(5,"td",83),r(6),n(),i(7,"td",88)(8,"button",93),p("click",function(){let s=h(e).$implicit,c=u(2);return f(c.EliminarSubPlandeIntervencions(s.id))}),m(9,"i",94),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u(2);l(2),b((s.paginaSubPlandeIntervencions-1)*10+(e+1)),l(2),b(t.categoria),l(2),b(t.nombre)}}function ba(a,o){if(a&1){let e=C();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),r(5,"#"),n(),i(6,"th",75),r(7,"Categoria"),n(),i(8,"th",75),r(9,"Nombre"),n(),i(10,"th",75),r(11,"ACCIONES"),n()()(),i(12,"tbody",76),v(13,ga,6,0,"tr",59)(14,ha,3,0,"tr",59)(15,fa,10,3,"tr",77),S(16,"paginate"),n()(),i(17,"pagination-controls",30),p("pageChange",function(s){h(e);let c=u();return f(c.paginaSubPlandeIntervencions=s)}),n()()}if(a&2){let e=u();l(13),d("ngIf",e.isLoadingSubPlandeIntervencions),l(),d("ngIf",!e.isLoadingSubPlandeIntervencions&&e.SubPlandeIntervencions.length===0),l(),d("ngForOf",M(16,3,e.SubPlandeIntervencions,V(6,zt,e.paginaSubPlandeIntervencions)))}}function va(a,o){if(a&1){let e=C();i(0,"div",102)(1,"button",103),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastSubPlandeIntervencions())}),m(2,"i",104),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),n()()}}function _a(a,o){if(a&1){let e=C();i(0,"button",106),p("click",function(){h(e);let s=u();return f(s.AgregarModificarSubPlandeIntervencions())}),m(1,"i",107),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newSubPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ca(a,o){if(a&1){let e=C();i(0,"button",108),p("click",function(){h(e);let s=u();return f(s.AgregarModificarSubPlandeIntervencions())}),m(1,"span",109),n()}a&2&&d("disabled",!0)}var je=class a{constructor(o,e,t,s,c,_){this.route=o;this._planintervencion=e;this._tools=t;this._subplanintervencion=s;this._matrizescalas=c;this._infoclientes=_;this.idRecibida=0;this.NomCRecibido="";this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.MatrizMomento=[];this.MatrizObjetivos=[];this.MatrizRecursosMusicales=[];this.MatrizEnfasisMusical=[];this.MatrizEnfoque=[];this.MatrizMLT=[];this.subMatrizObjetivo=[];this.PlandeIntervencions=[];this.paginaPlandeIntervencions=1;this.isLoadingPlandeIntervencions=!0;this.AnimacionCargabtnModalPlandeIntervencions=!1;this.filtertxtPlandeIntervencions="";this.idPlandeIntervencionsSave=0;this.SubPlandeIntervencions=[];this.paginaSubPlandeIntervencions=1;this.isLoadingSubPlandeIntervencions=!0;this.AnimacionCargabtnModalSubPlandeIntervencions=!1;this.filtertxtSubPlandeIntervencions="";this.isLoading=[];this.ModoBoolean=!1;this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this.newPlandeIntervencionsAnteriorAccion=this._planintervencion.createFormGroupPlandeIntervencions(),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencionsAnteriorAccion=this._subplanintervencion.createFormGroupSubPlandeIntervencions()}ngOnInit(){this.CargarMatrizEscalas(),this.route.queryParams.subscribe(o=>{this.idRecibida=o.id,this.NomCRecibido=o.NomC,console.log("Variable recibida:",this.idRecibida),this.CargarPlandeIntervencions()})}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(o=>{console.log("INFO CLIENTES CARGADO",o.data),this.InfoClientes=o.data},o=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",o)})}SeleccionandoInfoCliente(o,e){let t=o.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPlandeIntervencions.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPlandeIntervencions.patchValue({id_infocliente:e.id}))}isChecked(o,e){return this.SubPlandeIntervencions.some(t=>t.categoria===o&&t.nombre===e)}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(o=>{this.MatrizEscalas=o.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=o.data.filter(e=>e.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)"),this.MatrizCIM=o.data.filter(e=>e.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)"),this.MatrizMomento=o.data.filter(e=>e.categoria==="MOMENTO"),this.MatrizObjetivos=o.data.filter(e=>e.categoria==="OBJETIVOS"),this.MatrizRecursosMusicales=o.data.filter(e=>e.categoria==="RECURSOS MUSICALES"),this.MatrizEnfasisMusical=o.data.filter(e=>e.categoria==="ENFASIS MUSICAL"),this.MatrizEnfoque=o.data.filter(e=>e.categoria==="ETAPA MLT"),this.MatrizMLT=o.data.filter(e=>e.categoria==="ENFOQUE"),console.log("MATRIZ Recursos",this.MatrizRecursosMusicales)},o=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",o)})}onObjetivoChange(o){let e=this.MatrizObjetivos.find(t=>t.nombrematriz===o);e?this.subMatrizObjetivo=e.submatrizescala:this.subMatrizObjetivo=[]}CargarPlandeIntervencionsAll(){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.ObtenerPlandeIntervencions().subscribe(o=>{console.log("PlandeIntervencions CARGADO",o.data),this.PlandeIntervencions=o.data;let e=this.PlandeIntervencions.reduce((t,s)=>{let c=t.find(_=>_.nombres===s.nombres&&_.apellidos===s.apellidos&&_.fechaadmision===s.fechaadmision);return c?c.intervenciones.push({id:s.id,momento:s.momento,objetivo:s.objetivo,foco:s.foco,mlt:s.mlt,enfoque:s.enfoque,duracion:s.duracion,subplandeintervencion:s.subplandeintervencion}):t.push({id:s.id,nombres:s.nombres,apellidos:s.apellidos,fechaadmision:s.fechaadmision,intervenciones:[{id:s.id,momento:s.momento,objetivo:s.objetivo,foco:s.foco,mlt:s.mlt,enfoque:s.enfoque,duracion:s.duracion,subplandeintervencion:s.subplandeintervencion}]}),t},[]);console.log("Agrupado Plan de Intervenciones:",e),this.PlandeIntervencions=e,this.isLoadingPlandeIntervencions=!1},o=>{console.log("ERROR AL CARGAR PlandeIntervencions",o),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencionxidInfoCliente(o){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.CargarPlandeIntervencionxidInfoCliente(o).subscribe(e=>{console.log("PlandeIntervencions CARGADO",e.data),this.PlandeIntervencions=e.data,this.isLoadingPlandeIntervencions=!1},e=>{console.log("ERROR AL CARGAR PlandeIntervencions",e),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencions(){this.idRecibida==null||this.idRecibida==0||this.idRecibida==null?this.CargarPlandeIntervencionsAll():this.CargarPlandeIntervencionxidInfoCliente(Number(this.idRecibida))}getRecursosMusicalesList(o){return o.subplandeintervencion.filter(e=>e.categoria==="RECURSOS MUSICALES").map(e=>e.nombre)}getEnfasisMusicalList(o){return o.subplandeintervencion.filter(e=>e.categoria==="ENFASIS MUSICAL").map(e=>e.nombre)}AgregarModificarPlandeIntervencions(){if(this.newPlandeIntervencions.invalid){this.ValidacionTodoElementoPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPlandeIntervencions=!1;return}else{this.AnimarCargaTablaPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!0,this._tools.MostrarMensajeLoading(),this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value);let o=this.newPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newPlandeIntervencions.value),o?this._planintervencion.ModificarPlandeIntervencions(this.newPlandeIntervencions.value,this.newPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):this._planintervencion.AgregarPlandeIntervencions(this.newPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()})}}SeleccionarPlandeIntervencions(o,e){switch(e){case"SubPlandeIntervencions":this.idPlandeIntervencionsSave=o,this.CargarSubPlandeIntervencions(),this._tools.abrirModal("ModalAllGestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess();break;default:if(this._tools.MostrarMensajeLoading(),o){if(!this.PlandeIntervencions.find(s=>s.id===o))return;this._planintervencion.SeleccionarPlandeIntervencions(o).subscribe(s=>{Object.keys(this.newPlandeIntervencions.controls).forEach(c=>{this.newPlandeIntervencions.controls[c].setValue(s.data[c])}),console.log("SELECCION DE PlandeIntervencions EXITOSA",this.newPlandeIntervencions.value),this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._tools.abrirModal("modalgestionPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL SELECCIONAR PlandeIntervencions",s),this._tools.MostrarMensajeError()})}break}}EliminarPlandeIntervencions(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._planintervencion.EliminarPlandeIntervencions(o).subscribe(t=>{console.log(t.data),this.CargarPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR PlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetPlandeIntervencions(){this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this._tools.cerrarModal("modalgestionPlandeIntervencions")}AbrirModalPlandeIntervencions(){this.CargarInfoClientes(),this.newPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionPlandeIntervencions")}AutoCompletarLastPlandeIntervencions(){this.newPlandeIntervencions.setValue(this.newPlandeIntervencionsAnteriorAccion.value),this.newPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newPlandeIntervencions.value)}AnimarCargaTablaPlandeIntervencions(){this.PlandeIntervencions=[],this.isLoadingPlandeIntervencions=!0}ValidacionPlandeIntervencionsxElemento(o){return this._tools.obtenerValidationClass(this.newPlandeIntervencions,o)}ValidacionTodoElementoPlandeIntervencions(){Object.values(this.newPlandeIntervencions.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarSubPlandeIntervencions(){this.AnimarCargaTablaSubPlandeIntervencions(),this._subplanintervencion.SeleccionarAllInformacionSubPlandeIntervencions(this.idPlandeIntervencionsSave).subscribe(o=>{console.log("SubPlandeIntervencions CARGADO",o.data),this.SubPlandeIntervencions=o.data,this.isLoadingSubPlandeIntervencions=!1},o=>{console.log("ERROR AL CARGAR SubPlandeIntervencions",o),this.isLoadingSubPlandeIntervencions=!1})}AgregarModificarSubPlandeIntervencions(){if(this.newSubPlandeIntervencions.invalid){this.ValidacionTodoElementoSubPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1;return}else{this.AnimarCargaTablaSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!0,this._tools.MostrarMensajeLoading(),this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value);let o=this.newSubPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newSubPlandeIntervencions.value),o?this._subplanintervencion.ModificarSubPlandeIntervencions(this.newSubPlandeIntervencions.value,this.newSubPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()})}}SeleccionarSubPlandeIntervencions(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.SubPlandeIntervencions.find(t=>t.id===o))return;this._subplanintervencion.SeleccionarSubPlandeIntervencions(o).subscribe(t=>{Object.keys(this.newSubPlandeIntervencions.controls).forEach(s=>{this.newSubPlandeIntervencions.controls[s].setValue(t.data[s])}),console.log("SELECCION DE SubPlandeIntervencions EXITOSA",this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._tools.abrirModal("modalgestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()})}}EliminarSubPlandeIntervencions(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._subplanintervencion.EliminarSubPlandeIntervencions(o).subscribe(t=>{console.log(t.data),this.CargarSubPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetSubPlandeIntervencions(){this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this._tools.cerrarModal("modalgestionSubPlandeIntervencions")}AbrirModalSubPlandeIntervencions(){this.newSubPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionSubPlandeIntervencions")}AutoCompletarLastSubPlandeIntervencions(){this.newSubPlandeIntervencions.setValue(this.newSubPlandeIntervencionsAnteriorAccion.value),this.newSubPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newSubPlandeIntervencions.value)}AnimarCargaTablaSubPlandeIntervencions(){this.SubPlandeIntervencions=[],this.isLoadingSubPlandeIntervencions=!0}ValidacionSubPlandeIntervencionsxElemento(o){return this._tools.obtenerValidationClass(this.newSubPlandeIntervencions,o)}ValidacionTodoElementoSubPlandeIntervencions(){Object.values(this.newSubPlandeIntervencions.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}AccionCheckearAddSubIntervencions(o,e){console.log("INFO A PROCESAR",o);let t=e.target.id,s=this.findCheckboxIndexById(t);if(s!==-1&&(this.isLoading[s]=!0),e.target.checked)this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencions.patchValue({id:0,id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:o.categoria,nombre:o.nombrematriz}),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(c=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",c.data),this.SubPlandeIntervencions.push(this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[s]=!1,this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",c),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[s]=!1,document.getElementById(t).checked=!1});else{let c={id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:o.categoria,nombre:o.nombrematriz};this._subplanintervencion.eliminarsubplandeintervencionsxdata(c).subscribe(_=>{console.log("SE ELIMIN\xD3 CORRECTAMENTE SubPlandeIntervencions",_.data),this.SubPlandeIntervencions=this.SubPlandeIntervencions.filter(I=>!(I.id_plandeintervencion===c.id_plandeintervencion&&I.categoria===c.categoria&&I.nombre===c.nombre)),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[s]=!1,this._tools.MostrarMensajeSuccess()},_=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",_),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[s]=!1,document.getElementById(t).checked=!0})}}findCheckboxIndexById(o){let e=o.match(/\d+$/);return e?parseInt(e[0],10):-1}onToggleChange(o){this.ModoBoolean=o.target.checked,this.CargarSubPlandeIntervencions(),console.log("Variable Boolean is now:",this.ModoBoolean)}static{this.\u0275fac=function(e){return new(e||a)(x(li),x(ut),x(Q),x(gt),x(ke),x(_e))}}static{this.\u0275cmp=j({type:a,selectors:[["app-gestiondeplanesdeintervencion"]],decls:170,vars:35,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],["class","row",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","modalgestionPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","orden",1,"form-control",3,"ngClass"],["formControlName","momento",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","objetivo",1,"form-control",3,"change","ngClass"],["formControlName","foco",1,"form-control",3,"ngClass"],["formControlName","mlt",1,"form-control",3,"ngClass"],["formControlName","enfoque",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"button","col-sm-6","d-flex","justify-content-start"],[1,"form-check"],["type","checkbox","id","toggleVariable",1,"form-check-input",3,"change"],["for","toggleVariable",1,"form-check-label"],[4,"ngIf"],["id","modalgestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"col-md-12"],["class","card text-bg-primary","style","border-color: aliceblue; border-width: 2px;",4,"ngFor","ngForOf"],[1,"card","text-bg-primary",2,"border-color","aliceblue","border-width","2px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"text-light"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",2,"padding","0","margin","0",3,"id"],[1,"table-responsive"],[1,"table","align-middle","table-striped","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],["scope","row",2,"margin","0","padding","0","text-align","center"],[1,"list-unstyled",2,"margin","0","padding","0","text-align","center"],[2,"white-space","nowrap"],["title","Gestionar Sub Planes de Intervencion (Rec. Musicales, Enfasis Musical)",1,"btn","btn-outline-light","p-1","py-0",3,"click"],[1,"bi","bi-music-note",2,"font-size","1.5rem"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],[2,"margin","0","padding","0"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[3,"value"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"d-flex","flex-wrap"],["class","list-group-item col-sm-3 custom-border position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item","col-sm-3","custom-border","position-relative",3,"ngClass"],["type","checkbox",1,"form-check-input","me-1",3,"click","id","value","checked","disabled"],["class","spinner-border spinner-border-sm text-primary position-absolute top-50 start-50 translate-middle","role","status",4,"ngIf"],[1,"form-check-label","stretched-link",3,"for"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute","top-50","start-50","translate-middle"],["colspan","4",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Plan de Intervenci\xF3n "),n(),i(6,"p",4),r(7),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalPlandeIntervencions()}),m(11,"i",7),r(12," A\xF1adir PlandeIntervencions"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaPlandeIntervencions=1}),G("ngModelChange",function(c){return L(t.filtertxtPlandeIntervencions,c)||(t.filtertxtPlandeIntervencions=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),v(23,Bo,6,9,"div",15)(24,Jo,29,11,"div",16),m(25,"hr"),i(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h1",22),r(32),n(),i(33,"button",23),p("click",function(){return t.resetPlandeIntervencions()}),n()()(),i(34,"div",24)(35,"div",25)(36,"div",26)(37,"label",27),r(38,"Buscar:"),n(),i(39,"input",28),G("ngModelChange",function(c){return L(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),p("input",function(){return t.paginaInfoClientes=1}),n()(),v(40,ea,4,9,"div",29),i(41,"pagination-controls",30),p("pageChange",function(c){return t.paginaInfoClientes=c}),n(),m(42,"hr"),i(43,"div",31),m(44,"input",32),i(45,"label"),r(46,"cliente"),n(),i(47,"div",33),r(48,"Este campo es obligatorio*"),n()(),i(49,"div",31),m(50,"input",34),i(51,"label"),r(52,"orden"),n(),i(53,"div",33),r(54,"Este campo es obligatorio*"),n()(),i(55,"div",31)(56,"select",35)(57,"option",36),r(58,"Seleccione una opci\xF3n"),n(),v(59,ta,2,2,"option",37),n(),i(60,"label"),r(61,"momento"),n(),i(62,"div",33),r(63,"Este campo es obligatorio*"),n()(),i(64,"div",31)(65,"select",38),p("change",function(c){return t.onObjetivoChange(c.target.value)}),i(66,"option",36),r(67,"Seleccione una opci\xF3n"),n(),v(68,ia,2,2,"option",37),n(),i(69,"label"),r(70,"objetivo"),n(),i(71,"div",33),r(72,"Este campo es obligatorio*"),n()(),i(73,"div",31)(74,"select",39)(75,"option",36),r(76,"Seleccione una opci\xF3n"),n(),v(77,na,2,2,"option",37),n(),i(78,"label"),r(79,"foco"),n(),i(80,"div",33),r(81,"Este campo es obligatorio*"),n()(),i(82,"div",31)(83,"select",40)(84,"option",36),r(85,"Seleccione una opci\xF3n"),n(),v(86,oa,2,2,"option",37),n(),i(87,"label"),r(88,"mlt"),n(),i(89,"div",33),r(90,"Este campo es obligatorio*"),n()(),i(91,"div",31)(92,"select",41)(93,"option",36),r(94,"Seleccione una opci\xF3n"),n(),v(95,aa,2,2,"option",37),n(),i(96,"label"),r(97,"enfoque"),n(),i(98,"div",33),r(99,"Este campo es obligatorio*"),n()(),i(100,"div",31)(101,"input",42),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPlandeIntervencions,"duracion")}),n(),i(102,"label"),r(103,"duracion"),n(),i(104,"div",33),r(105,"Este campo es obligatorio*"),n()()()(),i(106,"div",43),v(107,ra,6,0,"div",44),i(108,"div",45)(109,"div",46)(110,"button",47),p("click",function(){return t.resetPlandeIntervencions()}),m(111,"i",48),r(112," CANCELAR"),m(113,"span",8),n()(),i(114,"div",49),v(115,sa,4,4,"button",50)(116,la,2,1,"button",51),n()()()()()(),i(117,"div",52)(118,"div",18)(119,"div",19)(120,"div",20)(121,"h1",53),r(122,"Sub Plan de Intervencion: Rec. Musicales y Enfasis Musical"),n(),i(123,"button",54),p("click",function(){return t.CargarPlandeIntervencions()}),n()(),i(124,"div",24),m(125,"hr"),i(126,"div",0)(127,"div",1),m(128,"div",2),n()(),i(129,"div",1)(130,"div",55)(131,"div")(132,"div",56)(133,"input",57),p("change",function(c){return t.onToggleChange(c)}),n(),i(134,"label",58),r(135,"Modo Visualizaci\xF3n"),n()()()(),i(136,"div",9)(137,"div",10)(138,"span",11),m(139,"i",12),n(),i(140,"div",13)(141,"input",14),p("input",function(){return t.paginaSubPlandeIntervencions=1}),G("ngModelChange",function(c){return L(t.filtertxtSubPlandeIntervencions,c)||(t.filtertxtSubPlandeIntervencions=c),c}),n(),i(142,"label"),r(143,"Buscar"),n()()()()(),m(144,"hr"),v(145,ua,12,2,"div",59)(146,ba,18,8,"div",16),m(147,"hr"),i(148,"div",60)(149,"div",18)(150,"div",19)(151,"div",20)(152,"div",21)(153,"h1",22),r(154),n(),i(155,"button",23),p("click",function(){return t.resetSubPlandeIntervencions()}),n()()(),i(156,"div",24)(157,"div",25),r(158," ... "),n()(),i(159,"div",43),v(160,va,6,0,"div",44),i(161,"div",45)(162,"div",46)(163,"button",47),p("click",function(){return t.resetSubPlandeIntervencions()}),m(164,"i",48),r(165," CANCELAR"),m(166,"span",8),n()(),i(167,"div",49),v(168,_a,4,4,"button",50)(169,Ca,2,1,"button",51),n()()()()()()()()()()),e&2&&(l(7),E("Administra toda la informaci\xF3n del Plan de Intervencions ",t.NomCRecibido==""||t.NomCRecibido==null||t.NomCRecibido==null?"":"de: "+t.NomCRecibido," "),l(12),z("ngModel",t.filtertxtPlandeIntervencions),l(4),d("ngIf",t.idRecibida==null||t.idRecibida==0||t.idRecibida==null),l(),d("ngIf",!(t.idRecibida==null||t.idRecibida==0||t.idRecibida==null)),l(8),E("",t.newPlandeIntervencions.get("id").value?"Modificar":"Registrar"," Plan de Intervenci\xF3n"),l(3),d("formGroup",t.newPlandeIntervencions),l(4),z("ngModel",t.filterInfoClientes),d("ngModelOptions",Qe(34,zo)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),D("value",t.nombreseleccionado),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("orden")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("momento")),l(3),d("ngForOf",t.MatrizMomento),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("objetivo")),l(3),d("ngForOf",t.MatrizObjetivos),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("foco")),l(3),d("ngForOf",t.subMatrizObjetivo),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("mlt")),l(3),d("ngForOf",t.MatrizMLT),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("enfoque")),l(3),d("ngForOf",t.MatrizEnfoque),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("duracion")),l(6),d("ngIf",!t.newPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalPlandeIntervencions),l(25),z("ngModel",t.filtertxtSubPlandeIntervencions),l(4),d("ngIf",!t.ModoBoolean),l(),d("ngIf",t.ModoBoolean),l(8),E("",t.newSubPlandeIntervencions.get("id").value?"Modificar":"Registrar"," SubPlandeIntervencions"),l(3),d("formGroup",t.newSubPlandeIntervencions),l(3),d("ngIf",!t.newSubPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalSubPlandeIntervencions))},dependencies:[Z,$,W,se,le,ee,he,re,te,ie,ne,oe,ae,de,ce,Ce,fe],styles:['@charset "UTF-8";.custom-border[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;background-color:#f9f9f9}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}.position-absolute[_ngcontent-%COMP%]{position:absolute}.top-50[_ngcontent-%COMP%]{top:50%}.start-50[_ngcontent-%COMP%]{left:50%}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}.custom-border[_ngcontent-%COMP%]:hover{background-color:#e9ecef;cursor:pointer}.custom-border.checked[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.custom-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]:before{border-color:#28a745;background-color:#28a745}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:disabled ~ .spinner-border[_ngcontent-%COMP%]{display:block}.folder-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.folder[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:background-color .3s ease}.folder[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.icon-folder[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:10px;background-size:cover}span[_ngcontent-%COMP%]{font-size:16px;color:#333}']})}};var ht=class a{constructor(o){this.http=o;this.ruta=A.ruta}ObtenerUsuarios(){return this.http.get(this.ruta+"api/Usuarios/")}AgregarUsuarios(o){return this.http.post(this.ruta+"api/Usuarios/",o)}ModificarUsuarios(o,e){return this.http.put(this.ruta+"api/Usuarios/"+e,o)}SeleccionarUsuarios(o){return this.http.get(this.ruta+"api/Usuarios/"+o)}EliminarUsuarios(o){return this.http.delete(this.ruta+"api/Usuarios/"+o)}createFormGroupUsuarios(){return new N({id:new g(0),nombres:new g(""),apellidos:new g(""),usuario:new g(""),contrasenia:new g(""),celular:new g(""),celulartrabajo:new g(""),carnet:new g(""),foto:new g(""),tipo:new g(""),estado:new g("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Sa=a=>({itemsPerPage:10,currentPage:a});function Ia(a,o){a&1&&(i(0,"tr")(1,"td",56)(2,"div",57)(3,"div",58)(4,"span",59),r(5,"Loading..."),n()()()()())}function xa(a,o){a&1&&(i(0,"tr")(1,"td",56),r(2,"No hay datos disponibles"),n()())}function Ma(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",60),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),r(8),n(),i(9,"td"),r(10),n(),i(11,"td",61)(12,"button",62),p("click",function(){let s=h(e).$implicit,c=u();return f(c.SeleccionarUsuarios(s.id))}),m(13,"i",63),n(),i(14,"button",64),p("click",function(){let s=h(e).$implicit,c=u();return f(c.EliminarUsuarios(s.id))}),m(15,"i",65),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),b((s.paginaUsuarios-1)*10+(e+1)),l(2),b(t.apellidos+" "+t.nombres),l(2),b(t.carnet),l(2),b(t.celular),l(2),b(t.estado)}}function wa(a,o){if(a&1){let e=C();i(0,"div",66)(1,"button",67),p("click",function(){h(e);let s=u();return f(s.AutoCompletarLastUsuarios())}),m(2,"i",68),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",69),n()()}}function Aa(a,o){if(a&1){let e=C();i(0,"button",70),p("click",function(){h(e);let s=u();return f(s.AgregarModificarUsuarios())}),m(1,"i",71),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newUsuarios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newUsuarios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function ya(a,o){if(a&1){let e=C();i(0,"button",72),p("click",function(){h(e);let s=u();return f(s.AgregarModificarUsuarios())}),m(1,"span",73),n()}a&2&&d("disabled",!0)}var ft=class a{constructor(o,e){this._user=o;this._tools=e;this.Usuarios=[];this.paginaUsuarios=1;this.isLoadingUsuarios=!0;this.AnimacionCargabtnModalUsuarios=!1;this.filtertxtUsuarios="";this.newUsuarios=this._user.createFormGroupUsuarios(),this.newUsuariosAnteriorAccion=this._user.createFormGroupUsuarios()}ngOnInit(){this.CargarUsuarios()}CargarUsuarios(){this.AnimarCargaTablaUsuarios(),this._user.ObtenerUsuarios().subscribe(o=>{console.log("Usuarios CARGADO",o.data),this.Usuarios=o.data,this.isLoadingUsuarios=!1},o=>{console.log("ERROR AL CARGAR Usuarios",o),this.isLoadingUsuarios=!1})}AgregarModificarUsuarios(){if(this.newUsuarios.invalid){this.ValidacionTodoElementoUsuarios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalUsuarios=!1;return}else{this.AnimarCargaTablaUsuarios(),this.AnimacionCargabtnModalUsuarios=!0,this._tools.MostrarMensajeLoading(),this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value);let o=this.newUsuarios.controls.id.value;console.log("INFO A PROCESAR",this.newUsuarios.value),o?this._user.ModificarUsuarios(this.newUsuarios.value,this.newUsuarios.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Usuarios",e.data),this.CargarUsuarios(),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Usuarios",e),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}):this._user.AgregarUsuarios(this.newUsuarios.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Usuarios",e.data),this.CargarUsuarios(),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Usuarios",e),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()})}}SeleccionarUsuarios(o){if(this._tools.MostrarMensajeLoading(),o){if(!this.Usuarios.find(t=>t.id===o))return;this._user.SeleccionarUsuarios(o).subscribe(t=>{Object.keys(this.newUsuarios.controls).forEach(s=>{this.newUsuarios.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Usuarios EXITOSA",this.newUsuarios.value),this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this._tools.abrirModal("modalgestionUsuarios"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Usuarios",t),this._tools.MostrarMensajeError()})}}EliminarUsuarios(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._user.EliminarUsuarios(o).subscribe(t=>{console.log(t.data),this.CargarUsuarios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Usuarios",t),this._tools.MostrarMensajeError()}))})}resetUsuarios(){this.newUsuarios.reset(),this._tools.cerrarModal("modalgestionUsuarios")}AbrirModalUsuarios(){this.newUsuarios.reset(),this._tools.abrirModal("modalgestionUsuarios")}AutoCompletarLastUsuarios(){this.newUsuarios.setValue(this.newUsuariosAnteriorAccion.value),this.newUsuarios.patchValue({id:0}),console.log("listo",this.newUsuarios.value)}AnimarCargaTablaUsuarios(){this.Usuarios=[],this.isLoadingUsuarios=!0}ValidacionUsuariosxElemento(o){return this._tools.obtenerValidationClass(this.newUsuarios,o)}ValidacionTodoElementoUsuarios(){Object.values(this.newUsuarios.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(ht),x(Q))}}static{this.\u0275cmp=j({type:a,selectors:[["app-gestiondeusuarios"]],decls:135,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-striped","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionUsuarios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celulartrabajo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","file","formControlName","foto",1,"form-control",3,"ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["formControlName","estado",1,"form-control",3,"ngClass"],["value","ACTIVO"],["value","INACTIVO"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","5",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Usuarios"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Usuarios de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalUsuarios()}),m(11,"i",7),r(12," A\xF1adir Usuarios"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaUsuarios=1}),G("ngModelChange",function(c){return L(t.filtertxtUsuarios,c)||(t.filtertxtUsuarios=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),r(28,"#"),n(),i(29,"th",18),r(30,"Nombre Completo"),n(),i(31,"th",18),r(32,"Carnet"),n(),i(33,"th",18),r(34,"Celular"),n(),i(35,"th",18),r(36,"Estado"),n(),i(37,"th",18),r(38,"ACCIONES"),n()()(),i(39,"tbody",19),v(40,Ia,6,0,"tr",20)(41,xa,3,0,"tr",20)(42,Ma,16,5,"tr",21),S(43,"paginate"),n()(),i(44,"pagination-controls",22),p("pageChange",function(c){return t.paginaUsuarios=c}),n()(),m(45,"hr"),i(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h1",28),r(52),n(),i(53,"button",29),p("click",function(){return t.resetUsuarios()}),n()()(),i(54,"div",30)(55,"div",31)(56,"div",32)(57,"input",33),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"nombres")}),n(),i(58,"label"),r(59,"nombres"),n(),i(60,"div",34),r(61,"Este campo es obligatorio*"),n()(),i(62,"div",32)(63,"input",35),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"apellidos")}),n(),i(64,"label"),r(65,"apellidos"),n(),i(66,"div",34),r(67,"Este campo es obligatorio*"),n()(),i(68,"div",32)(69,"input",36),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"usuario")}),n(),i(70,"label"),r(71,"usuario"),n(),i(72,"div",34),r(73,"Este campo es obligatorio*"),n()(),i(74,"div",32)(75,"input",37),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"contrasenia")}),n(),i(76,"label"),r(77,"contrasenia"),n(),i(78,"div",34),r(79,"Este campo es obligatorio*"),n()(),i(80,"div",32),m(81,"input",38),i(82,"label"),r(83,"celular"),n(),i(84,"div",34),r(85,"Este campo es obligatorio*"),n()(),i(86,"div",32),m(87,"input",39),i(88,"label"),r(89,"celulartrabajo"),n(),i(90,"div",34),r(91,"Este campo es obligatorio*"),n()(),i(92,"div",32)(93,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"carnet")}),n(),i(94,"label"),r(95,"carnet"),n(),i(96,"div",34),r(97,"Este campo es obligatorio*"),n()(),i(98,"div",32),m(99,"input",41),i(100,"label"),r(101,"foto"),n(),i(102,"div",34),r(103,"Este campo es obligatorio*"),n()(),i(104,"div",32)(105,"select",42)(106,"option",43),r(107,"Seleccione una opci\xF3n"),n()(),i(108,"label"),r(109,"tipo"),n(),i(110,"div",34),r(111,"Este campo es obligatorio*"),n()(),i(112,"div",32)(113,"select",44)(114,"option",43),r(115,"Seleccione una opci\xF3n"),n(),i(116,"option",45),r(117,"ACTIVO"),n(),i(118,"option",46),r(119,"INACTIVO"),n()(),i(120,"label"),r(121,"estado"),n(),i(122,"div",34),r(123,"Este campo es obligatorio*"),n()()()(),i(124,"div",47),v(125,wa,6,0,"div",48),i(126,"div",49)(127,"div",50)(128,"button",51),p("click",function(){return t.resetUsuarios()}),m(129,"i",52),r(130," CANCELAR"),m(131,"span",8),n()(),i(132,"div",53),v(133,Aa,4,4,"button",54)(134,ya,2,1,"button",55),n()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtUsuarios),l(21),d("ngIf",t.isLoadingUsuarios),l(),d("ngIf",!t.isLoadingUsuarios&&t.Usuarios.length===0),l(),d("ngForOf",M(43,19,t.Usuarios,V(22,Sa,t.paginaUsuarios))),l(10),E("",t.newUsuarios.get("id").value?"Modificar":"Registrar"," Usuarios"),l(3),d("formGroup",t.newUsuarios),l(2),d("ngClass",t.ValidacionUsuariosxElemento("nombres")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("apellidos")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("usuario")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celular")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celulartrabajo")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("carnet")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("foto")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("tipo")),l(8),d("ngClass",t.ValidacionUsuariosxElemento("estado")),l(12),d("ngIf",!t.newUsuarios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalUsuarios),l(),d("ngIf",t.AnimacionCargabtnModalUsuarios))},dependencies:[Z,$,W,se,le,ee,he,re,te,ie,ne,oe,ae,de,ce]})}};var Pa=[{path:"clientes",component:tt,canActivate:[pe]},{path:"ciclosplanesintervenciones",component:it,canActivate:[pe]},{path:"pagos",component:rt,canActivate:[pe]},{path:"inicios",component:ct,canActivate:[pe]},{path:"matrizdeescalas",component:pt,canActivate:[pe]},{path:"usuarios",component:ft,canActivate:[pe]},{path:"planesdeintervenciones",component:je,canActivate:[pe]},{path:"planesdeintervenciones/:variable",component:je,canActivate:[pe]}],fi=class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=we({type:a})}static{this.\u0275inj=Me({imports:[yt.forChild(Pa),yt]})}};export{st as a,Ke as b,_e as c,Da as d,vr as e,nt as f,ot as g,at as h,ke as i,dt as j,ut as k,gt as l,ht as m,fi as n};
