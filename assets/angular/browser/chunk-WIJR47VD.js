import{a as M,d as ce,e as Z}from"./chunk-ZHKCINH7.js";import{$ as k,A as he,Aa as ue,B as Qt,Ba as A,C as He,D as h,Da as Ye,E as f,Ea as wt,F as Yt,Fa as X,G as $e,Ga as $,H as q,Ha as W,I as Et,J as w,Ja as ni,K as St,Ka as oi,L as Xt,La as ai,M as Jt,Ma as yt,N as It,O as Y,Oa as P,P as l,Q as x,R as xt,S as Mt,T as Kt,Ta as ri,U as b,V as Ce,W as d,Y as Fe,Ya as si,Z as We,_ as fe,_a as Xe,a as Vt,aa as At,b as qe,ba as i,bb as Pt,ca as o,cb as li,d as Ft,da as m,db as ee,e as Ne,ea as Me,eb as ci,f as Dt,fa as Ae,fb as B,g as jt,ga as C,gb as te,h as Ve,ha as p,hb as ie,i as Ut,ia as u,ib as N,j as qt,ja as ei,jb as g,k as vt,ka as Ze,kb as ne,l as xe,la as U,lb as be,m as Bt,ma as Pe,mb as oe,n as _t,na as K,nb as ae,o as Ht,oa as s,ob as re,p as $t,pa as v,pb as se,q as Wt,qa as E,qb as le,r as Ct,ra as _e,s as O,sa as z,t as we,ta as L,u as Zt,ua as G,v as R,va as ti,w as H,wa as ii,x as D,xa as Qe,y as ye,ya as V,z as Be,za as S}from"./chunk-ANAZ3NHR.js";import{g as Nt}from"./chunk-GAL4ENT6.js";function vi(a,n){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){h(e),u(3);let r=K(1);return f(r.previous())})("click",function(){h(e),u(3);let r=K(1);return f(r.previous())}),s(1),i(2,"span",13),s(3),o()()}if(a&2){let e=u(3);l(),E(" ",e.previousLabel," "),l(2),v(e.screenReaderPageLabel)}}function _i(a,n){if(a&1&&(i(0,"span",14),s(1),i(2,"span",13),s(3),o()()),a&2){let e=u(3);l(),E(" ",e.previousLabel," "),l(2),v(e.screenReaderPageLabel)}}function Ci(a,n){if(a&1&&(i(0,"li",9),b(1,vi,4,2,"a",10)(2,_i,4,2,"span",11),o()),a&2){u(2);let e=K(1);Fe("disabled",e.isFirstPage()),l(),d("ngIf",1<e.getCurrent()),l(),d("ngIf",e.isFirstPage())}}function Ei(a,n){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){h(e);let r=u().$implicit;u(2);let c=K(1);return f(c.setCurrent(r.value))})("click",function(){h(e);let r=u().$implicit;u(2);let c=K(1);return f(c.setCurrent(r.value))}),i(1,"span",13),s(2),o(),i(3,"span"),s(4),S(5,"number"),o()()}if(a&2){let e=u().$implicit,t=u(2);l(2),E("",t.screenReaderPageLabel," "),l(2),v(e.label==="..."?e.label:A(5,2,e.label,""))}}function Si(a,n){if(a&1&&(Me(0),i(1,"span",16)(2,"span",13),s(3),o(),i(4,"span"),s(5),S(6,"number"),o()(),Ae()),a&2){let e=u().$implicit,t=u(2);l(3),E("",t.screenReaderCurrentLabel," "),l(2),v(e.label==="..."?e.label:A(6,2,e.label,""))}}function Ii(a,n){if(a&1&&(i(0,"li"),b(1,Ei,6,5,"a",10)(2,Si,7,5,"ng-container",15),o()),a&2){let e=n.$implicit;u(2);let t=K(1);Fe("current",t.getCurrent()===e.value)("ellipsis",e.label==="..."),l(),d("ngIf",t.getCurrent()!==e.value),l(),d("ngIf",t.getCurrent()===e.value)}}function xi(a,n){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){h(e),u(3);let r=K(1);return f(r.next())})("click",function(){h(e),u(3);let r=K(1);return f(r.next())}),s(1),i(2,"span",13),s(3),o()()}if(a&2){let e=u(3);l(),E(" ",e.nextLabel," "),l(2),v(e.screenReaderPageLabel)}}function Mi(a,n){if(a&1&&(i(0,"span",14),s(1),i(2,"span",13),s(3),o()()),a&2){let e=u(3);l(),E(" ",e.nextLabel," "),l(2),v(e.screenReaderPageLabel)}}function Ai(a,n){if(a&1&&(i(0,"li",17),b(1,xi,4,2,"a",10)(2,Mi,4,2,"span",11),o()),a&2){u(2);let e=K(1);Fe("disabled",e.isLastPage()),l(),d("ngIf",!e.isLastPage()),l(),d("ngIf",e.isLastPage())}}function wi(a,n){if(a&1&&(i(0,"ul",4),b(1,Ci,3,4,"li",5),i(2,"li",6),s(3),o(),b(4,Ii,3,6,"li",7)(5,Ai,3,4,"li",8),o()),a&2){let e=u(),t=K(1);Fe("responsive",e.responsive),l(),d("ngIf",e.directionLinks),l(2),_e(" ",t.getCurrent()," / ",t.getLastPage()," "),l(),d("ngForOf",t.pages)("ngForTrackBy",e.trackByIndex),l(),d("ngIf",e.directionLinks)}}var De=class{constructor(){this.change=new q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(n){return n.id==null&&(n.id=this.DEFAULT_ID),this.instances[n.id]?this.updateInstance(n):(this.instances[n.id]=n,!0)}updateInstance(n){let e=!1;for(let t in this.instances[n.id])n[t]!==this.instances[n.id][t]&&(this.instances[n.id][t]=n[t],e=!0);return e}getCurrentPage(n){return this.instances[n]?this.instances[n].currentPage:1}setCurrentPage(n,e){if(this.instances[n]){let t=this.instances[n],r=Math.ceil(t.totalItems/t.itemsPerPage);e<=r&&1<=e&&(this.instances[n].currentPage=e,this.change.emit(n))}}setTotalItems(n,e){this.instances[n]&&0<=e&&(this.instances[n].totalItems=e,this.change.emit(n))}setItemsPerPage(n,e){this.instances[n]&&(this.instances[n].itemsPerPage=e,this.change.emit(n))}getInstance(n=this.DEFAULT_ID){return this.instances[n]?this.clone(this.instances[n]):{}}clone(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}},yi=Number.MAX_SAFE_INTEGER,de=(()=>{class a{constructor(e){this.service=e,this.state={}}transform(e,t){if(!(e instanceof Array)){let j=t.id||this.service.defaultId();return this.state[j]?this.state[j].slice:e}let r=t.totalItems&&t.totalItems!==e.length,c=this.createInstance(e,t),_=c.id,I,y,F=c.itemsPerPage,pe=this.service.register(c);if(!r&&e instanceof Array){if(F=+F||yi,I=(c.currentPage-1)*F,y=I+F,this.stateIsIdentical(_,e,I,y))return this.state[_].slice;{let Q=e.slice(I,y);return this.saveState(_,e,Q,I,y),this.service.change.emit(_),Q}}else return pe&&this.service.change.emit(_),this.saveState(_,e,e,I,y),e}createInstance(e,t){return this.checkConfig(t),{id:t.id!=null?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}}checkConfig(e){let r=["itemsPerPage","currentPage"].filter(c=>!(c in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,t,r,c,_){this.state[e]={collection:t,size:t.length,slice:r,start:c,end:_}}stateIsIdentical(e,t,r,c){let _=this.state[e];return!_||!(_.size===t.length&&_.start===r&&_.end===c)?!1:_.slice.every((y,F)=>y===t[r+F])}}return a.\u0275fac=function(e){return new(e||a)(x(De,16))},a.\u0275pipe=he({name:"paginate",type:a,pure:!1}),a})();var Pi=(()=>{class a{constructor(e,t){this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new q,this.pageBoundsCorrection=new q,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),t=this.outOfBoundCorrection(e);t!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(t),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage}createPageArray(e,t,r,c){c=+c;let _=[],I=Math.max(Math.ceil(r/t),1),y=Math.ceil(c/2),F=e<=y,pe=I-y<e,j=!F&&!pe,Q=c<I,Ie=1;for(;Ie<=I&&Ie<=c;){let Ge,Gt=this.calculatePageNumber(Ie,e,c,I),fi=Ie===2&&(j||pe),bi=Ie===c-1&&(j||F);Q&&(fi||bi)?Ge="...":Ge=Gt,_.push({label:Ge,value:Gt}),Ie++}return _}calculatePageNumber(e,t,r,c){let _=Math.ceil(r/2);return e===r?c:e===1?e:r<c?c-_<t?c-r+e:_<t?t-_+e:e:e}}return a.\u0275fac=function(e){return new(e||a)(x(De),x(Ye))},a.\u0275dir=Be({type:a,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[He]}),a})();function Ot(a){return!!a&&a!=="false"}var me=(()=>{class a{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new q,this.pageBoundsCorrection=new q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Ot(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Ot(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Ot(e)}trackByIndex(e){return e}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=D({type:a,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,t){if(e&1){let r=C();i(0,"pagination-template",1,0),p("pageChange",function(_){return h(r),f(t.pageChange.emit(_))})("pageBoundsCorrection",function(_){return h(r),f(t.pageBoundsCorrection.emit(_))}),i(2,"nav",2),b(3,wi,6,8,"ul",3),o()()}if(e&2){let r=K(1);d("id",t.id)("maxSize",t.maxSize),l(2),Ce("aria-label",t.screenReaderPaginationLabel),l(),d("ngIf",!(t.autoHide&&r.pages.length<=1))}},dependencies:[Pi,W,$,ni],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),a})(),Da=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=ye({type:a}),a.\u0275inj=we({providers:[De],imports:[[oi]]}),a})();var Je={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Rt=new Zt("config",{providedIn:"root",factory:()=>({modules:Je})});function Te(a){a||(Qt(Te),a=H($e));let n=new qe(e=>a.onDestroy(e.next.bind(e)));return e=>e.pipe($t(n))}var Oi=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],Ri=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function Ti(a,n){a&1&&m(0,"div",0)}function ki(a,n){a&1&&m(0,"div",0)}var Ke=(a,n)=>a||n||"html",zi=()=>new qe(a=>{let n=requestAnimationFrame(()=>{a.next(),a.complete()});return()=>cancelAnimationFrame(n)}),Li=(()=>{class a{constructor(){this.config=H(Rt)||{modules:Je},this.document=H(wt),this.quill$=qt(()=>Nt(this,null,function*(){if(!this.Quill){let e=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let t=yield import("./chunk-GTJGVPUT.js");this.document.addEventListener=e,this.Quill=t.default?.default??t.default??t}return this.config.customOptions?.forEach(e=>{let t=this.Quill.import(e.import);t.whitelist=e.whitelist,this.Quill.register(t,!0,this.config.suppressGlobalRegisterWarning)}),jt(this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning))})).pipe(Ht({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(e,t,r=this.config.beforeRender){let c=[this.registerCustomModules(e,t)];return r&&c.push(Ft(r())),vt(c).pipe(Ve(()=>e))}registerCustomModules(e,t,r){if(!Array.isArray(t))return Ne(e);let c=[];for(let _ of t){let{path:I,implementation:y}=_;this.registeredModules.has(I)||(this.registeredModules.add(I),Dt(y)?c.push(y.pipe(Wt(F=>{e.register(I,F,r)}))):e.register(I,y,r))}return c.length>0?vt(c).pipe(Ve(()=>e)):Ne(e)}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Gi=(()=>{class a{constructor(){this.format=w(void 0),this.theme=w(void 0),this.modules=w(void 0),this.debug=w(!1),this.readOnly=w(!1),this.placeholder=w(void 0),this.maxLength=w(void 0),this.minLength=w(void 0),this.required=w(!1),this.formats=w(void 0),this.customToolbarPosition=w("top"),this.sanitize=w(void 0),this.beforeRender=w(void 0),this.styles=w(null),this.registry=w(void 0),this.bounds=w(void 0),this.customOptions=w([]),this.customModules=w([]),this.trackChanges=w(void 0),this.classes=w(void 0),this.trimOnValidation=w(!1),this.linkPlaceholder=w(void 0),this.compareValues=w(!1),this.filterNull=w(!1),this.debounceTime=w(void 0),this.defaultEmptyValue=w(null),this.onEditorCreated=new q,this.onEditorChanged=new q,this.onContentChanged=new q,this.onSelectionChanged=new q,this.onFocus=new q,this.onBlur=new q,this.onNativeFocus=new q,this.onNativeBlur=new q,this.disabled=!1,this.toolbarPosition=Mt("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=H(St),this.document=H(wt),this.cd=H(Ye),this.domSanitizer=H(ri),this.platformId=H(Xt),this.renderer=H(xt),this.zone=H(Et),this.service=H(Li),this.destroyRef=H($e),this.valueGetter=w(e=>{let t=e.getSemanticHTML();this.isEmptyValue(t)&&(t=this.defaultEmptyValue());let r=t,c=Ke(this.format(),this.service.config.format);if(c==="text")r=e.getText();else if(c==="object")r=e.getContents();else if(c==="json")try{r=JSON.stringify(e.getContents())}catch{r=e.getText()}return r}),this.valueSetter=w((e,t)=>{let r=Ke(this.format(),this.service.config.format);if(r==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(t=this.domSanitizer.sanitize(Jt.HTML,t)),e.clipboard.convert({html:t});if(r==="json")try{return JSON.parse(t)}catch{return[{insert:t}]}return t}),this.selectionChangeHandler=(e,t,r)=>{let c=this.trackChanges()||this.service.config.trackChanges,_=!e&&!!this.onModelTouched&&(r==="user"||c&&c==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!_||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:r}):t===null&&this.onFocus.emit({editor:this.quillEditor,source:r}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:t,range:e,source:r}),_&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,t,r)=>{let c=this.quillEditor.getText(),_=this.quillEditor.getContents(),I=this.quillEditor.getSemanticHTML();this.isEmptyValue(I)&&(I=this.defaultEmptyValue());let y=this.trackChanges()||this.service.config.trackChanges,F=(r==="user"||y&&y==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!F||this.zone.run(()=>{if(F){let pe=this.valueGetter();this.onModelChange(pe(this.quillEditor))}this.onContentChanged.emit({content:_,delta:e,editor:this.quillEditor,html:I,oldDelta:t,source:r,text:c}),this.cd.markForCheck()})},this.editorChangeHandler=(e,t,r,c)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let _=this.quillEditor.getText(),I=this.quillEditor.getContents(),y=this.quillEditor.getSemanticHTML();this.isEmptyValue(y)&&(y=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:I,delta:t,editor:this.quillEditor,event:e,html:y,oldDelta:r,source:c,text:_}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:r,range:t,source:c}),this.cd.markForCheck()})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((r,c)=>{let _=c.trim();return _&&r.push(_),r},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){ai(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(Ut(e=>this.service.beforeRender(e,this.customModules(),this.beforeRender()))).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let t=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules()||this.service.config.modules);t?r.toolbar=t:r.toolbar===void 0&&(r.toolbar=Je.toolbar);let c=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;c===void 0&&(c="Insert text here ...");let _=this.styles();_&&Object.keys(_).forEach(j=>{this.renderer.setStyle(this.editorElem,j,_[j])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(j=>{let Q=e.import(j.import);Q.whitelist=j.whitelist,e.register(Q,!0)});let I=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();I||(I=this.service.config.bounds?this.service.config.bounds:this.document.body);let y=this.debug();!y&&y!==!1&&this.service.config.debug&&(y=this.service.config.debug);let F=this.readOnly();!F&&this.readOnly()!==!1&&(F=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let pe=this.formats();if(!pe&&pe===void 0&&(pe=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:I,debug:y,formats:pe,modules:r,placeholder:c,readOnly:F,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){xe(this.quillEditor.scroll.domNode,"blur").pipe(Te(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let j=this.quillEditor.getModule("toolbar");j.container&&xe(j.container,"mousedown").pipe(Te(this.destroyRef)).subscribe(Q=>Q.preventDefault())}if(this.onNativeFocus.observed&&xe(this.quillEditor.scroll.domNode,"focus").pipe(Te(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let Q=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");Q?.dataset&&(Q.dataset.link=this.linkPlaceholder())}}),this.content){if(Ke(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let Ge=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(Ge,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&zi().pipe(Te(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){let t=e.styles.currentValue,r=e.styles.previousValue;r&&Object.keys(r).forEach(c=>{this.renderer.removeStyle(this.editorElem,c)}),t&&Object.keys(t).forEach(c=>{this.renderer.setStyle(this.editorElem,c,this.styles()[c])})}if(e.classes){let t=e.classes.currentValue,r=e.classes.previousValue;r&&this.removeClasses(r),t&&this.addClasses(t)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){a.normalizeClassNames(e).forEach(t=>{this.renderer.addClass(this.editorElem,t)})}removeClasses(e){a.normalizeClassNames(e).forEach(t=>{this.renderer.removeClass(this.editorElem,t)})}writeValue(e){if(this.filterNull()&&e===null||(this.content=e,!this.quillEditor))return;let t=Ke(this.format(),this.service.config.format),c=this.valueSetter()(this.quillEditor,e);if(this.compareValues()){let _=this.quillEditor.getContents();if(JSON.stringify(_)===JSON.stringify(c))return}if(e){t==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(c);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},t=!0,r=this.quillEditor.getText(),c=this.trimOnValidation()?r.trim().length:r.length===1&&r.trim().length===0?0:r.length-1,_=this.quillEditor.getContents().ops,I=!!_&&_.length===1&&[`
`,""].includes(_[0].insert?.toString());return this.minLength()&&c&&c<this.minLength()&&(e.minLengthError={given:c,minLength:this.minLength()},t=!1),this.maxLength()&&c>this.maxLength()&&(e.maxLengthError={given:c,maxLength:this.maxLength()},t=!1),this.required()&&!c&&I&&(e.requiredError={empty:!0},t=!1),t?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Vt,this.subscription.add(xe(this.quillEditor,"selection-change").subscribe(([r,c,_])=>{this.selectionChangeHandler(r,c,_)}));let e=xe(this.quillEditor,"text-change"),t=xe(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(e=e.pipe(_t(this.debounceTime())),t=t.pipe(_t(this.debounceTime()))),this.subscription.add(e.subscribe(([r,c,_])=>{this.textChangeHandler(r,c,_)})),this.subscription.add(t.subscribe(([r,c,_,I])=>{this.editorChangeHandler(r,c,_,I)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(e){return e==="<p></p>"||e==="<div></div>"||e==="<p><br></p>"||e==="<div><br></div>"}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275dir=Be({type:a,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[He]})}}return a})(),di=(()=>{class a extends Gi{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Yt(a)))(r||a)}})()}static{this.\u0275cmp=D({type:a,selectors:[["quill-editor"]],standalone:!0,features:[ti([{multi:!0,provide:li,useExisting:Ct(()=>a)},{multi:!0,provide:ci,useExisting:Ct(()=>a)}]),Kt,ii],ngContentSelectors:Ri,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(t,r){t&1&&(ei(Oi),b(0,Ti,1,0,"div",0),Ze(1),Ze(2,1),Ze(3,2),b(4,ki,1,0,"div",0)),t&2&&(At(r.toolbarPosition()!=="top"?0:-1),l(4),At(r.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return a})();var vr=(()=>{class a{static forRoot(e){return{ngModule:a,providers:[{provide:Rt,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=ye({type:a})}static{this.\u0275inj=we({})}}return a})();var et=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerClientes(){return this.http.get(this.ruta+"api/Clientes/")}AgregarClientes(n){return this.http.post(this.ruta+"api/Clientes/",n)}ModificarClientes(n,e){return this.http.put(this.ruta+"api/Clientes/"+e,n)}SeleccionarClientes(n){return this.http.get(this.ruta+"api/Clientes/"+n)}EliminarClientes(n){return this.http.delete(this.ruta+"api/Clientes/"+n)}createFormGroupClientes(){return new N({id:new g(0),nombres:new g("",[B.required]),apellidos:new g("",[B.required]),carnet:new g("",[B.required]),celular:new g("",[B.required]),fechnac:new g("",[B.required]),edad:new g("",[B.required]),usuario:new g("",[B.required]),contrasenia:new g("",[B.required]),foto:new g(""),estado:new g("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Ee=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerInfoClientes(){return this.http.get(this.ruta+"api/InfoClientes/")}AgregarInfoClientes(n){return this.http.post(this.ruta+"api/InfoClientes/",n)}ModificarInfoClientes(n,e){return this.http.put(this.ruta+"api/InfoClientes/"+e,n)}SeleccionarInfoClientes(n){return this.http.get(this.ruta+"api/InfoClientes/"+n)}EliminarInfoClientes(n){return this.http.delete(this.ruta+"api/InfoClientes/"+n)}createFormGroupInfoClientes(){return new N({id:new g(0),id_cliente:new g(""),diagnostico:new g(""),residenciaactual:new g(""),tipotratamiento:new g(""),duracion:new g(""),fechaadmision:new g(""),tutor:new g(""),frecuencia:new g(""),objgenerales:new g(""),fisico:new g(""),emocional:new g(""),cognitivo:new g(""),social:new g(""),metodosausar:new g(""),notas:new g(""),cuestionario:new g(M.plantilla)})}SeleccionarAllInformacionCliente(n){return this.http.get(this.ruta+"api/AllInfoClientes/"+n)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Se=class a{transform(n,e){if(!e)return n;let t=e.trim().toLowerCase().split(" ").filter(r=>r);return n.filter(r=>t.every(c=>this.normalizarTexto(r.apellidos).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(r.nombres).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(r.carnet).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(n){return n==null&&(n=" "),n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"filterapellidosnombrescarnet",type:a,pure:!0})}};var ve=class a{transform(n){if(!n)return"";let e;if(typeof n=="string"){let _=n.split(/[-/]/);if(_.length===3){let[I,y,F]=_.map(Number);e=new Date(I,y-1,F)}else return console.error("Formato de fecha no v\xE1lido:",n),""}else if(n instanceof Date)e=n;else return console.error("Valor de fecha no v\xE1lido:",n),"";let t=this.pad(e.getDate()),r=this.pad(e.getMonth()+1),c=e.getFullYear();return`${t}/${r}/${c}`}pad(n){return n<10?"0"+n:n.toString()}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"dateFormat",type:a,pure:!0})}};var Fi=a=>({itemsPerPage:10,currentPage:a});function Di(a,n){a&1&&(i(0,"tr")(1,"td",81)(2,"div",82)(3,"div",83)(4,"span",84),s(5,"Loading..."),o()()()()())}function ji(a,n){a&1&&(i(0,"tr")(1,"td",81),s(2,"No hay datos disponibles"),o()())}function Ui(a,n){if(a&1&&(i(0,"a",94),m(1,"i",95),o()),a&2){let e=u().$implicit,t=u();d("href",t.ruta+e.foto,Y)}}function qi(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",85),s(2),o(),i(3,"td"),s(4),o(),i(5,"td"),s(6),o(),i(7,"td"),s(8),o(),i(9,"td"),s(10),o(),i(11,"td",86)(12,"button",87),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarClientes(r.id))}),m(13,"i",88),o(),i(14,"button",89),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarClientes(r.id))}),m(15,"i",90),o(),i(16,"button",91),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarClientes(r.id,"InfoClientes",r.apellidos+" "+r.nombres))}),m(17,"i",92),o(),b(18,Ui,2,1,"a",93),o()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaClientes-1)*10+(e+1)),l(2),v(t.apellidos+" "+t.nombres),l(2),v(t.carnet),l(2),v(t.celular),l(2),v(t.estado),l(8),d("ngIf",!(t.foto==null||t.foto==""))}}function Bi(a,n){if(a&1){let e=C();i(0,"div",96)(1,"button",97),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastClientes())}),m(2,"i",98),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",99),o()()}}function Hi(a,n){if(a&1){let e=C();i(0,"button",100),p("click",function(){h(e);let r=u();return f(r.AgregarModificarClientes())}),m(1,"i",101),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function $i(a,n){if(a&1){let e=C();i(0,"button",102),p("click",function(){h(e);let r=u();return f(r.AgregarModificarClientes())}),m(1,"span",103),o()}a&2&&d("disabled",!0)}function Wi(a,n){a&1&&(i(0,"div")(1,"div",104)(2,"div",82)(3,"div",83)(4,"span",84),s(5,"Loading..."),o()()()()())}function Zi(a,n){a&1&&(i(0,"div")(1,"td",104),s(2,"No hay datos disponibles"),o()())}function Qi(a,n){if(a&1){let e=C();i(0,"div",105)(1,"div",106)(2,"div",107)(3,"div",108)(4,"button",109),m(5,"i",110),o()(),i(6,"div",111)(7,"span"),s(8),S(9,"dateFormat"),o()(),i(10,"div",108)(11,"a",112),p("click",function(r){let c=h(e).$implicit,_=u();return f(_.onButtonClick(r,c.id))}),m(12,"i",113),o(),i(13,"button",114),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarInfoClientes(r.id))}),m(14,"i",88),o(),i(15,"button",115),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarInfoClientes(r.id))}),m(16,"i",116),o(),i(17,"button",117),m(18,"i",110),o()()(),i(19,"div",118)(20,"ul",119)(21,"li",120)(22,"h5"),s(23,"RESIDENCIA ACTUAL."),o(),i(24,"a",121),s(25),o()(),i(26,"li",120)(27,"h5"),s(28,"DIAGNOSTICO."),o(),i(29,"a",121),s(30),o()(),i(31,"li",120)(32,"h5"),s(33,"TIPO DE TRATAMIENTO."),o(),i(34,"a",121),s(35),o()(),i(36,"li",120)(37,"h5"),s(38,"DURACI\xD3N."),o(),i(39,"a",121),s(40),o()(),i(41,"li",120)(42,"h5"),s(43,"NOTAS."),o(),i(44,"quill-editor",122),G("ngModelChange",function(r){let c=h(e).$implicit;return L(c.notas,r)||(c.notas=r),f(r)}),o()(),i(45,"li",120)(46,"h5"),s(47,"TUTOR."),o(),i(48,"a",121),s(49),o()(),i(50,"li",120)(51,"h5"),s(52,"FRECUENCIA DE LAS SESIONES."),o(),i(53,"a",121),s(54),o()(),i(55,"li",120)(56,"h5"),s(57,"OBJETIVOS GENERALES."),o(),i(58,"a",121),s(59),o()(),i(60,"li",120)(61,"h5"),s(62,"FISICO."),o(),i(63,"a",121),s(64),o()(),i(65,"li",120)(66,"h5"),s(67,"EMOCIONAL."),o(),i(68,"a",121),s(69),o()(),i(70,"li",120)(71,"h5"),s(72,"COGNITIVO."),o(),i(73,"a",121),s(74),o()(),i(75,"li",120)(76,"h5"),s(77,"SOCIAL."),o(),i(78,"a",121),s(79),o()(),i(80,"li",120)(81,"h5"),s(82,"METODOS A USAR."),o(),i(83,"a",121),s(84),o()(),i(85,"li",120)(86,"h5"),s(87,"CUESTIONARIO."),o(),i(88,"quill-editor",122),G("ngModelChange",function(r){let c=h(e).$implicit;return L(c.cuestionario,r)||(c.cuestionario=r),f(r)}),o()()()()()()}if(a&2){let e=n.$implicit,t=n.index,r=u();l(4),Ce("data-bs-target","#collapseCar"+t),l(4),E("FECHA DE ADMISI\xD3N: ",ue(9,21,e.fechaadmision),""),l(3),d("href",r.generateUrl(e.id),Y),l(6),Ce("data-bs-target","#collapseCar"+t),l(2),d("id","collapseCar"+t),l(6),v(e.residenciaactual==null?"NINGUNA":e.residenciaactual),l(5),v(e.diagnostico==null?"NINGUNA":e.diagnostico),l(5),v(e.tipotratamiento==null?"NINGUNA":e.tipotratamiento),l(5),v(e.duracion==null?"NINGUNA":e.duracion),l(4),d("modules",r._tools.modulesQuillShow),z("ngModel",e.notas),l(5),v(e.tutor==null?"NINGUNA":e.tutor),l(5),v(e.frecuencia==null?"NINGUNA":e.frecuencia),l(5),v(e.objgenerales==null?"NINGUNA":e.objgenerales),l(5),v(e.fisico==null?"NINGUNA":e.fisico),l(5),v(e.emocional==null?"NINGUNA":e.emocional),l(5),v(e.cognitivo==null?"NINGUNA":e.cognitivo),l(5),v(e.social==null?"NINGUNA":e.social),l(5),v(e.metodosausar==null?"NINGUNA":e.metodosausar),l(4),d("modules",r._tools.modulesQuillShow),z("ngModel",e.cuestionario)}}function Yi(a,n){if(a&1){let e=C();i(0,"div",96)(1,"button",97),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastInfoClientes())}),m(2,"i",98),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",99),o()()}}function Xi(a,n){if(a&1){let e=C();i(0,"button",100),p("click",function(){h(e);let r=u();return f(r.AgregarModificarInfoClientes())}),m(1,"i",101),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newInfoClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInfoClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ji(a,n){if(a&1){let e=C();i(0,"button",102),p("click",function(){h(e);let r=u();return f(r.AgregarModificarInfoClientes())}),m(1,"span",103),o()}a&2&&d("disabled",!0)}var it=class a{constructor(n,e,t,r,c){this.router=n;this._cli=e;this._tools=t;this._infocli=r;this.http=c;this.ruta=M.ruta;this.dataDropZone={iddropzone:"dropzoneclientes",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.uploadProgress=null;this.Clientes=[];this.paginaClientes=1;this.isLoadingClientes=!0;this.AnimacionCargabtnModalClientes=!1;this.filtertxtClientes="";this.idClientesSave=0;this.NameClientesSave="";this.InfoClientes=[];this.paginaInfoClientes=1;this.isLoadingInfoClientes=!0;this.AnimacionCargabtnModalInfoClientes=!1;this.filtertxtInfoClientes="";this.newClientes=this._cli.createFormGroupClientes(),this.newClientesAnteriorAccion=this._cli.createFormGroupClientes(),this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientesAnteriorAccion=this._infocli.createFormGroupInfoClientes()}ngOnInit(){this.CargarClientes()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","CLIENTE");var n=document.getElementById("dropzoneclientes");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),n&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===n&&(e.destroy(),n.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}onFileSelected(n){let e=n.target.files[0];if(!window.FileReader){alert("El navegador no soporta la lectura de archivos");return}if(/\.(jpg|png|jpeg)$/i.test(e.name)){let t="";if(e.size>1e7)switch(this._tools.MostrarMensaje("warning","\xA1TAMA\xD1O EXCEDIDO!. EL TAMA\xD1O DEL ARCHIVO NO PUEDE EXCEDER LOS 10MB"),t){default:n.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}else this.uploadFile(e)}else{switch(this._tools.MostrarMensaje("error","FORMATO INVALIDO!."),""){default:n.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}return}}uploadFile(n){let e=new FormData;e.append("file",n),e.append("type","CLIENTE"),this.http.post(this.ruta+"api/uploadFile",e,{reportProgress:!0,observe:"events"}).subscribe(t=>{t.type===yt.UploadProgress?t.total&&(this.uploadProgress=Math.round(100*t.loaded/t.total)):t.type===yt.Response&&(console.log("File uploaded successfully",t),this.uploadProgress=100,this.previousFilePath=t.body,this.newClientes.value.foto=this.previousFilePath.filePath)},t=>{console.error("File upload failed",t),this.uploadProgress=null})}generateUrl(n){let e={id:n,NomC:this.NameClientesSave};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:e}))}onButtonClick(n,e){if(!(n.ctrlKey||n.button===1)){n.preventDefault();let t={id:e,NomC:this.NameClientesSave};this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:t})}this._tools.cerrarModal("ModalGestionInfoCliente")}CargarClientes(){this.AnimarCargaTablaClientes(),this._cli.ObtenerClientes().subscribe(n=>{console.log("Clientes CARGADO",n.data),this.Clientes=n.data,this.isLoadingClientes=!1},n=>{console.log("ERROR AL CARGAR Clientes",n),this.isLoadingClientes=!1})}AgregarModificarClientes(){if(this.newClientes.invalid){this.ValidacionTodoElementoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalClientes=!1;return}else{this.AnimarCargaTablaClientes(),this.AnimacionCargabtnModalClientes=!0,this._tools.MostrarMensajeLoading();let e=this.newClientes.controls.id.value;console.log("INFO A PROCESAR",this.newClientes.value);var n=sessionStorage.getItem("IMG");console.log("VALOR img",n),n==null||n==""||(this.newClientes.value.foto=n),e?(console.log("DATA NUEVO",this.newClientes.value),console.log("DATA ANTERIOR",this.newClientesAnteriorAccion.value),this._cli.ModificarClientes(this.newClientes.value,this.newClientes.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Clientes",t.data),this.CargarClientes(),this.newClientesAnteriorAccion.value.foto==this.newClientes.value.foto||this._tools.EliminarArchivo(this.newClientesAnteriorAccion.value.foto),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Clientes",t),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()})):(this.newClientesAnteriorAccion.setValue(this.newClientes.value),this._cli.AgregarClientes(this.newClientes.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Clientes",t.data),this.CargarClientes(),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Clientes",t),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarClientes(n,e,t){if(this._tools.MostrarMensajeLoading(),n)switch(e){case"InfoClientes":this.idClientesSave=n,this.NameClientesSave=t,this.CargarInfoClientes(),this._tools.abrirModal("ModalGestionInfoCliente"),this._tools.MostrarMensajeSuccess();break;default:if(!this.Clientes.find(c=>c.id===n))return;this._cli.SeleccionarClientes(n).subscribe(c=>{Object.keys(this.newClientes.controls).forEach(_=>{this.newClientes.controls[_].setValue(c.data[_])}),c.data.foto?this.selectedFileUrl=this.ruta+c.data.foto:this.selectedFileUrl=null,console.log("SELECCION DE Clientes EXITOSA",this.newClientes.value),this.newClientesAnteriorAccion.setValue(this.newClientes.value),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes"),this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL SELECCIONAR Clientes",c),this._tools.MostrarMensajeError()});break}}EliminarClientes(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._cli.EliminarClientes(n).subscribe(t=>{console.log(t.data),this.CargarClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Clientes",t),this._tools.MostrarMensajeError()}))})}resetClientes(){this.selectedFileUrl="",this.newClientes.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionClientes")}AbrirModalClientes(){this.newClientes.reset(),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes")}AutoCompletarLastClientes(){this.newClientes.setValue(this.newClientesAnteriorAccion.value),this.newClientes.patchValue({id:0}),console.log("listo",this.newClientes.value)}AnimarCargaTablaClientes(){this.Clientes=[],this.isLoadingClientes=!0}ValidacionClientesxElemento(n){return this._tools.obtenerValidationClass(this.newClientes,n)}ValidacionTodoElementoClientes(){Object.values(this.newClientes.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}CargarInfoClientes(){this.AnimarCargaTablaInfoClientes(),this._infocli.SeleccionarAllInformacionCliente(this.idClientesSave).subscribe(n=>{console.log("InfoClientes CARGADO",n.data),this.InfoClientes=n.data,this.isLoadingInfoClientes=!1},n=>{console.log("ERROR AL CARGAR InfoClientes",n),this.isLoadingInfoClientes=!1})}AgregarModificarInfoClientes(){if(this.newInfoClientes.invalid){this.ValidacionTodoElementoInfoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInfoClientes=!1;return}else{this.AnimarCargaTablaInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!0,this._tools.MostrarMensajeLoading();let n=this.newInfoClientes.controls.id.value;console.log("INFO A PROCESAR",this.newInfoClientes.value),n?this._infocli.ModificarInfoClientes(this.newInfoClientes.value,this.newInfoClientes.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}):(this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._infocli.AgregarInfoClientes(this.newInfoClientes.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInfoClientes(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.InfoClientes.find(t=>t.id===n))return;this._infocli.SeleccionarInfoClientes(n).subscribe(t=>{Object.keys(this.newInfoClientes.controls).forEach(r=>{this.newInfoClientes.controls[r].setValue(t.data[r])}),console.log("SELECCION DE InfoClientes EXITOSA",this.newInfoClientes.value),this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._tools.abrirModal("modalgestionInfoClientes"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR InfoClientes",t),this._tools.MostrarMensajeError()})}}EliminarInfoClientes(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._infocli.EliminarInfoClientes(n).subscribe(t=>{console.log(t.data),this.CargarInfoClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR InfoClientes",t),this._tools.MostrarMensajeError()}))})}resetInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this._tools.cerrarModal("modalgestionInfoClientes")}AbrirModalInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientes.patchValue({id_cliente:this.idClientesSave}),this._tools.abrirModal("modalgestionInfoClientes")}AutoCompletarLastInfoClientes(){this.newInfoClientes.setValue(this.newInfoClientesAnteriorAccion.value),this.newInfoClientes.patchValue({id:0}),console.log("listo",this.newInfoClientes.value)}AnimarCargaTablaInfoClientes(){this.InfoClientes=[],this.isLoadingInfoClientes=!0}ValidacionInfoClientesxElemento(n){return this._tools.obtenerValidationClass(this.newInfoClientes,n)}ValidacionTodoElementoInfoClientes(){Object.values(this.newInfoClientes.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(Xe),x(et),x(Z),x(Ee),x(P))}}static{this.\u0275cmp=D({type:a,selectors:[["app-clientes"]],decls:276,vars:51,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechnac",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","edad",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["formControlName","estado",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneclientes",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalGestionInfoCliente","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-7","d-flex","justify-content-start"],["title","Admitir Cliente",1,"btn","mouse-dir","primary",3,"click"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionInfoClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","residenciaactual",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","diagnostico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","tipotratamiento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","duracion",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechaadmision",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","tutor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","frecuencia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","objgenerales",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fisico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","emocional",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cognitivo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","social",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","metodosausar",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","notas",1,"quill-container-wrapper",3,"modules"],["formControlName","cuestionario",1,"quill-container-wrapper",3,"modules"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Mostrar m\xE1s Informaci\xF3n",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-info",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-center"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"btn","btn-primary",3,"click","href"],[1,"bi","bi-file-earmark-text",2,"font-size","1.5rem"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body","show",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Gesti\xF3n de Clientes"),o(),i(6,"p",4),s(7,"Administra toda la informaci\xF3n de los Clientes de manera sencilla y eficiente"),o()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalClientes()}),m(11,"i",7),s(12," A\xF1adir Clientes"),m(13,"span",8),o()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),o(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaClientes=1}),G("ngModelChange",function(c){return L(t.filtertxtClientes,c)||(t.filtertxtClientes=c),c}),o(),i(20,"label"),s(21,"Buscar"),o()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),s(28,"#"),o(),i(29,"th",18),s(30,"Nombre Completo"),o(),i(31,"th",18),s(32,"Carnet"),o(),i(33,"th",18),s(34,"Celular"),o(),i(35,"th",18),s(36,"Estado"),o(),i(37,"th",18),s(38,"ACCIONES"),o()()(),i(39,"tbody",19),b(40,Di,6,0,"tr",20)(41,ji,3,0,"tr",20)(42,qi,19,6,"tr",21),S(43,"filterapellidosnombrescarnet"),S(44,"paginate"),o()(),i(45,"pagination-controls",22),p("pageChange",function(c){return t.paginaClientes=c}),o()(),m(46,"hr"),i(47,"div",23)(48,"div",24)(49,"div",25)(50,"div",26)(51,"div",27)(52,"h1",28),s(53),o(),i(54,"button",29),p("click",function(){return t.resetClientes()})("click",function(){return t.CancelarArchivosDropzone()}),o()()(),i(55,"div",30)(56,"div",31)(57,"div",32)(58,"input",33),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"apellidos")}),o(),i(59,"label"),s(60,"apellidos"),o(),i(61,"div",34),s(62,"Este campo es obligatorio*"),o()(),i(63,"div",32)(64,"input",35),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"nombres")}),o(),i(65,"label"),s(66,"nombres"),o(),i(67,"div",34),s(68,"Este campo es obligatorio*"),o()(),i(69,"div",32)(70,"input",36),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"carnet")}),o(),i(71,"label"),s(72,"carnet"),o(),i(73,"div",34),s(74,"Este campo es obligatorio*"),o()(),i(75,"div",32),m(76,"input",37),i(77,"label"),s(78,"celular"),o(),i(79,"div",34),s(80,"Este campo es obligatorio*"),o()(),i(81,"div",32),m(82,"input",38),i(83,"label"),s(84,"fecha de nacimiento"),o(),i(85,"div",34),s(86,"Este campo es obligatorio*"),o()(),i(87,"div",32),m(88,"input",39),i(89,"label"),s(90,"edad"),o(),i(91,"div",34),s(92,"Este campo es obligatorio*"),o()(),i(93,"div",32)(94,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newClientes,"usuario")}),o(),i(95,"label"),s(96,"usuario"),o(),i(97,"div",34),s(98,"Este campo es obligatorio*"),o()(),i(99,"div",32),m(100,"input",41),i(101,"label"),s(102,"contrase\xF1a"),o(),i(103,"div",34),s(104,"Este campo es obligatorio*"),o()(),i(105,"div",32)(106,"select",42)(107,"option",43),s(108,"Seleccione una opci\xF3n"),o(),i(109,"option",44),s(110,"ACTIVO"),o(),i(111,"option",45),s(112,"INACTIVO"),o()(),i(113,"label"),s(114,"estado"),o(),i(115,"div",34),s(116,"Este campo es obligatorio*"),o()(),i(117,"div",46)(118,"label",47),s(119,"Foto"),o(),m(120,"div",48)(121,"hr"),i(122,"span"),s(123,"IMAGEN ACTUAL:"),o(),m(124,"img",49),o()()(),i(125,"div",50),b(126,Bi,6,0,"div",51),i(127,"div",52)(128,"div",53)(129,"button",54),p("click",function(){return t.resetClientes()})("click",function(){return t.CancelarArchivosDropzone()}),m(130,"i",55),s(131," CANCELAR"),m(132,"span",8),o()(),i(133,"div",56),b(134,Hi,4,4,"button",57)(135,$i,2,1,"button",58),o()()()()()(),i(136,"div",59)(137,"div",24)(138,"div",25)(139,"div",26)(140,"h5",60),s(141,"Gestion de Informaci\xF3n de Clientes "),o(),m(142,"button",61),o(),i(143,"div",30),m(144,"hr"),i(145,"div",0)(146,"div",1),m(147,"div",2),o()(),i(148,"div",1)(149,"div",62)(150,"button",63),p("click",function(){return t.AbrirModalInfoClientes()}),m(151,"i",7),s(152," A\xF1adir Informaci\xF3n del Cliente para la Admisi\xF3n"),m(153,"span",8),o()(),i(154,"div",9)(155,"div",10)(156,"span",11),m(157,"i",12),o(),i(158,"div",13)(159,"input",14),p("input",function(){return t.paginaInfoClientes=1}),G("ngModelChange",function(c){return L(t.filtertxtInfoClientes,c)||(t.filtertxtInfoClientes=c),c}),o(),i(160,"label"),s(161,"Buscar"),o()()()()(),m(162,"hr"),b(163,Wi,6,0,"div",20)(164,Zi,3,0,"div",20),i(165,"div",1),b(166,Qi,89,23,"div",64),o(),m(167,"hr"),i(168,"div",65)(169,"div",24)(170,"div",25)(171,"div",26)(172,"div",27)(173,"h1",28),s(174),o(),i(175,"button",29),p("click",function(){return t.resetInfoClientes()}),o()()(),i(176,"div",30)(177,"div",31)(178,"div",32)(179,"input",66),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"residenciaactual")}),o(),i(180,"label"),s(181,"residencia actual"),o(),i(182,"div",34),s(183,"Este campo es obligatorio*"),o()(),i(184,"div",32)(185,"input",67),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"diagnostico")}),o(),i(186,"label"),s(187,"diagnostico"),o(),i(188,"div",34),s(189,"Este campo es obligatorio*"),o()(),i(190,"div",32)(191,"input",68),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"tipotratamiento")}),o(),i(192,"label"),s(193,"tipo de tratamiento"),o(),i(194,"div",34),s(195,"Este campo es obligatorio*"),o()(),i(196,"div",32),m(197,"input",69),i(198,"label"),s(199,"duraci\xF3n"),o(),i(200,"div",34),s(201,"Este campo es obligatorio*"),o()(),i(202,"div",32),m(203,"input",70),i(204,"label"),s(205,"fecha de admisi\xF3n"),o(),i(206,"div",34),s(207,"Este campo es obligatorio*"),o()(),i(208,"div",32)(209,"input",71),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"tutor")}),o(),i(210,"label"),s(211,"tutor"),o(),i(212,"div",34),s(213,"Este campo es obligatorio*"),o()(),i(214,"div",32)(215,"input",72),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"frecuencia")}),o(),i(216,"label"),s(217,"frecuencia de las sesiones"),o(),i(218,"div",34),s(219,"Este campo es obligatorio*"),o()(),i(220,"div",32)(221,"input",73),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"objgenerales")}),o(),i(222,"label"),s(223,"objetivos generales"),o(),i(224,"div",34),s(225,"Este campo es obligatorio*"),o()(),i(226,"div",32)(227,"input",74),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"fisico")}),o(),i(228,"label"),s(229,"fisico"),o(),i(230,"div",34),s(231,"Este campo es obligatorio*"),o()(),i(232,"div",32)(233,"input",75),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"emocional")}),o(),i(234,"label"),s(235,"emocional"),o(),i(236,"div",34),s(237,"Este campo es obligatorio*"),o()(),i(238,"div",32)(239,"input",76),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"cognitivo")}),o(),i(240,"label"),s(241,"cognitivo"),o(),i(242,"div",34),s(243,"Este campo es obligatorio*"),o()(),i(244,"div",32)(245,"input",77),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"social")}),o(),i(246,"label"),s(247,"social"),o(),i(248,"div",34),s(249,"Este campo es obligatorio*"),o()(),i(250,"div",32)(251,"input",78),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newInfoClientes,"metodosausar")}),o(),i(252,"label"),s(253,"metodos a usar"),o(),i(254,"div",34),s(255,"Este campo es obligatorio*"),o()(),i(256,"label"),s(257,"notas"),o(),i(258,"div",32),m(259,"quill-editor",79),o(),m(260,"hr"),i(261,"label"),s(262,"cuestionario"),o(),i(263,"div",32),m(264,"quill-editor",80),o()()(),i(265,"div",50),b(266,Yi,6,0,"div",51),i(267,"div",52)(268,"div",53)(269,"button",54),p("click",function(){return t.resetInfoClientes()}),m(270,"i",55),s(271," CANCELAR"),m(272,"span",8),o()(),i(273,"div",56),b(274,Xi,4,4,"button",57)(275,Ji,2,1,"button",58),o()()()()()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtClientes),l(21),d("ngIf",t.isLoadingClientes),l(),d("ngIf",!t.isLoadingClientes&&t.Clientes.length===0),l(),d("ngForOf",A(44,46,A(43,43,t.Clientes,t.filtertxtClientes),V(49,Fi,t.paginaClientes))),l(11),E("",t.newClientes.get("id").value?"Modificar":"Registrar"," Clientes"),l(3),d("formGroup",t.newClientes),l(2),d("ngClass",t.ValidacionClientesxElemento("apellidos")),l(6),d("ngClass",t.ValidacionClientesxElemento("nombres")),l(6),d("ngClass",t.ValidacionClientesxElemento("carnet")),l(6),d("ngClass",t.ValidacionClientesxElemento("celular")),l(6),d("ngClass",t.ValidacionClientesxElemento("fechnac")),l(6),d("ngClass",t.ValidacionClientesxElemento("edad")),l(6),d("ngClass",t.ValidacionClientesxElemento("usuario")),l(6),d("ngClass",t.ValidacionClientesxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionClientesxElemento("estado")),l(18),d("src",t.ruta+t.newClientes.value.foto,Y),l(2),d("ngIf",!t.newClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalClientes),l(),d("ngIf",t.AnimacionCargabtnModalClientes),l(24),z("ngModel",t.filtertxtInfoClientes),l(4),d("ngIf",t.isLoadingInfoClientes),l(),d("ngIf",!t.isLoadingInfoClientes&&t.InfoClientes.length===0),l(2),d("ngForOf",t.InfoClientes),l(8),E("",t.newInfoClientes.get("id").value?"Modificar":"Registrar"," Informaci\xF3n de admisi\xF3n Clientes"),l(3),d("formGroup",t.newInfoClientes),l(2),d("ngClass",t.ValidacionInfoClientesxElemento("residenciaactual")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("diagnostico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tipotratamiento")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("duracion")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fechaadmision")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tutor")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("frecuencia")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("objgenerales")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fisico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("emocional")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("cognitivo")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("social")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("metodosausar")),l(8),d("modules",t._tools.modulesQuillEdicion),l(5),d("modules",t._tools.modulesQuillEdicion),l(2),d("ngIf",!t.newInfoClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInfoClientes),l(),d("ngIf",t.AnimacionCargabtnModalInfoClientes))},dependencies:[X,$,W,se,le,ee,be,re,te,ie,ne,oe,ae,me,di,de,Se,ve]})}};var ge=class a{constructor(n,e,t){this.router=n;this.http=e;this._tool=t;this.ruta=M.ruta}canActivate(n,e){let t=localStorage.getItem("token");return t?this.http.post(this.ruta+"api/verify-token",{token:t}).pipe(Ve(r=>r&&r.name==="Admin"?!0:(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)),Bt(r=>(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),Ne(!1)))):(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)}static{this.\u0275fac=function(e){return new(e||a)(R(Xe),R(P),R(Z))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var nt=class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeciclosdeplanesdeintervencion"]],decls:2,vars:0,template:function(e,t){e&1&&(i(0,"p"),s(1,"gestiondeciclosdeplanesdeintervencion works!"),o())}})}};var ot=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerPagos(){return this.http.get(this.ruta+"api/Pagos/")}AgregarPagos(n){return this.http.post(this.ruta+"api/Pagos/",n)}ModificarPagos(n,e){return this.http.put(this.ruta+"api/Pagos/"+e,n)}SeleccionarPagos(n){return this.http.get(this.ruta+"api/Pagos/"+n)}EliminarPagos(n){return this.http.delete(this.ruta+"api/Pagos/"+n)}createFormGroupPagos(){return new N({id:new g(0),id_infocliente:new g("",[B.required]),precio:new g("",[B.required]),saldo:new g(""),pagado:new g("0"),horario:new g(""),tipo:new g("MENSUAL",[B.required]),descuento:new g("0")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var at=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerCiclos(){return this.http.get(this.ruta+"api/Ciclos/")}AgregarCiclos(n){return this.http.post(this.ruta+"api/Ciclos/",n)}ModificarCiclos(n,e){return this.http.put(this.ruta+"api/Ciclos/"+e,n)}SeleccionarCiclos(n){return this.http.get(this.ruta+"api/Ciclos/"+n)}EliminarCiclos(n){return this.http.delete(this.ruta+"api/Ciclos/"+n)}createFormGroupCiclos(){return new N({id:new g(0),id_pago:new g(""),nrociclo:new g(""),sesion:new g(""),estadosesion:new g("SESI\xD3N PENDIENTE"),fecha:new g(""),estadopago:new g("PENDIENTE"),eri:new g(""),cim:new g("")})}SeleccionarAllInformacionCiclos(n){return this.http.get(this.ruta+"api/AllInfoCiclos/"+n)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var rt=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerArchivosPagos(){return this.http.get(this.ruta+"api/ArchivosPagos/")}AgregarArchivosPagos(n){return this.http.post(this.ruta+"api/ArchivosPagos/",n)}ModificarArchivosPagos(n,e){return this.http.put(this.ruta+"api/ArchivosPagos/"+e,n)}SeleccionarArchivosPagos(n){return this.http.get(this.ruta+"api/ArchivosPagos/"+n)}EliminarArchivosPagos(n){return this.http.delete(this.ruta+"api/ArchivosPagos/"+n)}createFormGroupArchivosPagos(){return new N({id:new g(0),id_pago:new g(""),monto:new g(""),fechapago:new g(""),horapago:new g(""),file:new g(""),observacion:new g("NINGUNA"),estadopago:new g("PENDIENTE")})}SeleccionarAllInformacionArchivosPagos(n){return this.http.get(this.ruta+"api/AllInfoArchivosPagos/"+n)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var zt=a=>({itemsPerPage:10,currentPage:a}),nn=()=>({standalone:!0}),on=a=>({itemsPerPage:3,currentPage:a});function an(a,n){a&1&&(i(0,"tr")(1,"td",88)(2,"div",89)(3,"div",90)(4,"span",91),s(5,"Loading..."),o()()()()())}function rn(a,n){a&1&&(i(0,"tr")(1,"td",88),s(2,"No hay datos disponibles"),o()())}function sn(a,n){if(a&1){let e=C();i(0,"div",117)(1,"button",118),p("click",function(){h(e);let r=u().$implicit,c=u();return f(c.SeleccionarPagos(r.id,"GestionCiclos"))}),o(),i(2,"button",118),S(3,"dateFormat"),p("click",function(){h(e);let r=u().$implicit,c=u();return f(c.SeleccionarPagos(r.id,"GestionCiclos"))}),i(4,"sup",119),s(5),o(),m(6,"i",120),i(7,"sub"),s(8),o()()()}if(a&2){let e=n.$implicit;l(),k("btn btn-",e.estadopago=="PAGADO"?"success":e.estadopago=="RETRASADO"?"danger":e.estadopago=="PENDIENTE"?"secondary":"warning",""),U("title",e.estadopago=="SESI\xD3N PAGADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGADA":e.estadopago=="RETRASADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO RETRASADO":e.estadopago=="PENDIENTE"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PENDIENTE":"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PRESTADO"),l(),k("btn btn-",e.estadosesion=="REALIZADO"?"success":"secondary",""),U("title",e.estadosesion=="REALIZADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+"  REALIZADA EL DIA "+ue(3,13,e.fecha):"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PENDIENTE"),l(3),E(" ",e.nrociclo," "),l(),k("bi bi-",e.estadosesion=="REALIZADO"?"check-lg":"clock-history",""),l(2),E(" ",e.sesion,"")}}function ln(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",92),s(2),o(),i(3,"td",93),s(4),i(5,"div",94)(6,"small",95),s(7),S(8,"dateFormat"),o()()(),i(9,"td",93)(10,"div",94),s(11),o(),i(12,"div",96)(13,"small",95),s(14),o()()(),i(15,"td",93),s(16),o(),i(17,"td",93)(18,"div",97)(19,"div",98),s(20),o(),i(21,"div",99),s(22),o(),i(23,"div",100),s(24),o()(),i(25,"div",94)(26,"small",95),s(27),o()()(),i(28,"td",93),s(29),o(),i(30,"td",101)(31,"div",102)(32,"div")(33,"a",103),m(34,"i",104),o(),i(35,"button",105),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarPagos(r.id,"Estabilizar"))}),m(36,"img",106),o(),i(37,"button",107),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarPagos(r.id))}),m(38,"i",108),o(),i(39,"button",109),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarPagos(r.id))}),m(40,"i",110),o(),i(41,"button",111),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarPagos(r.id,"ArchivosPagos"))}),m(42,"i",112),o(),i(43,"button",113),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarPagos(r.id,"GestionCiclos"))}),m(44,"i",114),o()(),i(45,"div",115),b(46,sn,9,15,"div",116),o()()()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaPagos-1)*10+(e+1)),l(2),E(" ",t.apellidos+" "+t.nombres," "),l(3),E("Admisi\xF3n: ",ue(8,38,t.fechaadmision),""),l(4),v(t.tipo),l(3),E("Ciclo N\xBA ",t.ciclos[0].nrociclo,""),l(2),v(t.precio),l(3),We("width:"+t.pagado+"%"),Pe("title","Realiz\xF3 el Pago de: ",t.pagado," Bs."),U("aria-valuenow",t.pagado),U("aria-valuemax",t.precio),l(),E(" ",t.pagado," "),l(),We("width:"+t.saldo+"%"),k("progress-bar ",t.saldo<0?"bg-warning":"bg-danger",""),Pe("title","",t.saldo<0?"Debe devolver el Monto de:"+t.saldo*-1:"Le falta Cancelar el Monto de: "+t.saldo," Bs."),U("aria-valuenow",t.saldo),U("aria-valuemax",t.precio),l(),E(" ",t.saldo," "),l(),We("width:"+t.descuento+"%"),Pe("title","Tiene un Descuento de: ",t.descuento," Bs."),U("aria-valuenow",t.descuento),U("aria-valuemax",t.precio),l(),E(" ",t.descuento," "),l(3),_e("Precio Total a Pagar: ",t.precio-t.descuento,"Bs. ",t.saldo<0?" || Debe devolver el Monto de: "+t.saldo*-1:"",""),l(2),v(t.horario),l(4),Pe("title","Contactar: ",t.celular,""),Pe("href","https://api.whatsapp.com/send?phone=591",t.celular,"",Y),l(13),d("ngForOf",t.ciclos)}}function cn(a,n){if(a&1){let e=C();i(0,"div",123),p("click",function(r){let c=h(e).$implicit,_=u(2);return f(_.SeleccionandoInfoCliente(r,c))}),i(1,"div",124)(2,"h5",125),s(3),o(),i(4,"small"),s(5),o()(),i(6,"p",125),s(7),o()()}if(a&2){let e=n.$implicit;l(3),_e("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function dn(a,n){if(a&1&&(i(0,"div",121),b(1,cn,8,4,"div",122),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),o()),a&2){let e=u();l(),d("ngForOf",A(3,4,A(2,1,e.InfoClientes,e.filterInfoClientes),V(7,on,e.paginaInfoClientes)))}}function mn(a,n){if(a&1){let e=C();i(0,"div",40)(1,"input",126),G("ngModelChange",function(r){h(e);let c=u();return L(c.nroCiclo,r)||(c.nroCiclo=r),f(r)}),o(),i(2,"label"),s(3,"N\xBA Ciclo"),o(),i(4,"div",42),s(5,"Este campo es obligatorio*"),o()()}if(a&2){let e=u();l(),z("ngModel",e.nroCiclo)}}function pn(a,n){if(a&1){let e=C();i(0,"div",127)(1,"button",128),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastPagos())}),m(2,"i",129),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",130),o()()}}function un(a,n){if(a&1){let e=C();i(0,"button",131),p("click",function(){h(e);let r=u();return f(r.AgregarModificarPagos())}),m(1,"i",120),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function gn(a,n){if(a&1){let e=C();i(0,"button",132),p("click",function(){h(e);let r=u();return f(r.AgregarModificarPagos())}),m(1,"span",133),o()}a&2&&d("disabled",!0)}function hn(a,n){a&1&&(i(0,"tr")(1,"td",134)(2,"div",89)(3,"div",90)(4,"span",91),s(5,"Loading..."),o()()()()())}function fn(a,n){a&1&&(i(0,"tr")(1,"td",134),s(2,"No hay datos disponibles"),o()())}function bn(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",92),s(2),o(),i(3,"td",93),s(4),o(),i(5,"td",93),s(6),o(),i(7,"td",93),s(8),o(),i(9,"td",93),s(10),o(),i(11,"td",93),s(12),S(13,"dateFormat"),o(),i(14,"td",101)(15,"button",107),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarCiclos(r.id))}),m(16,"i",108),o(),i(17,"button",109),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarCiclos(r.id))}),m(18,"i",110),o()()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaCiclos-1)*10+(e+1)),l(2),E("Ciclo ",t.nrociclo,""),l(2),E("Sesi\xF3n ",t.sesion,""),l(2),v(t.estadopago),l(2),v(t.estadosesion),l(2),v(ue(13,6,t.fecha))}}function vn(a,n){if(a&1){let e=C();i(0,"div",127)(1,"button",128),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastCiclos())}),m(2,"i",129),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",130),o()()}}function _n(a,n){if(a&1){let e=C();i(0,"button",131),p("click",function(){h(e);let r=u();return f(r.AgregarModificarCiclos())}),m(1,"i",120),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newCiclos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newCiclos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Cn(a,n){if(a&1){let e=C();i(0,"button",132),p("click",function(){h(e);let r=u();return f(r.AgregarModificarCiclos())}),m(1,"span",133),o()}a&2&&d("disabled",!0)}function En(a,n){a&1&&(i(0,"tr")(1,"td",135)(2,"div",89)(3,"div",90)(4,"span",91),s(5,"Loading..."),o()()()()())}function Sn(a,n){a&1&&(i(0,"tr")(1,"td",135),s(2,"No hay datos disponibles"),o()())}function In(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",92),s(2),o(),i(3,"td",93),s(4),o(),i(5,"td",93),s(6),o(),i(7,"td",93),s(8),o(),i(9,"td",93),s(10),o(),i(11,"td",93),s(12),o(),i(13,"td",101)(14,"button",107),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarArchivosPagos(r.id))}),m(15,"i",108),o(),i(16,"button",109),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarArchivosPagos(r.id,r))}),m(17,"i",110),o()()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaArchivosPagos-1)*10+(e+1)),l(2),v(t.monto),l(2),v(t.fechapago),l(2),v(t.horapago),l(2),v(t.observacion),l(2),v(t.estadopago)}}function xn(a,n){if(a&1){let e=C();i(0,"div",127)(1,"button",128),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastArchivosPagos())}),m(2,"i",129),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",130),o()()}}function Mn(a,n){if(a&1){let e=C();i(0,"button",131),p("click",function(){h(e);let r=u();return f(r.AgregarModificarArchivosPagos())}),m(1,"i",120),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newArchivosPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newArchivosPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function An(a,n){if(a&1){let e=C();i(0,"button",132),p("click",function(){h(e);let r=u();return f(r.AgregarModificarArchivosPagos())}),m(1,"span",133),o()}a&2&&d("disabled",!0)}var st=class a{constructor(n,e,t,r,c){this._pagos=n;this._tools=e;this._ciclos=t;this._archivospagos=r;this._infoclientes=c;this.ruta=M.ruta;this.dataDropZone={iddropzone:"dropzonearchivospagos",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.Pagos=[];this.paginaPagos=1;this.isLoadingPagos=!0;this.AnimacionCargabtnModalPagos=!1;this.filtertxtPagos="";this.nroCiclo=1;this.idPagosSave=0;this.ArchivosPagos=[];this.paginaArchivosPagos=1;this.isLoadingArchivosPagos=!0;this.AnimacionCargabtnModalArchivosPagos=!1;this.filtertxtArchivosPagos="";this.Ciclos=[];this.paginaCiclos=1;this.isLoadingCiclos=!0;this.AnimacionCargabtnModalCiclos=!1;this.filtertxtCiclos="";this.newPagos=this._pagos.createFormGroupPagos(),this.newPagosAnteriorAccion=this._pagos.createFormGroupPagos(),this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagosAnteriorAccion=this._archivospagos.createFormGroupArchivosPagos(),this.newCiclos=this._ciclos.createFormGroupCiclos(),this.newCiclosAnteriorAccion=this._ciclos.createFormGroupCiclos()}ngOnInit(){this.CargarPagos()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","ARCHIVOSPAGO");var n=document.getElementById("dropzonearchivospagos");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),n&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===n&&(e.destroy(),n.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(n=>{console.log("INFO CLIENTES CARGADO",n.data),this.InfoClientes=n.data},n=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",n)})}SeleccionandoInfoCliente(n,e){let t=n.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPagos.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPagos.patchValue({id_infocliente:e.id}))}CargarPagos(){this.AnimarCargaTablaPagos(),this._pagos.ObtenerPagos().subscribe(n=>{console.log("Pagos CARGADO",n.data),this.Pagos=n.data,this.isLoadingPagos=!1},n=>{console.log("ERROR AL CARGAR Pagos",n),this.isLoadingPagos=!1})}AgregarModificarPagos(){if(this.newPagos.invalid){this.ValidacionTodoElementoPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPagos=!1;return}else{this.AnimarCargaTablaPagos(),this.AnimacionCargabtnModalPagos=!0,this._tools.MostrarMensajeLoading();let n=this.newPagos.controls.id.value;console.log("INFO A PROCESAR",this.newPagos.value),n?(this.newPagos.value.saldo=this.newPagos.value.precio-this.newPagos.value.pagado-this.newPagos.value.descuento,this._pagos.ModificarPagos(this.newPagos.value,this.newPagos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()})):(this.newPagos.value.saldo=this.newPagos.value.precio,this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._pagos.AgregarPagos(this.newPagos.value).subscribe(e=>{if(console.log("SE A\xD1ADIO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),e.data.tipo=="MENSUAL")for(var t=0;t<4;)t++,this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:t.toString()}),this.AgregarModificarCiclos(),console.log("PASANDO",t);else this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:"1"}),this.AgregarModificarCiclos();this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPagos(n,e){switch(this._tools.MostrarMensajeLoading(),e){case"ArchivosPagos":if(this.idPagosSave=n,this.CargarArchivosPagos(),n){if(!this.Pagos.find(r=>r.id===n))return;this._pagos.SeleccionarPagos(n).subscribe(r=>{Object.keys(this.newPagos.controls).forEach(c=>{this.newPagos.controls[c].setValue(r.data[c])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("ModalAllGestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL SELECCIONAR Pagos",r),this._tools.MostrarMensajeError()})}break;case"GestionCiclos":this.idPagosSave=n,this.CargarCiclos(),this._tools.abrirModal("ModalAllGestionCiclos"),this._tools.MostrarMensajeSuccess();break;case"Estabilizar":this.idPagosSave=n,this._archivospagos.SeleccionarAllInformacionArchivosPagos(n).subscribe(t=>{this.ArchivosPagos=t.data;var r=0;this.ArchivosPagos.forEach(c=>{c.estadopago=="CONFIRMADO"&&(r=r+Number(c.monto))}),console.log("suma Archivos Pago de estabilizacion",r),this._pagos.SeleccionarPagos(n).subscribe(c=>{Object.keys(this.newPagos.controls).forEach(_=>{this.newPagos.controls[_].setValue(c.data[_])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagos.patchValue({saldo:this.newPagos.value.precio-r-this.newPagos.value.descuento,pagado:r}),this.AgregarModificarPagos()},c=>{console.log("ERROR AL SELECCIONAR Pagos",c),this._tools.MostrarMensajeError()})});break;default:if(n){if(!this.Pagos.find(r=>r.id===n))return;this._pagos.SeleccionarPagos(n).subscribe(r=>{Object.keys(this.newPagos.controls).forEach(c=>{this.newPagos.controls[c].setValue(r.data[c])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("modalgestionPagos"),this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL SELECCIONAR Pagos",r),this._tools.MostrarMensajeError()})}break}}EliminarPagos(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._pagos.EliminarPagos(n).subscribe(t=>{console.log(t.data),this.CargarPagos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Pagos",t),this._tools.MostrarMensajeError()}))})}resetPagos(){this.newPagos.reset(),this._tools.cerrarModal("modalgestionPagos")}AbrirModalPagos(){this.CargarInfoClientes(),this.newPagos=this._pagos.createFormGroupPagos(),this._tools.abrirModal("modalgestionPagos")}AutoCompletarLastPagos(){this.newPagos.setValue(this.newPagosAnteriorAccion.value),this.newPagos.patchValue({id:0}),console.log("listo",this.newPagos.value)}AnimarCargaTablaPagos(){this.Pagos=[],this.isLoadingPagos=!0}ValidacionPagosxElemento(n){return this._tools.obtenerValidationClass(this.newPagos,n)}ValidacionTodoElementoPagos(){Object.values(this.newPagos.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}CargarArchivosPagos(){this.AnimarCargaTablaArchivosPagos(),this._archivospagos.SeleccionarAllInformacionArchivosPagos(this.idPagosSave).subscribe(n=>{console.log("ArchivosPagos CARGADO",n.data),this.ArchivosPagos=n.data,this.isLoadingArchivosPagos=!1},n=>{console.log("ERROR AL CARGAR ArchivosPagos",n),this.isLoadingArchivosPagos=!1})}AgregarModificarArchivosPagos(){if(this.newArchivosPagos.invalid){this.ValidacionTodoElementoArchivosPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalArchivosPagos=!1;return}else{this.AnimarCargaTablaArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!0,this._tools.MostrarMensajeLoading();let t=this.newArchivosPagos.controls.id.value;console.log("INFO A PROCESAR",this.newArchivosPagos.value);var n=sessionStorage.getItem("IMG");if(console.log("VALOR img",n),n==null||n==""||(this.newArchivosPagos.value.file=n),t)this._archivospagos.ModificarArchivosPagos(this.newArchivosPagos.value,this.newArchivosPagos.value.id).subscribe(r=>{console.log("SE MODIFICO CORRECTAMENTE ArchivosPagos",r.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this.newArchivosPagosAnteriorAccion.value.file==this.newArchivosPagos.value.file||this._tools.EliminarArchivo(this.newArchivosPagosAnteriorAccion.value.file),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL MODIFICAR ArchivosPagos",r),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()});else{if(this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.newArchivosPagos.value.estadopago=="CONFIRMADO"){var e=Number(this.newPagos.value.pagado)+Number(this.newArchivosPagos.value.monto);this.newPagos.patchValue({saldo:this.newPagos.value.precio-e-this.newPagos.value.descuento,pagado:e}),this.AgregarModificarPagos()}this._archivospagos.AgregarArchivosPagos(this.newArchivosPagos.value).subscribe(r=>{console.log("SE A\xD1ADIO CORRECTAMENTE ArchivosPagos",r.data),this.CargarArchivosPagos(),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL A\xD1ADIR ArchivosPagos",r),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()})}}}SeleccionarArchivosPagos(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.ArchivosPagos.find(t=>t.id===n))return;this._archivospagos.SeleccionarArchivosPagos(n).subscribe(t=>{Object.keys(this.newArchivosPagos.controls).forEach(r=>{this.newArchivosPagos.controls[r].setValue(t.data[r])}),console.log("SELECCION DE ArchivosPagos EXITOSA",this.newArchivosPagos.value),this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR ArchivosPagos",t),this._tools.MostrarMensajeError()})}}EliminarArchivosPagos(n,e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._archivospagos.EliminarArchivosPagos(n).subscribe(r=>{console.log(r.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL ELIMINAR ArchivosPagos",r),this._tools.MostrarMensajeError()}))})}resetArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionArchivosPagos")}AbrirModalArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagos.patchValue({id_pago:this.idPagosSave}),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos")}AutoCompletarLastArchivosPagos(){this.newArchivosPagos.setValue(this.newArchivosPagosAnteriorAccion.value),this.newArchivosPagos.patchValue({id:0}),console.log("listo",this.newArchivosPagos.value)}AnimarCargaTablaArchivosPagos(){this.ArchivosPagos=[],this.isLoadingArchivosPagos=!0}ValidacionArchivosPagosxElemento(n){return this._tools.obtenerValidationClass(this.newArchivosPagos,n)}ValidacionTodoElementoArchivosPagos(){Object.values(this.newArchivosPagos.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}CargarCiclos(){this.AnimarCargaTablaCiclos(),this._ciclos.SeleccionarAllInformacionCiclos(this.idPagosSave).subscribe(n=>{console.log("Ciclos CARGADO",n.data),this.Ciclos=n.data,this.isLoadingCiclos=!1},n=>{console.log("ERROR AL CARGAR Ciclos",n),this.isLoadingCiclos=!1})}AgregarModificarCiclos(){if(this.newCiclos.invalid){this.ValidacionTodoElementoCiclos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalCiclos=!1;return}else{this.AnimarCargaTablaCiclos(),this.AnimacionCargabtnModalCiclos=!0,this._tools.MostrarMensajeLoading();let n=this.newCiclos.controls.id.value;console.log("INFO A PROCESAR",this.newCiclos.value),n?this._ciclos.ModificarCiclos(this.newCiclos.value,this.newCiclos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()}):(this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._ciclos.AgregarCiclos(this.newCiclos.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()})),this.CargarPagos()}}SeleccionarCiclos(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.Ciclos.find(t=>t.id===n))return;this._ciclos.SeleccionarCiclos(n).subscribe(t=>{Object.keys(this.newCiclos.controls).forEach(r=>{this.newCiclos.controls[r].setValue(t.data[r])}),console.log("SELECCION DE Ciclos EXITOSA",this.newCiclos.value),this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._tools.abrirModal("modalgestionCiclos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Ciclos",t),this._tools.MostrarMensajeError()})}}EliminarCiclos(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ciclos.EliminarCiclos(n).subscribe(t=>{console.log(t.data),this.CargarCiclos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Ciclos",t),this._tools.MostrarMensajeError()}))})}resetCiclos(){this.newCiclos=this._ciclos.createFormGroupCiclos(),this._tools.cerrarModal("modalgestionCiclos")}AbrirModalCiclos(){this.newCiclos.reset(),this.newCiclos.patchValue({id_pago:this.idPagosSave}),this._tools.abrirModal("modalgestionCiclos")}AutoCompletarLastCiclos(){this.newCiclos.setValue(this.newCiclosAnteriorAccion.value),this.newCiclos.patchValue({id:0}),console.log("listo",this.newCiclos.value)}AnimarCargaTablaCiclos(){this.Ciclos=[],this.isLoadingCiclos=!0}ValidacionCiclosxElemento(n){return this._tools.obtenerValidationClass(this.newCiclos,n)}ValidacionTodoElementoCiclos(){Object.values(this.newCiclos.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(ot),x(Z),x(at),x(rt),x(Ee))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondecontrolasistenaciapagos"]],decls:351,vars:67,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],["scope","col",1,"text-center"],[1,"text-success","bg-light"],[1,"text-danger","bg-light"],[1,"text-secondary","bg-light"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","precio",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","horario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","MENSUAL"],["value","SESI\xD3N"],["type","text","placeholder","","formControlName","descuento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","modalgestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","nrociclo",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","sesion",1,"form-control",3,"ngClass"],["formControlName","estadosesion",1,"form-control",3,"ngClass"],["value","REALIZADO"],["value","SESI\xD3N PENDIENTE"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["formControlName","estadopago",1,"form-control",3,"ngClass"],["value","PAGADO"],["value","PRESTADO"],["value","PENDIENTE"],["value","RETRASADO"],["type","text","placeholder","","formControlName","eri",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cim",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["id","ModalAllGestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","modalgestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","monto",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechapago",1,"form-control",3,"ngClass"],["type","time","placeholder","","formControlName","horapago",1,"form-control",3,"ngClass"],["placeholder","","formControlName","observacion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["value","CONFIRMADO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzonearchivospagos",1,"dropzone"],["alt","","width","50%",3,"src"],["colspan","9",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],[1,"text-center","text-light","bg-primary"],[1,"progress",2,"height","30px"],["role","progressbar","aria-label","Segment one","aria-valuemin","0",1,"progress-bar","bg-success",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment two","aria-valuemin","0",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment three","aria-valuemin","0",1,"progress-bar","bg-secondary",3,"title","aria-valuenow","aria-valuemax"],[2,"white-space","nowrap"],[2,"display","flex","align-items","center","gap","10px"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-success","p-1","py-0",3,"title","href"],[1,"bi","bi-whatsapp",2,"font-size","1.5rem"],["title","Estabilizar",1,"btn","btn-light","p-1","py-0",3,"click"],["src","assets/images/balanza.svg","alt","Balanza",1,"image",2,"width","24px","height","auto","display","inline-block"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Archivos de Pagos",1,"btn","btn-success","p-1","py-0",3,"click"],[1,"bi","bi-currency-dollar",2,"font-size","1.5rem"],["title","Ciclos",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-border-all",2,"font-size","1.5rem"],[1,"rectangle-grid"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[3,"click","title"],[1,"fw-bolder","circle-container"],[2,"font-size","1rem"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],["type","number","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","7",1,"text-center"],["colspan","6",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Gesti\xF3n de Pagos"),o(),i(6,"p",4),s(7,"Administra toda la informaci\xF3n de los Pagos de manera sencilla y eficiente"),o()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalPagos()}),m(11,"i",7),s(12," A\xF1adir Pagos"),m(13,"span",8),o()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),o(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaPagos=1}),G("ngModelChange",function(c){return L(t.filtertxtPagos,c)||(t.filtertxtPagos=c),c}),o(),i(20,"label"),s(21,"Buscar"),o()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),s(28,"#"),o(),i(29,"th",18),s(30,"Nombre Completo"),o(),i(31,"th",18),s(32,"Tipo"),o(),i(33,"th",18),s(34,"Precio"),o(),i(35,"th",19)(36,"label",20),s(37,"Pagado/"),o(),i(38,"label",21),s(39,"Deuda/"),o(),i(40,"label",22),s(41,"Descuento"),o()(),i(42,"th",18),s(43,"Horario"),o(),i(44,"th",18),s(45,"ACCIONES"),o()()(),i(46,"tbody",23),b(47,an,6,0,"tr",24)(48,rn,3,0,"tr",24)(49,ln,47,40,"tr",25),S(50,"filterapellidosnombrescarnet"),S(51,"paginate"),o()(),i(52,"pagination-controls",26),p("pageChange",function(c){return t.paginaPagos=c}),o()(),m(53,"hr"),i(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"div",31)(59,"h1",32),s(60),o(),i(61,"button",33),p("click",function(){return t.resetPagos()}),o()()(),i(62,"div",34)(63,"div",35)(64,"div",36)(65,"label",37),s(66,"Buscar:"),o(),i(67,"input",38),G("ngModelChange",function(c){return L(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),p("input",function(){return t.paginaInfoClientes=1}),o()(),b(68,dn,4,9,"div",39),i(69,"pagination-controls",26),p("pageChange",function(c){return t.paginaInfoClientes=c}),o(),m(70,"hr"),i(71,"div",40),m(72,"input",41),i(73,"label"),s(74,"cliente"),o(),i(75,"div",42),s(76,"Este campo es obligatorio*"),o()(),i(77,"div",40),m(78,"input",43),i(79,"label"),s(80,"precio"),o(),i(81,"div",42),s(82,"Este campo es obligatorio*"),o()(),i(83,"div",40)(84,"input",44),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"horario")}),o(),i(85,"label"),s(86,"horario"),o(),i(87,"div",42),s(88,"Este campo es obligatorio*"),o()(),i(89,"div",40)(90,"select",45)(91,"option",46),s(92,"Seleccione una opci\xF3n"),o(),i(93,"option",47),s(94,"MENSUAL"),o(),i(95,"option",48),s(96,"SESI\xD3N"),o()(),i(97,"label"),s(98,"tipo"),o(),i(99,"div",42),s(100,"Este campo es obligatorio*"),o()(),i(101,"div",40)(102,"input",49),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"descuento")}),o(),i(103,"label"),s(104,"descuento"),o(),i(105,"div",42),s(106,"Este campo es obligatorio*"),o()()(),b(107,mn,6,1,"div",50),o(),i(108,"div",51),b(109,pn,6,0,"div",52),i(110,"div",53)(111,"div",54)(112,"button",55),p("click",function(){return t.resetPagos()}),m(113,"i",56),s(114," CANCELAR"),m(115,"span",8),o()(),i(116,"div",57),b(117,un,4,4,"button",58)(118,gn,2,1,"button",59),o()()()()()(),i(119,"div",60)(120,"div",28)(121,"div",29)(122,"div",30)(123,"h1",61),s(124,"Gestionar Ciclos"),o(),m(125,"button",62),o(),i(126,"div",34),m(127,"hr"),i(128,"div",0)(129,"div",1),m(130,"div",2),o()(),i(131,"div",1)(132,"div",5)(133,"button",6),p("click",function(){return t.AbrirModalCiclos()}),m(134,"i",7),s(135," A\xF1adir Ciclos"),m(136,"span",8),o()()(),m(137,"hr"),i(138,"div",15)(139,"table",16)(140,"thead")(141,"tr")(142,"th",17),s(143,"#"),o(),i(144,"th",18),s(145,"Nro. Ciclo"),o(),i(146,"th",18),s(147,"Nro. Sesi\xF3n"),o(),i(148,"th",18),s(149,"Estado de Pago"),o(),i(150,"th",18),s(151,"Estado de Sesi\xF3n"),o(),i(152,"th",18),s(153,"Fecha de Realizaci\xF3n"),o(),i(154,"th",18),s(155,"ACCIONES"),o()()(),i(156,"tbody",23),b(157,hn,6,0,"tr",24)(158,fn,3,0,"tr",24)(159,bn,19,8,"tr",25),S(160,"paginate"),o()(),i(161,"pagination-controls",26),p("pageChange",function(c){return t.paginaCiclos=c}),o()(),m(162,"hr"),i(163,"div",63)(164,"div",28)(165,"div",29)(166,"div",30)(167,"div",31)(168,"h1",32),s(169),o(),i(170,"button",33),p("click",function(){return t.resetCiclos()}),o()()(),i(171,"div",34)(172,"div",35)(173,"div",40),m(174,"input",64),i(175,"label"),s(176,"nrociclo"),o(),i(177,"div",42),s(178,"Este campo es obligatorio*"),o()(),i(179,"div",40),m(180,"input",65),i(181,"label"),s(182,"sesion"),o(),i(183,"div",42),s(184,"Este campo es obligatorio*"),o()(),i(185,"div",40)(186,"select",66)(187,"option",46),s(188,"Seleccione una opci\xF3n"),o(),i(189,"option",67),s(190,"REALIZADO"),o(),i(191,"option",68),s(192,"SESI\xD3N PENDIENTE"),o()(),i(193,"label"),s(194,"estadosesion"),o(),i(195,"div",42),s(196,"Este campo es obligatorio*"),o()(),i(197,"div",40),m(198,"input",69),i(199,"label"),s(200,"fecha"),o(),i(201,"div",42),s(202,"Este campo es obligatorio*"),o()(),i(203,"div",40)(204,"select",70)(205,"option",46),s(206,"Seleccione una opci\xF3n"),o(),i(207,"option",71),s(208,"PAGADO"),o(),i(209,"option",72),s(210,"PRESTADO"),o(),i(211,"option",73),s(212,"PENDIENTE"),o(),i(213,"option",74),s(214,"RETRASADO"),o()(),i(215,"label"),s(216,"estadopago"),o(),i(217,"div",42),s(218,"Este campo es obligatorio*"),o()(),i(219,"div",40)(220,"input",75),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newCiclos,"eri")}),o(),i(221,"label"),s(222,"eri"),o(),i(223,"div",42),s(224,"Este campo es obligatorio*"),o()(),i(225,"div",40)(226,"input",76),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newCiclos,"cim")}),o(),i(227,"label"),s(228,"cim"),o(),i(229,"div",42),s(230,"Este campo es obligatorio*"),o()()()(),i(231,"div",51),b(232,vn,6,0,"div",52),i(233,"div",53)(234,"div",54)(235,"button",55),p("click",function(){return t.resetCiclos()}),m(236,"i",56),s(237," CANCELAR"),m(238,"span",8),o()(),i(239,"div",57),b(240,_n,4,4,"button",58)(241,Cn,2,1,"button",59),o()()()()()()()()()(),i(242,"div",77)(243,"div",28)(244,"div",29)(245,"div",30)(246,"h1",61),s(247,"ARCHIVOS DE PAGO "),o(),m(248,"button",62),o(),i(249,"div",34),m(250,"hr"),i(251,"div",0)(252,"div",1),m(253,"div",2),o()(),i(254,"div",1)(255,"div",5)(256,"button",6),p("click",function(){return t.AbrirModalArchivosPagos()}),m(257,"i",7),s(258," A\xF1adir Archivos de Pagos"),m(259,"span",8),o()()(),m(260,"hr"),i(261,"div",15)(262,"table",16)(263,"thead")(264,"tr")(265,"th",17),s(266,"#"),o(),i(267,"th",18),s(268,"Monto"),o(),i(269,"th",18),s(270,"Fecha de Pago"),o(),i(271,"th",18),s(272,"Hora de Pago"),o(),i(273,"th",18),s(274,"Observaci\xF3n"),o(),i(275,"th",18),s(276,"Estado Pago"),o(),i(277,"th",18),s(278,"ACCIONES"),o()()(),i(279,"tbody",23),b(280,En,6,0,"tr",24)(281,Sn,3,0,"tr",24)(282,In,18,6,"tr",25),S(283,"paginate"),o()(),i(284,"pagination-controls",26),p("pageChange",function(c){return t.paginaArchivosPagos=c}),o()(),m(285,"hr"),i(286,"div",78)(287,"div",28)(288,"div",29)(289,"div",30)(290,"div",31)(291,"h1",32),s(292),o(),i(293,"button",33),p("click",function(){return t.resetArchivosPagos()})("click",function(){return t.CancelarArchivosDropzone()}),o()()(),i(294,"div",34)(295,"div",35)(296,"div",40),m(297,"input",79),i(298,"label"),s(299,"monto"),o(),i(300,"div",42),s(301,"Este campo es obligatorio*"),o()(),i(302,"div",40),m(303,"input",80),i(304,"label"),s(305,"fechapago"),o(),i(306,"div",42),s(307,"Este campo es obligatorio*"),o()(),i(308,"div",40),m(309,"input",81),i(310,"label"),s(311,"horapago"),o(),i(312,"div",42),s(313,"Este campo es obligatorio*"),o()(),i(314,"div",40)(315,"textarea",82),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newArchivosPagos,"observacion")}),o(),i(316,"label"),s(317,"observacion"),o(),i(318,"div",42),s(319,"Este campo es obligatorio*"),o()(),i(320,"div",40)(321,"select",70)(322,"option",46),s(323,"Seleccione una opci\xF3n"),o(),i(324,"option",73),s(325,"PENDIENTE"),o(),i(326,"option",83),s(327,"CONFIRMADO"),o()(),i(328,"label"),s(329,"estado de pago"),o(),i(330,"div",42),s(331,"Este campo es obligatorio*"),o()(),i(332,"div",84)(333,"label",85),s(334,"Archivo"),o(),m(335,"div",86)(336,"hr"),i(337,"span"),s(338,"IMAGEN ACTUAL:"),o(),m(339,"img",87),o()()(),i(340,"div",51),b(341,xn,6,0,"div",52),i(342,"div",53)(343,"div",54)(344,"button",55),p("click",function(){return t.resetArchivosPagos()})("click",function(){return t.CancelarArchivosDropzone()}),m(345,"i",56),s(346," CANCELAR"),m(347,"span",8),o()(),i(348,"div",57),b(349,Mn,4,4,"button",58)(350,An,2,1,"button",59),o()()()()()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtPagos),l(28),d("ngIf",t.isLoadingPagos),l(),d("ngIf",!t.isLoadingPagos&&t.Pagos.length===0),l(),d("ngForOf",A(51,51,A(50,48,t.Pagos,t.filtertxtPagos),V(60,zt,t.paginaPagos))),l(11),E("",t.newPagos.get("id").value?"Modificar":"Registrar"," Pagos "),l(3),d("formGroup",t.newPagos),l(4),z("ngModel",t.filterInfoClientes),d("ngModelOptions",Qe(62,nn)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),U("value",t.nombreseleccionado),d("ngClass",t.ValidacionPagosxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPagosxElemento("precio")),l(6),d("ngClass",t.ValidacionPagosxElemento("horario")),l(6),d("ngClass",t.ValidacionPagosxElemento("tipo")),l(12),d("ngClass",t.ValidacionPagosxElemento("descuento")),l(5),d("ngIf",!t.newPagos.get("id").value),l(2),d("ngIf",!t.newPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPagos),l(),d("ngIf",t.AnimacionCargabtnModalPagos),l(39),d("ngIf",t.isLoadingCiclos),l(),d("ngIf",!t.isLoadingCiclos&&t.Ciclos.length===0),l(),d("ngForOf",A(160,54,t.Ciclos,V(63,zt,t.paginaCiclos))),l(10),E(" ",t.newCiclos.get("id").value?"Modificar":"Registrar"," Ciclos"),l(3),d("formGroup",t.newCiclos),l(2),d("ngClass",t.ValidacionCiclosxElemento("nrociclo")),l(6),d("ngClass",t.ValidacionCiclosxElemento("sesion")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadosesion")),l(12),d("ngClass",t.ValidacionCiclosxElemento("fecha")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadopago")),l(16),d("ngClass",t.ValidacionCiclosxElemento("eri")),l(6),d("ngClass",t.ValidacionCiclosxElemento("cim")),l(6),d("ngIf",!t.newCiclos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalCiclos),l(),d("ngIf",t.AnimacionCargabtnModalCiclos),l(39),d("ngIf",t.isLoadingArchivosPagos),l(),d("ngIf",!t.isLoadingArchivosPagos&&t.ArchivosPagos.length===0),l(),d("ngForOf",A(283,57,t.ArchivosPagos,V(65,zt,t.paginaArchivosPagos))),l(10),E(" ",t.newArchivosPagos.get("id").value?"Modificar":"Registrar"," ArchivosPagos"),l(3),d("formGroup",t.newArchivosPagos),l(2),d("ngClass",t.ValidacionArchivosPagosxElemento("monto")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("fechapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("horapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("observacion")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("estadopago")),l(18),d("src",t.ruta+t.newArchivosPagos.value.foto,Y),l(2),d("ngIf",!t.newArchivosPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalArchivosPagos),l(),d("ngIf",t.AnimacionCargabtnModalArchivosPagos))},dependencies:[X,$,W,se,le,ee,be,re,te,ie,ne,oe,ae,me,de,Se,ve],styles:[".rectangle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(50,auto)}.group[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,15px);border:2px solid white;border-radius:10px}.group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;text-shadow:1px 1px 2px black}.circle-container[_ngcontent-%COMP%]{display:inline-block;padding:1px;border:1px solid rgb(255,255,255);border-radius:50%;text-align:center;line-height:1}"]})}};var lt=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerInicios(){return this.http.get(this.ruta+"api/Inicios/")}AgregarInicios(n){return this.http.post(this.ruta+"api/Inicios/",n)}ModificarInicios(n,e){return this.http.put(this.ruta+"api/Inicios/"+e,n)}SeleccionarInicios(n){return this.http.get(this.ruta+"api/Inicios/"+n)}EliminarInicios(n){return this.http.delete(this.ruta+"api/Inicios/"+n)}createFormGroupInicios(){return new N({id:new g(0),archivo:new g(""),etiqueta:new g(""),titulo:new g(""),subtitulo:new g(""),descripcion:new g(""),categoria:new g(""),link:new g(""),costo:new g(""),duracion:new g(""),cupos:new g(""),fecha:new g("")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ct=class a{transform(n,e){if(!e)return n;let t=e.trim().toLowerCase().split(" ").filter(r=>r);return n.filter(r=>t.every(c=>this.normalizarTexto(r.categoria).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(n){return n==null&&(n=" "),n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"filtercategoria",type:a,pure:!0})}};var Pn=a=>({itemsPerPage:10,currentPage:a});function On(a,n){a&1&&(i(0,"th",31),s(1,"Categoria"),o())}function Rn(a,n){a&1&&(i(0,"th",31),s(1,"Titulo"),o())}function Tn(a,n){if(a&1&&(i(0,"th",31),s(1),o()),a&2){let e=u();l(),v(e.txtSubtituloIconotable)}}function kn(a,n){a&1&&(i(0,"th",31),s(1,"Descripci\xF3n"),o())}function zn(a,n){a&1&&(i(0,"th",31),s(1,"Etiqueta"),o())}function Ln(a,n){a&1&&(i(0,"th",31),s(1,"Enlace"),o())}function Gn(a,n){a&1&&(i(0,"th",31),s(1,"Costo"),o())}function Nn(a,n){a&1&&(i(0,"th",31),s(1,"Cupos"),o())}function Vn(a,n){a&1&&(i(0,"th",31),s(1,"Duracion"),o())}function Fn(a,n){a&1&&(i(0,"th",31),s(1,"Fecha"),o())}function Dn(a,n){a&1&&(i(0,"tr")(1,"td",58)(2,"div",59)(3,"div",60)(4,"span",61),s(5,"Loading..."),o()()()()())}function jn(a,n){a&1&&(i(0,"tr")(1,"td",58),s(2,"No hay datos disponibles"),o()())}function Un(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgcategoria),l(),v(e.categoria)}}function qn(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgtitulo),l(),v(e.titulo)}}function Bn(a,n){if(a&1&&m(0,"td",72),a&2){let e=u().$implicit;k("",e.bgsubtitulo," text-center"),d("innerHTML",e.subtitulo,It)}}function Hn(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgdescripcion),l(),v(e.descripcion)}}function $n(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgetiqueta),l(),v(e.etiqueta)}}function Wn(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bglink),l(),v(e.link)}}function Zn(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgcosto),l(),v(e.costo)}}function Qn(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgduracion),l(),v(e.duracion)}}function Yn(a,n){if(a&1&&(i(0,"td",71),s(1),o()),a&2){let e=u().$implicit;fe(e.bgcupos),l(),v(e.cupos)}}function Xn(a,n){if(a&1&&(i(0,"td",71),s(1),S(2,"dateFormat"),o()),a&2){let e=u().$implicit;fe(e.bgfecha),l(),v(ue(2,4,e.fecha))}}function Jn(a,n){if(a&1&&(i(0,"a",73),m(1,"i",74),o()),a&2){let e=u().$implicit,t=u();d("href",t.ruta+e.archivo,Y)}}function Kn(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",62),s(2),o(),b(3,Un,2,4,"td",63)(4,qn,2,4,"td",63)(5,Bn,1,4,"td",64)(6,Hn,2,4,"td",63)(7,$n,2,4,"td",63)(8,Wn,2,4,"td",63)(9,Zn,2,4,"td",63)(10,Qn,2,4,"td",63)(11,Yn,2,4,"td",63)(12,Xn,3,6,"td",63),i(13,"td",65)(14,"button",66),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarInicios(r.id))}),m(15,"i",67),o(),i(16,"button",68),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarInicios(r.id))}),m(17,"i",69),o(),b(18,Jn,2,1,"a",70),o()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaInicios-1)*10+(e+1)),l(),d("ngIf",r.showtablecategoria),l(),d("ngIf",r.showtabletitulo),l(),d("ngIf",r.showtablesubtitulo),l(),d("ngIf",r.showtabledescripcion),l(),d("ngIf",r.showtableetiqueta),l(),d("ngIf",r.showtablelink),l(),d("ngIf",r.showtablecosto),l(),d("ngIf",r.showtablecosto),l(),d("ngIf",r.showtablecupos),l(),d("ngIf",r.showtablefecha),l(6),d("ngIf",!(t.archivo==null||t.archivo==""))}}function eo(a,n){if(a&1){let e=C();i(0,"div",75)(1,"select",76),p("change",function(r){h(e);let c=u();return f(c.VerificarTipoCategoria(r.target.value))}),i(2,"option",77),s(3,"Seleccione una opci\xF3n"),o(),i(4,"option",15),s(5,"BANNER"),o(),i(6,"option",16),s(7,"SERVICIO"),o(),i(8,"option",17),s(9,"PRECIO"),o(),i(10,"option",18),s(11,"GALERIA"),o(),i(12,"option",19),s(13,"CAROUSEL"),o(),i(14,"option",20),s(15,"RED SOCIAL"),o()(),i(16,"label"),s(17,"categoria"),o(),i(18,"div",78),s(19,"Este campo es obligatorio*"),o()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("categoria"))}}function to(a,n){if(a&1&&(i(0,"div",75)(1,"span",79),s(2),o()()),a&2){let e=u();l(2),E("MODIFICANDO ",e.newInicios.controls.categoria.value,"")}}function io(a,n){if(a&1){let e=C();i(0,"div",75)(1,"input",80),p("change",function(r){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(r,c.newInicios,"titulo"))}),o(),i(2,"label"),s(3,"titulo"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("titulo"))}}function no(a,n){if(a&1&&(i(0,"div",75),m(1,"input",81),i(2,"label"),s(3),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("subtitulo")),l(2),v(e.txtSubtituloIcono)}}function oo(a,n){if(a&1){let e=C();i(0,"div",75)(1,"textarea",82),p("change",function(r){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(r,c.newInicios,"descripcion"))}),o(),i(2,"label"),s(3,"descripcion"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("descripcion"))}}function ao(a,n){if(a&1){let e=C();i(0,"div",75)(1,"input",83),p("change",function(r){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(r,c.newInicios,"etiqueta"))}),o(),i(2,"label"),s(3,"etiqueta"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("etiqueta"))}}function ro(a,n){if(a&1&&(i(0,"div",75),m(1,"input",84),i(2,"label"),s(3,"link"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("link"))}}function so(a,n){if(a&1&&(i(0,"div",75),m(1,"input",85),i(2,"label"),s(3,"costo"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("costo"))}}function lo(a,n){if(a&1){let e=C();i(0,"div",75)(1,"input",86),p("change",function(r){h(e);let c=u();return f(c._tools.EscribirEnMayuscula(r,c.newInicios,"duracion"))}),o(),i(2,"label"),s(3,"duracion"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("duracion"))}}function co(a,n){if(a&1&&(i(0,"div",75),m(1,"input",87),i(2,"label"),s(3,"cupos"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("cupos"))}}function mo(a,n){if(a&1&&(i(0,"div",75),m(1,"input",88),i(2,"label"),s(3,"fecha"),o(),i(4,"div",78),s(5,"Este campo es obligatorio*"),o()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("fecha"))}}function po(a,n){if(a&1){let e=C();i(0,"div",89)(1,"button",90),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastInicios())}),m(2,"i",91),s(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",92),o(),i(6,"a",93),m(7,"i",94),s(8," IR A DOCUMENTACION PARA ICONOS "),o()()}}function uo(a,n){if(a&1){let e=C();i(0,"button",95),p("click",function(){h(e);let r=u();return f(r.AgregarModificarInicios())}),m(1,"i",96),s(2),m(3,"span",9),o()}if(a&2){let e=u();l(),k("bi bi-",e.newInicios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInicios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function go(a,n){if(a&1){let e=C();i(0,"button",97),p("click",function(){h(e);let r=u();return f(r.AgregarModificarInicios())}),m(1,"span",98),o()}a&2&&d("disabled",!0)}var dt=class a{constructor(n,e,t){this._ini=n;this._tools=e;this.http=t;this.ruta=M.ruta;this.dataDropZone={iddropzone:"my-dropzone",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.filtercategoria="";this.showtitulo=!1;this.showsubtitulo=!1;this.showdescripcion=!1;this.showetiqueta=!1;this.showlink=!1;this.showcosto=!1;this.showcupos=!1;this.showfecha=!1;this.showarchivo=!1;this.showcategoria=!0;this.showduracion=!1;this.txtSubtituloIcono="Subtitulo";this.showtabletitulo=!0;this.showtablesubtitulo=!0;this.showtabledescripcion=!0;this.showtableetiqueta=!0;this.showtablelink=!0;this.showtablecosto=!0;this.showtablecupos=!0;this.showtablefecha=!0;this.showtablearchivo=!0;this.showtablecategoria=!0;this.showtableduracion=!0;this.txtSubtituloIconotable="Subtitulo|icono";this.Inicios=[];this.paginaInicios=1;this.isLoadingInicios=!0;this.AnimacionCargabtnModalInicios=!1;this.filtertxtInicios="";this.newInicios=this._ini.createFormGroupInicios(),this.newIniciosAnteriorAccion=this._ini.createFormGroupInicios()}ngOnInit(){this.CargarInicios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){var n=document.getElementById("my-dropzone");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),n&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===n&&(e.destroy(),n.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}VerificarTipoCategoria(n){switch(sessionStorage.setItem("CategoriaFile",n),n){case"BANNER":this.showtitulo=!0,this.showsubtitulo=!1,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"SERVICIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;case"PRECIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!0,this.showcupos=!0,this.showfecha=!0,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!0,this.txtSubtituloIcono="Subtitulo";break;case"GALERIA":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"CAROUSEL":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"RED SOCIAL":this.showtitulo=!1,this.showsubtitulo=!0,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;default:this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break}}VerificarTipoCategoriaTabla(n){switch(n){case"BANNER":this.showtabletitulo=!0,this.showtablesubtitulo=!1,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"SERVICIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;case"PRECIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!0,this.txtSubtituloIconotable="Subtitulo";break;case"GALERIA":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"CAROUSEL":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"RED SOCIAL":this.showtabletitulo=!1,this.showtablesubtitulo=!0,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;default:this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo|icono";break}}CargarInicios(){this.AnimarCargaTablaInicios(),this._ini.ObtenerInicios().subscribe(n=>{console.log("Inicios CARGADO",n.data),n.data.forEach(e=>{switch(e.categoria){case"BANNER":e.bgtitulo="",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"SERVICIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"PRECIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="",e.bgcupos="",e.bgfecha="",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="";break;case"GALERIA":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"CAROUSEL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"RED SOCIAL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;default:break}}),this.Inicios=n.data,this.isLoadingInicios=!1},n=>{console.log("ERROR AL CARGAR Inicios",n),this.isLoadingInicios=!1})}AgregarModificarInicios(){if(this.newInicios.invalid){this.ValidacionTodoElementoInicios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInicios=!1;return}else{this.AnimarCargaTablaInicios(),this.AnimacionCargabtnModalInicios=!0,this._tools.MostrarMensajeLoading();let e=this.newInicios.controls.id.value;console.log("INFO A PROCESAR",this.newInicios.value);var n=sessionStorage.getItem("IMG");console.log("VALOR img",n),n==null||n==""||(this.newInicios.value.archivo=n),e?(console.log("DATA NUEVO",this.newInicios.value),console.log("DATA ANTERIOR",this.newIniciosAnteriorAccion.value),this._ini.ModificarInicios(this.newInicios.value,this.newInicios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.AnimacionCargabtnModalInicios=!1,this.newIniciosAnteriorAccion.value.archivo==this.newInicios.value.archivo||this._tools.EliminarArchivo(this.newIniciosAnteriorAccion.value.archivo),this.resetInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()})):(this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._ini.AgregarInicios(this.newInicios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.resetInicios(),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInicios(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.Inicios.find(t=>t.id===n))return;this._ini.SeleccionarInicios(n).subscribe(t=>{Object.keys(this.newInicios.controls).forEach(r=>{this.newInicios.controls[r].setValue(t.data[r])}),console.log("SELECCION DE Inicios EXITOSA",this.newInicios.value),this.VerificarTipoCategoria(this.newInicios.controls.categoria.value),this.crearDropzone(),this.showcategoria=!1,this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._tools.abrirModal("modalgestionInicios"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Inicios",t),this._tools.MostrarMensajeError()})}}EliminarInicios(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ini.EliminarInicios(n).subscribe(t=>{console.log(t.data),this.CargarInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Inicios",t),this._tools.MostrarMensajeError()}))})}resetInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionInicios")}AbrirModalInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this.VerificarTipoCategoria(""),this._tools.abrirModal("modalgestionInicios")}AutoCompletarLastInicios(){this.newInicios.setValue(this.newIniciosAnteriorAccion.value),this.newInicios.patchValue({id:0}),console.log("listo",this.newInicios.value)}AnimarCargaTablaInicios(){this.Inicios=[],this.isLoadingInicios=!0}ValidacionIniciosxElemento(n){return this._tools.obtenerValidationClass(this.newInicios,n)}ValidacionTodoElementoInicios(){Object.values(this.newInicios.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(lt),x(Z),x(P))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeinicios"]],decls:110,vars:44,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","change","ngModel"],["value","","disabled","","selected",""],["value",""],["value","BANNER"],["value","SERVICIO"],["value","PRECIO"],["value","GALERIA"],["value","CAROUSEL"],["value","RED SOCIAL"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionInicios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"form-text"],["id","my-dropzone",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","12",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row",3,"class",4,"ngIf"],["scope","row",3,"class","innerHTML",4,"ngIf"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["scope","row"],["scope","row",3,"innerHTML"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"form-floating","mb-3","col-sm-12"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],["disabled","","selected","",3,"value"],[1,"invalid-feedback"],[1,"form-text","text-center"],["type","text","placeholder","","formControlName","titulo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","subtitulo",1,"form-control",3,"ngClass"],["placeholder","","formControlName","descripcion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["type","text","placeholder","","formControlName","etiqueta",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","link",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","costo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","cupos",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],["href","https://icons.getbootstrap.com/","target","_blank",1,"btn","mouse-dir","primary"],[1,"bi","bi-bootstrap"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Gesti\xF3n de Inicios"),o(),i(6,"p",4),s(7,"Administra toda la informaci\xF3n de los Inicios de manera sencilla y eficiente"),o()()()(),i(8,"div",5)(9,"div",6)(10,"button",7),p("click",function(){return t.AbrirModalInicios()}),m(11,"i",8),s(12," A\xF1adir Inicios"),m(13,"span",9),o()(),i(14,"div",10)(15,"div",11)(16,"select",12),p("input",function(){return t.paginaInicios=1}),G("ngModelChange",function(c){return L(t.filtercategoria,c)||(t.filtercategoria=c),c}),p("change",function(c){return t.VerificarTipoCategoriaTabla(c.target.value)}),i(17,"option",13),s(18,"Seleccione una opci\xF3n"),o(),i(19,"option",14),s(20,"TODA LA INFORMACI\xD3N"),o(),i(21,"option",15),s(22,"BANNER"),o(),i(23,"option",16),s(24,"SERVICIO"),o(),i(25,"option",17),s(26,"PRECIO"),o(),i(27,"option",18),s(28,"GALERIA"),o(),i(29,"option",19),s(30,"CAROUSEL"),o(),i(31,"option",20),s(32,"RED SOCIAL"),o()(),i(33,"label"),s(34,"Filtrar"),o()()(),i(35,"div",21)(36,"div",22)(37,"span",23),m(38,"i",24),o(),i(39,"div",25)(40,"input",26),p("input",function(){return t.paginaInicios=1}),G("ngModelChange",function(c){return L(t.filtertxtInicios,c)||(t.filtertxtInicios=c),c}),o(),i(41,"label"),s(42,"Buscar"),o()()()()(),m(43,"hr"),i(44,"div",27)(45,"table",28)(46,"thead")(47,"tr")(48,"th",29),s(49,"#"),o(),b(50,On,2,0,"th",30)(51,Rn,2,0,"th",30)(52,Tn,2,1,"th",30)(53,kn,2,0,"th",30)(54,zn,2,0,"th",30)(55,Ln,2,0,"th",30)(56,Gn,2,0,"th",30)(57,Nn,2,0,"th",30)(58,Vn,2,0,"th",30)(59,Fn,2,0,"th",30),i(60,"th",31),s(61,"ACCIONES"),o()()(),i(62,"tbody",32),b(63,Dn,6,0,"tr",33)(64,jn,3,0,"tr",33)(65,Kn,19,12,"tr",34),S(66,"filtercategoria"),S(67,"paginate"),o()(),i(68,"pagination-controls",35),p("pageChange",function(c){return t.paginaInicios=c}),o()(),m(69,"hr"),i(70,"div",36)(71,"div",37)(72,"div",38)(73,"div",39)(74,"div",40)(75,"h1",41),s(76),o(),i(77,"button",42),p("click",function(){return t.resetInicios()})("click",function(){return t.CancelarArchivosDropzone()}),o()()(),i(78,"div",43)(79,"div",44),b(80,eo,20,1,"div",45)(81,to,3,1,"div",45)(82,io,6,1,"div",45)(83,no,6,2,"div",45)(84,oo,6,1,"div",45)(85,ao,6,1,"div",45)(86,ro,6,1,"div",45)(87,so,6,1,"div",45)(88,lo,6,1,"div",45)(89,co,6,1,"div",45)(90,mo,6,1,"div",45),i(91,"div")(92,"label",46),s(93,"Archivo"),o(),m(94,"div",47)(95,"hr"),i(96,"span"),s(97,"IMAGEN ACTUAL:"),o(),m(98,"img",48),o()()(),i(99,"div",49),b(100,po,9,0,"div",50),i(101,"div",51)(102,"div",52)(103,"button",53),p("click",function(){return t.resetInicios()})("click",function(){return t.CancelarArchivosDropzone()}),m(104,"i",54),s(105," CANCELAR"),m(106,"span",9),o()(),i(107,"div",55),b(108,uo,4,4,"button",56)(109,go,2,1,"button",57),o()()()()()()),e&2&&(l(16),z("ngModel",t.filtercategoria),l(24),z("ngModel",t.filtertxtInicios),l(10),d("ngIf",t.showtablecategoria),l(),d("ngIf",t.showtabletitulo),l(),d("ngIf",t.showtablesubtitulo),l(),d("ngIf",t.showtabledescripcion),l(),d("ngIf",t.showtableetiqueta),l(),d("ngIf",t.showtablelink),l(),d("ngIf",t.showtablecosto),l(),d("ngIf",t.showtablecupos),l(),d("ngIf",t.showtableduracion),l(),d("ngIf",t.showtablefecha),l(4),d("ngIf",t.isLoadingInicios),l(),d("ngIf",!t.isLoadingInicios&&t.Inicios.length===0),l(),d("ngForOf",A(67,39,A(66,36,t.Inicios,t.filtercategoria),V(42,Pn,t.paginaInicios))),l(11),_e("",t.newInicios.get("id").value?"MODIFICAR":"Registrar Inicio"," ",t.newInicios.controls.categoria.value,""),l(3),d("formGroup",t.newInicios),l(),d("ngIf",t.showcategoria),l(),d("ngIf",!t.showcategoria),l(),d("ngIf",t.showtitulo),l(),d("ngIf",t.showsubtitulo),l(),d("ngIf",t.showdescripcion),l(),d("ngIf",t.showetiqueta),l(),d("ngIf",t.showlink),l(),d("ngIf",t.showcosto),l(),d("ngIf",t.showduracion),l(),d("ngIf",t.showcupos),l(),d("ngIf",t.showfecha),l(),k("mb-3 col-sm-12 ",t.showarchivo==!0?"":"invisible",""),l(7),d("src",t.ruta+t.newInicios.value.archivo,Y),l(2),d("ngIf",!t.newInicios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInicios),l(),d("ngIf",t.AnimacionCargabtnModalInicios))},dependencies:[X,$,W,se,le,ee,be,re,te,ie,ne,oe,ae,me,de,ct,ve]})}};var Le=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerMatrizEscalas(){return this.http.get(this.ruta+"api/MatrizEscalas/")}AgregarMatrizEscalas(n){return this.http.post(this.ruta+"api/MatrizEscalas/",n)}ModificarMatrizEscalas(n,e){return this.http.put(this.ruta+"api/MatrizEscalas/"+e,n)}SeleccionarMatrizEscalas(n){return this.http.get(this.ruta+"api/MatrizEscalas/"+n)}EliminarMatrizEscalas(n){return this.http.delete(this.ruta+"api/MatrizEscalas/"+n)}createFormGroupMatrizEscalas(){return new N({id:new g(0),categoria:new g(""),nombrematriz:new g(""),valor:new g("")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var mt=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerSubMatrizEscalas(){return this.http.get(this.ruta+"api/SubMatrizEscalas/")}AgregarSubMatrizEscalas(n){return this.http.post(this.ruta+"api/SubMatrizEscalas/",n)}ModificarSubMatrizEscalas(n,e){return this.http.put(this.ruta+"api/SubMatrizEscalas/"+e,n)}SeleccionarSubMatrizEscalas(n){return this.http.get(this.ruta+"api/SubMatrizEscalas/"+n)}EliminarSubMatrizEscalas(n){return this.http.delete(this.ruta+"api/SubMatrizEscalas/"+n)}createFormGroupSubMatrizEscalas(){return new N({id:new g(0),id_matrizescala:new g(""),tipo:new g(""),nombresubmatriz:new g("")})}SeleccionarAllInformacionSubMatrizEscala(n){return this.http.get(this.ruta+"api/AllInfoSubMatrizEscalas/"+n)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var pt=class a{transform(n,e){if(!e)return n;let t=e.trim().toLowerCase().split(" ").filter(r=>r);return n.filter(r=>t.every(c=>this.normalizarTexto(r.categoria).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(r.nombrematriz).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(r.valor).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(n){return n==null&&(n=" "),n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"filtercategorianombrematrizvalor",type:a,pure:!0})}};var ui=a=>({itemsPerPage:10,currentPage:a});function bo(a,n){if(a&1&&(i(0,"option",61),s(1),o()),a&2){let e=n.$implicit;U("value",e.categoria),l(),v(e.categoria)}}function vo(a,n){a&1&&(i(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),s(5,"Loading..."),o()()()()())}function _o(a,n){a&1&&(i(0,"tr")(1,"td",62),s(2,"No hay datos disponibles"),o()())}function Co(a,n){if(a&1){let e=C();i(0,"button",74),p("click",function(){h(e);let r=u().$implicit,c=u();return f(c.SeleccionarMatrizEscalas(r.id,"SubMatrizEscalas"))}),m(1,"i",75),o()}}function Eo(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",66),s(2),o(),i(3,"td",67),s(4),o(),i(5,"td",67),s(6),o(),i(7,"td",67),s(8),o(),i(9,"td",68)(10,"button",69),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarMatrizEscalas(r.id))}),m(11,"i",70),o(),i(12,"button",71),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarMatrizEscalas(r.id))}),m(13,"i",72),o(),b(14,Co,2,0,"button",73),o()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaMatrizEscalas-1)*10+(e+1)),l(2),v(t.categoria),l(2),v(t.nombrematriz),l(2),v(t.valor),l(6),d("ngIf",t.categoria=="OBJETIVOS")}}function So(a,n){if(a&1){let e=C();i(0,"div",76)(1,"button",77),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastMatrizEscalas())}),m(2,"i",78),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",79),o()()}}function Io(a,n){if(a&1){let e=C();i(0,"button",80),p("click",function(){h(e);let r=u();return f(r.AgregarModificarMatrizEscalas())}),m(1,"i",81),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function xo(a,n){if(a&1){let e=C();i(0,"button",82),p("click",function(){h(e);let r=u();return f(r.AgregarModificarMatrizEscalas())}),m(1,"span",83),o()}a&2&&d("disabled",!0)}function Mo(a,n){a&1&&(i(0,"tr")(1,"td",84)(2,"div",63)(3,"div",64)(4,"span",65),s(5,"Loading..."),o()()()()())}function Ao(a,n){a&1&&(i(0,"tr")(1,"td",84),s(2,"No hay datos disponibles"),o()())}function wo(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",66),s(2),o(),i(3,"td",67),s(4),o(),i(5,"td",68)(6,"button",69),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarSubMatrizEscalas(r.id))}),m(7,"i",70),o(),i(8,"button",71),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarSubMatrizEscalas(r.id))}),m(9,"i",72),o()()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaSubMatrizEscalas-1)*10+(e+1)),l(2),v(t.nombresubmatriz)}}function yo(a,n){if(a&1){let e=C();i(0,"div",76)(1,"button",77),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastSubMatrizEscalas())}),m(2,"i",78),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",79),o()()}}function Po(a,n){if(a&1){let e=C();i(0,"button",80),p("click",function(){h(e);let r=u();return f(r.AgregarModificarSubMatrizEscalas())}),m(1,"i",81),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newSubMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Oo(a,n){if(a&1){let e=C();i(0,"button",82),p("click",function(){h(e);let r=u();return f(r.AgregarModificarSubMatrizEscalas())}),m(1,"span",83),o()}a&2&&d("disabled",!0)}var ut=class a{constructor(n,e,t){this._mescalas=n;this._tools=e;this._submescalas=t;this.MatrizEscalas=[];this.paginaMatrizEscalas=1;this.isLoadingMatrizEscalas=!0;this.AnimacionCargabtnModalMatrizEscalas=!1;this.filtertxtMatrizEscalas="";this.filtertxtMatrizEscalas1="";this.MatrizEscalasSelectCategoriasData=[];this.idMatrizEscalaSave=0;this.SubMatrizEscalas=[];this.paginaSubMatrizEscalas=1;this.isLoadingSubMatrizEscalas=!0;this.AnimacionCargabtnModalSubMatrizEscalas=!1;this.filtertxtSubMatrizEscalas="";this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this.newMatrizEscalasAnteriorAccion=this._mescalas.createFormGroupMatrizEscalas(),this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this.newSubMatrizEscalasAnteriorAccion=this._submescalas.createFormGroupSubMatrizEscalas()}ngOnInit(){this.CargarMatrizEscalas(),setTimeout(()=>{this.RefrescarFiltradorSelectCategoria()},1e3)}ngOnDestroy(){this._tools.cerrarModales()}RefrescarFiltradorSelectCategoria(){var n=[];this.MatrizEscalas.forEach(t=>{n.push(t.categoria)}),Array.from(new Set(n)).forEach(t=>{this.MatrizEscalasSelectCategoriasData.push({categoria:t})})}CargarMatrizEscalas(){this.AnimarCargaTablaMatrizEscalas(),this._mescalas.ObtenerMatrizEscalas().subscribe(n=>{console.log("MatrizEscalas CARGADO",n.data),this.MatrizEscalas=n.data,this.isLoadingMatrizEscalas=!1},n=>{console.log("ERROR AL CARGAR MatrizEscalas",n),this.isLoadingMatrizEscalas=!1})}AgregarModificarMatrizEscalas(){if(this.newMatrizEscalas.invalid){this.ValidacionTodoElementoMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalMatrizEscalas=!1;return}else{this.AnimarCargaTablaMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let n=this.newMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newMatrizEscalas.value),n?this._mescalas.ModificarMatrizEscalas(this.newMatrizEscalas.value,this.newMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._mescalas.AgregarMatrizEscalas(this.newMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarMatrizEscalas(n,e){switch(e){case"SubMatrizEscalas":this.idMatrizEscalaSave=n,this.CargarSubMatrizEscalas(),this._tools.abrirModal("ModalAllGestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess();break;default:if(this._tools.MostrarMensajeLoading(),n){if(!this.MatrizEscalas.find(r=>r.id===n))return;this._mescalas.SeleccionarMatrizEscalas(n).subscribe(r=>{Object.keys(this.newMatrizEscalas.controls).forEach(c=>{this.newMatrizEscalas.controls[c].setValue(r.data[c])}),console.log("SELECCION DE MatrizEscalas EXITOSA",this.newMatrizEscalas.value),this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._tools.abrirModal("modalgestionMatrizEscalas"),this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL SELECCIONAR MatrizEscalas",r),this._tools.MostrarMensajeError()})}break}}EliminarMatrizEscalas(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._mescalas.EliminarMatrizEscalas(n).subscribe(t=>{console.log(t.data),this.CargarMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR MatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetMatrizEscalas(){this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this._tools.cerrarModal("modalgestionMatrizEscalas")}AbrirModalMatrizEscalas(){this.newMatrizEscalas.reset(),this._tools.abrirModal("modalgestionMatrizEscalas")}AutoCompletarLastMatrizEscalas(){this.newMatrizEscalas.setValue(this.newMatrizEscalasAnteriorAccion.value),this.newMatrizEscalas.patchValue({id:0}),console.log("listo",this.newMatrizEscalas.value)}AnimarCargaTablaMatrizEscalas(){this.MatrizEscalas=[],this.isLoadingMatrizEscalas=!0}ValidacionMatrizEscalasxElemento(n){return this._tools.obtenerValidationClass(this.newMatrizEscalas,n)}ValidacionTodoElementoMatrizEscalas(){Object.values(this.newMatrizEscalas.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}CargarSubMatrizEscalas(){this.AnimarCargaTablaSubMatrizEscalas(),this._submescalas.SeleccionarAllInformacionSubMatrizEscala(this.idMatrizEscalaSave).subscribe(n=>{console.log("SubMatrizEscalas CARGADO",n.data),this.SubMatrizEscalas=n.data,this.isLoadingSubMatrizEscalas=!1},n=>{console.log("ERROR AL CARGAR SubMatrizEscalas",n),this.isLoadingSubMatrizEscalas=!1})}AgregarModificarSubMatrizEscalas(){if(this.newSubMatrizEscalas.invalid){this.ValidacionTodoElementoSubMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubMatrizEscalas=!1;return}else{this.AnimarCargaTablaSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let n=this.newSubMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newSubMatrizEscalas.value),n?this._submescalas.ModificarSubMatrizEscalas(this.newSubMatrizEscalas.value,this.newSubMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._submescalas.AgregarSubMatrizEscalas(this.newSubMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubMatrizEscalas(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.SubMatrizEscalas.find(t=>t.id===n))return;this._submescalas.SeleccionarSubMatrizEscalas(n).subscribe(t=>{Object.keys(this.newSubMatrizEscalas.controls).forEach(r=>{this.newSubMatrizEscalas.controls[r].setValue(t.data[r])}),console.log("SELECCION DE SubMatrizEscalas EXITOSA",this.newSubMatrizEscalas.value),this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._tools.abrirModal("modalgestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()})}}EliminarSubMatrizEscalas(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._submescalas.EliminarSubMatrizEscalas(n).subscribe(t=>{console.log(t.data),this.CargarSubMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetSubMatrizEscalas(){this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this._tools.cerrarModal("modalgestionSubMatrizEscalas")}AbrirModalSubMatrizEscalas(){this.newSubMatrizEscalas.reset(),this.newSubMatrizEscalas.patchValue({id_matrizescala:this.idMatrizEscalaSave}),this._tools.abrirModal("modalgestionSubMatrizEscalas")}AutoCompletarLastSubMatrizEscalas(){this.newSubMatrizEscalas.setValue(this.newSubMatrizEscalasAnteriorAccion.value),this.newSubMatrizEscalas.patchValue({id:0}),console.log("listo",this.newSubMatrizEscalas.value)}AnimarCargaTablaSubMatrizEscalas(){this.SubMatrizEscalas=[],this.isLoadingSubMatrizEscalas=!0}ValidacionSubMatrizEscalasxElemento(n){return this._tools.obtenerValidationClass(this.newSubMatrizEscalas,n)}ValidacionTodoElementoSubMatrizEscalas(){Object.values(this.newSubMatrizEscalas.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(Le),x(Z),x(mt))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondematrizdeescalas"]],decls:173,vars:40,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-9","d-flex","justify-content-end"],["title","REFRESAR TABLA",1,"input-group-text",3,"click"],[1,"bi","bi-cloud-download"],["title","REFRESAR SELECT",1,"input-group-text",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3","col-sm-12"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["type","text","placeholder","","formControlName","categoria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombrematriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","valor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group-text"],[1,"bi","bi-search"],["id","modalgestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","nombresubmatriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[3,"value"],["colspan","5",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Gestionar Sub Matriz","class","btn btn-primary p-1 py-0",3,"click",4,"ngIf"],["title","Gestionar Sub Matriz",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-subtract",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","3",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Gesti\xF3n de MatrizEscalas"),o(),i(6,"p",4),s(7,"Administra toda la informaci\xF3n de los MatrizEscalas de manera sencilla y eficiente"),o()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalMatrizEscalas()}),m(11,"i",7),s(12," A\xF1adir MatrizEscalas"),m(13,"span",8),o()(),i(14,"div",9)(15,"button",10),p("click",function(){return t.CargarMatrizEscalas()}),m(16,"i",11),o(),i(17,"button",12),p("click",function(){return t.RefrescarFiltradorSelectCategoria()}),m(18,"i",13),o(),i(19,"div",14)(20,"div",15)(21,"select",16),p("input",function(){return t.paginaMatrizEscalas=1}),G("ngModelChange",function(c){return L(t.filtertxtMatrizEscalas1,c)||(t.filtertxtMatrizEscalas1=c),c}),i(22,"option",17),s(23,"Seleccione una opci\xF3n"),o(),i(24,"option",18),s(25,"TODA LA INFORMACI\xD3N"),o(),b(26,bo,2,2,"option",19),o(),i(27,"label"),s(28,"Filtrar"),o()()(),i(29,"div",14)(30,"div",20)(31,"div",21)(32,"input",22),p("input",function(){return t.paginaMatrizEscalas=1}),G("ngModelChange",function(c){return L(t.filtertxtMatrizEscalas,c)||(t.filtertxtMatrizEscalas=c),c}),o(),i(33,"label"),s(34,"Buscar"),o()()()()()(),m(35,"hr"),i(36,"div",23)(37,"table",24)(38,"thead")(39,"tr")(40,"th",25),s(41,"#"),o(),i(42,"th",26),s(43,"Categoria"),o(),i(44,"th",26),s(45,"Nombre de Matriz"),o(),i(46,"th",26),s(47,"Valor"),o(),i(48,"th",26),s(49,"ACCIONES"),o()()(),i(50,"tbody",27),b(51,vo,6,0,"tr",28)(52,_o,3,0,"tr",28)(53,Eo,15,5,"tr",29),S(54,"filtercategorianombrematrizvalor"),S(55,"filtercategorianombrematrizvalor"),S(56,"paginate"),o()(),i(57,"pagination-controls",30),p("pageChange",function(c){return t.paginaMatrizEscalas=c}),o()(),m(58,"hr"),i(59,"div",31)(60,"div",32)(61,"div",33)(62,"div",34)(63,"div",35)(64,"h1",36),s(65),o(),i(66,"button",37),p("click",function(){return t.resetMatrizEscalas()}),o()()(),i(67,"div",38)(68,"div",39)(69,"div",15)(70,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"categoria")}),o(),i(71,"label"),s(72,"categoria"),o(),i(73,"div",41),s(74,"Este campo es obligatorio*"),o()(),i(75,"div",15)(76,"input",42),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"nombrematriz")}),o(),i(77,"label"),s(78,"nombrematriz"),o(),i(79,"div",41),s(80,"Este campo es obligatorio*"),o()(),i(81,"div",15)(82,"input",43),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"valor")}),o(),i(83,"label"),s(84,"valor"),o(),i(85,"div",41),s(86,"Este campo es obligatorio*"),o()()()(),i(87,"div",44),b(88,So,6,0,"div",45),i(89,"div",46)(90,"div",47)(91,"button",48),p("click",function(){return t.resetMatrizEscalas()}),m(92,"i",49),s(93," CANCELAR"),m(94,"span",8),o()(),i(95,"div",50),b(96,Io,4,4,"button",51)(97,xo,2,1,"button",52),o()()()()()(),i(98,"div",53)(99,"div",32)(100,"div",33)(101,"div",34)(102,"h1",54),s(103,"Modal Gesti\xF3n Sub Matriz Escalas (Objetivos)"),o(),m(104,"button",55),o(),i(105,"div",38),m(106,"hr"),i(107,"div",0)(108,"div",1)(109,"div",2)(110,"h1",3),s(111,"Gesti\xF3n de SubMatrizEscalas"),o(),i(112,"p",4),s(113,"Administra toda la informaci\xF3n de los SubMatrizEscalas de manera sencilla y eficiente"),o()()()(),i(114,"div",1)(115,"div",5)(116,"button",6),p("click",function(){return t.AbrirModalSubMatrizEscalas()}),m(117,"i",7),s(118," A\xF1adir SubMatrizEscalas"),m(119,"span",8),o()(),i(120,"div",56)(121,"div",20)(122,"span",57),m(123,"i",58),o(),i(124,"div",21)(125,"input",22),p("input",function(){return t.paginaSubMatrizEscalas=1}),G("ngModelChange",function(c){return L(t.filtertxtSubMatrizEscalas,c)||(t.filtertxtSubMatrizEscalas=c),c}),o(),i(126,"label"),s(127,"Buscar"),o()()()()(),m(128,"hr"),i(129,"div",23)(130,"table",24)(131,"thead")(132,"tr")(133,"th",25),s(134,"#"),o(),i(135,"th",26),s(136,"Nombre de Sub Matriz"),o(),i(137,"th",26),s(138,"ACCIONES"),o()()(),i(139,"tbody",27),b(140,Mo,6,0,"tr",28)(141,Ao,3,0,"tr",28)(142,wo,10,2,"tr",29),S(143,"paginate"),o()(),i(144,"pagination-controls",30),p("pageChange",function(c){return t.paginaSubMatrizEscalas=c}),o()(),m(145,"hr"),i(146,"div",59)(147,"div",32)(148,"div",33)(149,"div",34)(150,"div",35)(151,"h1",36),s(152),o(),i(153,"button",37),p("click",function(){return t.resetSubMatrizEscalas()}),o()()(),i(154,"div",38)(155,"div",39)(156,"div",15)(157,"input",60),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newSubMatrizEscalas,"nombresubmatriz")}),o(),i(158,"label"),s(159,"Nombre Sub Matriz"),o(),i(160,"div",41),s(161,"Este campo es obligatorio*"),o()()()(),i(162,"div",44),b(163,yo,6,0,"div",45),i(164,"div",46)(165,"div",47)(166,"button",48),p("click",function(){return t.resetSubMatrizEscalas()}),m(167,"i",49),s(168," CANCELAR"),m(169,"span",8),o()(),i(170,"div",50),b(171,Po,4,4,"button",51)(172,Oo,2,1,"button",52),o()()()()()()()()()()),e&2&&(l(21),z("ngModel",t.filtertxtMatrizEscalas1),l(5),d("ngForOf",t.MatrizEscalasSelectCategoriasData),l(6),z("ngModel",t.filtertxtMatrizEscalas),l(19),d("ngIf",t.isLoadingMatrizEscalas),l(),d("ngIf",!t.isLoadingMatrizEscalas&&t.MatrizEscalas.length===0),l(),d("ngForOf",A(56,30,A(55,27,A(54,24,t.MatrizEscalas,t.filtertxtMatrizEscalas),t.filtertxtMatrizEscalas1),V(36,ui,t.paginaMatrizEscalas))),l(12),E("",t.newMatrizEscalas.get("id").value?"Modificar":"Registrar"," MatrizEscalas"),l(3),d("formGroup",t.newMatrizEscalas),l(2),d("ngClass",t.ValidacionMatrizEscalasxElemento("categoria")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("nombrematriz")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("valor")),l(6),d("ngIf",!t.newMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalMatrizEscalas),l(28),z("ngModel",t.filtertxtSubMatrizEscalas),l(15),d("ngIf",t.isLoadingSubMatrizEscalas),l(),d("ngIf",!t.isLoadingSubMatrizEscalas&&t.SubMatrizEscalas.length===0),l(),d("ngForOf",A(143,33,t.SubMatrizEscalas,V(38,ui,t.paginaSubMatrizEscalas))),l(10),E("",t.newSubMatrizEscalas.get("id").value?"Modificar":"Registrar"," SubMatrizEscalas"),l(3),d("formGroup",t.newSubMatrizEscalas),l(2),d("ngClass",t.ValidacionSubMatrizEscalasxElemento("nombresubmatriz")),l(6),d("ngIf",!t.newSubMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalSubMatrizEscalas))},dependencies:[X,$,W,se,le,ee,re,te,ie,ne,oe,ae,me,de,pt]})}};var gt=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerPlandeIntervencions(){return this.http.get(this.ruta+"api/PlandeIntervencions/")}AgregarPlandeIntervencions(n){return this.http.post(this.ruta+"api/PlandeIntervencions/",n)}ModificarPlandeIntervencions(n,e){return this.http.put(this.ruta+"api/PlandeIntervencions/"+e,n)}SeleccionarPlandeIntervencions(n){return this.http.get(this.ruta+"api/PlandeIntervencions/"+n)}EliminarPlandeIntervencions(n){return this.http.delete(this.ruta+"api/PlandeIntervencions/"+n)}createFormGroupPlandeIntervencions(){return new N({id:new g(0),orden:new g(""),id_infocliente:new g("",[B.required]),momento:new g(""),objetivo:new g(""),foco:new g(""),mlt:new g(""),enfoque:new g(""),duracion:new g("")})}CargarPlandeIntervencionxidInfoCliente(n){return this.http.get(this.ruta+"api/CargarPlandeIntervencionxidInfoCliente/"+n)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ht=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerSubPlandeIntervencions(){return this.http.get(this.ruta+"api/SubPlandeIntervencions/")}AgregarSubPlandeIntervencions(n){return this.http.post(this.ruta+"api/SubPlandeIntervencions/",n)}ModificarSubPlandeIntervencions(n,e){return this.http.put(this.ruta+"api/SubPlandeIntervencions/"+e,n)}SeleccionarSubPlandeIntervencions(n){return this.http.get(this.ruta+"api/SubPlandeIntervencions/"+n)}EliminarSubPlandeIntervencions(n){return this.http.delete(this.ruta+"api/SubPlandeIntervencions/"+n)}createFormGroupSubPlandeIntervencions(){return new N({id:new g(0),id_plandeintervencion:new g(""),categoria:new g(""),nombre:new g("")})}SeleccionarAllInformacionSubPlandeIntervencions(n){return this.http.get(this.ruta+"api/AllInfoSubPlandeIntervencions/"+n)}eliminarsubplandeintervencionsxdata(n){return this.http.post(this.ruta+"api/eliminarsubplandeintervencionsxdata/",n)}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ko=()=>({standalone:!0}),Lt=a=>({itemsPerPage:10,currentPage:a}),zo=a=>({itemsPerPage:3,currentPage:a}),gi=a=>({checked:a,"custom-border":!0});function Lo(a,n){a&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),s(5,"Loading..."),o()()()()())}function Go(a,n){a&1&&(i(0,"tr")(1,"td",78),s(2,"No hay datos disponibles"),o()())}function No(a,n){a&1&&(Me(0),m(1,"hr",95),Ae())}function Vo(a,n){if(a&1&&(i(0,"li"),s(1),b(2,No,2,0,"ng-container",59),o()),a&2){let e=n.$implicit,t=n.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Fo(a,n){a&1&&(Me(0),m(1,"hr",95),Ae())}function Do(a,n){if(a&1&&(i(0,"li"),s(1),b(2,Fo,2,0,"ng-container",59),o()),a&2){let e=n.$implicit,t=n.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function jo(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",82),s(2),o(),i(3,"td",83),s(4),o(),i(5,"td",83),s(6),i(7,"div",84)(8,"small",85),s(9),o()()(),i(10,"td",86)(11,"ul",87),b(12,Vo,3,2,"li",77),o()(),i(13,"td",86)(14,"ul",87),b(15,Do,3,2,"li",77),o()(),i(16,"td",83),s(17),i(18,"div",84)(19,"small",85),s(20),o()()(),i(21,"td",83),s(22),o(),i(23,"td",88)(24,"button",89),p("click",function(){let r=h(e).$implicit,c=u(3);return f(c.SeleccionarPlandeIntervencions(r.id,"SubPlandeIntervencions"))}),m(25,"i",90),o(),i(26,"button",91),p("click",function(){let r=h(e).$implicit,c=u(3);return f(c.SeleccionarPlandeIntervencions(r.id))}),m(27,"i",92),o(),i(28,"button",93),p("click",function(){let r=h(e).$implicit,c=u(3);return f(c.EliminarPlandeIntervencions(r.id))}),m(29,"i",94),o()()()}if(a&2){let e=n.$implicit,t=n.index,r=u(3);l(2),v((r.paginaPlandeIntervencions-1)*10+(t+1)),l(2),v(e.momento),l(2),E(" ",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",r.getRecursosMusicalesList(e)),l(3),d("ngForOf",r.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),v(e.duracion)}}function Uo(a,n){if(a&1&&(i(0,"div",63)(1,"div",64)(2,"div",65)(3,"button",66),m(4,"i",67),o()(),i(5,"div",68)(6,"span",69),s(7),o()(),i(8,"div",65)(9,"span",69),s(10),S(11,"dateFormat"),o(),i(12,"button",70),m(13,"i",67),o()()(),i(14,"div",71)(15,"div",72)(16,"table",73)(17,"thead")(18,"tr")(19,"th",74),s(20,"#"),o(),i(21,"th",75),s(22,"Momento"),o(),i(23,"th",75),s(24,"Objetivo/Foco"),o(),i(25,"th",75),s(26,"Recursos Musicales"),o(),i(27,"th",75),s(28,"Enfasis Musical"),o(),i(29,"th",75),s(30,"MLT/Enfoque"),o(),i(31,"th",75),s(32,"Duraci\xF3n"),o(),i(33,"th",75),s(34,"ACCIONES"),o()()(),i(35,"tbody",76),b(36,Lo,6,0,"tr",59)(37,Go,3,0,"tr",59)(38,jo,30,9,"tr",77),o()()()()()),a&2){let e=n.$implicit,t=u(2);l(3),Ce("data-bs-target","#collapseCar"+e.id),l(4),v(e.apellidos+" "+e.nombres),l(3),E("Fecha de Admisi\xF3n: ",ue(11,8,e.fechaadmision),""),l(2),Ce("data-bs-target","#collapseCar"+e.id),l(2),d("id","collapseCar"+e.id),l(22),d("ngIf",t.isLoadingPlandeIntervencions),l(),d("ngIf",!t.isLoadingPlandeIntervencions&&t.PlandeIntervencions.length===0),l(),d("ngForOf",e.intervenciones)}}function qo(a,n){if(a&1){let e=C();i(0,"div",1)(1,"div",61),b(2,Uo,39,10,"div",62),S(3,"filterapellidosnombrescarnet"),S(4,"paginate"),i(5,"pagination-controls",30),p("pageChange",function(r){h(e);let c=u();return f(c.paginaPlandeIntervencions=r)}),o()()()}if(a&2){let e=u();l(2),d("ngForOf",A(4,4,A(3,1,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),V(7,Lt,e.paginaPlandeIntervencions)))}}function Bo(a,n){a&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),s(5,"Loading..."),o()()()()())}function Ho(a,n){a&1&&(i(0,"tr")(1,"td",78),s(2,"No hay datos disponibles"),o()())}function $o(a,n){a&1&&(Me(0),m(1,"hr",95),Ae())}function Wo(a,n){if(a&1&&(i(0,"li"),s(1),b(2,$o,2,0,"ng-container",59),o()),a&2){let e=n.$implicit,t=n.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Zo(a,n){a&1&&(Me(0),m(1,"hr",95),Ae())}function Qo(a,n){if(a&1&&(i(0,"li"),s(1),b(2,Zo,2,0,"ng-container",59),o()),a&2){let e=n.$implicit,t=n.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Yo(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",82),s(2),o(),i(3,"td",83),s(4),i(5,"div",84)(6,"small",85),s(7),S(8,"dateFormat"),o()()(),i(9,"td",83),s(10),o(),i(11,"td",83),s(12),i(13,"div",84)(14,"small",85),s(15),o()()(),i(16,"td",86)(17,"ul",87),b(18,Wo,3,2,"li",77),o()(),i(19,"td",86)(20,"ul",87),b(21,Qo,3,2,"li",77),o()(),i(22,"td",83),s(23),i(24,"div",84)(25,"small",85),s(26),o()()(),i(27,"td",83),s(28),o(),i(29,"td",88)(30,"button",89),p("click",function(){let r=h(e).$implicit,c=u(2);return f(c.SeleccionarPlandeIntervencions(r.id,"SubPlandeIntervencions"))}),m(31,"i",90),o(),i(32,"button",91),p("click",function(){let r=h(e).$implicit,c=u(2);return f(c.SeleccionarPlandeIntervencions(r.id))}),m(33,"i",92),o(),i(34,"button",93),p("click",function(){let r=h(e).$implicit,c=u(2);return f(c.EliminarPlandeIntervencions(r.id))}),m(35,"i",94),o()()()}if(a&2){let e=n.$implicit,t=n.index,r=u(2);l(2),v((r.paginaPlandeIntervencions-1)*10+(t+1)),l(2),E("",e.apellidos+" "+e.nombres," "),l(3),E("Admisi\xF3n: ",ue(8,11,e.fechaadmision),""),l(3),v(e.momento),l(2),E("",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",r.getRecursosMusicalesList(e)),l(3),d("ngForOf",r.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),v(e.duracion)}}function Xo(a,n){if(a&1){let e=C();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),s(5,"#"),o(),i(6,"th",75),s(7,"Apellidos nombres"),o(),i(8,"th",75),s(9,"Momento"),o(),i(10,"th",75),s(11,"Objetivo"),o(),i(12,"th",75),s(13,"Recursos Musicales"),o(),i(14,"th",75),s(15,"Enfasis Musical"),o(),i(16,"th",75),s(17,"MLT"),o(),i(18,"th",75),s(19,"Duraci\xF3n"),o(),i(20,"th",75),s(21,"ACCIONES"),o()()(),i(22,"tbody",76),b(23,Bo,6,0,"tr",59)(24,Ho,3,0,"tr",59)(25,Yo,36,13,"tr",77),S(26,"filterapellidosnombrescarnet"),S(27,"paginate"),o()(),i(28,"pagination-controls",30),p("pageChange",function(r){h(e);let c=u();return f(c.paginaPlandeIntervencions=r)}),o()()}if(a&2){let e=u();l(23),d("ngIf",e.isLoadingPlandeIntervencions),l(),d("ngIf",!e.isLoadingPlandeIntervencions&&e.PlandeIntervencions.length===0),l(),d("ngForOf",A(27,6,A(26,3,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),V(9,Lt,e.paginaPlandeIntervencions)))}}function Jo(a,n){if(a&1){let e=C();i(0,"div",98),p("click",function(r){let c=h(e).$implicit,_=u(2);return f(_.SeleccionandoInfoCliente(r,c))}),i(1,"div",99)(2,"h5",100),s(3),o(),i(4,"small"),s(5),o()(),i(6,"p",100),s(7),o()()}if(a&2){let e=n.$implicit;l(3),_e("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function Ko(a,n){if(a&1&&(i(0,"div",96),b(1,Jo,8,4,"div",97),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),o()),a&2){let e=u();l(),d("ngForOf",A(3,4,A(2,1,e.InfoClientes,e.filterInfoClientes),V(7,zo,e.paginaInfoClientes)))}}function ea(a,n){if(a&1&&(i(0,"option",101),s(1),o()),a&2){let e=n.$implicit;U("value",e.nombrematriz),l(),v(e.nombrematriz)}}function ta(a,n){if(a&1&&(i(0,"option",101),s(1),o()),a&2){let e=n.$implicit;d("value",e.nombrematriz),l(),v(e.nombrematriz)}}function ia(a,n){if(a&1&&(i(0,"option",101),s(1),o()),a&2){let e=n.$implicit;d("value",e.nombresubmatriz),l(),v(e.nombresubmatriz)}}function na(a,n){if(a&1&&(i(0,"option",101),s(1),o()),a&2){let e=n.$implicit;U("value",e.nombrematriz),l(),v(e.nombrematriz)}}function oa(a,n){if(a&1&&(i(0,"option",101),s(1),o()),a&2){let e=n.$implicit;U("value",e.nombrematriz),l(),v(e.nombrematriz)}}function aa(a,n){if(a&1){let e=C();i(0,"div",102)(1,"button",103),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastPlandeIntervencions())}),m(2,"i",104),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),o()()}}function ra(a,n){if(a&1){let e=C();i(0,"button",106),p("click",function(){h(e);let r=u();return f(r.AgregarModificarPlandeIntervencions())}),m(1,"i",107),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function sa(a,n){if(a&1){let e=C();i(0,"button",108),p("click",function(){h(e);let r=u();return f(r.AgregarModificarPlandeIntervencions())}),m(1,"span",109),o()}a&2&&d("disabled",!0)}function la(a,n){a&1&&(i(0,"div",116)(1,"span",81),s(2,"Loading..."),o()())}function ca(a,n){if(a&1){let e=C();i(0,"div",112)(1,"input",113),p("click",function(r){let c=h(e).$implicit,_=u(2);return f(_.AccionCheckearAddSubIntervencions(c,r))}),o(),b(2,la,3,0,"div",114),i(3,"label",115),s(4),o()()}if(a&2){let e=n.$implicit,t=n.index,r=u(2);d("ngClass",V(8,gi,r.isChecked("RECURSOS MUSICALES",e.nombrematriz))),l(),d("id","checkboxMatrizRecursosMusicales"+t)("value",e.nombrematriz)("checked",r.isChecked("RECURSOS MUSICALES",e.nombrematriz))("disabled",r.isLoading[t]),l(),d("ngIf",r.isLoading[t]),l(),d("for","checkboxMatrizRecursosMusicales"+t),l(),v(e.nombrematriz)}}function da(a,n){a&1&&(i(0,"div",116)(1,"span",81),s(2,"Loading..."),o()())}function ma(a,n){if(a&1){let e=C();i(0,"div",112)(1,"input",113),p("click",function(r){let c=h(e).$implicit,_=u(2);return f(_.AccionCheckearAddSubIntervencions(c,r))}),o(),b(2,da,3,0,"div",114),i(3,"label",115),s(4),o()()}if(a&2){let e=n.$implicit,t=n.index,r=u(2);d("ngClass",V(8,gi,r.isChecked("ENFASIS MUSICAL",e.nombrematriz))),l(),d("id","checkboxMatrizEnfasisMusical"+t)("value",e.nombrematriz)("checked",r.isChecked("ENFASIS MUSICAL",e.nombrematriz))("disabled",r.isLoading[t]),l(),d("ngIf",r.isLoading[t]),l(),d("for","checkboxMatrizEnfasisMusical"+t),l(),v(e.nombrematriz)}}function pa(a,n){if(a&1&&(i(0,"div"),m(1,"hr"),i(2,"h3",84),s(3,"RECURSOS MUSICALES"),o(),i(4,"div",110),b(5,ca,5,10,"div",111),o(),m(6,"hr"),i(7,"h3",84),s(8,"ENFASIS MUSICAL"),o(),i(9,"div",110),b(10,ma,5,10,"div",111),o(),m(11,"hr"),o()),a&2){let e=u();l(5),d("ngForOf",e.MatrizRecursosMusicales),l(5),d("ngForOf",e.MatrizEnfasisMusical)}}function ua(a,n){a&1&&(i(0,"tr")(1,"td",117)(2,"div",79)(3,"div",80)(4,"span",81),s(5,"Loading..."),o()()()()())}function ga(a,n){a&1&&(i(0,"tr")(1,"td",117),s(2,"No hay datos disponibles"),o()())}function ha(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",82),s(2),o(),i(3,"td",83),s(4),o(),i(5,"td",83),s(6),o(),i(7,"td",88)(8,"button",93),p("click",function(){let r=h(e).$implicit,c=u(2);return f(c.EliminarSubPlandeIntervencions(r.id))}),m(9,"i",94),o()()()}if(a&2){let e=n.index,t=n.$implicit,r=u(2);l(2),v((r.paginaSubPlandeIntervencions-1)*10+(e+1)),l(2),v(t.categoria),l(2),v(t.nombre)}}function fa(a,n){if(a&1){let e=C();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),s(5,"#"),o(),i(6,"th",75),s(7,"Categoria"),o(),i(8,"th",75),s(9,"Nombre"),o(),i(10,"th",75),s(11,"ACCIONES"),o()()(),i(12,"tbody",76),b(13,ua,6,0,"tr",59)(14,ga,3,0,"tr",59)(15,ha,10,3,"tr",77),S(16,"paginate"),o()(),i(17,"pagination-controls",30),p("pageChange",function(r){h(e);let c=u();return f(c.paginaSubPlandeIntervencions=r)}),o()()}if(a&2){let e=u();l(13),d("ngIf",e.isLoadingSubPlandeIntervencions),l(),d("ngIf",!e.isLoadingSubPlandeIntervencions&&e.SubPlandeIntervencions.length===0),l(),d("ngForOf",A(16,3,e.SubPlandeIntervencions,V(6,Lt,e.paginaSubPlandeIntervencions)))}}function ba(a,n){if(a&1){let e=C();i(0,"div",102)(1,"button",103),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastSubPlandeIntervencions())}),m(2,"i",104),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),o()()}}function va(a,n){if(a&1){let e=C();i(0,"button",106),p("click",function(){h(e);let r=u();return f(r.AgregarModificarSubPlandeIntervencions())}),m(1,"i",107),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newSubPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function _a(a,n){if(a&1){let e=C();i(0,"button",108),p("click",function(){h(e);let r=u();return f(r.AgregarModificarSubPlandeIntervencions())}),m(1,"span",109),o()}a&2&&d("disabled",!0)}var Ue=class a{constructor(n,e,t,r,c,_){this.route=n;this._planintervencion=e;this._tools=t;this._subplanintervencion=r;this._matrizescalas=c;this._infoclientes=_;this.idRecibida=0;this.NomCRecibido="";this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.MatrizMomento=[];this.MatrizObjetivos=[];this.MatrizRecursosMusicales=[];this.MatrizEnfasisMusical=[];this.MatrizEnfoque=[];this.MatrizMLT=[];this.subMatrizObjetivo=[];this.PlandeIntervencions=[];this.paginaPlandeIntervencions=1;this.isLoadingPlandeIntervencions=!0;this.AnimacionCargabtnModalPlandeIntervencions=!1;this.filtertxtPlandeIntervencions="";this.idPlandeIntervencionsSave=0;this.SubPlandeIntervencions=[];this.paginaSubPlandeIntervencions=1;this.isLoadingSubPlandeIntervencions=!0;this.AnimacionCargabtnModalSubPlandeIntervencions=!1;this.filtertxtSubPlandeIntervencions="";this.isLoading=[];this.ModoBoolean=!1;this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this.newPlandeIntervencionsAnteriorAccion=this._planintervencion.createFormGroupPlandeIntervencions(),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencionsAnteriorAccion=this._subplanintervencion.createFormGroupSubPlandeIntervencions()}ngOnInit(){this.CargarMatrizEscalas(),this.route.queryParams.subscribe(n=>{this.idRecibida=n.id,this.NomCRecibido=n.NomC,console.log("Variable recibida:",this.idRecibida),this.CargarPlandeIntervencions()})}ngOnDestroy(){this._tools.cerrarModales()}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(n=>{console.log("INFO CLIENTES CARGADO",n.data),this.InfoClientes=n.data},n=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",n)})}SeleccionandoInfoCliente(n,e){let t=n.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPlandeIntervencions.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPlandeIntervencions.patchValue({id_infocliente:e.id}))}isChecked(n,e){return this.SubPlandeIntervencions.some(t=>t.categoria===n&&t.nombre===e)}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(n=>{this.MatrizEscalas=n.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=n.data.filter(e=>e.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)"),this.MatrizCIM=n.data.filter(e=>e.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)"),this.MatrizMomento=n.data.filter(e=>e.categoria==="MOMENTO"),this.MatrizObjetivos=n.data.filter(e=>e.categoria==="OBJETIVOS"),this.MatrizRecursosMusicales=n.data.filter(e=>e.categoria==="RECURSOS MUSICALES"),this.MatrizEnfasisMusical=n.data.filter(e=>e.categoria==="ENFASIS MUSICAL"),this.MatrizEnfoque=n.data.filter(e=>e.categoria==="ETAPA MLT"),this.MatrizMLT=n.data.filter(e=>e.categoria==="ENFOQUE"),console.log("MATRIZ Recursos",this.MatrizRecursosMusicales)},n=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",n)})}onObjetivoChange(n){let e=this.MatrizObjetivos.find(t=>t.nombrematriz===n);e?this.subMatrizObjetivo=e.submatrizescala:this.subMatrizObjetivo=[]}CargarPlandeIntervencionsAll(){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.ObtenerPlandeIntervencions().subscribe(n=>{console.log("PlandeIntervencions CARGADO",n.data),this.PlandeIntervencions=n.data;let e=this.PlandeIntervencions.reduce((t,r)=>{let c=t.find(_=>_.nombres===r.nombres&&_.apellidos===r.apellidos&&_.fechaadmision===r.fechaadmision);return c?c.intervenciones.push({id:r.id,momento:r.momento,objetivo:r.objetivo,foco:r.foco,mlt:r.mlt,enfoque:r.enfoque,duracion:r.duracion,subplandeintervencion:r.subplandeintervencion}):t.push({id:r.id,nombres:r.nombres,apellidos:r.apellidos,fechaadmision:r.fechaadmision,intervenciones:[{id:r.id,momento:r.momento,objetivo:r.objetivo,foco:r.foco,mlt:r.mlt,enfoque:r.enfoque,duracion:r.duracion,subplandeintervencion:r.subplandeintervencion}]}),t},[]);console.log("Agrupado Plan de Intervenciones:",e),this.PlandeIntervencions=e,this.isLoadingPlandeIntervencions=!1},n=>{console.log("ERROR AL CARGAR PlandeIntervencions",n),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencionxidInfoCliente(n){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.CargarPlandeIntervencionxidInfoCliente(n).subscribe(e=>{console.log("PlandeIntervencions CARGADO",e.data),this.PlandeIntervencions=e.data,this.isLoadingPlandeIntervencions=!1},e=>{console.log("ERROR AL CARGAR PlandeIntervencions",e),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencions(){this.idRecibida==null||this.idRecibida==0||this.idRecibida==null?this.CargarPlandeIntervencionsAll():this.CargarPlandeIntervencionxidInfoCliente(Number(this.idRecibida))}getRecursosMusicalesList(n){return n.subplandeintervencion.filter(e=>e.categoria==="RECURSOS MUSICALES").map(e=>e.nombre)}getEnfasisMusicalList(n){return n.subplandeintervencion.filter(e=>e.categoria==="ENFASIS MUSICAL").map(e=>e.nombre)}AgregarModificarPlandeIntervencions(){if(this.newPlandeIntervencions.invalid){this.ValidacionTodoElementoPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPlandeIntervencions=!1;return}else{this.AnimarCargaTablaPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let n=this.newPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newPlandeIntervencions.value),n?this._planintervencion.ModificarPlandeIntervencions(this.newPlandeIntervencions.value,this.newPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._planintervencion.AgregarPlandeIntervencions(this.newPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPlandeIntervencions(n,e){switch(e){case"SubPlandeIntervencions":this.idPlandeIntervencionsSave=n,this.CargarSubPlandeIntervencions(),this._tools.abrirModal("ModalAllGestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess();break;default:if(this._tools.MostrarMensajeLoading(),n){if(!this.PlandeIntervencions.find(r=>r.id===n))return;this._planintervencion.SeleccionarPlandeIntervencions(n).subscribe(r=>{Object.keys(this.newPlandeIntervencions.controls).forEach(c=>{this.newPlandeIntervencions.controls[c].setValue(r.data[c])}),console.log("SELECCION DE PlandeIntervencions EXITOSA",this.newPlandeIntervencions.value),this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._tools.abrirModal("modalgestionPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL SELECCIONAR PlandeIntervencions",r),this._tools.MostrarMensajeError()})}break}}EliminarPlandeIntervencions(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._planintervencion.EliminarPlandeIntervencions(n).subscribe(t=>{console.log(t.data),this.CargarPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR PlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetPlandeIntervencions(){this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this._tools.cerrarModal("modalgestionPlandeIntervencions")}AbrirModalPlandeIntervencions(){this.CargarInfoClientes(),this.newPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionPlandeIntervencions")}AutoCompletarLastPlandeIntervencions(){this.newPlandeIntervencions.setValue(this.newPlandeIntervencionsAnteriorAccion.value),this.newPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newPlandeIntervencions.value)}AnimarCargaTablaPlandeIntervencions(){this.PlandeIntervencions=[],this.isLoadingPlandeIntervencions=!0}ValidacionPlandeIntervencionsxElemento(n){return this._tools.obtenerValidationClass(this.newPlandeIntervencions,n)}ValidacionTodoElementoPlandeIntervencions(){Object.values(this.newPlandeIntervencions.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}CargarSubPlandeIntervencions(){this.AnimarCargaTablaSubPlandeIntervencions(),this._subplanintervencion.SeleccionarAllInformacionSubPlandeIntervencions(this.idPlandeIntervencionsSave).subscribe(n=>{console.log("SubPlandeIntervencions CARGADO",n.data),this.SubPlandeIntervencions=n.data,this.isLoadingSubPlandeIntervencions=!1},n=>{console.log("ERROR AL CARGAR SubPlandeIntervencions",n),this.isLoadingSubPlandeIntervencions=!1})}AgregarModificarSubPlandeIntervencions(){if(this.newSubPlandeIntervencions.invalid){this.ValidacionTodoElementoSubPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1;return}else{this.AnimarCargaTablaSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let n=this.newSubPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newSubPlandeIntervencions.value),n?this._subplanintervencion.ModificarSubPlandeIntervencions(this.newSubPlandeIntervencions.value,this.newSubPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubPlandeIntervencions(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.SubPlandeIntervencions.find(t=>t.id===n))return;this._subplanintervencion.SeleccionarSubPlandeIntervencions(n).subscribe(t=>{Object.keys(this.newSubPlandeIntervencions.controls).forEach(r=>{this.newSubPlandeIntervencions.controls[r].setValue(t.data[r])}),console.log("SELECCION DE SubPlandeIntervencions EXITOSA",this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._tools.abrirModal("modalgestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()})}}EliminarSubPlandeIntervencions(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._subplanintervencion.EliminarSubPlandeIntervencions(n).subscribe(t=>{console.log(t.data),this.CargarSubPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetSubPlandeIntervencions(){this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this._tools.cerrarModal("modalgestionSubPlandeIntervencions")}AbrirModalSubPlandeIntervencions(){this.newSubPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionSubPlandeIntervencions")}AutoCompletarLastSubPlandeIntervencions(){this.newSubPlandeIntervencions.setValue(this.newSubPlandeIntervencionsAnteriorAccion.value),this.newSubPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newSubPlandeIntervencions.value)}AnimarCargaTablaSubPlandeIntervencions(){this.SubPlandeIntervencions=[],this.isLoadingSubPlandeIntervencions=!0}ValidacionSubPlandeIntervencionsxElemento(n){return this._tools.obtenerValidationClass(this.newSubPlandeIntervencions,n)}ValidacionTodoElementoSubPlandeIntervencions(){Object.values(this.newSubPlandeIntervencions.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}AccionCheckearAddSubIntervencions(n,e){console.log("INFO A PROCESAR",n);let t=e.target.id,r=this.findCheckboxIndexById(t);if(r!==-1&&(this.isLoading[r]=!0),e.target.checked)this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencions.patchValue({id:0,id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:n.categoria,nombre:n.nombrematriz}),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(c=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",c.data),this.SubPlandeIntervencions.push(this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[r]=!1,this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",c),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[r]=!1,document.getElementById(t).checked=!1});else{let c={id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:n.categoria,nombre:n.nombrematriz};this._subplanintervencion.eliminarsubplandeintervencionsxdata(c).subscribe(_=>{console.log("SE ELIMIN\xD3 CORRECTAMENTE SubPlandeIntervencions",_.data),this.SubPlandeIntervencions=this.SubPlandeIntervencions.filter(I=>!(I.id_plandeintervencion===c.id_plandeintervencion&&I.categoria===c.categoria&&I.nombre===c.nombre)),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[r]=!1,this._tools.MostrarMensajeSuccess()},_=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",_),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[r]=!1,document.getElementById(t).checked=!0})}}findCheckboxIndexById(n){let e=n.match(/\d+$/);return e?parseInt(e[0],10):-1}onToggleChange(n){this.ModoBoolean=n.target.checked,this.CargarSubPlandeIntervencions(),console.log("Variable Boolean is now:",this.ModoBoolean)}static{this.\u0275fac=function(e){return new(e||a)(x(si),x(gt),x(Z),x(ht),x(Le),x(Ee))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeplanesdeintervencion"]],decls:170,vars:35,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],["class","row",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","modalgestionPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","orden",1,"form-control",3,"ngClass"],["formControlName","momento",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","objetivo",1,"form-control",3,"change","ngClass"],["formControlName","foco",1,"form-control",3,"ngClass"],["formControlName","mlt",1,"form-control",3,"ngClass"],["formControlName","enfoque",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"button","col-sm-6","d-flex","justify-content-start"],[1,"form-check"],["type","checkbox","id","toggleVariable",1,"form-check-input",3,"change"],["for","toggleVariable",1,"form-check-label"],[4,"ngIf"],["id","modalgestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"col-md-12"],["class","card text-bg-primary","style","border-color: aliceblue; border-width: 2px;",4,"ngFor","ngForOf"],[1,"card","text-bg-primary",2,"border-color","aliceblue","border-width","2px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"text-light"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",2,"padding","0","margin","0",3,"id"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],["scope","row",2,"margin","0","padding","0","text-align","center"],[1,"list-unstyled",2,"margin","0","padding","0","text-align","center"],[2,"white-space","nowrap"],["title","Gestionar Sub Planes de Intervencion (Rec. Musicales, Enfasis Musical)",1,"btn","btn-outline-light","p-1","py-0",3,"click"],[1,"bi","bi-music-note",2,"font-size","1.5rem"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],[2,"margin","0","padding","0"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[3,"value"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"d-flex","flex-wrap"],["class","list-group-item col-sm-3 custom-border position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item","col-sm-3","custom-border","position-relative",3,"ngClass"],["type","checkbox",1,"form-check-input","me-1",3,"click","id","value","checked","disabled"],["class","spinner-border spinner-border-sm text-primary position-absolute top-50 start-50 translate-middle","role","status",4,"ngIf"],[1,"form-check-label","stretched-link",3,"for"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute","top-50","start-50","translate-middle"],["colspan","4",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Gesti\xF3n de Plan de Intervenci\xF3n "),o(),i(6,"p",4),s(7),o()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalPlandeIntervencions()}),m(11,"i",7),s(12," A\xF1adir PlandeIntervencions"),m(13,"span",8),o()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),o(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaPlandeIntervencions=1}),G("ngModelChange",function(c){return L(t.filtertxtPlandeIntervencions,c)||(t.filtertxtPlandeIntervencions=c),c}),o(),i(20,"label"),s(21,"Buscar"),o()()()()(),m(22,"hr"),b(23,qo,6,9,"div",15)(24,Xo,29,11,"div",16),m(25,"hr"),i(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h1",22),s(32),o(),i(33,"button",23),p("click",function(){return t.resetPlandeIntervencions()}),o()()(),i(34,"div",24)(35,"div",25)(36,"div",26)(37,"label",27),s(38,"Buscar:"),o(),i(39,"input",28),G("ngModelChange",function(c){return L(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),p("input",function(){return t.paginaInfoClientes=1}),o()(),b(40,Ko,4,9,"div",29),i(41,"pagination-controls",30),p("pageChange",function(c){return t.paginaInfoClientes=c}),o(),m(42,"hr"),i(43,"div",31),m(44,"input",32),i(45,"label"),s(46,"cliente"),o(),i(47,"div",33),s(48,"Este campo es obligatorio*"),o()(),i(49,"div",31),m(50,"input",34),i(51,"label"),s(52,"orden"),o(),i(53,"div",33),s(54,"Este campo es obligatorio*"),o()(),i(55,"div",31)(56,"select",35)(57,"option",36),s(58,"Seleccione una opci\xF3n"),o(),b(59,ea,2,2,"option",37),o(),i(60,"label"),s(61,"momento"),o(),i(62,"div",33),s(63,"Este campo es obligatorio*"),o()(),i(64,"div",31)(65,"select",38),p("change",function(c){return t.onObjetivoChange(c.target.value)}),i(66,"option",36),s(67,"Seleccione una opci\xF3n"),o(),b(68,ta,2,2,"option",37),o(),i(69,"label"),s(70,"objetivo"),o(),i(71,"div",33),s(72,"Este campo es obligatorio*"),o()(),i(73,"div",31)(74,"select",39)(75,"option",36),s(76,"Seleccione una opci\xF3n"),o(),b(77,ia,2,2,"option",37),o(),i(78,"label"),s(79,"foco"),o(),i(80,"div",33),s(81,"Este campo es obligatorio*"),o()(),i(82,"div",31)(83,"select",40)(84,"option",36),s(85,"Seleccione una opci\xF3n"),o(),b(86,na,2,2,"option",37),o(),i(87,"label"),s(88,"mlt"),o(),i(89,"div",33),s(90,"Este campo es obligatorio*"),o()(),i(91,"div",31)(92,"select",41)(93,"option",36),s(94,"Seleccione una opci\xF3n"),o(),b(95,oa,2,2,"option",37),o(),i(96,"label"),s(97,"enfoque"),o(),i(98,"div",33),s(99,"Este campo es obligatorio*"),o()(),i(100,"div",31)(101,"input",42),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPlandeIntervencions,"duracion")}),o(),i(102,"label"),s(103,"duracion"),o(),i(104,"div",33),s(105,"Este campo es obligatorio*"),o()()()(),i(106,"div",43),b(107,aa,6,0,"div",44),i(108,"div",45)(109,"div",46)(110,"button",47),p("click",function(){return t.resetPlandeIntervencions()}),m(111,"i",48),s(112," CANCELAR"),m(113,"span",8),o()(),i(114,"div",49),b(115,ra,4,4,"button",50)(116,sa,2,1,"button",51),o()()()()()(),i(117,"div",52)(118,"div",18)(119,"div",19)(120,"div",20)(121,"h1",53),s(122,"Sub Plan de Intervencion: Rec. Musicales y Enfasis Musical"),o(),i(123,"button",54),p("click",function(){return t.CargarPlandeIntervencions()}),o()(),i(124,"div",24),m(125,"hr"),i(126,"div",0)(127,"div",1),m(128,"div",2),o()(),i(129,"div",1)(130,"div",55)(131,"div")(132,"div",56)(133,"input",57),p("change",function(c){return t.onToggleChange(c)}),o(),i(134,"label",58),s(135,"Modo Visualizaci\xF3n"),o()()()(),i(136,"div",9)(137,"div",10)(138,"span",11),m(139,"i",12),o(),i(140,"div",13)(141,"input",14),p("input",function(){return t.paginaSubPlandeIntervencions=1}),G("ngModelChange",function(c){return L(t.filtertxtSubPlandeIntervencions,c)||(t.filtertxtSubPlandeIntervencions=c),c}),o(),i(142,"label"),s(143,"Buscar"),o()()()()(),m(144,"hr"),b(145,pa,12,2,"div",59)(146,fa,18,8,"div",16),m(147,"hr"),i(148,"div",60)(149,"div",18)(150,"div",19)(151,"div",20)(152,"div",21)(153,"h1",22),s(154),o(),i(155,"button",23),p("click",function(){return t.resetSubPlandeIntervencions()}),o()()(),i(156,"div",24)(157,"div",25),s(158," ... "),o()(),i(159,"div",43),b(160,ba,6,0,"div",44),i(161,"div",45)(162,"div",46)(163,"button",47),p("click",function(){return t.resetSubPlandeIntervencions()}),m(164,"i",48),s(165," CANCELAR"),m(166,"span",8),o()(),i(167,"div",49),b(168,va,4,4,"button",50)(169,_a,2,1,"button",51),o()()()()()()()()()()),e&2&&(l(7),E("Administra toda la informaci\xF3n del Plan de Intervencions ",t.NomCRecibido==""||t.NomCRecibido==null||t.NomCRecibido==null?"":"de: "+t.NomCRecibido," "),l(12),z("ngModel",t.filtertxtPlandeIntervencions),l(4),d("ngIf",t.idRecibida==null||t.idRecibida==0||t.idRecibida==null),l(),d("ngIf",!(t.idRecibida==null||t.idRecibida==0||t.idRecibida==null)),l(8),E("",t.newPlandeIntervencions.get("id").value?"Modificar":"Registrar"," Plan de Intervenci\xF3n"),l(3),d("formGroup",t.newPlandeIntervencions),l(4),z("ngModel",t.filterInfoClientes),d("ngModelOptions",Qe(34,ko)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),U("value",t.nombreseleccionado),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("orden")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("momento")),l(3),d("ngForOf",t.MatrizMomento),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("objetivo")),l(3),d("ngForOf",t.MatrizObjetivos),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("foco")),l(3),d("ngForOf",t.subMatrizObjetivo),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("mlt")),l(3),d("ngForOf",t.MatrizMLT),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("enfoque")),l(3),d("ngForOf",t.MatrizEnfoque),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("duracion")),l(6),d("ngIf",!t.newPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalPlandeIntervencions),l(25),z("ngModel",t.filtertxtSubPlandeIntervencions),l(4),d("ngIf",!t.ModoBoolean),l(),d("ngIf",t.ModoBoolean),l(8),E("",t.newSubPlandeIntervencions.get("id").value?"Modificar":"Registrar"," SubPlandeIntervencions"),l(3),d("formGroup",t.newSubPlandeIntervencions),l(3),d("ngIf",!t.newSubPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalSubPlandeIntervencions))},dependencies:[X,$,W,se,le,ee,be,re,te,ie,ne,oe,ae,me,de,Se,ve],styles:['@charset "UTF-8";.custom-border[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;background-color:#f9f9f9}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}.position-absolute[_ngcontent-%COMP%]{position:absolute}.top-50[_ngcontent-%COMP%]{top:50%}.start-50[_ngcontent-%COMP%]{left:50%}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}.custom-border[_ngcontent-%COMP%]:hover{background-color:#e9ecef;cursor:pointer}.custom-border.checked[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.custom-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]:before{border-color:#28a745;background-color:#28a745}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:disabled ~ .spinner-border[_ngcontent-%COMP%]{display:block}.folder-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.folder[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:background-color .3s ease}.folder[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.icon-folder[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:10px;background-size:cover}span[_ngcontent-%COMP%]{font-size:16px;color:#333}']})}};var ft=class a{constructor(n){this.http=n;this.ruta=M.ruta}ObtenerUsuarios(){return this.http.get(this.ruta+"api/Usuarios/")}AgregarUsuarios(n){return this.http.post(this.ruta+"api/Usuarios/",n)}ModificarUsuarios(n,e){return this.http.put(this.ruta+"api/Usuarios/"+e,n)}SeleccionarUsuarios(n){return this.http.get(this.ruta+"api/Usuarios/"+n)}EliminarUsuarios(n){return this.http.delete(this.ruta+"api/Usuarios/"+n)}createFormGroupUsuarios(){return new N({id:new g(0),nombres:new g(""),apellidos:new g(""),usuario:new g(""),contrasenia:new g(""),celular:new g(""),celulartrabajo:new g(""),carnet:new g(""),foto:new g(""),tipo:new g(""),estado:new g("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||a)(R(P))}}static{this.\u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Ea=a=>({itemsPerPage:10,currentPage:a});function Sa(a,n){a&1&&(i(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),s(5,"Loading..."),o()()()()())}function Ia(a,n){a&1&&(i(0,"tr")(1,"td",62),s(2,"No hay datos disponibles"),o()())}function xa(a,n){if(a&1&&(i(0,"a",73),m(1,"i",74),o()),a&2){let e=u().$implicit,t=u();d("href",t.ruta+e.foto,Y)}}function Ma(a,n){if(a&1){let e=C();i(0,"tr")(1,"td",66),s(2),o(),i(3,"td"),s(4),o(),i(5,"td"),s(6),o(),i(7,"td"),s(8),o(),i(9,"td"),s(10),o(),i(11,"td",67)(12,"button",68),p("click",function(){let r=h(e).$implicit,c=u();return f(c.SeleccionarUsuarios(r.id))}),m(13,"i",69),o(),i(14,"button",70),p("click",function(){let r=h(e).$implicit,c=u();return f(c.EliminarUsuarios(r.id))}),m(15,"i",71),o(),b(16,xa,2,1,"a",72),o()()}if(a&2){let e=n.index,t=n.$implicit,r=u();l(2),v((r.paginaUsuarios-1)*10+(e+1)),l(2),v(t.apellidos+" "+t.nombres),l(2),v(t.carnet),l(2),v(t.celular),l(2),v(t.estado),l(6),d("ngIf",!(t.foto==null||t.foto==""))}}function Aa(a,n){if(a&1){let e=C();i(0,"div",75)(1,"button",76),p("click",function(){h(e);let r=u();return f(r.AutoCompletarLastUsuarios())}),m(2,"i",77),s(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",78),o()()}}function wa(a,n){if(a&1){let e=C();i(0,"button",79),p("click",function(){h(e);let r=u();return f(r.AgregarModificarUsuarios())}),m(1,"i",80),s(2),m(3,"span",8),o()}if(a&2){let e=u();l(),k("bi bi-",e.newUsuarios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newUsuarios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function ya(a,n){if(a&1){let e=C();i(0,"button",81),p("click",function(){h(e);let r=u();return f(r.AgregarModificarUsuarios())}),m(1,"span",82),o()}a&2&&d("disabled",!0)}var bt=class a{constructor(n,e){this._user=n;this._tools=e;this.ruta=M.ruta;this.dataDropZone={iddropzone:"dropzoneusuarios",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.Usuarios=[];this.paginaUsuarios=1;this.isLoadingUsuarios=!0;this.AnimacionCargabtnModalUsuarios=!1;this.filtertxtUsuarios="";this.newUsuarios=this._user.createFormGroupUsuarios(),this.newUsuariosAnteriorAccion=this._user.createFormGroupUsuarios()}ngOnInit(){this.CargarUsuarios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","USUARIO");var n=document.getElementById("dropzoneusuarios");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),n&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===n&&(e.destroy(),n.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarUsuarios(){this.AnimarCargaTablaUsuarios(),this._user.ObtenerUsuarios().subscribe(n=>{console.log("Usuarios CARGADO",n.data),this.Usuarios=n.data,this.isLoadingUsuarios=!1},n=>{console.log("ERROR AL CARGAR Usuarios",n),this.isLoadingUsuarios=!1})}AgregarModificarUsuarios(){if(this.newUsuarios.invalid){this.ValidacionTodoElementoUsuarios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalUsuarios=!1;return}else{this.AnimarCargaTablaUsuarios(),this.AnimacionCargabtnModalUsuarios=!0,this._tools.MostrarMensajeLoading();let e=this.newUsuarios.controls.id.value;console.log("INFO A PROCESAR",this.newUsuarios.value);var n=sessionStorage.getItem("IMG");console.log("VALOR img",n),n==null||n==""||(this.newUsuarios.value.foto=n),e?this._user.ModificarUsuarios(this.newUsuarios.value,this.newUsuarios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Usuarios",t.data),this.CargarUsuarios(),console.log("ANTERIOR",this.newUsuariosAnteriorAccion.value.foto),console.log("AHORA",this.newUsuarios.value.foto),this.newUsuariosAnteriorAccion.value.foto==this.newUsuarios.value.foto||this._tools.EliminarArchivo(this.newUsuariosAnteriorAccion.value.foto),sessionStorage.removeItem("IMG"),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Usuarios",t),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}):(this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this._user.AgregarUsuarios(this.newUsuarios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Usuarios",t.data),this.CargarUsuarios(),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Usuarios",t),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarUsuarios(n){if(this._tools.MostrarMensajeLoading(),n){if(!this.Usuarios.find(t=>t.id===n))return;this._user.SeleccionarUsuarios(n).subscribe(t=>{Object.keys(this.newUsuarios.controls).forEach(r=>{this.newUsuarios.controls[r].setValue(t.data[r])}),console.log("SELECCION DE Usuarios EXITOSA",this.newUsuarios.value),this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Usuarios",t),this._tools.MostrarMensajeError()})}}EliminarUsuarios(n){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._user.EliminarUsuarios(n).subscribe(t=>{console.log(t.data),this.CargarUsuarios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Usuarios",t),this._tools.MostrarMensajeError()}))})}resetUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionUsuarios")}AbrirModalUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios")}AutoCompletarLastUsuarios(){this.newUsuarios.setValue(this.newUsuariosAnteriorAccion.value),this.newUsuarios.patchValue({id:0}),console.log("listo",this.newUsuarios.value)}AnimarCargaTablaUsuarios(){this.Usuarios=[],this.isLoadingUsuarios=!0}ValidacionUsuariosxElemento(n){return this._tools.obtenerValidationClass(this.newUsuarios,n)}ValidacionTodoElementoUsuarios(){Object.values(this.newUsuarios.controls).forEach(n=>{n.markAsTouched(),n.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(ft),x(Z))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeusuarios"]],decls:143,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionUsuarios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celulartrabajo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","SUPERADMINISTRADOR"],["value","MUSICOTERAPEUTA"],["value","SECRETARIA"],["formControlName","estado",1,"form-control",3,"ngClass"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneusuarios",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Gesti\xF3n de Usuarios"),o(),i(6,"p",4),s(7,"Administra toda la informaci\xF3n de los Usuarios de manera sencilla y eficiente"),o()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalUsuarios()}),m(11,"i",7),s(12," A\xF1adir Usuarios"),m(13,"span",8),o()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),o(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaUsuarios=1}),G("ngModelChange",function(c){return L(t.filtertxtUsuarios,c)||(t.filtertxtUsuarios=c),c}),o(),i(20,"label"),s(21,"Buscar"),o()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),s(28,"#"),o(),i(29,"th",18),s(30,"Nombre Completo"),o(),i(31,"th",18),s(32,"Carnet"),o(),i(33,"th",18),s(34,"Celular"),o(),i(35,"th",18),s(36,"Estado"),o(),i(37,"th",18),s(38,"ACCIONES"),o()()(),i(39,"tbody",19),b(40,Sa,6,0,"tr",20)(41,Ia,3,0,"tr",20)(42,Ma,17,6,"tr",21),S(43,"paginate"),o()(),i(44,"pagination-controls",22),p("pageChange",function(c){return t.paginaUsuarios=c}),o()(),m(45,"hr"),i(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h1",28),s(52),o(),i(53,"button",29),p("click",function(){return t.resetUsuarios()})("click",function(){return t.CancelarArchivosDropzone()}),o()()(),i(54,"div",30)(55,"div",31)(56,"div",32)(57,"input",33),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"nombres")}),o(),i(58,"label"),s(59,"nombres"),o(),i(60,"div",34),s(61,"Este campo es obligatorio*"),o()(),i(62,"div",32)(63,"input",35),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"apellidos")}),o(),i(64,"label"),s(65,"apellidos"),o(),i(66,"div",34),s(67,"Este campo es obligatorio*"),o()(),i(68,"div",32)(69,"input",36),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"usuario")}),o(),i(70,"label"),s(71,"usuario"),o(),i(72,"div",34),s(73,"Este campo es obligatorio*"),o()(),i(74,"div",32),m(75,"input",37),i(76,"label"),s(77,"contrasenia"),o(),i(78,"div",34),s(79,"Este campo es obligatorio*"),o()(),i(80,"div",32),m(81,"input",38),i(82,"label"),s(83,"celular"),o(),i(84,"div",34),s(85,"Este campo es obligatorio*"),o()(),i(86,"div",32),m(87,"input",39),i(88,"label"),s(89,"celulartrabajo"),o(),i(90,"div",34),s(91,"Este campo es obligatorio*"),o()(),i(92,"div",32)(93,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"carnet")}),o(),i(94,"label"),s(95,"carnet"),o(),i(96,"div",34),s(97,"Este campo es obligatorio*"),o()(),i(98,"div",32)(99,"select",41)(100,"option",42),s(101,"Seleccione una opci\xF3n"),o(),i(102,"option",43),s(103,"SUPERADMINISTRADOR"),o(),i(104,"option",44),s(105,"MUSICOTERAPEUTA"),o(),i(106,"option",45),s(107,"SECRETARIA"),o()(),i(108,"label"),s(109,"tipo"),o(),i(110,"div",34),s(111,"Este campo es obligatorio*"),o()(),i(112,"div",32)(113,"select",46)(114,"option",42),s(115,"Seleccione una opci\xF3n"),o(),i(116,"option",47),s(117,"ACTIVO"),o(),i(118,"option",48),s(119,"INACTIVO"),o()(),i(120,"label"),s(121,"estado"),o(),i(122,"div",34),s(123,"Este campo es obligatorio*"),o()(),i(124,"div",49)(125,"label",50),s(126,"Foto"),o(),m(127,"div",51)(128,"hr"),i(129,"span"),s(130,"IMAGEN ACTUAL:"),o(),m(131,"img",52),o()()(),i(132,"div",53),b(133,Aa,6,0,"div",54),i(134,"div",55)(135,"div",56)(136,"button",57),p("click",function(){return t.resetUsuarios()})("click",function(){return t.CancelarArchivosDropzone()}),m(137,"i",58),s(138," CANCELAR"),m(139,"span",8),o()(),i(140,"div",59),b(141,wa,4,4,"button",60)(142,ya,2,1,"button",61),o()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtUsuarios),l(21),d("ngIf",t.isLoadingUsuarios),l(),d("ngIf",!t.isLoadingUsuarios&&t.Usuarios.length===0),l(),d("ngForOf",A(43,19,t.Usuarios,V(22,Ea,t.paginaUsuarios))),l(10),E("",t.newUsuarios.get("id").value?"Modificar":"Registrar"," Usuarios"),l(3),d("formGroup",t.newUsuarios),l(2),d("ngClass",t.ValidacionUsuariosxElemento("nombres")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("apellidos")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("usuario")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celular")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celulartrabajo")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("carnet")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("tipo")),l(14),d("ngClass",t.ValidacionUsuariosxElemento("estado")),l(18),d("src",t.ruta+t.newUsuarios.value.foto,Y),l(2),d("ngIf",!t.newUsuarios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalUsuarios),l(),d("ngIf",t.AnimacionCargabtnModalUsuarios))},dependencies:[X,$,W,se,le,ee,be,re,te,ie,ne,oe,ae,me,de]})}};var Pa=[{path:"clientes",component:it,canActivate:[ge]},{path:"ciclosplanesintervenciones",component:nt,canActivate:[ge]},{path:"pagos",component:st,canActivate:[ge]},{path:"inicios",component:dt,canActivate:[ge]},{path:"matrizdeescalas",component:ut,canActivate:[ge]},{path:"usuarios",component:bt,canActivate:[ge]},{path:"planesdeintervenciones",component:Ue,canActivate:[ge]},{path:"planesdeintervenciones/:variable",component:Ue,canActivate:[ge]}],hi=class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=ye({type:a})}static{this.\u0275inj=we({imports:[Pt.forChild(Pa),Pt]})}};export{lt as a,et as b,Ee as c,Da as d,vr as e,ot as f,at as g,rt as h,Le as i,mt as j,gt as k,ht as l,ft as m,hi as n};
