import{a as _u,b as wu,c as Ci,d as Eu,e as ii,f as jn,g as ni,h as yu,i as Cu,j as xu,k as Su,l as Au,m as Iu}from"./chunk-MYBBSR53.js";import{$ as G,A as zr,Aa as Ne,B as Ln,Ba as cu,Bb as ut,C as Ur,Ca as uu,D as Fn,Da as Gn,Db as vt,E as nu,Ea as Xe,Eb as bu,F as Vr,Fb as bt,G as ru,Gb as _t,H as ou,Ha as Re,Hb as wt,I as Gr,Ia as mt,Ib as Et,J as Ze,Ja as ke,Jb as yt,K as C,L as Br,M as Me,N as Ke,Na as Ge,O as Ei,P as zn,Pa as Bn,Pb as Ct,Q as Nt,Qa as ht,Qb as Qe,R as au,Ra as at,S as Ee,Sa as st,T as nt,U as jr,V as Dt,W as Hr,Wa as du,X as Wr,Y as z,Ya as hu,Z as a,_ as s,_a as pu,a as qc,aa as ui,ab as qr,b as Dn,ba as di,ca as xe,cb as ti,da as ee,e as Kc,ea as re,f as sn,fa as su,g as $c,ga as Un,gb as mu,h as Xc,i as ln,j as Zc,k as Yc,l as Pr,lb as fu,m as ci,ma as pt,n as Jc,nb as yi,o as Lr,oa as kt,p as Qc,pa as Vn,q as eu,qa as De,qb as Kr,r as tu,ra as h,rb as ft,s as Fr,sa as ye,sb as gu,t as kn,ta as Se,tb as lt,u as wi,ua as Je,ub as vu,v as iu,va as lu,w as Pn,wa as Fe,wb as ct,x as ot,xa as ze,xb as gt,y as se,ya as Ue,z as le,za as $e}from"./chunk-SR3KCT23.js";import{a as kr,d as Xh,f as Zh,g as Wc}from"./chunk-GAL4ENT6.js";var Uh=Xh((kc,Pc)=>{(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof kc<"u"?e():(e(),n.FileSaver={})})(kc,function(){"use strict";function n(l,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function e(l,p,A){var y=new XMLHttpRequest;y.open("GET",l),y.responseType="blob",y.onload=function(){d(y.response,p,A)},y.onerror=function(){console.error("could not download file")},y.send()}function t(l){var p=new XMLHttpRequest;p.open("HEAD",l,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(p)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(l,p,A){var y=r.URL||r.webkitURL,M=document.createElement("a");p=p||l.name||"download",M.download=p,M.rel="noopener",typeof l=="string"?(M.href=l,M.origin===location.origin?i(M):t(M.href)?e(l,p,A):i(M,M.target="_blank")):(M.href=y.createObjectURL(l),setTimeout(function(){y.revokeObjectURL(M.href)},4e4),setTimeout(function(){i(M)},0))}:"msSaveOrOpenBlob"in navigator?function(l,p,A){if(p=p||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(n(l,A),p);else if(t(l))e(l,p,A);else{var y=document.createElement("a");y.href=l,y.target="_blank",setTimeout(function(){i(y)})}}:function(l,p,A,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof l=="string")return e(l,p,A);var M=l.type==="application/octet-stream",N=/constructor/i.test(r.HTMLElement)||r.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||M&&N||o)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var m=R.result;m=w?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=m:location=m,y=null},R.readAsDataURL(l)}else{var b=r.URL||r.webkitURL,D=b.createObjectURL(l);y?y.location=D:location.href=D,y=null,setTimeout(function(){b.revokeObjectURL(D)},4e4)}});r.saveAs=d.saveAs=d,typeof Pc<"u"&&(Pc.exports=d)})});function Yh(n,e){if(n&1){let t=xe();a(0,"a",12),ee("keyup.enter",function(){se(t),re(3);let r=pt(1);return le(r.previous())})("click",function(){se(t),re(3);let r=pt(1);return le(r.previous())}),h(1),a(2,"span",13),h(3),s()()}if(n&2){let t=re(3);C(),Se(" ",t.previousLabel," "),C(2),ye(t.screenReaderPageLabel)}}function Jh(n,e){if(n&1&&(a(0,"span",14),h(1),a(2,"span",13),h(3),s()()),n&2){let t=re(3);C(),Se(" ",t.previousLabel," "),C(2),ye(t.screenReaderPageLabel)}}function Qh(n,e){if(n&1&&(a(0,"li",9),Ee(1,Yh,4,2,"a",10)(2,Jh,4,2,"span",11),s()),n&2){re(2);let t=pt(1);kt("disabled",t.isFirstPage()),C(),z("ngIf",1<t.getCurrent()),C(),z("ngIf",t.isFirstPage())}}function ep(n,e){if(n&1){let t=xe();a(0,"a",12),ee("keyup.enter",function(){se(t);let r=re().$implicit;re(2);let o=pt(1);return le(o.setCurrent(r.value))})("click",function(){se(t);let r=re().$implicit;re(2);let o=pt(1);return le(o.setCurrent(r.value))}),a(1,"span",13),h(2),s(),a(3,"span"),h(4),Re(5,"number"),s()()}if(n&2){let t=re().$implicit,i=re(2);C(2),Se("",i.screenReaderPageLabel," "),C(2),ye(t.label==="..."?t.label:ke(5,2,t.label,""))}}function tp(n,e){if(n&1&&(ui(0),a(1,"span",16)(2,"span",13),h(3),s(),a(4,"span"),h(5),Re(6,"number"),s()(),di()),n&2){let t=re().$implicit,i=re(2);C(3),Se("",i.screenReaderCurrentLabel," "),C(2),ye(t.label==="..."?t.label:ke(6,2,t.label,""))}}function ip(n,e){if(n&1&&(a(0,"li"),Ee(1,ep,6,5,"a",10)(2,tp,7,5,"ng-container",15),s()),n&2){let t=e.$implicit;re(2);let i=pt(1);kt("current",i.getCurrent()===t.value)("ellipsis",t.label==="..."),C(),z("ngIf",i.getCurrent()!==t.value),C(),z("ngIf",i.getCurrent()===t.value)}}function np(n,e){if(n&1){let t=xe();a(0,"a",12),ee("keyup.enter",function(){se(t),re(3);let r=pt(1);return le(r.next())})("click",function(){se(t),re(3);let r=pt(1);return le(r.next())}),h(1),a(2,"span",13),h(3),s()()}if(n&2){let t=re(3);C(),Se(" ",t.nextLabel," "),C(2),ye(t.screenReaderPageLabel)}}function rp(n,e){if(n&1&&(a(0,"span",14),h(1),a(2,"span",13),h(3),s()()),n&2){let t=re(3);C(),Se(" ",t.nextLabel," "),C(2),ye(t.screenReaderPageLabel)}}function op(n,e){if(n&1&&(a(0,"li",17),Ee(1,np,4,2,"a",10)(2,rp,4,2,"span",11),s()),n&2){re(2);let t=pt(1);kt("disabled",t.isLastPage()),C(),z("ngIf",!t.isLastPage()),C(),z("ngIf",t.isLastPage())}}function ap(n,e){if(n&1&&(a(0,"ul",4),Ee(1,Qh,3,4,"li",5),a(2,"li",6),h(3),s(),Ee(4,ip,3,6,"li",7)(5,op,3,4,"li",8),s()),n&2){let t=re(),i=pt(1);kt("responsive",t.responsive),C(),z("ngIf",t.directionLinks),C(2),Je(" ",i.getCurrent()," / ",i.getLastPage()," "),C(),z("ngForOf",i.pages)("ngForTrackBy",t.trackByIndex),C(),z("ngIf",t.directionLinks)}}var cn=class{constructor(){this.change=new nt,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return e.id==null&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let i in this.instances[e.id])e[i]!==this.instances[e.id][i]&&(this.instances[e.id][i]=e[i],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let i=this.instances[e],r=Math.ceil(i.totalItems/i.itemsPerPage);t<=r&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},sp=Number.MAX_SAFE_INTEGER,xt=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,i){if(!(t instanceof Array)){let M=i.id||this.service.defaultId();return this.state[M]?this.state[M].slice:t}let r=i.totalItems&&i.totalItems!==t.length,o=this.createInstance(t,i),d=o.id,l,p,A=o.itemsPerPage,y=this.service.register(o);if(!r&&t instanceof Array){if(A=+A||sp,l=(o.currentPage-1)*A,p=l+A,this.stateIsIdentical(d,t,l,p))return this.state[d].slice;{let N=t.slice(l,p);return this.saveState(d,t,N,l,p),this.service.change.emit(d),N}}else return y&&this.service.change.emit(d),this.saveState(d,t,t,l,p),t}createInstance(t,i){return this.checkConfig(i),{id:i.id!=null?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||t.length}}checkConfig(t){let r=["itemsPerPage","currentPage"].filter(o=>!(o in t));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(t,i,r,o,d){this.state[t]={collection:i,size:i.length,slice:r,start:o,end:d}}stateIsIdentical(t,i,r,o){let d=this.state[t];return!d||!(d.size===i.length&&d.start===r&&d.end===o)?!1:d.slice.every((p,A)=>p===i[r+A])}}return n.\u0275fac=function(t){return new(t||n)(Me(cn,16))},n.\u0275pipe=Nt({name:"paginate",type:n,pure:!1,standalone:!1}),n})();var lp=(()=>{class n{constructor(t,i){this.service=t,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new nt,this.pageBoundsCorrection=new nt,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id),i=this.outOfBoundCorrection(t);i!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){let i=Math.ceil(t.totalItems/t.itemsPerPage);return i<t.currentPage&&0<i?i:t.currentPage<1?1:t.currentPage}createPageArray(t,i,r,o){o=+o;let d=[],l=Math.max(Math.ceil(r/i),1),p=Math.ceil(o/2),A=t<=p,y=l-p<t,M=!A&&!y,N=o<l,w=1;for(;w<=l&&w<=o;){let R,b=this.calculatePageNumber(w,t,o,l),D=w===2&&(M||y),m=w===o-1&&(M||A);N&&(D||m)?R="...":R=b,d.push({label:R,value:b}),w++}return d}calculatePageNumber(t,i,r,o){let d=Math.ceil(r/2);return t===r?o:t===1?t:r<o?o-d<i?o-r+t:d<i?i-d+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(Me(cn),Me(Bn))},n.\u0275dir=zn({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],standalone:!1,features:[Fn]}),n})();function $r(n){return!!n&&n!=="false"}var St=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new nt,this.pageBoundsCorrection=new nt,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=$r(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=$r(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=$r(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ke({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},standalone:!1,decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,i){if(t&1){let r=xe();a(0,"pagination-template",1,0),ee("pageChange",function(d){return se(r),le(i.pageChange.emit(d))})("pageBoundsCorrection",function(d){return se(r),le(i.pageBoundsCorrection.emit(d))}),a(2,"nav",2),Ee(3,ap,6,8,"ul",3),s()()}if(t&2){let r=pt(1);z("id",i.id)("maxSize",i.maxSize),C(2),Dt("aria-label",i.screenReaderPaginationLabel),C(),z("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[lp,st,at,du],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),n})(),o1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ei({type:n}),n.\u0275inj=wi({providers:[cn],imports:[[hu]]}),n})();var Hn={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Xr=new iu("config",{providedIn:"root",factory:()=>({modules:Hn})});function un(n){n||(n=ot(Ln));let e=new Dn(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(eu(e))}var cp=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],up=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function dp(n,e){n&1&&G(0,"div",0)}function hp(n,e){n&1&&G(0,"div",0)}var Wn=(n,e)=>n||e||"html",pp=()=>new Dn(n=>{let e=requestAnimationFrame(()=>{n.next(),n.complete()});return()=>cancelAnimationFrame(e)}),mp=(()=>{let e=class e{constructor(){this.config=ot(Xr)||{modules:Hn},this.document=ot(zr),this.quill$=Yc(()=>Wc(this,null,function*(){if(!this.Quill){let i=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let r=yield import("./chunk-GTJGVPUT.js");this.document.addEventListener=i,this.Quill=r.default?.default??r.default??r}return this.config.customOptions?.forEach(i=>{let r=this.Quill.import(i.import);r.whitelist=i.whitelist,this.Quill.register(r,!0,this.config.suppressGlobalRegisterWarning)}),Xc(this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning))})).pipe(Qc({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(i,r,o=this.config.beforeRender){let d=[this.registerCustomModules(i,r)];return o&&d.push(Kc(o())),Pr(d).pipe(ln(()=>i))}registerCustomModules(i,r,o){if(!Array.isArray(r))return sn(i);let d=[];for(let l of r){let{path:p,implementation:A}=l;this.registeredModules.has(p)||(this.registeredModules.add(p),$c(A)?d.push(A.pipe(tu(y=>{i.register(p,y,o)}))):i.register(p,A,o))}return d.length>0?Pr(d).pipe(ln(()=>i)):sn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),fp=(()=>{let e=class e{constructor(){this.format=Ge(void 0),this.theme=Ge(void 0),this.modules=Ge(void 0),this.debug=Ge(!1),this.readOnly=Ge(!1),this.placeholder=Ge(void 0),this.maxLength=Ge(void 0),this.minLength=Ge(void 0),this.required=Ge(!1),this.formats=Ge(void 0),this.customToolbarPosition=Ge("top"),this.sanitize=Ge(void 0),this.beforeRender=Ge(void 0),this.styles=Ge(null),this.registry=Ge(void 0),this.bounds=Ge(void 0),this.customOptions=Ge([]),this.customModules=Ge([]),this.trackChanges=Ge(void 0),this.classes=Ge(void 0),this.trimOnValidation=Ge(!1),this.linkPlaceholder=Ge(void 0),this.compareValues=Ge(!1),this.filterNull=Ge(!1),this.debounceTime=Ge(void 0),this.defaultEmptyValue=Ge(null),this.onEditorCreated=new nt,this.onEditorChanged=new nt,this.onContentChanged=new nt,this.onSelectionChanged=new nt,this.onFocus=new nt,this.onBlur=new nt,this.onNativeFocus=new nt,this.onNativeBlur=new nt,this.disabled=!1,this.toolbarPosition=Ur("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=ot(Vr),this.document=ot(zr),this.cd=ot(Bn),this.domSanitizer=ot(mu),this.platformId=ot(ru),this.renderer=ot(Br),this.zone=ot(jr),this.service=ot(mp),this.destroyRef=ot(Ln),this.valueGetter=Ge(i=>{let r=i.getSemanticHTML();this.isEmptyValue(r)&&(r=this.defaultEmptyValue());let o=r,d=Wn(this.format(),this.service.config.format);if(d==="text")o=i.getText();else if(d==="object")o=i.getContents();else if(d==="json")try{o=JSON.stringify(i.getContents())}catch{o=i.getText()}return o}),this.valueSetter=Ge((i,r)=>{let o=Wn(this.format(),this.service.config.format);if(o==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(r=this.domSanitizer.sanitize(ou.HTML,r)),i.clipboard.convert({html:r});if(o==="json")try{return JSON.parse(r)}catch{return[{insert:r}]}return r}),this.selectionChangeHandler=(i,r,o)=>{let d=this.trackChanges()||this.service.config.trackChanges,l=!i&&!!this.onModelTouched&&(o==="user"||d&&d==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!l||this.zone.run(()=>{i===null?this.onBlur.emit({editor:this.quillEditor,source:o}):r===null&&this.onFocus.emit({editor:this.quillEditor,source:o}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:r,range:i,source:o}),l&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(i,r,o)=>{let d=this.quillEditor.getText(),l=this.quillEditor.getContents(),p=this.quillEditor.getSemanticHTML();this.isEmptyValue(p)&&(p=this.defaultEmptyValue());let A=this.trackChanges()||this.service.config.trackChanges,y=(o==="user"||A&&A==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!y||this.zone.run(()=>{if(y){let M=this.valueGetter();this.onModelChange(M(this.quillEditor))}this.onContentChanged.emit({content:l,delta:i,editor:this.quillEditor,html:p,oldDelta:r,source:o,text:d}),this.cd.markForCheck()})},this.editorChangeHandler=(i,r,o,d)=>{if(this.onEditorChanged.observed)if(i==="text-change"){let l=this.quillEditor.getText(),p=this.quillEditor.getContents(),A=this.quillEditor.getSemanticHTML();this.isEmptyValue(A)&&(A=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:p,delta:r,editor:this.quillEditor,event:i,html:A,oldDelta:o,source:d,text:l}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:i,oldRange:o,range:r,source:d}),this.cd.markForCheck()})}}static normalizeClassNames(i){return i.trim().split(" ").reduce((o,d)=>{let l=d.trim();return l&&o.push(l),o},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){pu(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(Zc(i=>this.service.beforeRender(i,this.customModules(),this.beforeRender()))).subscribe(i=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let r=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),o=Object.assign({},this.modules()||this.service.config.modules);r?o.toolbar=r:o.toolbar===void 0&&(o.toolbar=Hn.toolbar);let d=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;d===void 0&&(d="Insert text here ...");let l=this.styles();l&&Object.keys(l).forEach(N=>{this.renderer.setStyle(this.editorElem,N,l[N])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(N=>{let w=i.import(N.import);w.whitelist=N.whitelist,i.register(w,!0)});let p=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();p||(p=this.service.config.bounds?this.service.config.bounds:this.document.body);let A=this.debug();!A&&A!==!1&&this.service.config.debug&&(A=this.service.config.debug);let y=this.readOnly();!y&&this.readOnly()!==!1&&(y=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let M=this.formats();if(!M&&M===void 0&&(M=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new i(this.editorElem,{bounds:p,debug:A,formats:M,modules:o,placeholder:d,readOnly:y,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){ci(this.quillEditor.scroll.domNode,"blur").pipe(un(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let N=this.quillEditor.getModule("toolbar");N.container&&ci(N.container,"mousedown").pipe(un(this.destroyRef)).subscribe(w=>w.preventDefault())}if(this.onNativeFocus.observed&&ci(this.quillEditor.scroll.domNode,"focus").pipe(un(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let w=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");w?.dataset&&(w.dataset.link=this.linkPlaceholder())}}),this.content){if(Wn(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let b=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(b,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&pp().pipe(un(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(i){if(this.quillEditor){if(i.readOnly&&this.quillEditor.enable(!i.readOnly.currentValue),i.placeholder&&(this.quillEditor.root.dataset.placeholder=i.placeholder.currentValue),i.styles){let r=i.styles.currentValue,o=i.styles.previousValue;o&&Object.keys(o).forEach(d=>{this.renderer.removeStyle(this.editorElem,d)}),r&&Object.keys(r).forEach(d=>{this.renderer.setStyle(this.editorElem,d,this.styles()[d])})}if(i.classes){let r=i.classes.currentValue,o=i.classes.previousValue;o&&this.removeClasses(o),r&&this.addClasses(r)}i.debounceTime&&this.addQuillEventListeners()}}addClasses(i){e.normalizeClassNames(i).forEach(r=>{this.renderer.addClass(this.editorElem,r)})}removeClasses(i){e.normalizeClassNames(i).forEach(r=>{this.renderer.removeClass(this.editorElem,r)})}writeValue(i){if(this.filterNull()&&i===null||(this.content=i,!this.quillEditor))return;let r=Wn(this.format(),this.service.config.format),d=this.valueSetter()(this.quillEditor,i);if(this.compareValues()){let l=this.quillEditor.getContents();if(JSON.stringify(l)===JSON.stringify(d))return}if(i){r==="text"?this.quillEditor.setText(i):this.quillEditor.setContents(d);return}this.quillEditor.setText("")}setDisabledState(i=this.disabled){this.disabled=i,this.quillEditor&&(i?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}registerOnValidatorChange(i){this.onValidatorChanged=i}validate(){if(!this.quillEditor)return null;let i={},r=!0,o=this.quillEditor.getText(),d=this.trimOnValidation()?o.trim().length:o.length===1&&o.trim().length===0?0:o.length-1,l=this.quillEditor.getContents().ops,p=!!l&&l.length===1&&[`
`,""].includes(l[0].insert?.toString());return this.minLength()&&d&&d<this.minLength()&&(i.minLengthError={given:d,minLength:this.minLength()},r=!1),this.maxLength()&&d>this.maxLength()&&(i.maxLengthError={given:d,maxLength:this.maxLength()},r=!1),this.required()&&!d&&p&&(i.requiredError={empty:!0},r=!1),r?null:i}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new qc,this.subscription.add(ci(this.quillEditor,"selection-change").subscribe(([o,d,l])=>{this.selectionChangeHandler(o,d,l)}));let i=ci(this.quillEditor,"text-change"),r=ci(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(i=i.pipe(Lr(this.debounceTime())),r=r.pipe(Lr(this.debounceTime()))),this.subscription.add(i.subscribe(([o,d,l])=>{this.textChangeHandler(o,d,l)})),this.subscription.add(r.subscribe(([o,d,l,p])=>{this.editorChangeHandler(o,d,l,p)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(i){return i==="<p></p>"||i==="<div></div>"||i==="<p><br></p>"||i==="<div><br></div>"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=zn({type:e,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[Fn]});let n=e;return n})(),qn=(()=>{let e=class e extends fp{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=nu(e)))(o||e)}})(),e.\u0275cmp=Ke({type:e,selectors:[["quill-editor"]],features:[uu([{multi:!0,provide:gu,useExisting:Fr(()=>e)},{multi:!0,provide:vu,useExisting:Fr(()=>e)}]),au],ngContentSelectors:up,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(r,o){r&1&&(su(cp),Hr(0,dp,1,0,"div",0),Un(1),Un(2,1),Un(3,2),Hr(4,hp,1,0,"div",0)),r&2&&(Wr(o.toolbarPosition()!=="top"?0:-1),C(4),Wr(o.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]});let n=e;return n})();var F1=(()=>{let e=class e{static forRoot(i){return{ngModule:e,providers:[{provide:Xr,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ei({type:e}),e.\u0275inj=wi({});let n=e;return n})();var gp=Object.defineProperty,vp=Object.defineProperties,bp=Object.getOwnPropertyDescriptors,Mu=Object.getOwnPropertySymbols,_p=Object.prototype.hasOwnProperty,wp=Object.prototype.propertyIsEnumerable,ga=(n,e,t)=>e in n?gp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pe=(n,e)=>{for(var t in e||(e={}))_p.call(e,t)&&ga(n,t,e[t]);if(Mu)for(var t of Mu(e))wp.call(e,t)&&ga(n,t,e[t]);return n},En=(n,e)=>vp(n,bp(e));var fe=(n,e,t)=>ga(n,typeof e!="symbol"?e+"":e,t),Ep=(n,e,t)=>new Promise((i,r)=>{var o=p=>{try{l(t.next(p))}catch(A){r(A)}},d=p=>{try{l(t.throw(p))}catch(A){r(A)}},l=p=>p.done?i(p.value):Promise.resolve(p.value).then(o,d);l((t=t.apply(n,e)).next())}),ki=class{constructor(e){fe(this,"rootKey"),this.rootKey=e}},yp=Object.seal({}),ge=class extends ki{constructor(e){super(e),fe(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);let i=this.root.map(r=>r instanceof ki?r.prepForXml(e):r).filter(r=>r!==void 0);return e.stack.pop(),{[this.rootKey]:i.length?i.length===1&&((t=i[0])!=null&&t._attr)?i[0]:i:yp}}addChildElement(e){return this.root.push(e),this}},Mt=class extends ge{prepForXml(e){let t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}},Ie=class extends ki{constructor(e){super("_attr"),fe(this,"xmlKeys"),this.root=e}prepForXml(e){let t={};return Object.entries(this.root).forEach(([i,r])=>{if(r!==void 0){let o=this.xmlKeys&&this.xmlKeys[i]||i;t[o]=r}}),{_attr:t}}},Vt=class extends ki{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:i})=>i!==void 0).reduce((i,{key:r,value:o})=>En(Pe({},i),{[r]:o}),{})}}},je=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}},Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zr={},Kn={exports:{}},Ru;function _c(){if(Ru)return Kn.exports;Ru=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(O,V,j){return Function.prototype.apply.call(O,V,j)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:t=function(O){return Object.getOwnPropertyNames(O)};function i(f){console&&console.warn&&console.warn(f)}var r=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}Kn.exports=o,Kn.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var d=10;function l(f){if(typeof f!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(f){if(typeof f!="number"||f<0||r(f))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+f+".");d=f}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||r(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function p(f){return f._maxListeners===void 0?o.defaultMaxListeners:f._maxListeners}o.prototype.getMaxListeners=function(){return p(this)},o.prototype.emit=function(O){for(var V=[],j=1;j<arguments.length;j++)V.push(arguments[j]);var X=O==="error",k=this._events;if(k!==void 0)X=X&&k.error===void 0;else if(!X)return!1;if(X){var Z;if(V.length>0&&(Z=V[0]),Z instanceof Error)throw Z;var me=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw me.context=Z,me}var P=k[O];if(P===void 0)return!1;if(typeof P=="function")e(P,this,V);else for(var W=P.length,S=R(P,W),j=0;j<W;++j)e(S[j],this,V);return!0};function A(f,O,V,j){var X,k,Z;if(l(V),k=f._events,k===void 0?(k=f._events=Object.create(null),f._eventsCount=0):(k.newListener!==void 0&&(f.emit("newListener",O,V.listener?V.listener:V),k=f._events),Z=k[O]),Z===void 0)Z=k[O]=V,++f._eventsCount;else if(typeof Z=="function"?Z=k[O]=j?[V,Z]:[Z,V]:j?Z.unshift(V):Z.push(V),X=p(f),X>0&&Z.length>X&&!Z.warned){Z.warned=!0;var me=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");me.name="MaxListenersExceededWarning",me.emitter=f,me.type=O,me.count=Z.length,i(me)}return f}o.prototype.addListener=function(O,V){return A(this,O,V,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,V){return A(this,O,V,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(f,O,V){var j={fired:!1,wrapFn:void 0,target:f,type:O,listener:V},X=y.bind(j);return X.listener=V,j.wrapFn=X,X}o.prototype.once=function(O,V){return l(V),this.on(O,M(this,O,V)),this},o.prototype.prependOnceListener=function(O,V){return l(V),this.prependListener(O,M(this,O,V)),this},o.prototype.removeListener=function(O,V){var j,X,k,Z,me;if(l(V),X=this._events,X===void 0)return this;if(j=X[O],j===void 0)return this;if(j===V||j.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete X[O],X.removeListener&&this.emit("removeListener",O,j.listener||V));else if(typeof j!="function"){for(k=-1,Z=j.length-1;Z>=0;Z--)if(j[Z]===V||j[Z].listener===V){me=j[Z].listener,k=Z;break}if(k<0)return this;k===0?j.shift():b(j,k),j.length===1&&(X[O]=j[0]),X.removeListener!==void 0&&this.emit("removeListener",O,me||V)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var V,j,X;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[O]),this;if(arguments.length===0){var k=Object.keys(j),Z;for(X=0;X<k.length;++X)Z=k[X],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=j[O],typeof V=="function")this.removeListener(O,V);else if(V!==void 0)for(X=V.length-1;X>=0;X--)this.removeListener(O,V[X]);return this};function N(f,O,V){var j=f._events;if(j===void 0)return[];var X=j[O];return X===void 0?[]:typeof X=="function"?V?[X.listener||X]:[X]:V?D(X):R(X,X.length)}o.prototype.listeners=function(O){return N(this,O,!0)},o.prototype.rawListeners=function(O){return N(this,O,!1)},o.listenerCount=function(f,O){return typeof f.listenerCount=="function"?f.listenerCount(O):w.call(f,O)},o.prototype.listenerCount=w;function w(f){var O=this._events;if(O!==void 0){var V=O[f];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function R(f,O){for(var V=new Array(O),j=0;j<O;++j)V[j]=f[j];return V}function b(f,O){for(;O+1<f.length;O++)f[O]=f[O+1];f.pop()}function D(f){for(var O=new Array(f.length),V=0;V<O.length;++V)O[V]=f[V].listener||f[V];return O}function m(f,O){return new Promise(function(V,j){function X(Z){f.removeListener(O,k),j(Z)}function k(){typeof f.removeListener=="function"&&f.removeListener("error",X),V([].slice.call(arguments))}_(f,O,k,{once:!0}),O!=="error"&&x(f,X,{once:!0})})}function x(f,O,V){typeof f.on=="function"&&_(f,"error",O,V)}function _(f,O,V,j){if(typeof f.on=="function")j.once?f.once(O,V):f.on(O,V);else if(typeof f.addEventListener=="function")f.addEventListener(O,function X(k){j.once&&f.removeEventListener(O,X),V(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof f)}return Kn.exports}var $n={exports:{}},Ou;function si(){return Ou||(Ou=1,typeof Object.create=="function"?$n.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$n.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}),$n.exports}function Cp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ch={exports:{}},qe=ch.exports={},Ft,zt;function va(){throw new Error("setTimeout has not been defined")}function ba(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ft=setTimeout:Ft=va}catch{Ft=va}try{typeof clearTimeout=="function"?zt=clearTimeout:zt=ba}catch{zt=ba}})();function uh(n){if(Ft===setTimeout)return setTimeout(n,0);if((Ft===va||!Ft)&&setTimeout)return Ft=setTimeout,setTimeout(n,0);try{return Ft(n,0)}catch{try{return Ft.call(null,n,0)}catch{return Ft.call(this,n,0)}}}function xp(n){if(zt===clearTimeout)return clearTimeout(n);if((zt===ba||!zt)&&clearTimeout)return zt=clearTimeout,clearTimeout(n);try{return zt(n)}catch{try{return zt.call(null,n)}catch{return zt.call(this,n)}}}var $t=[],Ni=!1,mi,tr=-1;function Sp(){!Ni||!mi||(Ni=!1,mi.length?$t=mi.concat($t):tr=-1,$t.length&&dh())}function dh(){if(!Ni){var n=uh(Sp);Ni=!0;for(var e=$t.length;e;){for(mi=$t,$t=[];++tr<e;)mi&&mi[tr].run();tr=-1,e=$t.length}mi=null,Ni=!1,xp(n)}}qe.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];$t.push(new hh(n,e)),$t.length===1&&!Ni&&uh(dh)};function hh(n,e){this.fun=n,this.array=e}hh.prototype.run=function(){this.fun.apply(null,this.array)};qe.title="browser";qe.browser=!0;qe.env={};qe.argv=[];qe.version="";qe.versions={};function Qt(){}qe.on=Qt;qe.addListener=Qt;qe.once=Qt;qe.off=Qt;qe.removeListener=Qt;qe.removeAllListeners=Qt;qe.emit=Qt;qe.prependListener=Qt;qe.prependOnceListener=Qt;qe.listeners=function(n){return[]};qe.binding=function(n){throw new Error("process.binding is not supported")};qe.cwd=function(){return"/"};qe.chdir=function(n){throw new Error("process.chdir is not supported")};qe.umask=function(){return 0};var Ap=ch.exports,Oe=Cp(Ap),Yr,Nu;function ph(){return Nu||(Nu=1,Yr=_c().EventEmitter),Yr}var Jr={},dn={},Du;function Ip(){if(Du)return dn;Du=1,dn.byteLength=l,dn.toByteArray=A,dn.fromByteArray=N;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)n[r]=i[r],e[i.charCodeAt(r)]=r;e[45]=62,e[95]=63;function d(w){var R=w.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=w.indexOf("=");b===-1&&(b=R);var D=b===R?0:4-b%4;return[b,D]}function l(w){var R=d(w),b=R[0],D=R[1];return(b+D)*3/4-D}function p(w,R,b){return(R+b)*3/4-b}function A(w){var R,b=d(w),D=b[0],m=b[1],x=new t(p(w,D,m)),_=0,f=m>0?D-4:D,O;for(O=0;O<f;O+=4)R=e[w.charCodeAt(O)]<<18|e[w.charCodeAt(O+1)]<<12|e[w.charCodeAt(O+2)]<<6|e[w.charCodeAt(O+3)],x[_++]=R>>16&255,x[_++]=R>>8&255,x[_++]=R&255;return m===2&&(R=e[w.charCodeAt(O)]<<2|e[w.charCodeAt(O+1)]>>4,x[_++]=R&255),m===1&&(R=e[w.charCodeAt(O)]<<10|e[w.charCodeAt(O+1)]<<4|e[w.charCodeAt(O+2)]>>2,x[_++]=R>>8&255,x[_++]=R&255),x}function y(w){return n[w>>18&63]+n[w>>12&63]+n[w>>6&63]+n[w&63]}function M(w,R,b){for(var D,m=[],x=R;x<b;x+=3)D=(w[x]<<16&16711680)+(w[x+1]<<8&65280)+(w[x+2]&255),m.push(y(D));return m.join("")}function N(w){for(var R,b=w.length,D=b%3,m=[],x=16383,_=0,f=b-D;_<f;_+=x)m.push(M(w,_,_+x>f?f:_+x));return D===1?(R=w[b-1],m.push(n[R>>2]+n[R<<4&63]+"==")):D===2&&(R=(w[b-2]<<8)+w[b-1],m.push(n[R>>10]+n[R>>4&63]+n[R<<2&63]+"=")),m.join("")}return dn}var Xn={};var ku;function Tp(){return ku||(ku=1,Xn.read=function(n,e,t,i,r){var o,d,l=r*8-i-1,p=(1<<l)-1,A=p>>1,y=-7,M=t?r-1:0,N=t?-1:1,w=n[e+M];for(M+=N,o=w&(1<<-y)-1,w>>=-y,y+=l;y>0;o=o*256+n[e+M],M+=N,y-=8);for(d=o&(1<<-y)-1,o>>=-y,y+=i;y>0;d=d*256+n[e+M],M+=N,y-=8);if(o===0)o=1-A;else{if(o===p)return d?NaN:(w?-1:1)*(1/0);d=d+Math.pow(2,i),o=o-A}return(w?-1:1)*d*Math.pow(2,o-i)},Xn.write=function(n,e,t,i,r,o){var d,l,p,A=o*8-r-1,y=(1<<A)-1,M=y>>1,N=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=i?0:o-1,R=i?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+M>=1?e+=N/p:e+=N*Math.pow(2,1-M),e*p>=2&&(d++,p/=2),d+M>=y?(l=0,d=y):d+M>=1?(l=(e*p-1)*Math.pow(2,r),d=d+M):(l=e*Math.pow(2,M-1)*Math.pow(2,r),d=0));r>=8;n[t+w]=l&255,w+=R,l/=256,r-=8);for(d=d<<r|l,A+=r;A>0;n[t+w]=d&255,w+=R,d/=256,A-=8);n[t+w-R]|=b*128}),Xn}var Pu;function Er(){return Pu||(Pu=1,function(n){var e=Ip(),t=Tp(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=l,n.SlowBuffer=x,n.INSPECT_MAX_BYTES=50;var r=2147483647;n.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var T=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(T,c),T.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function d(T){if(T>r)throw new RangeError('The value "'+T+'" is invalid for option "size"');var c=new Uint8Array(T);return Object.setPrototypeOf(c,l.prototype),c}function l(T,c,u){if(typeof T=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(T)}return p(T,c,u)}l.poolSize=8192;function p(T,c,u){if(typeof T=="string")return N(T,c);if(ArrayBuffer.isView(T))return R(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(ue(T,ArrayBuffer)||T&&ue(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ue(T,SharedArrayBuffer)||T&&ue(T.buffer,SharedArrayBuffer)))return b(T,c,u);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var g=T.valueOf&&T.valueOf();if(g!=null&&g!==T)return l.from(g,c,u);var B=D(T);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return l.from(T[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}l.from=function(T,c,u){return p(T,c,u)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function A(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function y(T,c,u){return A(T),T<=0?d(T):c!==void 0?typeof u=="string"?d(T).fill(c,u):d(T).fill(c):d(T)}l.alloc=function(T,c,u){return y(T,c,u)};function M(T){return A(T),d(T<0?0:m(T)|0)}l.allocUnsafe=function(T){return M(T)},l.allocUnsafeSlow=function(T){return M(T)};function N(T,c){if((typeof c!="string"||c==="")&&(c="utf8"),!l.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var u=_(T,c)|0,g=d(u),B=g.write(T,c);return B!==u&&(g=g.slice(0,B)),g}function w(T){for(var c=T.length<0?0:m(T.length)|0,u=d(c),g=0;g<c;g+=1)u[g]=T[g]&255;return u}function R(T){if(ue(T,Uint8Array)){var c=new Uint8Array(T);return b(c.buffer,c.byteOffset,c.byteLength)}return w(T)}function b(T,c,u){if(c<0||T.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');var g;return c===void 0&&u===void 0?g=new Uint8Array(T):u===void 0?g=new Uint8Array(T,c):g=new Uint8Array(T,c,u),Object.setPrototypeOf(g,l.prototype),g}function D(T){if(l.isBuffer(T)){var c=m(T.length)|0,u=d(c);return u.length===0||T.copy(u,0,0,c),u}if(T.length!==void 0)return typeof T.length!="number"||v(T.length)?d(0):w(T);if(T.type==="Buffer"&&Array.isArray(T.data))return w(T.data)}function m(T){if(T>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return T|0}function x(T){return+T!=T&&(T=0),l.alloc(+T)}l.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==l.prototype},l.compare=function(c,u){if(ue(c,Uint8Array)&&(c=l.from(c,c.offset,c.byteLength)),ue(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(c)||!l.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;for(var g=c.length,B=u.length,J=0,q=Math.min(g,B);J<q;++J)if(c[J]!==u[J]){g=c[J],B=u[J];break}return g<B?-1:B<g?1:0},l.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return l.alloc(0);var g;if(u===void 0)for(u=0,g=0;g<c.length;++g)u+=c[g].length;var B=l.allocUnsafe(u),J=0;for(g=0;g<c.length;++g){var q=c[g];if(ue(q,Uint8Array))J+q.length>B.length?l.from(q).copy(B,J):Uint8Array.prototype.set.call(B,q,J);else if(l.isBuffer(q))q.copy(B,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=q.length}return B};function _(T,c){if(l.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||ue(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var u=T.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&u===0)return 0;for(var B=!1;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return E(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return F(T).length;default:if(B)return g?-1:E(T).length;c=(""+c).toLowerCase(),B=!0}}l.byteLength=_;function f(T,c,u){var g=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(T||(T="utf8");;)switch(T){case"hex":return oe(this,c,u);case"utf8":case"utf-8":return S(this,c,u);case"ascii":return K(this,c,u);case"latin1":case"binary":return de(this,c,u);case"base64":return W(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,c,u);default:if(g)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),g=!0}}l.prototype._isBuffer=!0;function O(T,c,u){var g=T[c];T[c]=T[u],T[u]=g}l.prototype.swap16=function(){var c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<c;u+=2)O(this,u,u+1);return this},l.prototype.swap32=function(){var c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<c;u+=4)O(this,u,u+3),O(this,u+1,u+2);return this},l.prototype.swap64=function(){var c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<c;u+=8)O(this,u,u+7),O(this,u+1,u+6),O(this,u+2,u+5),O(this,u+3,u+4);return this},l.prototype.toString=function(){var c=this.length;return c===0?"":arguments.length===0?S(this,0,c):f.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(c){if(!l.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:l.compare(this,c)===0},l.prototype.inspect=function(){var c="",u=n.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(c,u,g,B,J){if(ue(c,Uint8Array)&&(c=l.from(c,c.offset,c.byteLength)),!l.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),g===void 0&&(g=c?c.length:0),B===void 0&&(B=0),J===void 0&&(J=this.length),u<0||g>c.length||B<0||J>this.length)throw new RangeError("out of range index");if(B>=J&&u>=g)return 0;if(B>=J)return-1;if(u>=g)return 1;if(u>>>=0,g>>>=0,B>>>=0,J>>>=0,this===c)return 0;for(var q=J-B,pe=g-u,we=Math.min(q,pe),ve=this.slice(B,J),Ce=c.slice(u,g),Ae=0;Ae<we;++Ae)if(ve[Ae]!==Ce[Ae]){q=ve[Ae],pe=Ce[Ae];break}return q<pe?-1:pe<q?1:0};function V(T,c,u,g,B){if(T.length===0)return-1;if(typeof u=="string"?(g=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,v(u)&&(u=B?0:T.length-1),u<0&&(u=T.length+u),u>=T.length){if(B)return-1;u=T.length-1}else if(u<0)if(B)u=0;else return-1;if(typeof c=="string"&&(c=l.from(c,g)),l.isBuffer(c))return c.length===0?-1:j(T,c,u,g,B);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(T,c,u):Uint8Array.prototype.lastIndexOf.call(T,c,u):j(T,[c],u,g,B);throw new TypeError("val must be string, number or Buffer")}function j(T,c,u,g,B){var J=1,q=T.length,pe=c.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(T.length<2||c.length<2)return-1;J=2,q/=2,pe/=2,u/=2}function we(it,ei){return J===1?it[ei]:it.readUInt16BE(ei*J)}var ve;if(B){var Ce=-1;for(ve=u;ve<q;ve++)if(we(T,ve)===we(c,Ce===-1?0:ve-Ce)){if(Ce===-1&&(Ce=ve),ve-Ce+1===pe)return Ce*J}else Ce!==-1&&(ve-=ve-Ce),Ce=-1}else for(u+pe>q&&(u=q-pe),ve=u;ve>=0;ve--){for(var Ae=!0,Te=0;Te<pe;Te++)if(we(T,ve+Te)!==we(c,Te)){Ae=!1;break}if(Ae)return ve}return-1}l.prototype.includes=function(c,u,g){return this.indexOf(c,u,g)!==-1},l.prototype.indexOf=function(c,u,g){return V(this,c,u,g,!0)},l.prototype.lastIndexOf=function(c,u,g){return V(this,c,u,g,!1)};function X(T,c,u,g){u=Number(u)||0;var B=T.length-u;g?(g=Number(g),g>B&&(g=B)):g=B;var J=c.length;g>J/2&&(g=J/2);for(var q=0;q<g;++q){var pe=parseInt(c.substr(q*2,2),16);if(v(pe))return q;T[u+q]=pe}return q}function k(T,c,u,g){return U(E(c,T.length-u),T,u,g)}function Z(T,c,u,g){return U($(c),T,u,g)}function me(T,c,u,g){return U(F(c),T,u,g)}function P(T,c,u,g){return U(H(c,T.length-u),T,u,g)}l.prototype.write=function(c,u,g,B){if(u===void 0)B="utf8",g=this.length,u=0;else if(g===void 0&&typeof u=="string")B=u,g=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(g)?(g=g>>>0,B===void 0&&(B="utf8")):(B=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var J=this.length-u;if((g===void 0||g>J)&&(g=J),c.length>0&&(g<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var q=!1;;)switch(B){case"hex":return X(this,c,u,g);case"utf8":case"utf-8":return k(this,c,u,g);case"ascii":case"latin1":case"binary":return Z(this,c,u,g);case"base64":return me(this,c,u,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,c,u,g);default:if(q)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),q=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(T,c,u){return c===0&&u===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(c,u))}function S(T,c,u){u=Math.min(T.length,u);for(var g=[],B=c;B<u;){var J=T[B],q=null,pe=J>239?4:J>223?3:J>191?2:1;if(B+pe<=u){var we,ve,Ce,Ae;switch(pe){case 1:J<128&&(q=J);break;case 2:we=T[B+1],(we&192)===128&&(Ae=(J&31)<<6|we&63,Ae>127&&(q=Ae));break;case 3:we=T[B+1],ve=T[B+2],(we&192)===128&&(ve&192)===128&&(Ae=(J&15)<<12|(we&63)<<6|ve&63,Ae>2047&&(Ae<55296||Ae>57343)&&(q=Ae));break;case 4:we=T[B+1],ve=T[B+2],Ce=T[B+3],(we&192)===128&&(ve&192)===128&&(Ce&192)===128&&(Ae=(J&15)<<18|(we&63)<<12|(ve&63)<<6|Ce&63,Ae>65535&&Ae<1114112&&(q=Ae))}}q===null?(q=65533,pe=1):q>65535&&(q-=65536,g.push(q>>>10&1023|55296),q=56320|q&1023),g.push(q),B+=pe}return ce(g)}var te=4096;function ce(T){var c=T.length;if(c<=te)return String.fromCharCode.apply(String,T);for(var u="",g=0;g<c;)u+=String.fromCharCode.apply(String,T.slice(g,g+=te));return u}function K(T,c,u){var g="";u=Math.min(T.length,u);for(var B=c;B<u;++B)g+=String.fromCharCode(T[B]&127);return g}function de(T,c,u){var g="";u=Math.min(T.length,u);for(var B=c;B<u;++B)g+=String.fromCharCode(T[B]);return g}function oe(T,c,u){var g=T.length;(!c||c<0)&&(c=0),(!u||u<0||u>g)&&(u=g);for(var B="",J=c;J<u;++J)B+=ae[T[J]];return B}function be(T,c,u){for(var g=T.slice(c,u),B="",J=0;J<g.length-1;J+=2)B+=String.fromCharCode(g[J]+g[J+1]*256);return B}l.prototype.slice=function(c,u){var g=this.length;c=~~c,u=u===void 0?g:~~u,c<0?(c+=g,c<0&&(c=0)):c>g&&(c=g),u<0?(u+=g,u<0&&(u=0)):u>g&&(u=g),u<c&&(u=c);var B=this.subarray(c,u);return Object.setPrototypeOf(B,l.prototype),B};function Y(T,c,u){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+c>u)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(c,u,g){c=c>>>0,u=u>>>0,g||Y(c,u,this.length);for(var B=this[c],J=1,q=0;++q<u&&(J*=256);)B+=this[c+q]*J;return B},l.prototype.readUintBE=l.prototype.readUIntBE=function(c,u,g){c=c>>>0,u=u>>>0,g||Y(c,u,this.length);for(var B=this[c+--u],J=1;u>0&&(J*=256);)B+=this[c+--u]*J;return B},l.prototype.readUint8=l.prototype.readUInt8=function(c,u){return c=c>>>0,u||Y(c,1,this.length),this[c]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||Y(c,2,this.length),this[c]|this[c+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||Y(c,2,this.length),this[c]<<8|this[c+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||Y(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||Y(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},l.prototype.readIntLE=function(c,u,g){c=c>>>0,u=u>>>0,g||Y(c,u,this.length);for(var B=this[c],J=1,q=0;++q<u&&(J*=256);)B+=this[c+q]*J;return J*=128,B>=J&&(B-=Math.pow(2,8*u)),B},l.prototype.readIntBE=function(c,u,g){c=c>>>0,u=u>>>0,g||Y(c,u,this.length);for(var B=u,J=1,q=this[c+--B];B>0&&(J*=256);)q+=this[c+--B]*J;return J*=128,q>=J&&(q-=Math.pow(2,8*u)),q},l.prototype.readInt8=function(c,u){return c=c>>>0,u||Y(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},l.prototype.readInt16LE=function(c,u){c=c>>>0,u||Y(c,2,this.length);var g=this[c]|this[c+1]<<8;return g&32768?g|4294901760:g},l.prototype.readInt16BE=function(c,u){c=c>>>0,u||Y(c,2,this.length);var g=this[c+1]|this[c]<<8;return g&32768?g|4294901760:g},l.prototype.readInt32LE=function(c,u){return c=c>>>0,u||Y(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},l.prototype.readInt32BE=function(c,u){return c=c>>>0,u||Y(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},l.prototype.readFloatLE=function(c,u){return c=c>>>0,u||Y(c,4,this.length),t.read(this,c,!0,23,4)},l.prototype.readFloatBE=function(c,u){return c=c>>>0,u||Y(c,4,this.length),t.read(this,c,!1,23,4)},l.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||Y(c,8,this.length),t.read(this,c,!0,52,8)},l.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||Y(c,8,this.length),t.read(this,c,!1,52,8)};function L(T,c,u,g,B,J){if(!l.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>B||c<J)throw new RangeError('"value" argument is out of bounds');if(u+g>T.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(c,u,g,B){if(c=+c,u=u>>>0,g=g>>>0,!B){var J=Math.pow(2,8*g)-1;L(this,c,u,g,J,0)}var q=1,pe=0;for(this[u]=c&255;++pe<g&&(q*=256);)this[u+pe]=c/q&255;return u+g},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(c,u,g,B){if(c=+c,u=u>>>0,g=g>>>0,!B){var J=Math.pow(2,8*g)-1;L(this,c,u,g,J,0)}var q=g-1,pe=1;for(this[u+q]=c&255;--q>=0&&(pe*=256);)this[u+q]=c/pe&255;return u+g},l.prototype.writeUint8=l.prototype.writeUInt8=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,1,255,0),this[u]=c&255,u+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},l.prototype.writeIntLE=function(c,u,g,B){if(c=+c,u=u>>>0,!B){var J=Math.pow(2,8*g-1);L(this,c,u,g,J-1,-J)}var q=0,pe=1,we=0;for(this[u]=c&255;++q<g&&(pe*=256);)c<0&&we===0&&this[u+q-1]!==0&&(we=1),this[u+q]=(c/pe>>0)-we&255;return u+g},l.prototype.writeIntBE=function(c,u,g,B){if(c=+c,u=u>>>0,!B){var J=Math.pow(2,8*g-1);L(this,c,u,g,J-1,-J)}var q=g-1,pe=1,we=0;for(this[u+q]=c&255;--q>=0&&(pe*=256);)c<0&&we===0&&this[u+q+1]!==0&&(we=1),this[u+q]=(c/pe>>0)-we&255;return u+g},l.prototype.writeInt8=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},l.prototype.writeInt16LE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},l.prototype.writeInt16BE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},l.prototype.writeInt32LE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},l.prototype.writeInt32BE=function(c,u,g){return c=+c,u=u>>>0,g||L(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function ie(T,c,u,g,B,J){if(u+g>T.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function ne(T,c,u,g,B){return c=+c,u=u>>>0,B||ie(T,c,u,4),t.write(T,c,u,g,23,4),u+4}l.prototype.writeFloatLE=function(c,u,g){return ne(this,c,u,!0,g)},l.prototype.writeFloatBE=function(c,u,g){return ne(this,c,u,!1,g)};function he(T,c,u,g,B){return c=+c,u=u>>>0,B||ie(T,c,u,8),t.write(T,c,u,g,52,8),u+8}l.prototype.writeDoubleLE=function(c,u,g){return he(this,c,u,!0,g)},l.prototype.writeDoubleBE=function(c,u,g){return he(this,c,u,!1,g)},l.prototype.copy=function(c,u,g,B){if(!l.isBuffer(c))throw new TypeError("argument should be a Buffer");if(g||(g=0),!B&&B!==0&&(B=this.length),u>=c.length&&(u=c.length),u||(u=0),B>0&&B<g&&(B=g),B===g||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),c.length-u<B-g&&(B=c.length-u+g);var J=B-g;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,g,B):Uint8Array.prototype.set.call(c,this.subarray(g,B),u),J},l.prototype.fill=function(c,u,g,B){if(typeof c=="string"){if(typeof u=="string"?(B=u,u=0,g=this.length):typeof g=="string"&&(B=g,g=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!l.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(c.length===1){var J=c.charCodeAt(0);(B==="utf8"&&J<128||B==="latin1")&&(c=J)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<g)throw new RangeError("Out of range index");if(g<=u)return this;u=u>>>0,g=g===void 0?this.length:g>>>0,c||(c=0);var q;if(typeof c=="number")for(q=u;q<g;++q)this[q]=c;else{var pe=l.isBuffer(c)?c:l.from(c,B),we=pe.length;if(we===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(q=0;q<g-u;++q)this[q+u]=pe[q%we]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function I(T){if(T=T.split("=")[0],T=T.trim().replace(Q,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function E(T,c){c=c||1/0;for(var u,g=T.length,B=null,J=[],q=0;q<g;++q){if(u=T.charCodeAt(q),u>55295&&u<57344){if(!B){if(u>56319){(c-=3)>-1&&J.push(239,191,189);continue}else if(q+1===g){(c-=3)>-1&&J.push(239,191,189);continue}B=u;continue}if(u<56320){(c-=3)>-1&&J.push(239,191,189),B=u;continue}u=(B-55296<<10|u-56320)+65536}else B&&(c-=3)>-1&&J.push(239,191,189);if(B=null,u<128){if((c-=1)<0)break;J.push(u)}else if(u<2048){if((c-=2)<0)break;J.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;J.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;J.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return J}function $(T){for(var c=[],u=0;u<T.length;++u)c.push(T.charCodeAt(u)&255);return c}function H(T,c){for(var u,g,B,J=[],q=0;q<T.length&&!((c-=2)<0);++q)u=T.charCodeAt(q),g=u>>8,B=u%256,J.push(B),J.push(g);return J}function F(T){return e.toByteArray(I(T))}function U(T,c,u,g){for(var B=0;B<g&&!(B+u>=c.length||B>=T.length);++B)c[B+u]=T[B];return B}function ue(T,c){return T instanceof c||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===c.name}function v(T){return T!==T}var ae=function(){for(var T="0123456789abcdef",c=new Array(256),u=0;u<16;++u)for(var g=u*16,B=0;B<16;++B)c[g+B]=T[u]+T[B];return c}()}(Jr)),Jr}var Qr={},eo={},to,Lu;function mh(){return Lu||(Lu=1,to=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==r||d.enumerable!==!0)return!1}return!0}),to}var io,Fu;function wc(){if(Fu)return io;Fu=1;var n=mh();return io=function(){return n()&&!!Symbol.toStringTag},io}var no,zu;function Mp(){return zu||(zu=1,no=Error),no}var ro,Uu;function Rp(){return Uu||(Uu=1,ro=EvalError),ro}var oo,Vu;function Op(){return Vu||(Vu=1,oo=RangeError),oo}var ao,Gu;function Np(){return Gu||(Gu=1,ao=ReferenceError),ao}var so,Bu;function fh(){return Bu||(Bu=1,so=SyntaxError),so}var lo,ju;function yr(){return ju||(ju=1,lo=TypeError),lo}var co,Hu;function Dp(){return Hu||(Hu=1,co=URIError),co}var uo,Wu;function kp(){if(Wu)return uo;Wu=1;var n=typeof Symbol<"u"&&Symbol,e=mh();return uo=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},uo}var ho,qu;function Pp(){if(qu)return ho;qu=1;var n={__proto__:null,foo:{}},e=Object;return ho=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof e)},ho}var po,Ku;function Lp(){if(Ku)return po;Ku=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",r=function(p,A){for(var y=[],M=0;M<p.length;M+=1)y[M]=p[M];for(var N=0;N<A.length;N+=1)y[N+p.length]=A[N];return y},o=function(p,A){for(var y=[],M=A,N=0;M<p.length;M+=1,N+=1)y[N]=p[M];return y},d=function(l,p){for(var A="",y=0;y<l.length;y+=1)A+=l[y],y+1<l.length&&(A+=p);return A};return po=function(p){var A=this;if(typeof A!="function"||e.apply(A)!==i)throw new TypeError(n+A);for(var y=o(arguments,1),M,N=function(){if(this instanceof M){var m=A.apply(this,r(y,arguments));return Object(m)===m?m:this}return A.apply(p,r(y,arguments))},w=t(0,A.length-y.length),R=[],b=0;b<w;b++)R[b]="$"+b;if(M=Function("binder","return function ("+d(R,",")+"){ return binder.apply(this,arguments); }")(N),A.prototype){var D=function(){};D.prototype=A.prototype,M.prototype=new D,D.prototype=null}return M},po}var mo,$u;function Ec(){if($u)return mo;$u=1;var n=Lp();return mo=Function.prototype.bind||n,mo}var fo,Xu;function Fp(){if(Xu)return fo;Xu=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Ec();return fo=t.call(n,e),fo}var go,Zu;function In(){if(Zu)return go;Zu=1;var n,e=Mp(),t=Rp(),i=Op(),r=Np(),o=fh(),d=yr(),l=Dp(),p=Function,A=function(K){try{return p('"use strict"; return ('+K+").constructor;")()}catch{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var M=function(){throw new d},N=y?function(){try{return arguments.callee,M}catch{try{return y(arguments,"callee").get}catch{return M}}}():M,w=kp()(),R=Pp()(),b=Object.getPrototypeOf||(R?function(K){return K.__proto__}:null),D={},m=typeof Uint8Array>"u"||!b?n:b(Uint8Array),x={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":w&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":D,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&b?b(b([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!w||!b?n:b(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":r,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!w||!b?n:b(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&b?b(""[Symbol.iterator]()):n,"%Symbol%":w?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":N,"%TypedArray%":m,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet};if(b)try{null.error}catch(K){var _=b(b(K));x["%Error.prototype%"]=_}var f=function K(de){var oe;if(de==="%AsyncFunction%")oe=A("async function () {}");else if(de==="%GeneratorFunction%")oe=A("function* () {}");else if(de==="%AsyncGeneratorFunction%")oe=A("async function* () {}");else if(de==="%AsyncGenerator%"){var be=K("%AsyncGeneratorFunction%");be&&(oe=be.prototype)}else if(de==="%AsyncIteratorPrototype%"){var Y=K("%AsyncGenerator%");Y&&b&&(oe=b(Y.prototype))}return x[de]=oe,oe},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=Ec(),j=Fp(),X=V.call(Function.call,Array.prototype.concat),k=V.call(Function.apply,Array.prototype.splice),Z=V.call(Function.call,String.prototype.replace),me=V.call(Function.call,String.prototype.slice),P=V.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,te=function(de){var oe=me(de,0,1),be=me(de,-1);if(oe==="%"&&be!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(be==="%"&&oe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var Y=[];return Z(de,W,function(L,ie,ne,he){Y[Y.length]=ne?Z(he,S,"$1"):ie||L}),Y},ce=function(de,oe){var be=de,Y;if(j(O,be)&&(Y=O[be],be="%"+Y[0]+"%"),j(x,be)){var L=x[be];if(L===D&&(L=f(be)),typeof L>"u"&&!oe)throw new d("intrinsic "+de+" exists, but is not available. Please file an issue!");return{alias:Y,name:be,value:L}}throw new o("intrinsic "+de+" does not exist!")};return go=function(de,oe){if(typeof de!="string"||de.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof oe!="boolean")throw new d('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,de)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var be=te(de),Y=be.length>0?be[0]:"",L=ce("%"+Y+"%",oe),ie=L.name,ne=L.value,he=!1,Q=L.alias;Q&&(Y=Q[0],k(be,X([0,1],Q)));for(var I=1,E=!0;I<be.length;I+=1){var $=be[I],H=me($,0,1),F=me($,-1);if((H==='"'||H==="'"||H==="`"||F==='"'||F==="'"||F==="`")&&H!==F)throw new o("property names with quotes must have matching quotes");if(($==="constructor"||!E)&&(he=!0),Y+="."+$,ie="%"+Y+"%",j(x,ie))ne=x[ie];else if(ne!=null){if(!($ in ne)){if(!oe)throw new d("base intrinsic for "+de+" exists, but the property is not available.");return}if(y&&I+1>=be.length){var U=y(ne,$);E=!!U,E&&"get"in U&&!("originalValue"in U.get)?ne=U.get:ne=ne[$]}else E=j(ne,$),ne=ne[$];E&&!he&&(x[ie]=ne)}}return ne},go}var vo={exports:{}},bo,Yu;function yc(){if(Yu)return bo;Yu=1;var n=In(),e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bo=e,bo}var _o,Ju;function Cc(){if(Ju)return _o;Ju=1;var n=In(),e=n("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return _o=e,_o}var wo,Qu;function zp(){if(Qu)return wo;Qu=1;var n=yc(),e=fh(),t=yr(),i=Cc();return wo=function(o,d,l){if(!o||typeof o!="object"&&typeof o!="function")throw new t("`obj` must be an object or a function`");if(typeof d!="string"&&typeof d!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,A=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,M=arguments.length>6?arguments[6]:!1,N=!!i&&i(o,d);if(n)n(o,d,{configurable:y===null&&N?N.configurable:!y,enumerable:p===null&&N?N.enumerable:!p,value:l,writable:A===null&&N?N.writable:!A});else if(M||!p&&!A&&!y)o[d]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},wo}var Eo,ed;function Up(){if(ed)return Eo;ed=1;var n=yc(),e=function(){return!!n};return e.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},Eo=e,Eo}var yo,td;function Vp(){if(td)return yo;td=1;var n=In(),e=zp(),t=Up()(),i=Cc(),r=yr(),o=n("%Math.floor%");return yo=function(l,p){if(typeof l!="function")throw new r("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||o(p)!==p)throw new r("`length` must be a positive 32-bit integer");var A=arguments.length>2&&!!arguments[2],y=!0,M=!0;if("length"in l&&i){var N=i(l,"length");N&&!N.configurable&&(y=!1),N&&!N.writable&&(M=!1)}return(y||M||!A)&&(t?e(l,"length",p,!0,!0):e(l,"length",p)),l},yo}var id;function gh(){return id||(id=1,function(n){var e=Ec(),t=In(),i=Vp(),r=yr(),o=t("%Function.prototype.apply%"),d=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(d,o),p=yc(),A=t("%Math.max%");n.exports=function(N){if(typeof N!="function")throw new r("a function is required");var w=l(e,d,arguments);return i(w,1+A(0,N.length-(arguments.length-1)),!0)};var y=function(){return l(e,o,arguments)};p?p(n.exports,"apply",{value:y}):n.exports.apply=y}(vo)),vo.exports}var Co,nd;function vh(){if(nd)return Co;nd=1;var n=In(),e=gh(),t=e(n("String.prototype.indexOf"));return Co=function(r,o){var d=n(r,!!o);return typeof d=="function"&&t(r,".prototype.")>-1?e(d):d},Co}var xo,rd;function Gp(){if(rd)return xo;rd=1;var n=wc()(),e=vh(),t=e("Object.prototype.toString"),i=function(l){return n&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},r=function(l){return i(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},o=function(){return i(arguments)}();return i.isLegacyArguments=r,xo=o?i:r,xo}var So,od;function Bp(){if(od)return So;od=1;var n=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,i=wc()(),r=Object.getPrototypeOf,o=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},d;return So=function(p){if(typeof p!="function")return!1;if(t.test(e.call(p)))return!0;if(!i){var A=n.call(p);return A==="[object GeneratorFunction]"}if(!r)return!1;if(typeof d>"u"){var y=o();d=y?r(y):!1}return r(p)===d},So}var Ao,ad;function jp(){if(ad)return Ao;ad=1;var n=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw i}}),i={},e(function(){throw 42},null,t)}catch(x){x!==i&&(e=null)}else e=null;var r=/^\s*class\b/,o=function(_){try{var f=n.call(_);return r.test(f)}catch{return!1}},d=function(_){try{return o(_)?!1:(n.call(_),!0)}catch{return!1}},l=Object.prototype.toString,p="[object Object]",A="[object Function]",y="[object GeneratorFunction]",M="[object HTMLAllCollection]",N="[object HTML document.all class]",w="[object HTMLCollection]",R=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),D=function(){return!1};if(typeof document=="object"){var m=document.all;l.call(m)===l.call(document.all)&&(D=function(_){if((b||!_)&&(typeof _>"u"||typeof _=="object"))try{var f=l.call(_);return(f===M||f===N||f===w||f===p)&&_("")==null}catch{}return!1})}return Ao=e?function(_){if(D(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{e(_,null,t)}catch(f){if(f!==i)return!1}return!o(_)&&d(_)}:function(_){if(D(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(R)return d(_);if(o(_))return!1;var f=l.call(_);return f!==A&&f!==y&&!/^\[object HTML/.test(f)?!1:d(_)},Ao}var Io,sd;function Hp(){if(sd)return Io;sd=1;var n=jp(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,i=function(p,A,y){for(var M=0,N=p.length;M<N;M++)t.call(p,M)&&(y==null?A(p[M],M,p):A.call(y,p[M],M,p))},r=function(p,A,y){for(var M=0,N=p.length;M<N;M++)y==null?A(p.charAt(M),M,p):A.call(y,p.charAt(M),M,p)},o=function(p,A,y){for(var M in p)t.call(p,M)&&(y==null?A(p[M],M,p):A.call(y,p[M],M,p))},d=function(p,A,y){if(!n(A))throw new TypeError("iterator must be a function");var M;arguments.length>=3&&(M=y),e.call(p)==="[object Array]"?i(p,A,M):typeof p=="string"?r(p,A,M):o(p,A,M)};return Io=d,Io}var To,ld;function Wp(){return ld||(ld=1,To=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),To}var Mo,cd;function qp(){if(cd)return Mo;cd=1;var n=Wp(),e=typeof globalThis>"u"?Ut:globalThis;return Mo=function(){for(var i=[],r=0;r<n.length;r++)typeof e[n[r]]=="function"&&(i[i.length]=n[r]);return i},Mo}var Ro,ud;function bh(){if(ud)return Ro;ud=1;var n=Hp(),e=qp(),t=gh(),i=vh(),r=Cc(),o=i("Object.prototype.toString"),d=wc()(),l=typeof globalThis>"u"?Ut:globalThis,p=e(),A=i("String.prototype.slice"),y=Object.getPrototypeOf,M=i("Array.prototype.indexOf",!0)||function(D,m){for(var x=0;x<D.length;x+=1)if(D[x]===m)return x;return-1},N={__proto__:null};d&&r&&y?n(p,function(b){var D=new l[b];if(Symbol.toStringTag in D){var m=y(D),x=r(m,Symbol.toStringTag);if(!x){var _=y(m);x=r(_,Symbol.toStringTag)}N["$"+b]=t(x.get)}}):n(p,function(b){var D=new l[b],m=D.slice||D.set;m&&(N["$"+b]=t(m))});var w=function(D){var m=!1;return n(N,function(x,_){if(!m)try{"$"+x(D)===_&&(m=A(_,1))}catch{}}),m},R=function(D){var m=!1;return n(N,function(x,_){if(!m)try{x(D),m=A(_,1)}catch{}}),m};return Ro=function(D){if(!D||typeof D!="object")return!1;if(!d){var m=A(o(D),8,-1);return M(p,m)>-1?m:m!=="Object"?!1:R(D)}return r?w(D):null},Ro}var Oo,dd;function Kp(){if(dd)return Oo;dd=1;var n=bh();return Oo=function(t){return!!n(t)},Oo}var hd;function $p(){return hd||(hd=1,function(n){var e=Gp(),t=Bp(),i=bh(),r=Kp();function o(g){return g.call.bind(g)}var d=typeof BigInt<"u",l=typeof Symbol<"u",p=o(Object.prototype.toString),A=o(Number.prototype.valueOf),y=o(String.prototype.valueOf),M=o(Boolean.prototype.valueOf);if(d)var N=o(BigInt.prototype.valueOf);if(l)var w=o(Symbol.prototype.valueOf);function R(g,B){if(typeof g!="object")return!1;try{return B(g),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=r;function b(g){return typeof Promise<"u"&&g instanceof Promise||g!==null&&typeof g=="object"&&typeof g.then=="function"&&typeof g.catch=="function"}n.isPromise=b;function D(g){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(g):r(g)||ie(g)}n.isArrayBufferView=D;function m(g){return i(g)==="Uint8Array"}n.isUint8Array=m;function x(g){return i(g)==="Uint8ClampedArray"}n.isUint8ClampedArray=x;function _(g){return i(g)==="Uint16Array"}n.isUint16Array=_;function f(g){return i(g)==="Uint32Array"}n.isUint32Array=f;function O(g){return i(g)==="Int8Array"}n.isInt8Array=O;function V(g){return i(g)==="Int16Array"}n.isInt16Array=V;function j(g){return i(g)==="Int32Array"}n.isInt32Array=j;function X(g){return i(g)==="Float32Array"}n.isFloat32Array=X;function k(g){return i(g)==="Float64Array"}n.isFloat64Array=k;function Z(g){return i(g)==="BigInt64Array"}n.isBigInt64Array=Z;function me(g){return i(g)==="BigUint64Array"}n.isBigUint64Array=me;function P(g){return p(g)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function W(g){return typeof Map>"u"?!1:P.working?P(g):g instanceof Map}n.isMap=W;function S(g){return p(g)==="[object Set]"}S.working=typeof Set<"u"&&S(new Set);function te(g){return typeof Set>"u"?!1:S.working?S(g):g instanceof Set}n.isSet=te;function ce(g){return p(g)==="[object WeakMap]"}ce.working=typeof WeakMap<"u"&&ce(new WeakMap);function K(g){return typeof WeakMap>"u"?!1:ce.working?ce(g):g instanceof WeakMap}n.isWeakMap=K;function de(g){return p(g)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function oe(g){return de(g)}n.isWeakSet=oe;function be(g){return p(g)==="[object ArrayBuffer]"}be.working=typeof ArrayBuffer<"u"&&be(new ArrayBuffer);function Y(g){return typeof ArrayBuffer>"u"?!1:be.working?be(g):g instanceof ArrayBuffer}n.isArrayBuffer=Y;function L(g){return p(g)==="[object DataView]"}L.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&L(new DataView(new ArrayBuffer(1),0,1));function ie(g){return typeof DataView>"u"?!1:L.working?L(g):g instanceof DataView}n.isDataView=ie;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(g){return p(g)==="[object SharedArrayBuffer]"}function Q(g){return typeof ne>"u"?!1:(typeof he.working>"u"&&(he.working=he(new ne)),he.working?he(g):g instanceof ne)}n.isSharedArrayBuffer=Q;function I(g){return p(g)==="[object AsyncFunction]"}n.isAsyncFunction=I;function E(g){return p(g)==="[object Map Iterator]"}n.isMapIterator=E;function $(g){return p(g)==="[object Set Iterator]"}n.isSetIterator=$;function H(g){return p(g)==="[object Generator]"}n.isGeneratorObject=H;function F(g){return p(g)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=F;function U(g){return R(g,A)}n.isNumberObject=U;function ue(g){return R(g,y)}n.isStringObject=ue;function v(g){return R(g,M)}n.isBooleanObject=v;function ae(g){return d&&R(g,N)}n.isBigIntObject=ae;function T(g){return l&&R(g,w)}n.isSymbolObject=T;function c(g){return U(g)||ue(g)||v(g)||ae(g)||T(g)}n.isBoxedPrimitive=c;function u(g){return typeof Uint8Array<"u"&&(Y(g)||Q(g))}n.isAnyArrayBuffer=u,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(g){Object.defineProperty(n,g,{enumerable:!1,value:function(){throw new Error(g+" is not supported in userland")}})})}(eo)),eo}var No,pd;function Xp(){return pd||(pd=1,No=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),No}var md;function _h(){return md||(md=1,function(n){var e=Object.getOwnPropertyDescriptors||function(ie){for(var ne=Object.keys(ie),he={},Q=0;Q<ne.length;Q++)he[ne[Q]]=Object.getOwnPropertyDescriptor(ie,ne[Q]);return he},t=/%[sdj%]/g;n.format=function(L){if(!O(L)){for(var ie=[],ne=0;ne<arguments.length;ne++)ie.push(d(arguments[ne]));return ie.join(" ")}for(var ne=1,he=arguments,Q=he.length,I=String(L).replace(t,function($){if($==="%%")return"%";if(ne>=Q)return $;switch($){case"%s":return String(he[ne++]);case"%d":return Number(he[ne++]);case"%j":try{return JSON.stringify(he[ne++])}catch{return"[Circular]"}default:return $}}),E=he[ne];ne<Q;E=he[++ne])x(E)||!k(E)?I+=" "+E:I+=" "+d(E);return I},n.deprecate=function(L,ie){if(typeof Oe<"u"&&Oe.noDeprecation===!0)return L;if(typeof Oe>"u")return function(){return n.deprecate(L,ie).apply(this,arguments)};var ne=!1;function he(){if(!ne){if(Oe.throwDeprecation)throw new Error(ie);Oe.traceDeprecation?console.trace(ie):console.error(ie),ne=!0}return L.apply(this,arguments)}return he};var i={},r=/^$/;if(Oe.env.NODE_DEBUG){var o=Oe.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),r=new RegExp("^"+o+"$","i")}n.debuglog=function(L){if(L=L.toUpperCase(),!i[L])if(r.test(L)){var ie=Oe.pid;i[L]=function(){var ne=n.format.apply(n,arguments);console.error("%s %d: %s",L,ie,ne)}}else i[L]=function(){};return i[L]};function d(L,ie){var ne={seen:[],stylize:p};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),m(ie)?ne.showHidden=ie:ie&&n._extend(ne,ie),j(ne.showHidden)&&(ne.showHidden=!1),j(ne.depth)&&(ne.depth=2),j(ne.colors)&&(ne.colors=!1),j(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=l),y(ne,L,ne.depth)}n.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(L,ie){var ne=d.styles[ie];return ne?"\x1B["+d.colors[ne][0]+"m"+L+"\x1B["+d.colors[ne][1]+"m":L}function p(L,ie){return L}function A(L){var ie={};return L.forEach(function(ne,he){ie[ne]=!0}),ie}function y(L,ie,ne){if(L.customInspect&&ie&&P(ie.inspect)&&ie.inspect!==n.inspect&&!(ie.constructor&&ie.constructor.prototype===ie)){var he=ie.inspect(ne,L);return O(he)||(he=y(L,he,ne)),he}var Q=M(L,ie);if(Q)return Q;var I=Object.keys(ie),E=A(I);if(L.showHidden&&(I=Object.getOwnPropertyNames(ie)),me(ie)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return N(ie);if(I.length===0){if(P(ie)){var $=ie.name?": "+ie.name:"";return L.stylize("[Function"+$+"]","special")}if(X(ie))return L.stylize(RegExp.prototype.toString.call(ie),"regexp");if(Z(ie))return L.stylize(Date.prototype.toString.call(ie),"date");if(me(ie))return N(ie)}var H="",F=!1,U=["{","}"];if(D(ie)&&(F=!0,U=["[","]"]),P(ie)){var ue=ie.name?": "+ie.name:"";H=" [Function"+ue+"]"}if(X(ie)&&(H=" "+RegExp.prototype.toString.call(ie)),Z(ie)&&(H=" "+Date.prototype.toUTCString.call(ie)),me(ie)&&(H=" "+N(ie)),I.length===0&&(!F||ie.length==0))return U[0]+H+U[1];if(ne<0)return X(ie)?L.stylize(RegExp.prototype.toString.call(ie),"regexp"):L.stylize("[Object]","special");L.seen.push(ie);var v;return F?v=w(L,ie,ne,E,I):v=I.map(function(ae){return R(L,ie,ne,E,ae,F)}),L.seen.pop(),b(v,H,U)}function M(L,ie){if(j(ie))return L.stylize("undefined","undefined");if(O(ie)){var ne="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(ne,"string")}if(f(ie))return L.stylize(""+ie,"number");if(m(ie))return L.stylize(""+ie,"boolean");if(x(ie))return L.stylize("null","null")}function N(L){return"["+Error.prototype.toString.call(L)+"]"}function w(L,ie,ne,he,Q){for(var I=[],E=0,$=ie.length;E<$;++E)de(ie,String(E))?I.push(R(L,ie,ne,he,String(E),!0)):I.push("");return Q.forEach(function(H){H.match(/^\d+$/)||I.push(R(L,ie,ne,he,H,!0))}),I}function R(L,ie,ne,he,Q,I){var E,$,H;if(H=Object.getOwnPropertyDescriptor(ie,Q)||{value:ie[Q]},H.get?H.set?$=L.stylize("[Getter/Setter]","special"):$=L.stylize("[Getter]","special"):H.set&&($=L.stylize("[Setter]","special")),de(he,Q)||(E="["+Q+"]"),$||(L.seen.indexOf(H.value)<0?(x(ne)?$=y(L,H.value,null):$=y(L,H.value,ne-1),$.indexOf(`
`)>-1&&(I?$=$.split(`
`).map(function(F){return"  "+F}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(F){return"   "+F}).join(`
`))):$=L.stylize("[Circular]","special")),j(E)){if(I&&Q.match(/^\d+$/))return $;E=JSON.stringify(""+Q),E.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(E=E.slice(1,-1),E=L.stylize(E,"name")):(E=E.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),E=L.stylize(E,"string"))}return E+": "+$}function b(L,ie,ne){var he=L.reduce(function(Q,I){return I.indexOf(`
`)>=0,Q+I.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?ne[0]+(ie===""?"":ie+`
 `)+" "+L.join(`,
  `)+" "+ne[1]:ne[0]+ie+" "+L.join(", ")+" "+ne[1]}n.types=$p();function D(L){return Array.isArray(L)}n.isArray=D;function m(L){return typeof L=="boolean"}n.isBoolean=m;function x(L){return L===null}n.isNull=x;function _(L){return L==null}n.isNullOrUndefined=_;function f(L){return typeof L=="number"}n.isNumber=f;function O(L){return typeof L=="string"}n.isString=O;function V(L){return typeof L=="symbol"}n.isSymbol=V;function j(L){return L===void 0}n.isUndefined=j;function X(L){return k(L)&&S(L)==="[object RegExp]"}n.isRegExp=X,n.types.isRegExp=X;function k(L){return typeof L=="object"&&L!==null}n.isObject=k;function Z(L){return k(L)&&S(L)==="[object Date]"}n.isDate=Z,n.types.isDate=Z;function me(L){return k(L)&&(S(L)==="[object Error]"||L instanceof Error)}n.isError=me,n.types.isNativeError=me;function P(L){return typeof L=="function"}n.isFunction=P;function W(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||typeof L>"u"}n.isPrimitive=W,n.isBuffer=Xp();function S(L){return Object.prototype.toString.call(L)}function te(L){return L<10?"0"+L.toString(10):L.toString(10)}var ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var L=new Date,ie=[te(L.getHours()),te(L.getMinutes()),te(L.getSeconds())].join(":");return[L.getDate(),ce[L.getMonth()],ie].join(" ")}n.log=function(){console.log("%s - %s",K(),n.format.apply(n,arguments))},n.inherits=si(),n._extend=function(L,ie){if(!ie||!k(ie))return L;for(var ne=Object.keys(ie),he=ne.length;he--;)L[ne[he]]=ie[ne[he]];return L};function de(L,ie){return Object.prototype.hasOwnProperty.call(L,ie)}var oe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');if(oe&&ie[oe]){var ne=ie[oe];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,oe,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var he,Q,I=new Promise(function(H,F){he=H,Q=F}),E=[],$=0;$<arguments.length;$++)E.push(arguments[$]);E.push(function(H,F){H?Q(H):he(F)});try{ie.apply(this,E)}catch(H){Q(H)}return I}return Object.setPrototypeOf(ne,Object.getPrototypeOf(ie)),oe&&Object.defineProperty(ne,oe,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,e(ie))},n.promisify.custom=oe;function be(L,ie){if(!L){var ne=new Error("Promise was rejected with a falsy value");ne.reason=L,L=ne}return ie(L)}function Y(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');function ie(){for(var ne=[],he=0;he<arguments.length;he++)ne.push(arguments[he]);var Q=ne.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var I=this,E=function(){return Q.apply(I,arguments)};L.apply(this,ne).then(function($){Oe.nextTick(E.bind(null,null,$))},function($){Oe.nextTick(be.bind(null,$,E))})}return Object.setPrototypeOf(ie,Object.getPrototypeOf(L)),Object.defineProperties(ie,e(L)),ie}n.callbackify=Y}(Qr)),Qr}var Do,fd;function Zp(){if(fd)return Do;fd=1;function n(N,w){var R=Object.keys(N);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(N);w&&(b=b.filter(function(D){return Object.getOwnPropertyDescriptor(N,D).enumerable})),R.push.apply(R,b)}return R}function e(N){for(var w=1;w<arguments.length;w++){var R=arguments[w]!=null?arguments[w]:{};w%2?n(Object(R),!0).forEach(function(b){t(N,b,R[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(R)):n(Object(R)).forEach(function(b){Object.defineProperty(N,b,Object.getOwnPropertyDescriptor(R,b))})}return N}function t(N,w,R){return w in N?Object.defineProperty(N,w,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[w]=R,N}function i(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function r(N,w){for(var R=0;R<w.length;R++){var b=w[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}}function o(N,w,R){return w&&r(N.prototype,w),N}var d=Er(),l=d.Buffer,p=_h(),A=p.inspect,y=A&&A.custom||"inspect";function M(N,w,R){l.prototype.copy.call(N,w,R)}return Do=function(){function N(){i(this,N),this.head=null,this.tail=null,this.length=0}return o(N,[{key:"push",value:function(R){var b={data:R,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(R){var b={data:R,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var b=this.head,D=""+b.data;b=b.next;)D+=R+b.data;return D}},{key:"concat",value:function(R){if(this.length===0)return l.alloc(0);for(var b=l.allocUnsafe(R>>>0),D=this.head,m=0;D;)M(D.data,b,m),m+=D.data.length,D=D.next;return b}},{key:"consume",value:function(R,b){var D;return R<this.head.data.length?(D=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?D=this.shift():D=b?this._getString(R):this._getBuffer(R),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var b=this.head,D=1,m=b.data;for(R-=m.length;b=b.next;){var x=b.data,_=R>x.length?x.length:R;if(_===x.length?m+=x:m+=x.slice(0,R),R-=_,R===0){_===x.length?(++D,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=x.slice(_));break}++D}return this.length-=D,m}},{key:"_getBuffer",value:function(R){var b=l.allocUnsafe(R),D=this.head,m=1;for(D.data.copy(b),R-=D.data.length;D=D.next;){var x=D.data,_=R>x.length?x.length:R;if(x.copy(b,b.length-R,0,_),R-=_,R===0){_===x.length?(++m,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=x.slice(_));break}++m}return this.length-=m,b}},{key:y,value:function(R,b){return A(this,e({},b,{depth:0,customInspect:!1}))}}]),N}(),Do}var ko,gd;function wh(){if(gd)return ko;gd=1;function n(d,l){var p=this,A=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return A||y?(l?l(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Oe.nextTick(r,this,d)):Oe.nextTick(r,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(M){!l&&M?p._writableState?p._writableState.errorEmitted?Oe.nextTick(t,p):(p._writableState.errorEmitted=!0,Oe.nextTick(e,p,M)):Oe.nextTick(e,p,M):l?(Oe.nextTick(t,p),l(M)):Oe.nextTick(t,p)}),this)}function e(d,l){r(d,l),t(d)}function t(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(d,l){d.emit("error",l)}function o(d,l){var p=d._readableState,A=d._writableState;p&&p.autoDestroy||A&&A.autoDestroy?d.destroy(l):d.emit("error",l)}return ko={destroy:n,undestroy:i,errorOrDestroy:o},ko}var Po={},vd;function ji(){if(vd)return Po;vd=1;function n(l,p){l.prototype=Object.create(p.prototype),l.prototype.constructor=l,l.__proto__=p}var e={};function t(l,p,A){A||(A=Error);function y(N,w,R){return typeof p=="string"?p:p(N,w,R)}var M=function(N){n(w,N);function w(R,b,D){return N.call(this,y(R,b,D))||this}return w}(A);M.prototype.name=A.name,M.prototype.code=l,e[l]=M}function i(l,p){if(Array.isArray(l)){var A=l.length;return l=l.map(function(y){return String(y)}),A>2?"one of ".concat(p," ").concat(l.slice(0,A-1).join(", "),", or ")+l[A-1]:A===2?"one of ".concat(p," ").concat(l[0]," or ").concat(l[1]):"of ".concat(p," ").concat(l[0])}else return"of ".concat(p," ").concat(String(l))}function r(l,p,A){return l.substr(0,p.length)===p}function o(l,p,A){return(A===void 0||A>l.length)&&(A=l.length),l.substring(A-p.length,A)===p}function d(l,p,A){return typeof A!="number"&&(A=0),A+p.length>l.length?!1:l.indexOf(p,A)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,p){return'The value "'+p+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,p,A){var y;typeof p=="string"&&r(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var M;if(o(l," argument"))M="The ".concat(l," ").concat(y," ").concat(i(p,"type"));else{var N=d(l,".")?"property":"argument";M='The "'.concat(l,'" ').concat(N," ").concat(y," ").concat(i(p,"type"))}return M+=". Received type ".concat(typeof A),M},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Po.codes=e,Po}var Lo,bd;function Eh(){if(bd)return Lo;bd=1;var n=ji().codes.ERR_INVALID_OPT_VALUE;function e(i,r,o){return i.highWaterMark!=null?i.highWaterMark:r?i[o]:null}function t(i,r,o,d){var l=e(r,d,o);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var p=d?o:"highWaterMark";throw new n(p,l)}return Math.floor(l)}return i.objectMode?16:16*1024}return Lo={getHighWaterMark:t},Lo}var Fo,_d;function Yp(){if(_d)return Fo;_d=1,Fo=n;function n(t,i){if(e("noDeprecation"))return t;var r=!1;function o(){if(!r){if(e("throwDeprecation"))throw new Error(i);e("traceDeprecation")?console.trace(i):console.warn(i),r=!0}return t.apply(this,arguments)}return o}function e(t){try{if(!Ut.localStorage)return!1}catch{return!1}var i=Ut.localStorage[t];return i==null?!1:String(i).toLowerCase()==="true"}return Fo}var zo,wd;function yh(){if(wd)return zo;wd=1,zo=X;function n(Q){var I=this;this.next=null,this.entry=null,this.finish=function(){he(I,Q)}}var e;X.WritableState=V;var t={deprecate:Yp()},i=ph(),r=Er().Buffer,o=Ut.Uint8Array||function(){};function d(Q){return r.from(Q)}function l(Q){return r.isBuffer(Q)||Q instanceof o}var p=wh(),A=Eh(),y=A.getHighWaterMark,M=ji().codes,N=M.ERR_INVALID_ARG_TYPE,w=M.ERR_METHOD_NOT_IMPLEMENTED,R=M.ERR_MULTIPLE_CALLBACK,b=M.ERR_STREAM_CANNOT_PIPE,D=M.ERR_STREAM_DESTROYED,m=M.ERR_STREAM_NULL_VALUES,x=M.ERR_STREAM_WRITE_AFTER_END,_=M.ERR_UNKNOWN_ENCODING,f=p.errorOrDestroy;si()(X,i);function O(){}function V(Q,I,E){e=e||Pi(),Q=Q||{},typeof E!="boolean"&&(E=I instanceof e),this.objectMode=!!Q.objectMode,E&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=y(this,Q,"writableHighWaterMark",E),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=Q.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){ce(I,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}V.prototype.getBuffer=function(){for(var I=this.bufferedRequest,E=[];I;)E.push(I),I=I.next;return E},function(){try{Object.defineProperty(V.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var j;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(I){return j.call(this,I)?!0:this!==X?!1:I&&I._writableState instanceof V}})):j=function(I){return I instanceof this};function X(Q){e=e||Pi();var I=this instanceof e;if(!I&&!j.call(X,this))return new X(Q);this._writableState=new V(Q,this,I),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),i.call(this)}X.prototype.pipe=function(){f(this,new b)};function k(Q,I){var E=new x;f(Q,E),Oe.nextTick(I,E)}function Z(Q,I,E,$){var H;return E===null?H=new m:typeof E!="string"&&!I.objectMode&&(H=new N("chunk",["string","Buffer"],E)),H?(f(Q,H),Oe.nextTick($,H),!1):!0}X.prototype.write=function(Q,I,E){var $=this._writableState,H=!1,F=!$.objectMode&&l(Q);return F&&!r.isBuffer(Q)&&(Q=d(Q)),typeof I=="function"&&(E=I,I=null),F?I="buffer":I||(I=$.defaultEncoding),typeof E!="function"&&(E=O),$.ending?k(this,E):(F||Z(this,$,Q,E))&&($.pendingcb++,H=P(this,$,F,Q,I,E)),H},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&oe(this,Q))},X.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new _(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function me(Q,I,E){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof I=="string"&&(I=r.from(I,E)),I}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(Q,I,E,$,H,F){if(!E){var U=me(I,$,H);$!==U&&(E=!0,H="buffer",$=U)}var ue=I.objectMode?1:$.length;I.length+=ue;var v=I.length<I.highWaterMark;if(v||(I.needDrain=!0),I.writing||I.corked){var ae=I.lastBufferedRequest;I.lastBufferedRequest={chunk:$,encoding:H,isBuf:E,callback:F,next:null},ae?ae.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else W(Q,I,!1,ue,$,H,F);return v}function W(Q,I,E,$,H,F,U){I.writelen=$,I.writecb=U,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new D("write")):E?Q._writev(H,I.onwrite):Q._write(H,F,I.onwrite),I.sync=!1}function S(Q,I,E,$,H){--I.pendingcb,E?(Oe.nextTick(H,$),Oe.nextTick(ie,Q,I),Q._writableState.errorEmitted=!0,f(Q,$)):(H($),Q._writableState.errorEmitted=!0,f(Q,$),ie(Q,I))}function te(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function ce(Q,I){var E=Q._writableState,$=E.sync,H=E.writecb;if(typeof H!="function")throw new R;if(te(E),I)S(Q,E,$,I,H);else{var F=be(E)||Q.destroyed;!F&&!E.corked&&!E.bufferProcessing&&E.bufferedRequest&&oe(Q,E),$?Oe.nextTick(K,Q,E,F,H):K(Q,E,F,H)}}function K(Q,I,E,$){E||de(Q,I),I.pendingcb--,$(),ie(Q,I)}function de(Q,I){I.length===0&&I.needDrain&&(I.needDrain=!1,Q.emit("drain"))}function oe(Q,I){I.bufferProcessing=!0;var E=I.bufferedRequest;if(Q._writev&&E&&E.next){var $=I.bufferedRequestCount,H=new Array($),F=I.corkedRequestsFree;F.entry=E;for(var U=0,ue=!0;E;)H[U]=E,E.isBuf||(ue=!1),E=E.next,U+=1;H.allBuffers=ue,W(Q,I,!0,I.length,H,"",F.finish),I.pendingcb++,I.lastBufferedRequest=null,F.next?(I.corkedRequestsFree=F.next,F.next=null):I.corkedRequestsFree=new n(I),I.bufferedRequestCount=0}else{for(;E;){var v=E.chunk,ae=E.encoding,T=E.callback,c=I.objectMode?1:v.length;if(W(Q,I,!1,c,v,ae,T),E=E.next,I.bufferedRequestCount--,I.writing)break}E===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=E,I.bufferProcessing=!1}X.prototype._write=function(Q,I,E){E(new w("_write()"))},X.prototype._writev=null,X.prototype.end=function(Q,I,E){var $=this._writableState;return typeof Q=="function"?(E=Q,Q=null,I=null):typeof I=="function"&&(E=I,I=null),Q!=null&&this.write(Q,I),$.corked&&($.corked=1,this.uncork()),$.ending||ne(this,$,E),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function be(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function Y(Q,I){Q._final(function(E){I.pendingcb--,E&&f(Q,E),I.prefinished=!0,Q.emit("prefinish"),ie(Q,I)})}function L(Q,I){!I.prefinished&&!I.finalCalled&&(typeof Q._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,Oe.nextTick(Y,Q,I)):(I.prefinished=!0,Q.emit("prefinish")))}function ie(Q,I){var E=be(I);if(E&&(L(Q,I),I.pendingcb===0&&(I.finished=!0,Q.emit("finish"),I.autoDestroy))){var $=Q._readableState;(!$||$.autoDestroy&&$.endEmitted)&&Q.destroy()}return E}function ne(Q,I,E){I.ending=!0,ie(Q,I),E&&(I.finished?Oe.nextTick(E):Q.once("finish",E)),I.ended=!0,Q.writable=!1}function he(Q,I,E){var $=Q.entry;for(Q.entry=null;$;){var H=$.callback;I.pendingcb--,H(E),$=$.next}I.corkedRequestsFree.next=Q}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),X.prototype.destroy=p.destroy,X.prototype._undestroy=p.undestroy,X.prototype._destroy=function(Q,I){I(Q)},zo}var Uo,Ed;function Pi(){if(Ed)return Uo;Ed=1;var n=Object.keys||function(A){var y=[];for(var M in A)y.push(M);return y};Uo=d;var e=Ch(),t=yh();si()(d,e);for(var i=n(t.prototype),r=0;r<i.length;r++){var o=i[r];d.prototype[o]||(d.prototype[o]=t.prototype[o])}function d(A){if(!(this instanceof d))return new d(A);e.call(this,A),t.call(this,A),this.allowHalfOpen=!0,A&&(A.readable===!1&&(this.readable=!1),A.writable===!1&&(this.writable=!1),A.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Oe.nextTick(p,this)}function p(A){A.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Uo}var Vo={},Zn={exports:{}},yd;function Jp(){return yd||(yd=1,function(n,e){var t=Er(),i=t.Buffer;function r(d,l){for(var p in d)l[p]=d[p]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=t:(r(t,e),e.Buffer=o);function o(d,l,p){return i(d,l,p)}r(i,o),o.from=function(d,l,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return i(d,l,p)},o.alloc=function(d,l,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var A=i(d);return l!==void 0?typeof p=="string"?A.fill(l,p):A.fill(l):A.fill(0),A},o.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return i(d)},o.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(d)}}(Zn,Zn.exports)),Zn.exports}var Cd;function _a(){if(Cd)return Vo;Cd=1;var n=Jp().Buffer,e=n.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(m){if(!m)return"utf8";for(var x;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(x)return;m=(""+m).toLowerCase(),x=!0}}function i(m){var x=t(m);if(typeof x!="string"&&(n.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return x||m}Vo.StringDecoder=r;function r(m){this.encoding=i(m);var x;switch(this.encoding){case"utf16le":this.text=M,this.end=N,x=4;break;case"utf8":this.fillLast=p,x=4;break;case"base64":this.text=w,this.end=R,x=3;break;default:this.write=b,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(x)}r.prototype.write=function(m){if(m.length===0)return"";var x,_;if(this.lastNeed){if(x=this.fillLast(m),x===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<m.length?x?x+this.text(m,_):this.text(m,_):x||""},r.prototype.end=y,r.prototype.text=A,r.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function o(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function d(m,x,_){var f=x.length-1;if(f<_)return 0;var O=o(x[f]);return O>=0?(O>0&&(m.lastNeed=O-1),O):--f<_||O===-2?0:(O=o(x[f]),O>=0?(O>0&&(m.lastNeed=O-2),O):--f<_||O===-2?0:(O=o(x[f]),O>=0?(O>0&&(O===2?O=0:m.lastNeed=O-3),O):0))}function l(m,x,_){if((x[0]&192)!==128)return m.lastNeed=0,"\uFFFD";if(m.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return m.lastNeed=1,"\uFFFD";if(m.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return m.lastNeed=2,"\uFFFD"}}function p(m){var x=this.lastTotal-this.lastNeed,_=l(this,m);if(_!==void 0)return _;if(this.lastNeed<=m.length)return m.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,x,0,m.length),this.lastNeed-=m.length}function A(m,x){var _=d(this,m,x);if(!this.lastNeed)return m.toString("utf8",x);this.lastTotal=_;var f=m.length-(_-this.lastNeed);return m.copy(this.lastChar,0,f),m.toString("utf8",x,f)}function y(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+"\uFFFD":x}function M(m,x){if((m.length-x)%2===0){var _=m.toString("utf16le",x);if(_){var f=_.charCodeAt(_.length-1);if(f>=55296&&f<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",x,m.length-1)}function N(m){var x=m&&m.length?this.write(m):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,_)}return x}function w(m,x){var _=(m.length-x)%3;return _===0?m.toString("base64",x):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",x,m.length-_))}function R(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function b(m){return m.toString(this.encoding)}function D(m){return m&&m.length?this.write(m):""}return Vo}var Go,xd;function xc(){if(xd)return Go;xd=1;var n=ji().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var d=!1;return function(){if(!d){d=!0;for(var l=arguments.length,p=new Array(l),A=0;A<l;A++)p[A]=arguments[A];o.apply(this,p)}}}function t(){}function i(o){return o.setHeader&&typeof o.abort=="function"}function r(o,d,l){if(typeof d=="function")return r(o,null,d);d||(d={}),l=e(l||t);var p=d.readable||d.readable!==!1&&o.readable,A=d.writable||d.writable!==!1&&o.writable,y=function(){o.writable||N()},M=o._writableState&&o._writableState.finished,N=function(){A=!1,M=!0,p||l.call(o)},w=o._readableState&&o._readableState.endEmitted,R=function(){p=!1,w=!0,A||l.call(o)},b=function(_){l.call(o,_)},D=function(){var _;if(p&&!w)return(!o._readableState||!o._readableState.ended)&&(_=new n),l.call(o,_);if(A&&!M)return(!o._writableState||!o._writableState.ended)&&(_=new n),l.call(o,_)},m=function(){o.req.on("finish",N)};return i(o)?(o.on("complete",N),o.on("abort",D),o.req?m():o.on("request",m)):A&&!o._writableState&&(o.on("end",y),o.on("close",y)),o.on("end",R),o.on("finish",N),d.error!==!1&&o.on("error",b),o.on("close",D),function(){o.removeListener("complete",N),o.removeListener("abort",D),o.removeListener("request",m),o.req&&o.req.removeListener("finish",N),o.removeListener("end",y),o.removeListener("close",y),o.removeListener("finish",N),o.removeListener("end",R),o.removeListener("error",b),o.removeListener("close",D)}}return Go=r,Go}var Bo,Sd;function Qp(){if(Sd)return Bo;Sd=1;var n;function e(m,x,_){return x in m?Object.defineProperty(m,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[x]=_,m}var t=xc(),i=Symbol("lastResolve"),r=Symbol("lastReject"),o=Symbol("error"),d=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),A=Symbol("stream");function y(m,x){return{value:m,done:x}}function M(m){var x=m[i];if(x!==null){var _=m[A].read();_!==null&&(m[l]=null,m[i]=null,m[r]=null,x(y(_,!1)))}}function N(m){Oe.nextTick(M,m)}function w(m,x){return function(_,f){m.then(function(){if(x[d]){_(y(void 0,!0));return}x[p](_,f)},f)}}var R=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((n={get stream(){return this[A]},next:function(){var x=this,_=this[o];if(_!==null)return Promise.reject(_);if(this[d])return Promise.resolve(y(void 0,!0));if(this[A].destroyed)return new Promise(function(j,X){Oe.nextTick(function(){x[o]?X(x[o]):j(y(void 0,!0))})});var f=this[l],O;if(f)O=new Promise(w(f,this));else{var V=this[A].read();if(V!==null)return Promise.resolve(y(V,!1));O=new Promise(this[p])}return this[l]=O,O}},e(n,Symbol.asyncIterator,function(){return this}),e(n,"return",function(){var x=this;return new Promise(function(_,f){x[A].destroy(null,function(O){if(O){f(O);return}_(y(void 0,!0))})})}),n),R),D=function(x){var _,f=Object.create(b,(_={},e(_,A,{value:x,writable:!0}),e(_,i,{value:null,writable:!0}),e(_,r,{value:null,writable:!0}),e(_,o,{value:null,writable:!0}),e(_,d,{value:x._readableState.endEmitted,writable:!0}),e(_,p,{value:function(V,j){var X=f[A].read();X?(f[l]=null,f[i]=null,f[r]=null,V(y(X,!1))):(f[i]=V,f[r]=j)},writable:!0}),_));return f[l]=null,t(x,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=f[r];V!==null&&(f[l]=null,f[i]=null,f[r]=null,V(O)),f[o]=O;return}var j=f[i];j!==null&&(f[l]=null,f[i]=null,f[r]=null,j(y(void 0,!0))),f[d]=!0}),x.on("readable",N.bind(null,f)),f};return Bo=D,Bo}var jo,Ad;function em(){return Ad||(Ad=1,jo=function(){throw new Error("Readable.from is not available in the browser")}),jo}var Ho,Id;function Ch(){if(Id)return Ho;Id=1,Ho=k;var n;k.ReadableState=X,_c().EventEmitter;var e=function(U,ue){return U.listeners(ue).length},t=ph(),i=Er().Buffer,r=Ut.Uint8Array||function(){};function o(F){return i.from(F)}function d(F){return i.isBuffer(F)||F instanceof r}var l=_h(),p;l&&l.debuglog?p=l.debuglog("stream"):p=function(){};var A=Zp(),y=wh(),M=Eh(),N=M.getHighWaterMark,w=ji().codes,R=w.ERR_INVALID_ARG_TYPE,b=w.ERR_STREAM_PUSH_AFTER_EOF,D=w.ERR_METHOD_NOT_IMPLEMENTED,m=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,_,f;si()(k,t);var O=y.errorOrDestroy,V=["error","close","destroy","pause","resume"];function j(F,U,ue){if(typeof F.prependListener=="function")return F.prependListener(U,ue);!F._events||!F._events[U]?F.on(U,ue):Array.isArray(F._events[U])?F._events[U].unshift(ue):F._events[U]=[ue,F._events[U]]}function X(F,U,ue){n=n||Pi(),F=F||{},typeof ue!="boolean"&&(ue=U instanceof n),this.objectMode=!!F.objectMode,ue&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=N(this,F,"readableHighWaterMark",ue),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(x||(x=_a().StringDecoder),this.decoder=new x(F.encoding),this.encoding=F.encoding)}function k(F){if(n=n||Pi(),!(this instanceof k))return new k(F);var U=this instanceof n;this._readableState=new X(F,this,U),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),t.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),k.prototype.destroy=y.destroy,k.prototype._undestroy=y.undestroy,k.prototype._destroy=function(F,U){U(F)},k.prototype.push=function(F,U){var ue=this._readableState,v;return ue.objectMode?v=!0:typeof F=="string"&&(U=U||ue.defaultEncoding,U!==ue.encoding&&(F=i.from(F,U),U=""),v=!0),Z(this,F,U,!1,v)},k.prototype.unshift=function(F){return Z(this,F,null,!0,!1)};function Z(F,U,ue,v,ae){p("readableAddChunk",U);var T=F._readableState;if(U===null)T.reading=!1,ce(F,T);else{var c;if(ae||(c=P(T,U)),c)O(F,c);else if(T.objectMode||U&&U.length>0)if(typeof U!="string"&&!T.objectMode&&Object.getPrototypeOf(U)!==i.prototype&&(U=o(U)),v)T.endEmitted?O(F,new m):me(F,T,U,!0);else if(T.ended)O(F,new b);else{if(T.destroyed)return!1;T.reading=!1,T.decoder&&!ue?(U=T.decoder.write(U),T.objectMode||U.length!==0?me(F,T,U,!1):oe(F,T)):me(F,T,U,!1)}else v||(T.reading=!1,oe(F,T))}return!T.ended&&(T.length<T.highWaterMark||T.length===0)}function me(F,U,ue,v){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,F.emit("data",ue)):(U.length+=U.objectMode?1:ue.length,v?U.buffer.unshift(ue):U.buffer.push(ue),U.needReadable&&K(F)),oe(F,U)}function P(F,U){var ue;return!d(U)&&typeof U!="string"&&U!==void 0&&!F.objectMode&&(ue=new R("chunk",["string","Buffer","Uint8Array"],U)),ue}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(F){x||(x=_a().StringDecoder);var U=new x(F);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,v="";ue!==null;)v+=U.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),v!==""&&this._readableState.buffer.push(v),this._readableState.length=v.length,this};var W=1073741824;function S(F){return F>=W?F=W:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function te(F,U){return F<=0||U.length===0&&U.ended?0:U.objectMode?1:F!==F?U.flowing&&U.length?U.buffer.head.data.length:U.length:(F>U.highWaterMark&&(U.highWaterMark=S(F)),F<=U.length?F:U.ended?U.length:(U.needReadable=!0,0))}k.prototype.read=function(F){p("read",F),F=parseInt(F,10);var U=this._readableState,ue=F;if(F!==0&&(U.emittedReadable=!1),F===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return p("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?E(this):K(this),null;if(F=te(F,U),F===0&&U.ended)return U.length===0&&E(this),null;var v=U.needReadable;p("need readable",v),(U.length===0||U.length-F<U.highWaterMark)&&(v=!0,p("length less than watermark",v)),U.ended||U.reading?(v=!1,p("reading or ended",v)):v&&(p("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(F=te(ue,U)));var ae;return F>0?ae=I(F,U):ae=null,ae===null?(U.needReadable=U.length<=U.highWaterMark,F=0):(U.length-=F,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),ue!==F&&U.ended&&E(this)),ae!==null&&this.emit("data",ae),ae};function ce(F,U){if(p("onEofChunk"),!U.ended){if(U.decoder){var ue=U.decoder.end();ue&&ue.length&&(U.buffer.push(ue),U.length+=U.objectMode?1:ue.length)}U.ended=!0,U.sync?K(F):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,de(F)))}}function K(F){var U=F._readableState;p("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(p("emitReadable",U.flowing),U.emittedReadable=!0,Oe.nextTick(de,F))}function de(F){var U=F._readableState;p("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(F.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Q(F)}function oe(F,U){U.readingMore||(U.readingMore=!0,Oe.nextTick(be,F,U))}function be(F,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var ue=U.length;if(p("maybeReadMore read 0"),F.read(0),ue===U.length)break}U.readingMore=!1}k.prototype._read=function(F){O(this,new D("_read()"))},k.prototype.pipe=function(F,U){var ue=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=F;break;case 1:v.pipes=[v.pipes,F];break;default:v.pipes.push(F);break}v.pipesCount+=1,p("pipe count=%d opts=%j",v.pipesCount,U);var ae=(!U||U.end!==!1)&&F!==Oe.stdout&&F!==Oe.stderr,T=ae?u:Ce;v.endEmitted?Oe.nextTick(T):ue.once("end",T),F.on("unpipe",c);function c(Ae,Te){p("onunpipe"),Ae===ue&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,J())}function u(){p("onend"),F.end()}var g=Y(ue);F.on("drain",g);var B=!1;function J(){p("cleanup"),F.removeListener("close",we),F.removeListener("finish",ve),F.removeListener("drain",g),F.removeListener("error",pe),F.removeListener("unpipe",c),ue.removeListener("end",u),ue.removeListener("end",Ce),ue.removeListener("data",q),B=!0,v.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&g()}ue.on("data",q);function q(Ae){p("ondata");var Te=F.write(Ae);p("dest.write",Te),Te===!1&&((v.pipesCount===1&&v.pipes===F||v.pipesCount>1&&H(v.pipes,F)!==-1)&&!B&&(p("false write response, pause",v.awaitDrain),v.awaitDrain++),ue.pause())}function pe(Ae){p("onerror",Ae),Ce(),F.removeListener("error",pe),e(F,"error")===0&&O(F,Ae)}j(F,"error",pe);function we(){F.removeListener("finish",ve),Ce()}F.once("close",we);function ve(){p("onfinish"),F.removeListener("close",we),Ce()}F.once("finish",ve);function Ce(){p("unpipe"),ue.unpipe(F)}return F.emit("pipe",ue),v.flowing||(p("pipe resume"),ue.resume()),F};function Y(F){return function(){var ue=F._readableState;p("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&e(F,"data")&&(ue.flowing=!0,Q(F))}}k.prototype.unpipe=function(F){var U=this._readableState,ue={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return F&&F!==U.pipes?this:(F||(F=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,F&&F.emit("unpipe",this,ue),this);if(!F){var v=U.pipes,ae=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var T=0;T<ae;T++)v[T].emit("unpipe",this,{hasUnpiped:!1});return this}var c=H(U.pipes,F);return c===-1?this:(U.pipes.splice(c,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),F.emit("unpipe",this,ue),this)},k.prototype.on=function(F,U){var ue=t.prototype.on.call(this,F,U),v=this._readableState;return F==="data"?(v.readableListening=this.listenerCount("readable")>0,v.flowing!==!1&&this.resume()):F==="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,p("on readable",v.length,v.reading),v.length?K(this):v.reading||Oe.nextTick(ie,this)),ue},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(F,U){var ue=t.prototype.removeListener.call(this,F,U);return F==="readable"&&Oe.nextTick(L,this),ue},k.prototype.removeAllListeners=function(F){var U=t.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&Oe.nextTick(L,this),U};function L(F){var U=F._readableState;U.readableListening=F.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:F.listenerCount("data")>0&&F.resume()}function ie(F){p("readable nexttick read 0"),F.read(0)}k.prototype.resume=function(){var F=this._readableState;return F.flowing||(p("resume"),F.flowing=!F.readableListening,ne(this,F)),F.paused=!1,this};function ne(F,U){U.resumeScheduled||(U.resumeScheduled=!0,Oe.nextTick(he,F,U))}function he(F,U){p("resume",U.reading),U.reading||F.read(0),U.resumeScheduled=!1,F.emit("resume"),Q(F),U.flowing&&!U.reading&&F.read(0)}k.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(F){var U=F._readableState;for(p("flow",U.flowing);U.flowing&&F.read()!==null;);}k.prototype.wrap=function(F){var U=this,ue=this._readableState,v=!1;F.on("end",function(){if(p("wrapped end"),ue.decoder&&!ue.ended){var c=ue.decoder.end();c&&c.length&&U.push(c)}U.push(null)}),F.on("data",function(c){if(p("wrapped data"),ue.decoder&&(c=ue.decoder.write(c)),!(ue.objectMode&&c==null)&&!(!ue.objectMode&&(!c||!c.length))){var u=U.push(c);u||(v=!0,F.pause())}});for(var ae in F)this[ae]===void 0&&typeof F[ae]=="function"&&(this[ae]=function(u){return function(){return F[u].apply(F,arguments)}}(ae));for(var T=0;T<V.length;T++)F.on(V[T],this.emit.bind(this,V[T]));return this._read=function(c){p("wrapped _read",c),v&&(v=!1,F.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=Qp()),_(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),k._fromList=I,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I(F,U){if(U.length===0)return null;var ue;return U.objectMode?ue=U.buffer.shift():!F||F>=U.length?(U.decoder?ue=U.buffer.join(""):U.buffer.length===1?ue=U.buffer.first():ue=U.buffer.concat(U.length),U.buffer.clear()):ue=U.buffer.consume(F,U.decoder),ue}function E(F){var U=F._readableState;p("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,Oe.nextTick($,U,F))}function $(F,U){if(p("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,U.readable=!1,U.emit("end"),F.autoDestroy)){var ue=U._writableState;(!ue||ue.autoDestroy&&ue.finished)&&U.destroy()}}typeof Symbol=="function"&&(k.from=function(F,U){return f===void 0&&(f=em()),f(k,F,U)});function H(F,U){for(var ue=0,v=F.length;ue<v;ue++)if(F[ue]===U)return ue;return-1}return Ho}var Wo,Td;function xh(){if(Td)return Wo;Td=1,Wo=l;var n=ji().codes,e=n.ERR_METHOD_NOT_IMPLEMENTED,t=n.ERR_MULTIPLE_CALLBACK,i=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=n.ERR_TRANSFORM_WITH_LENGTH_0,o=Pi();si()(l,o);function d(y,M){var N=this._transformState;N.transforming=!1;var w=N.writecb;if(w===null)return this.emit("error",new t);N.writechunk=null,N.writecb=null,M!=null&&this.push(M),w(y);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function l(y){if(!(this instanceof l))return new l(y);o.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(M,N){A(y,M,N)}):A(this,null,null)}l.prototype.push=function(y,M){return this._transformState.needTransform=!1,o.prototype.push.call(this,y,M)},l.prototype._transform=function(y,M,N){N(new e("_transform()"))},l.prototype._write=function(y,M,N){var w=this._transformState;if(w.writecb=N,w.writechunk=y,w.writeencoding=M,!w.transforming){var R=this._readableState;(w.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},l.prototype._read=function(y){var M=this._transformState;M.writechunk!==null&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},l.prototype._destroy=function(y,M){o.prototype._destroy.call(this,y,function(N){M(N)})};function A(y,M,N){if(M)return y.emit("error",M);if(N!=null&&y.push(N),y._writableState.length)throw new r;if(y._transformState.transforming)throw new i;return y.push(null)}return Wo}var qo,Md;function tm(){if(Md)return qo;Md=1,qo=e;var n=xh();si()(e,n);function e(t){if(!(this instanceof e))return new e(t);n.call(this,t)}return e.prototype._transform=function(t,i,r){r(null,t)},qo}var Ko,Rd;function im(){if(Rd)return Ko;Rd=1;var n;function e(N){var w=!1;return function(){w||(w=!0,N.apply(void 0,arguments))}}var t=ji().codes,i=t.ERR_MISSING_ARGS,r=t.ERR_STREAM_DESTROYED;function o(N){if(N)throw N}function d(N){return N.setHeader&&typeof N.abort=="function"}function l(N,w,R,b){b=e(b);var D=!1;N.on("close",function(){D=!0}),n===void 0&&(n=xc()),n(N,{readable:w,writable:R},function(x){if(x)return b(x);D=!0,b()});var m=!1;return function(x){if(!D&&!m){if(m=!0,d(N))return N.abort();if(typeof N.destroy=="function")return N.destroy();b(x||new r("pipe"))}}}function p(N){N()}function A(N,w){return N.pipe(w)}function y(N){return!N.length||typeof N[N.length-1]!="function"?o:N.pop()}function M(){for(var N=arguments.length,w=new Array(N),R=0;R<N;R++)w[R]=arguments[R];var b=y(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new i("streams");var D,m=w.map(function(x,_){var f=_<w.length-1,O=_>0;return l(x,f,O,function(V){D||(D=V),V&&m.forEach(p),!f&&(m.forEach(p),b(D))})});return w.reduce(A)}return Ko=M,Ko}var $o,Od;function Sc(){if(Od)return $o;Od=1,$o=t;var n=_c().EventEmitter,e=si();e(t,n),t.Readable=Ch(),t.Writable=yh(),t.Duplex=Pi(),t.Transform=xh(),t.PassThrough=tm(),t.finished=xc(),t.pipeline=im(),t.Stream=t;function t(){n.call(this)}return t.prototype.pipe=function(i,r){var o=this;function d(w){i.writable&&i.write(w)===!1&&o.pause&&o.pause()}o.on("data",d);function l(){o.readable&&o.resume&&o.resume()}i.on("drain",l),!i._isStdio&&(!r||r.end!==!1)&&(o.on("end",A),o.on("close",y));var p=!1;function A(){p||(p=!0,i.end())}function y(){p||(p=!0,typeof i.destroy=="function"&&i.destroy())}function M(w){if(N(),n.listenerCount(this,"error")===0)throw w}o.on("error",M),i.on("error",M);function N(){o.removeListener("data",d),i.removeListener("drain",l),o.removeListener("end",A),o.removeListener("close",y),o.removeListener("error",M),i.removeListener("error",M),o.removeListener("end",N),o.removeListener("close",N),i.removeListener("close",N)}return o.on("end",N),o.on("close",N),i.on("close",N),i.emit("pipe",o),i},$o}var Nd;function nm(){return Nd||(Nd=1,function(n){(function(e){e.parser=function(I,E){return new i(I,E)},e.SAXParser=i,e.SAXStream=y,e.createStream=A,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(I,E){if(!(this instanceof i))return new i(I,E);var $=this;o($),$.q=$.c="",$.bufferCheckPosition=e.MAX_BUFFER_LENGTH,$.opt=E||{},$.opt.lowercase=$.opt.lowercase||$.opt.lowercasetags,$.looseCase=$.opt.lowercase?"toLowerCase":"toUpperCase",$.tags=[],$.closed=$.closedRoot=$.sawRoot=!1,$.tag=$.error=null,$.strict=!!I,$.noscript=!!(I||$.opt.noscript),$.state=k.BEGIN,$.strictEntities=$.opt.strictEntities,$.ENTITIES=$.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),$.attribList=[],$.opt.xmlns&&($.ns=Object.create(b)),$.trackPosition=$.opt.position!==!1,$.trackPosition&&($.position=$.line=$.column=0),me($,"onready")}Object.create||(Object.create=function(I){function E(){}E.prototype=I;var $=new E;return $}),Object.keys||(Object.keys=function(I){var E=[];for(var $ in I)I.hasOwnProperty($)&&E.push($);return E});function r(I){for(var E=Math.max(e.MAX_BUFFER_LENGTH,10),$=0,H=0,F=t.length;H<F;H++){var U=I[t[H]].length;if(U>E)switch(t[H]){case"textNode":W(I);break;case"cdata":P(I,"oncdata",I.cdata),I.cdata="";break;case"script":P(I,"onscript",I.script),I.script="";break;default:te(I,"Max buffer length exceeded: "+t[H])}$=Math.max($,U)}var ue=e.MAX_BUFFER_LENGTH-$;I.bufferCheckPosition=ue+I.position}function o(I){for(var E=0,$=t.length;E<$;E++)I[t[E]]=""}function d(I){W(I),I.cdata!==""&&(P(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(P(I,"onscript",I.script),I.script="")}i.prototype={end:function(){ce(this)},write:Q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var l;try{l=Sc().Stream}catch{l=function(){}}var p=e.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function A(I,E){return new y(I,E)}function y(I,E){if(!(this instanceof y))return new y(I,E);l.apply(this),this._parser=new i(I,E),this.writable=!0,this.readable=!0;var $=this;this._parser.onend=function(){$.emit("end")},this._parser.onerror=function(H){$.emit("error",H),$._parser.error=null},this._decoder=null,p.forEach(function(H){Object.defineProperty($,"on"+H,{get:function(){return $._parser["on"+H]},set:function(F){if(!F)return $.removeAllListeners(H),$._parser["on"+H]=F,F;$.on(H,F)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(l.prototype,{constructor:{value:y}}),y.prototype.write=function(I){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(I)){if(!this._decoder){var E=_a().StringDecoder;this._decoder=new E("utf8")}I=this._decoder.write(I)}return this._parser.write(I.toString()),this.emit("data",I),!0},y.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},y.prototype.on=function(I,E){var $=this;return!$._parser["on"+I]&&p.indexOf(I)!==-1&&($._parser["on"+I]=function(){var H=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);H.splice(0,0,I),$.emit.apply($,H)}),l.prototype.on.call($,I,E)};var M="[CDATA[",N="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/2000/xmlns/",b={xml:w,xmlns:R},D=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(I){return I===" "||I===`
`||I==="\r"||I==="	"}function O(I){return I==='"'||I==="'"}function V(I){return I===">"||f(I)}function j(I,E){return I.test(E)}function X(I,E){return!j(I,E)}var k=0;e.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(I){var E=e.ENTITIES[I],$=typeof E=="number"?String.fromCharCode(E):E;e.ENTITIES[I]=$});for(var Z in e.STATE)e.STATE[e.STATE[Z]]=Z;k=e.STATE;function me(I,E,$){I[E]&&I[E]($)}function P(I,E,$){I.textNode&&W(I),me(I,E,$)}function W(I){I.textNode=S(I.opt,I.textNode),I.textNode&&me(I,"ontext",I.textNode),I.textNode=""}function S(I,E){return I.trim&&(E=E.trim()),I.normalize&&(E=E.replace(/\s+/g," ")),E}function te(I,E){return W(I),I.trackPosition&&(E+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),E=new Error(E),I.error=E,me(I,"onerror",E),I}function ce(I){return I.sawRoot&&!I.closedRoot&&K(I,"Unclosed root tag"),I.state!==k.BEGIN&&I.state!==k.BEGIN_WHITESPACE&&I.state!==k.TEXT&&te(I,"Unexpected end"),W(I),I.c="",I.closed=!0,me(I,"onend"),i.call(I,I.strict,I.opt),I}function K(I,E){if(typeof I!="object"||!(I instanceof i))throw new Error("bad call to strictFail");I.strict&&te(I,E)}function de(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var E=I.tags[I.tags.length-1]||I,$=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&($.ns=E.ns),I.attribList.length=0,P(I,"onopentagstart",$)}function oe(I,E){var $=I.indexOf(":"),H=$<0?["",I]:I.split(":"),F=H[0],U=H[1];return E&&I==="xmlns"&&(F="xmlns",U=""),{prefix:F,local:U}}function be(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var E=oe(I.attribName,!0),$=E.prefix,H=E.local;if($==="xmlns")if(H==="xml"&&I.attribValue!==w)K(I,"xml: prefix must be bound to "+w+`
Actual: `+I.attribValue);else if(H==="xmlns"&&I.attribValue!==R)K(I,"xmlns: prefix must be bound to "+R+`
Actual: `+I.attribValue);else{var F=I.tag,U=I.tags[I.tags.length-1]||I;F.ns===U.ns&&(F.ns=Object.create(U.ns)),F.ns[H]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,P(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function Y(I,E){if(I.opt.xmlns){var $=I.tag,H=oe(I.tagName);$.prefix=H.prefix,$.local=H.local,$.uri=$.ns[H.prefix]||"",$.prefix&&!$.uri&&(K(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),$.uri=H.prefix);var F=I.tags[I.tags.length-1]||I;$.ns&&F.ns!==$.ns&&Object.keys($.ns).forEach(function(q){P(I,"onopennamespace",{prefix:q,uri:$.ns[q]})});for(var U=0,ue=I.attribList.length;U<ue;U++){var v=I.attribList[U],ae=v[0],T=v[1],c=oe(ae,!0),u=c.prefix,g=c.local,B=u===""?"":$.ns[u]||"",J={name:ae,value:T,prefix:u,local:g,uri:B};u&&u!=="xmlns"&&!B&&(K(I,"Unbound namespace prefix: "+JSON.stringify(u)),J.uri=u),I.tag.attributes[ae]=J,P(I,"onattribute",J)}I.attribList.length=0}I.tag.isSelfClosing=!!E,I.sawRoot=!0,I.tags.push(I.tag),P(I,"onopentag",I.tag),E||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=k.SCRIPT:I.state=k.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function L(I){if(!I.tagName){K(I,"Weird empty close tag."),I.textNode+="</>",I.state=k.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=k.SCRIPT;return}P(I,"onscript",I.script),I.script=""}var E=I.tags.length,$=I.tagName;I.strict||($=$[I.looseCase]());for(var H=$;E--;){var F=I.tags[E];if(F.name!==H)K(I,"Unexpected close tag");else break}if(E<0){K(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=k.TEXT;return}I.tagName=$;for(var U=I.tags.length;U-- >E;){var ue=I.tag=I.tags.pop();I.tagName=I.tag.name,P(I,"onclosetag",I.tagName);var v={};for(var ae in ue.ns)v[ae]=ue.ns[ae];var T=I.tags[I.tags.length-1]||I;I.opt.xmlns&&ue.ns!==T.ns&&Object.keys(ue.ns).forEach(function(c){var u=ue.ns[c];P(I,"onclosenamespace",{prefix:c,uri:u})})}E===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=k.TEXT}function ie(I){var E=I.entity,$=E.toLowerCase(),H,F="";return I.ENTITIES[E]?I.ENTITIES[E]:I.ENTITIES[$]?I.ENTITIES[$]:(E=$,E.charAt(0)==="#"&&(E.charAt(1)==="x"?(E=E.slice(2),H=parseInt(E,16),F=H.toString(16)):(E=E.slice(1),H=parseInt(E,10),F=H.toString(10))),E=E.replace(/^0+/,""),isNaN(H)||F.toLowerCase()!==E?(K(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(H))}function ne(I,E){E==="<"?(I.state=k.OPEN_WAKA,I.startTagPosition=I.position):f(E)||(K(I,"Non-whitespace before first tag."),I.textNode=E,I.state=k.TEXT)}function he(I,E){var $="";return E<I.length&&($=I.charAt(E)),$}function Q(I){var E=this;if(this.error)throw this.error;if(E.closed)return te(E,"Cannot write after close. Assign an onready handler.");if(I===null)return ce(E);typeof I=="object"&&(I=I.toString());for(var $=0,H="";H=he(I,$++),E.c=H,!!H;)switch(E.trackPosition&&(E.position++,H===`
`?(E.line++,E.column=0):E.column++),E.state){case k.BEGIN:if(E.state=k.BEGIN_WHITESPACE,H==="\uFEFF")continue;ne(E,H);continue;case k.BEGIN_WHITESPACE:ne(E,H);continue;case k.TEXT:if(E.sawRoot&&!E.closedRoot){for(var F=$-1;H&&H!=="<"&&H!=="&";)H=he(I,$++),H&&E.trackPosition&&(E.position++,H===`
`?(E.line++,E.column=0):E.column++);E.textNode+=I.substring(F,$-1)}H==="<"&&!(E.sawRoot&&E.closedRoot&&!E.strict)?(E.state=k.OPEN_WAKA,E.startTagPosition=E.position):(!f(H)&&(!E.sawRoot||E.closedRoot)&&K(E,"Text data outside of root node."),H==="&"?E.state=k.TEXT_ENTITY:E.textNode+=H);continue;case k.SCRIPT:H==="<"?E.state=k.SCRIPT_ENDING:E.script+=H;continue;case k.SCRIPT_ENDING:H==="/"?E.state=k.CLOSE_TAG:(E.script+="<"+H,E.state=k.SCRIPT);continue;case k.OPEN_WAKA:if(H==="!")E.state=k.SGML_DECL,E.sgmlDecl="";else if(!f(H))if(j(D,H))E.state=k.OPEN_TAG,E.tagName=H;else if(H==="/")E.state=k.CLOSE_TAG,E.tagName="";else if(H==="?")E.state=k.PROC_INST,E.procInstName=E.procInstBody="";else{if(K(E,"Unencoded <"),E.startTagPosition+1<E.position){var U=E.position-E.startTagPosition;H=new Array(U).join(" ")+H}E.textNode+="<"+H,E.state=k.TEXT}continue;case k.SGML_DECL:(E.sgmlDecl+H).toUpperCase()===M?(P(E,"onopencdata"),E.state=k.CDATA,E.sgmlDecl="",E.cdata=""):E.sgmlDecl+H==="--"?(E.state=k.COMMENT,E.comment="",E.sgmlDecl=""):(E.sgmlDecl+H).toUpperCase()===N?(E.state=k.DOCTYPE,(E.doctype||E.sawRoot)&&K(E,"Inappropriately located doctype declaration"),E.doctype="",E.sgmlDecl=""):H===">"?(P(E,"onsgmldeclaration",E.sgmlDecl),E.sgmlDecl="",E.state=k.TEXT):(O(H)&&(E.state=k.SGML_DECL_QUOTED),E.sgmlDecl+=H);continue;case k.SGML_DECL_QUOTED:H===E.q&&(E.state=k.SGML_DECL,E.q=""),E.sgmlDecl+=H;continue;case k.DOCTYPE:H===">"?(E.state=k.TEXT,P(E,"ondoctype",E.doctype),E.doctype=!0):(E.doctype+=H,H==="["?E.state=k.DOCTYPE_DTD:O(H)&&(E.state=k.DOCTYPE_QUOTED,E.q=H));continue;case k.DOCTYPE_QUOTED:E.doctype+=H,H===E.q&&(E.q="",E.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:E.doctype+=H,H==="]"?E.state=k.DOCTYPE:O(H)&&(E.state=k.DOCTYPE_DTD_QUOTED,E.q=H);continue;case k.DOCTYPE_DTD_QUOTED:E.doctype+=H,H===E.q&&(E.state=k.DOCTYPE_DTD,E.q="");continue;case k.COMMENT:H==="-"?E.state=k.COMMENT_ENDING:E.comment+=H;continue;case k.COMMENT_ENDING:H==="-"?(E.state=k.COMMENT_ENDED,E.comment=S(E.opt,E.comment),E.comment&&P(E,"oncomment",E.comment),E.comment=""):(E.comment+="-"+H,E.state=k.COMMENT);continue;case k.COMMENT_ENDED:H!==">"?(K(E,"Malformed comment"),E.comment+="--"+H,E.state=k.COMMENT):E.state=k.TEXT;continue;case k.CDATA:H==="]"?E.state=k.CDATA_ENDING:E.cdata+=H;continue;case k.CDATA_ENDING:H==="]"?E.state=k.CDATA_ENDING_2:(E.cdata+="]"+H,E.state=k.CDATA);continue;case k.CDATA_ENDING_2:H===">"?(E.cdata&&P(E,"oncdata",E.cdata),P(E,"onclosecdata"),E.cdata="",E.state=k.TEXT):H==="]"?E.cdata+="]":(E.cdata+="]]"+H,E.state=k.CDATA);continue;case k.PROC_INST:H==="?"?E.state=k.PROC_INST_ENDING:f(H)?E.state=k.PROC_INST_BODY:E.procInstName+=H;continue;case k.PROC_INST_BODY:if(!E.procInstBody&&f(H))continue;H==="?"?E.state=k.PROC_INST_ENDING:E.procInstBody+=H;continue;case k.PROC_INST_ENDING:H===">"?(P(E,"onprocessinginstruction",{name:E.procInstName,body:E.procInstBody}),E.procInstName=E.procInstBody="",E.state=k.TEXT):(E.procInstBody+="?"+H,E.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:j(m,H)?E.tagName+=H:(de(E),H===">"?Y(E):H==="/"?E.state=k.OPEN_TAG_SLASH:(f(H)||K(E,"Invalid character in tag name"),E.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:H===">"?(Y(E,!0),L(E)):(K(E,"Forward-slash in opening tag not followed by >"),E.state=k.ATTRIB);continue;case k.ATTRIB:if(f(H))continue;H===">"?Y(E):H==="/"?E.state=k.OPEN_TAG_SLASH:j(D,H)?(E.attribName=H,E.attribValue="",E.state=k.ATTRIB_NAME):K(E,"Invalid attribute name");continue;case k.ATTRIB_NAME:H==="="?E.state=k.ATTRIB_VALUE:H===">"?(K(E,"Attribute without value"),E.attribValue=E.attribName,be(E),Y(E)):f(H)?E.state=k.ATTRIB_NAME_SAW_WHITE:j(m,H)?E.attribName+=H:K(E,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if(H==="=")E.state=k.ATTRIB_VALUE;else{if(f(H))continue;K(E,"Attribute without value"),E.tag.attributes[E.attribName]="",E.attribValue="",P(E,"onattribute",{name:E.attribName,value:""}),E.attribName="",H===">"?Y(E):j(D,H)?(E.attribName=H,E.state=k.ATTRIB_NAME):(K(E,"Invalid attribute name"),E.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(f(H))continue;O(H)?(E.q=H,E.state=k.ATTRIB_VALUE_QUOTED):(K(E,"Unquoted attribute value"),E.state=k.ATTRIB_VALUE_UNQUOTED,E.attribValue=H);continue;case k.ATTRIB_VALUE_QUOTED:if(H!==E.q){H==="&"?E.state=k.ATTRIB_VALUE_ENTITY_Q:E.attribValue+=H;continue}be(E),E.q="",E.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:f(H)?E.state=k.ATTRIB:H===">"?Y(E):H==="/"?E.state=k.OPEN_TAG_SLASH:j(D,H)?(K(E,"No whitespace between attributes"),E.attribName=H,E.attribValue="",E.state=k.ATTRIB_NAME):K(E,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!V(H)){H==="&"?E.state=k.ATTRIB_VALUE_ENTITY_U:E.attribValue+=H;continue}be(E),H===">"?Y(E):E.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(E.tagName)H===">"?L(E):j(m,H)?E.tagName+=H:E.script?(E.script+="</"+E.tagName,E.tagName="",E.state=k.SCRIPT):(f(H)||K(E,"Invalid tagname in closing tag"),E.state=k.CLOSE_TAG_SAW_WHITE);else{if(f(H))continue;X(D,H)?E.script?(E.script+="</"+H,E.state=k.SCRIPT):K(E,"Invalid tagname in closing tag."):E.tagName=H}continue;case k.CLOSE_TAG_SAW_WHITE:if(f(H))continue;H===">"?L(E):K(E,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var ue,v;switch(E.state){case k.TEXT_ENTITY:ue=k.TEXT,v="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:ue=k.ATTRIB_VALUE_QUOTED,v="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:ue=k.ATTRIB_VALUE_UNQUOTED,v="attribValue";break}H===";"?(E[v]+=ie(E),E.entity="",E.state=ue):j(E.entity.length?_:x,H)?E.entity+=H:(K(E,"Invalid character in entity name"),E[v]+="&"+E.entity+H,E.entity="",E.state=ue);continue;default:throw new Error(E,"Unknown state: "+E.state)}return E.position>=E.bufferCheckPosition&&r(E),E}String.fromCodePoint||function(){var I=String.fromCharCode,E=Math.floor,$=function(){var H=16384,F=[],U,ue,v=-1,ae=arguments.length;if(!ae)return"";for(var T="";++v<ae;){var c=Number(arguments[v]);if(!isFinite(c)||c<0||c>1114111||E(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?F.push(c):(c-=65536,U=(c>>10)+55296,ue=c%1024+56320,F.push(U,ue)),(v+1===ae||F.length>H)&&(T+=I.apply(null,F),F.length=0)}return T};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:$,configurable:!0,writable:!0}):String.fromCodePoint=$}()})(n)}(Zr)),Zr}var Xo,Dd;function Ac(){return Dd||(Dd=1,Xo={isArray:function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"}}),Xo}var Zo,kd;function Ic(){if(kd)return Zo;kd=1;var n=Ac().isArray;return Zo={copyOptions:function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!n(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},Zo}var Yo,Pd;function Sh(){if(Pd)return Yo;Pd=1;var n=nm(),e=Ic(),t=Ac().isArray,i,r;function o(m){return i=e.copyOptions(m),e.ensureFlagExists("ignoreDeclaration",i),e.ensureFlagExists("ignoreInstruction",i),e.ensureFlagExists("ignoreAttributes",i),e.ensureFlagExists("ignoreText",i),e.ensureFlagExists("ignoreComment",i),e.ensureFlagExists("ignoreCdata",i),e.ensureFlagExists("ignoreDoctype",i),e.ensureFlagExists("compact",i),e.ensureFlagExists("alwaysChildren",i),e.ensureFlagExists("addParent",i),e.ensureFlagExists("trim",i),e.ensureFlagExists("nativeType",i),e.ensureFlagExists("nativeTypeAttributes",i),e.ensureFlagExists("sanitize",i),e.ensureFlagExists("instructionHasAttributes",i),e.ensureFlagExists("captureSpacesBetweenElements",i),e.ensureAlwaysArrayExists(i),e.ensureKeyExists("declaration",i),e.ensureKeyExists("instruction",i),e.ensureKeyExists("attributes",i),e.ensureKeyExists("text",i),e.ensureKeyExists("comment",i),e.ensureKeyExists("cdata",i),e.ensureKeyExists("doctype",i),e.ensureKeyExists("type",i),e.ensureKeyExists("name",i),e.ensureKeyExists("elements",i),e.ensureKeyExists("parent",i),e.checkFnExists("doctype",i),e.checkFnExists("instruction",i),e.checkFnExists("cdata",i),e.checkFnExists("comment",i),e.checkFnExists("text",i),e.checkFnExists("instructionName",i),e.checkFnExists("elementName",i),e.checkFnExists("attributeName",i),e.checkFnExists("attributeValue",i),e.checkFnExists("attributes",i),i}function d(m){var x=Number(m);if(!isNaN(x))return x;var _=m.toLowerCase();return _==="true"?!0:_==="false"?!1:m}function l(m,x){var _;if(i.compact){if(!r[i[m+"Key"]]&&(t(i.alwaysArray)?i.alwaysArray.indexOf(i[m+"Key"])!==-1:i.alwaysArray)&&(r[i[m+"Key"]]=[]),r[i[m+"Key"]]&&!t(r[i[m+"Key"]])&&(r[i[m+"Key"]]=[r[i[m+"Key"]]]),m+"Fn"in i&&typeof x=="string"&&(x=i[m+"Fn"](x,r)),m==="instruction"&&("instructionFn"in i||"instructionNameFn"in i)){for(_ in x)if(x.hasOwnProperty(_))if("instructionFn"in i)x[_]=i.instructionFn(x[_],_,r);else{var f=x[_];delete x[_],x[i.instructionNameFn(_,f,r)]=f}}t(r[i[m+"Key"]])?r[i[m+"Key"]].push(x):r[i[m+"Key"]]=x}else{r[i.elementsKey]||(r[i.elementsKey]=[]);var O={};if(O[i.typeKey]=m,m==="instruction"){for(_ in x)if(x.hasOwnProperty(_))break;O[i.nameKey]="instructionNameFn"in i?i.instructionNameFn(_,x,r):_,i.instructionHasAttributes?(O[i.attributesKey]=x[_][i.attributesKey],"instructionFn"in i&&(O[i.attributesKey]=i.instructionFn(O[i.attributesKey],_,r))):("instructionFn"in i&&(x[_]=i.instructionFn(x[_],_,r)),O[i.instructionKey]=x[_])}else m+"Fn"in i&&(x=i[m+"Fn"](x,r)),O[i[m+"Key"]]=x;i.addParent&&(O[i.parentKey]=r),r[i.elementsKey].push(O)}}function p(m){if("attributesFn"in i&&m&&(m=i.attributesFn(m,r)),(i.trim||"attributeValueFn"in i||"attributeNameFn"in i||i.nativeTypeAttributes)&&m){var x;for(x in m)if(m.hasOwnProperty(x)&&(i.trim&&(m[x]=m[x].trim()),i.nativeTypeAttributes&&(m[x]=d(m[x])),"attributeValueFn"in i&&(m[x]=i.attributeValueFn(m[x],x,r)),"attributeNameFn"in i)){var _=m[x];delete m[x],m[i.attributeNameFn(x,m[x],r)]=_}}return m}function A(m){var x={};if(m.body&&(m.name.toLowerCase()==="xml"||i.instructionHasAttributes)){for(var _=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,f;(f=_.exec(m.body))!==null;)x[f[1]]=f[2]||f[3]||f[4];x=p(x)}if(m.name.toLowerCase()==="xml"){if(i.ignoreDeclaration)return;r[i.declarationKey]={},Object.keys(x).length&&(r[i.declarationKey][i.attributesKey]=x),i.addParent&&(r[i.declarationKey][i.parentKey]=r)}else{if(i.ignoreInstruction)return;i.trim&&(m.body=m.body.trim());var O={};i.instructionHasAttributes&&Object.keys(x).length?(O[m.name]={},O[m.name][i.attributesKey]=x):O[m.name]=m.body,l("instruction",O)}}function y(m,x){var _;if(typeof m=="object"&&(x=m.attributes,m=m.name),x=p(x),"elementNameFn"in i&&(m=i.elementNameFn(m,r)),i.compact){if(_={},!i.ignoreAttributes&&x&&Object.keys(x).length){_[i.attributesKey]={};var f;for(f in x)x.hasOwnProperty(f)&&(_[i.attributesKey][f]=x[f])}!(m in r)&&(t(i.alwaysArray)?i.alwaysArray.indexOf(m)!==-1:i.alwaysArray)&&(r[m]=[]),r[m]&&!t(r[m])&&(r[m]=[r[m]]),t(r[m])?r[m].push(_):r[m]=_}else r[i.elementsKey]||(r[i.elementsKey]=[]),_={},_[i.typeKey]="element",_[i.nameKey]=m,!i.ignoreAttributes&&x&&Object.keys(x).length&&(_[i.attributesKey]=x),i.alwaysChildren&&(_[i.elementsKey]=[]),r[i.elementsKey].push(_);_[i.parentKey]=r,r=_}function M(m){i.ignoreText||!m.trim()&&!i.captureSpacesBetweenElements||(i.trim&&(m=m.trim()),i.nativeType&&(m=d(m)),i.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",m))}function N(m){i.ignoreComment||(i.trim&&(m=m.trim()),l("comment",m))}function w(m){var x=r[i.parentKey];i.addParent||delete r[i.parentKey],r=x}function R(m){i.ignoreCdata||(i.trim&&(m=m.trim()),l("cdata",m))}function b(m){i.ignoreDoctype||(m=m.replace(/^ /,""),i.trim&&(m=m.trim()),l("doctype",m))}function D(m){m.note=m}return Yo=function(m,x){var _=n.parser(!0,{}),f={};if(r=f,i=o(x),_.opt={strictEntities:!0},_.onopentag=y,_.ontext=M,_.oncomment=N,_.onclosetag=w,_.onerror=D,_.oncdata=R,_.ondoctype=b,_.onprocessinginstruction=A,_.write(m).close(),f[i.elementsKey]){var O=f[i.elementsKey];delete f[i.elementsKey],f[i.elementsKey]=O,delete f.text}return f},Yo}var Jo,Ld;function rm(){if(Ld)return Jo;Ld=1;var n=Ic(),e=Sh();function t(i){var r=n.copyOptions(i);return n.ensureSpacesExists(r),r}return Jo=function(i,r){var o,d,l,p;return o=t(r),d=e(i,o),p="compact"in o&&o.compact?"_parent":"parent","addParent"in o&&o.addParent?l=JSON.stringify(d,function(A,y){return A===p?"_":y},o.spaces):l=JSON.stringify(d,null,o.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Jo}var Qo,Fd;function Ah(){if(Fd)return Qo;Fd=1;var n=Ic(),e=Ac().isArray,t,i;function r(_){var f=n.copyOptions(_);return n.ensureFlagExists("ignoreDeclaration",f),n.ensureFlagExists("ignoreInstruction",f),n.ensureFlagExists("ignoreAttributes",f),n.ensureFlagExists("ignoreText",f),n.ensureFlagExists("ignoreComment",f),n.ensureFlagExists("ignoreCdata",f),n.ensureFlagExists("ignoreDoctype",f),n.ensureFlagExists("compact",f),n.ensureFlagExists("indentText",f),n.ensureFlagExists("indentCdata",f),n.ensureFlagExists("indentAttributes",f),n.ensureFlagExists("indentInstruction",f),n.ensureFlagExists("fullTagEmptyElement",f),n.ensureFlagExists("noQuotesForNativeAttributes",f),n.ensureSpacesExists(f),typeof f.spaces=="number"&&(f.spaces=Array(f.spaces+1).join(" ")),n.ensureKeyExists("declaration",f),n.ensureKeyExists("instruction",f),n.ensureKeyExists("attributes",f),n.ensureKeyExists("text",f),n.ensureKeyExists("comment",f),n.ensureKeyExists("cdata",f),n.ensureKeyExists("doctype",f),n.ensureKeyExists("type",f),n.ensureKeyExists("name",f),n.ensureKeyExists("elements",f),n.checkFnExists("doctype",f),n.checkFnExists("instruction",f),n.checkFnExists("cdata",f),n.checkFnExists("comment",f),n.checkFnExists("text",f),n.checkFnExists("instructionName",f),n.checkFnExists("elementName",f),n.checkFnExists("attributeName",f),n.checkFnExists("attributeValue",f),n.checkFnExists("attributes",f),n.checkFnExists("fullTagEmptyElement",f),f}function o(_,f,O){return(!O&&_.spaces?`
`:"")+Array(f+1).join(_.spaces)}function d(_,f,O){if(f.ignoreAttributes)return"";"attributesFn"in f&&(_=f.attributesFn(_,i,t));var V,j,X,k,Z=[];for(V in _)_.hasOwnProperty(V)&&_[V]!==null&&_[V]!==void 0&&(k=f.noQuotesForNativeAttributes&&typeof _[V]!="string"?"":'"',j=""+_[V],j=j.replace(/"/g,"&quot;"),X="attributeNameFn"in f?f.attributeNameFn(V,j,i,t):V,Z.push(f.spaces&&f.indentAttributes?o(f,O+1,!1):" "),Z.push(X+"="+k+("attributeValueFn"in f?f.attributeValueFn(j,V,i,t):j)+k));return _&&Object.keys(_).length&&f.spaces&&f.indentAttributes&&Z.push(o(f,O,!1)),Z.join("")}function l(_,f,O){return t=_,i="xml",f.ignoreDeclaration?"":"<?xml"+d(_[f.attributesKey],f,O)+"?>"}function p(_,f,O){if(f.ignoreInstruction)return"";var V;for(V in _)if(_.hasOwnProperty(V))break;var j="instructionNameFn"in f?f.instructionNameFn(V,_[V],i,t):V;if(typeof _[V]=="object")return t=_,i=j,"<?"+j+d(_[V][f.attributesKey],f,O)+"?>";var X=_[V]?_[V]:"";return"instructionFn"in f&&(X=f.instructionFn(X,V,i,t)),"<?"+j+(X?" "+X:"")+"?>"}function A(_,f){return f.ignoreComment?"":"<!--"+("commentFn"in f?f.commentFn(_,i,t):_)+"-->"}function y(_,f){return f.ignoreCdata?"":"<![CDATA["+("cdataFn"in f?f.cdataFn(_,i,t):_.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function M(_,f){return f.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in f?f.doctypeFn(_,i,t):_)+">"}function N(_,f){return f.ignoreText?"":(_=""+_,_=_.replace(/&amp;/g,"&"),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in f?f.textFn(_,i,t):_)}function w(_,f){var O;if(_.elements&&_.elements.length)for(O=0;O<_.elements.length;++O)switch(_.elements[O][f.typeKey]){case"text":if(f.indentText)return!0;break;case"cdata":if(f.indentCdata)return!0;break;case"instruction":if(f.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function R(_,f,O){t=_,i=_.name;var V=[],j="elementNameFn"in f?f.elementNameFn(_.name,_):_.name;V.push("<"+j),_[f.attributesKey]&&V.push(d(_[f.attributesKey],f,O));var X=_[f.elementsKey]&&_[f.elementsKey].length||_[f.attributesKey]&&_[f.attributesKey]["xml:space"]==="preserve";return X||("fullTagEmptyElementFn"in f?X=f.fullTagEmptyElementFn(_.name,_):X=f.fullTagEmptyElement),X?(V.push(">"),_[f.elementsKey]&&_[f.elementsKey].length&&(V.push(b(_[f.elementsKey],f,O+1)),t=_,i=_.name),V.push(f.spaces&&w(_,f)?`
`+Array(O+1).join(f.spaces):""),V.push("</"+j+">")):V.push("/>"),V.join("")}function b(_,f,O,V){return _.reduce(function(j,X){var k=o(f,O,V&&!j);switch(X.type){case"element":return j+k+R(X,f,O);case"comment":return j+k+A(X[f.commentKey],f);case"doctype":return j+k+M(X[f.doctypeKey],f);case"cdata":return j+(f.indentCdata?k:"")+y(X[f.cdataKey],f);case"text":return j+(f.indentText?k:"")+N(X[f.textKey],f);case"instruction":var Z={};return Z[X[f.nameKey]]=X[f.attributesKey]?X:X[f.instructionKey],j+(f.indentInstruction?k:"")+p(Z,f,O)}},"")}function D(_,f,O){var V;for(V in _)if(_.hasOwnProperty(V))switch(V){case f.parentKey:case f.attributesKey:break;case f.textKey:if(f.indentText||O)return!0;break;case f.cdataKey:if(f.indentCdata||O)return!0;break;case f.instructionKey:if(f.indentInstruction||O)return!0;break;case f.doctypeKey:case f.commentKey:return!0;default:return!0}return!1}function m(_,f,O,V,j){t=_,i=f;var X="elementNameFn"in O?O.elementNameFn(f,_):f;if(typeof _>"u"||_===null||_==="")return"fullTagEmptyElementFn"in O&&O.fullTagEmptyElementFn(f,_)||O.fullTagEmptyElement?"<"+X+"></"+X+">":"<"+X+"/>";var k=[];if(f){if(k.push("<"+X),typeof _!="object")return k.push(">"+N(_,O)+"</"+X+">"),k.join("");_[O.attributesKey]&&k.push(d(_[O.attributesKey],O,V));var Z=D(_,O,!0)||_[O.attributesKey]&&_[O.attributesKey]["xml:space"]==="preserve";if(Z||("fullTagEmptyElementFn"in O?Z=O.fullTagEmptyElementFn(f,_):Z=O.fullTagEmptyElement),Z)k.push(">");else return k.push("/>"),k.join("")}return k.push(x(_,O,V+1,!1)),t=_,i=f,f&&k.push((j?o(O,V,!1):"")+"</"+X+">"),k.join("")}function x(_,f,O,V){var j,X,k,Z=[];for(X in _)if(_.hasOwnProperty(X))for(k=e(_[X])?_[X]:[_[X]],j=0;j<k.length;++j){switch(X){case f.declarationKey:Z.push(l(k[j],f,O));break;case f.instructionKey:Z.push((f.indentInstruction?o(f,O,V):"")+p(k[j],f,O));break;case f.attributesKey:case f.parentKey:break;case f.textKey:Z.push((f.indentText?o(f,O,V):"")+N(k[j],f));break;case f.cdataKey:Z.push((f.indentCdata?o(f,O,V):"")+y(k[j],f));break;case f.doctypeKey:Z.push(o(f,O,V)+M(k[j],f));break;case f.commentKey:Z.push(o(f,O,V)+A(k[j],f));break;default:Z.push(o(f,O,V)+m(k[j],X,f,O,D(k[j],f)))}V=V&&!Z.length}return Z.join("")}return Qo=function(_,f){f=r(f);var O=[];return t=_,i="_root_",f.compact?O.push(x(_,f,0,!0)):(_[f.declarationKey]&&O.push(l(_[f.declarationKey],f,0)),_[f.elementsKey]&&_[f.elementsKey].length&&O.push(b(_[f.elementsKey],f,0,!O.length))),O.join("")},Qo}var ea,zd;function om(){if(zd)return ea;zd=1;var n=Ah();return ea=function(e,t){e instanceof Buffer&&(e=e.toString());var i=null;if(typeof e=="string")try{i=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else i=e;return n(i,t)},ea}var ta,Ud;function am(){if(Ud)return ta;Ud=1;var n=Sh(),e=rm(),t=Ah(),i=om();return ta={xml2js:n,xml2json:e,js2xml:t,json2xml:i},ta}var Ih=am(),Tc=n=>{switch(n.type){case void 0:case"element":let e=new Ea(n.name,n.attributes),t=n.elements||[];for(let i of t){let r=Tc(i);r!==void 0&&e.push(r)}return e;case"text":return n.text;default:return}},wa=class extends Ie{},Ea=class extends ge{static fromXmlString(e){let t=Ih.xml2js(e,{compact:!1});return Tc(t)}constructor(e,t){super(e),t&&this.root.push(new wa(t))}push(e){this.root.push(e)}},ya=class extends ge{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}};var ir=class extends ge{constructor(e,t){super(e),t&&(this.root=t.root)}},et=n=>{if(isNaN(n))throw new Error(`Invalid value '${n}' specified. Must be an integer.`);return Math.floor(n)},Cr=n=>{let e=et(n);if(e<0)throw new Error(`Invalid value '${n}' specified. Must be a positive integer.`);return e},Th=(n,e)=>{let t=e*2;if(n.length!==t||isNaN(+`0x${n}`))throw new Error(`Invalid hex value '${n}'. Expected ${t} digit hex value`);return n};var Vd=n=>Th(n,1),Mc=n=>{let e=n.slice(-2),t=n.substring(0,n.length-2);return`${Number(t)}${e}`},Mh=n=>{let e=Mc(n);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Li=n=>{if(n==="auto")return n;let e=n.charAt(0)==="#"?n.substring(1):n;return Th(e,3)},Xt=n=>typeof n=="string"?Mc(n):et(n),sm=n=>typeof n=="string"?Mh(n):Cr(n);var Ye=n=>typeof n=="string"?Mh(n):Cr(n),lm=n=>{let e=n.substring(0,n.length-1);return`${Number(e)}%`},cm=n=>typeof n=="number"?et(n):n.slice(-1)==="%"?lm(n):Mc(n),um=Cr,dm=Cr,hm=n=>n.toISOString(),_e=class extends ge{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new je({val:t}))}},gn=class extends ge{constructor(e,t){super(e),this.root.push(new je({val:sm(t)}))}};var Yt=class extends ge{constructor(e,t){super(e),this.root.push(new je({val:t}))}},hn=(n,e)=>new Gt({name:n,attributes:{value:{key:"w:val",value:e}}}),fi=class extends ge{constructor(e,t){super(e),this.root.push(new je({val:t}))}},Ca=class extends ge{constructor(e,t){super(e),this.root.push(new je({val:t}))}},Kt=class extends ge{constructor(e,t){super(e),this.root.push(t)}},Gt=class extends ge{constructor({name:e,attributes:t,children:i}){super(e),t&&this.root.push(new Vt(t)),i&&this.root.push(...i)}},Lt={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"},xa=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},nr=class extends ge{constructor(e){super("w:jc"),this.root.push(new xa({val:e}))}},Ve=class extends ge{constructor(e,{color:t,size:i,space:r,style:o}){super(e),this.root.push(new Sa({style:o,color:t===void 0?void 0:Li(t),size:i===void 0?void 0:um(i),space:r===void 0?void 0:dm(r)}))}},Sa=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}},Rc={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"},Aa=class extends Mt{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Ve("w:top",e.top)),e.bottom&&this.root.push(new Ve("w:bottom",e.bottom)),e.left&&this.root.push(new Ve("w:left",e.left)),e.right&&this.root.push(new Ve("w:right",e.right))}},Ia=class extends ge{constructor(){super("w:pBdr");let e=new Ve("w:bottom",{color:"auto",space:1,style:Rc.SINGLE,size:6});this.root.push(e)}},Ta=class extends ge{constructor({start:e,end:t,left:i,right:r,hanging:o,firstLine:d}){super("w:ind"),this.root.push(new Vt({start:{key:"w:start",value:e===void 0?void 0:Xt(e)},end:{key:"w:end",value:t===void 0?void 0:Xt(t)},left:{key:"w:left",value:i===void 0?void 0:Xt(i)},right:{key:"w:right",value:r===void 0?void 0:Xt(r)},hanging:{key:"w:hanging",value:o===void 0?void 0:Ye(o)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:Ye(d)}}))}},pm=class extends ge{constructor(){super("w:br")}},Oc={BEGIN:"begin",END:"end",SEPARATE:"separate"},yn=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}},Mi=class extends ge{constructor(e){super("w:fldChar"),this.root.push(new yn({type:Oc.BEGIN,dirty:e}))}},Ri=class extends ge{constructor(e){super("w:fldChar"),this.root.push(new yn({type:Oc.SEPARATE,dirty:e}))}},Oi=class extends ge{constructor(e){super("w:fldChar"),this.root.push(new yn({type:Oc.END,dirty:e}))}};var Fi={DEFAULT:"default",PRESERVE:"preserve"},ri=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{space:"xml:space"})}},Ma=class extends ge{constructor(){super("w:instrText"),this.root.push(new ri({space:Fi.PRESERVE})),this.root.push("PAGE")}},Ra=class extends ge{constructor(){super("w:instrText"),this.root.push(new ri({space:Fi.PRESERVE})),this.root.push("NUMPAGES")}},Oa=class extends ge{constructor(){super("w:instrText"),this.root.push(new ri({space:Fi.PRESERVE})),this.root.push("SECTIONPAGES")}},Na=class extends ge{constructor(){super("w:instrText"),this.root.push(new ri({space:Fi.PRESERVE})),this.root.push("SECTION")}},Da=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}},zi=class extends ge{constructor({fill:e,color:t,type:i}){super("w:shd"),this.root.push(new Da({fill:e===void 0?void 0:Li(e),color:t===void 0?void 0:Li(t),type:i}))}};var ka=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}},mm={DOT:"dot"},Pa=class extends ge{constructor(e){super("w:em"),this.root.push(new je({val:e}))}},La=class extends Pa{constructor(e=mm.DOT){super(e)}};var Fa=class extends ge{constructor(e){super("w:spacing"),this.root.push(new je({val:Xt(e)}))}},za=class extends ge{constructor(e){super("w:color"),this.root.push(new je({val:Li(e)}))}},Ua=class extends ge{constructor(e){super("w:highlight"),this.root.push(new je({val:e}))}},Va=class extends ge{constructor(e){super("w:highlightCs"),this.root.push(new je({val:e}))}},fm=n=>new Gt({name:"w:lang",attributes:{value:{key:"w:val",value:n.value},eastAsia:{key:"w:eastAsia",value:n.eastAsia},bidirectional:{key:"w:bidi",value:n.bidirectional}}}),rr=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}},vn=class extends ge{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){let i=e;this.root.push(new rr({ascii:i,cs:i,eastAsia:i,hAnsi:i,hint:t}))}else{let i=e;this.root.push(new rr(i))}}},Rh=class extends ge{constructor(e){super("w:vertAlign"),this.root.push(new je({val:e}))}},Ga=class extends Rh{constructor(){super("superscript")}},Ba=class extends Rh{constructor(){super("subscript")}},Oh={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"},ja=class extends ge{constructor(e=Oh.SINGLE,t){super("w:u"),this.root.push(new je({val:e,color:t===void 0?void 0:Li(t)}))}};var Jt=class extends Mt{constructor(e){var t,i;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new _e("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new _e("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new _e("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new _e("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new _e("w:iCs",(i=e.italicsComplexScript)!=null?i:e.italics)),e.underline&&this.push(new ja(e.underline.type,e.underline.color)),e.effect&&this.push(new Yt("w:effect",e.effect)),e.emphasisMark&&this.push(new La(e.emphasisMark.type)),e.color&&this.push(new za(e.color)),e.kern&&this.push(new gn("w:kern",e.kern)),e.position&&this.push(new Yt("w:position",e.position)),e.size!==void 0&&this.push(new gn("w:sz",e.size));let r=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;r&&this.push(new gn("w:szCs",r)),e.rightToLeft!==void 0&&this.push(new _e("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new _e("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new _e("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new _e("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new _e("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new Ba),e.superScript&&this.push(new Ga),e.style&&this.push(new Yt("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new vn(e.font)):"name"in e.font?this.push(new vn(e.font.name,e.font.hint)):this.push(new vn(e.font))),e.highlight&&this.push(new Ua(e.highlight));let o=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;o&&this.push(new Va(o)),e.characterSpacing&&this.push(new Fa(e.characterSpacing)),e.emboss!==void 0&&this.push(new _e("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new _e("w:imprint",e.imprint)),e.shading&&this.push(new zi(e.shading)),e.revision&&this.push(new Ha(e.revision)),e.border&&this.push(new Ve("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new _e("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new _e("w:vanish",e.vanish)),e.specVanish&&this.push(new _e("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new fi("w:w",e.scale)),e.language&&this.push(fm(e.language)),e.math&&this.push(new _e("w:oMath",e.math))}push(e){this.root.push(e)}},Ha=class extends ge{constructor(e){super("w:rPrChange"),this.root.push(new ka({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Jt(e))}},or=class extends ge{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new ri({space:Fi.PRESERVE})),this.root.push(e)):(this.root.push(new ri({space:(t=e.space)!=null?t:Fi.DEFAULT})),this.root.push(e.text))}},Yn={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"},Ui=class extends ge{constructor(e){if(super("w:r"),fe(this,"properties"),this.properties=new Jt(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new pm);if(e.children)for(let t of e.children){if(typeof t=="string"){switch(t){case Yn.CURRENT:this.root.push(new Mi),this.root.push(new Ma),this.root.push(new Ri),this.root.push(new Oi);break;case Yn.TOTAL_PAGES:this.root.push(new Mi),this.root.push(new Ra),this.root.push(new Ri),this.root.push(new Oi);break;case Yn.TOTAL_PAGES_IN_SECTION:this.root.push(new Mi),this.root.push(new Oa),this.root.push(new Ri),this.root.push(new Oi);break;case Yn.CURRENT_SECTION:this.root.push(new Mi),this.root.push(new Na),this.root.push(new Ri),this.root.push(new Oi);break;default:this.root.push(new or(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new or(e.text))}},tt=class extends Ui{constructor(e){super(typeof e=="string"?{text:e}:e)}};var ia={},Be={},na,Gd;function Tn(){if(Gd)return na;Gd=1,na=n;function n(e,t){if(!e)throw new Error(t||"Assertion failed")}return n.equal=function(t,i,r){if(t!=i)throw new Error(r||"Assertion failed: "+t+" != "+i)},na}var Bd;function jt(){if(Bd)return Be;Bd=1;var n=Tn(),e=si();Be.inherits=e;function t(P,W){return(P.charCodeAt(W)&64512)!==55296||W<0||W+1>=P.length?!1:(P.charCodeAt(W+1)&64512)===56320}function i(P,W){if(Array.isArray(P))return P.slice();if(!P)return[];var S=[];if(typeof P=="string")if(W){if(W==="hex")for(P=P.replace(/[^a-z0-9]+/ig,""),P.length%2!==0&&(P="0"+P),ce=0;ce<P.length;ce+=2)S.push(parseInt(P[ce]+P[ce+1],16))}else for(var te=0,ce=0;ce<P.length;ce++){var K=P.charCodeAt(ce);K<128?S[te++]=K:K<2048?(S[te++]=K>>6|192,S[te++]=K&63|128):t(P,ce)?(K=65536+((K&1023)<<10)+(P.charCodeAt(++ce)&1023),S[te++]=K>>18|240,S[te++]=K>>12&63|128,S[te++]=K>>6&63|128,S[te++]=K&63|128):(S[te++]=K>>12|224,S[te++]=K>>6&63|128,S[te++]=K&63|128)}else for(ce=0;ce<P.length;ce++)S[ce]=P[ce]|0;return S}Be.toArray=i;function r(P){for(var W="",S=0;S<P.length;S++)W+=l(P[S].toString(16));return W}Be.toHex=r;function o(P){var W=P>>>24|P>>>8&65280|P<<8&16711680|(P&255)<<24;return W>>>0}Be.htonl=o;function d(P,W){for(var S="",te=0;te<P.length;te++){var ce=P[te];W==="little"&&(ce=o(ce)),S+=p(ce.toString(16))}return S}Be.toHex32=d;function l(P){return P.length===1?"0"+P:P}Be.zero2=l;function p(P){return P.length===7?"0"+P:P.length===6?"00"+P:P.length===5?"000"+P:P.length===4?"0000"+P:P.length===3?"00000"+P:P.length===2?"000000"+P:P.length===1?"0000000"+P:P}Be.zero8=p;function A(P,W,S,te){var ce=S-W;n(ce%4===0);for(var K=new Array(ce/4),de=0,oe=W;de<K.length;de++,oe+=4){var be;te==="big"?be=P[oe]<<24|P[oe+1]<<16|P[oe+2]<<8|P[oe+3]:be=P[oe+3]<<24|P[oe+2]<<16|P[oe+1]<<8|P[oe],K[de]=be>>>0}return K}Be.join32=A;function y(P,W){for(var S=new Array(P.length*4),te=0,ce=0;te<P.length;te++,ce+=4){var K=P[te];W==="big"?(S[ce]=K>>>24,S[ce+1]=K>>>16&255,S[ce+2]=K>>>8&255,S[ce+3]=K&255):(S[ce+3]=K>>>24,S[ce+2]=K>>>16&255,S[ce+1]=K>>>8&255,S[ce]=K&255)}return S}Be.split32=y;function M(P,W){return P>>>W|P<<32-W}Be.rotr32=M;function N(P,W){return P<<W|P>>>32-W}Be.rotl32=N;function w(P,W){return P+W>>>0}Be.sum32=w;function R(P,W,S){return P+W+S>>>0}Be.sum32_3=R;function b(P,W,S,te){return P+W+S+te>>>0}Be.sum32_4=b;function D(P,W,S,te,ce){return P+W+S+te+ce>>>0}Be.sum32_5=D;function m(P,W,S,te){var ce=P[W],K=P[W+1],de=te+K>>>0,oe=(de<te?1:0)+S+ce;P[W]=oe>>>0,P[W+1]=de}Be.sum64=m;function x(P,W,S,te){var ce=W+te>>>0,K=(ce<W?1:0)+P+S;return K>>>0}Be.sum64_hi=x;function _(P,W,S,te){var ce=W+te;return ce>>>0}Be.sum64_lo=_;function f(P,W,S,te,ce,K,de,oe){var be=0,Y=W;Y=Y+te>>>0,be+=Y<W?1:0,Y=Y+K>>>0,be+=Y<K?1:0,Y=Y+oe>>>0,be+=Y<oe?1:0;var L=P+S+ce+de+be;return L>>>0}Be.sum64_4_hi=f;function O(P,W,S,te,ce,K,de,oe){var be=W+te+K+oe;return be>>>0}Be.sum64_4_lo=O;function V(P,W,S,te,ce,K,de,oe,be,Y){var L=0,ie=W;ie=ie+te>>>0,L+=ie<W?1:0,ie=ie+K>>>0,L+=ie<K?1:0,ie=ie+oe>>>0,L+=ie<oe?1:0,ie=ie+Y>>>0,L+=ie<Y?1:0;var ne=P+S+ce+de+be+L;return ne>>>0}Be.sum64_5_hi=V;function j(P,W,S,te,ce,K,de,oe,be,Y){var L=W+te+K+oe+Y;return L>>>0}Be.sum64_5_lo=j;function X(P,W,S){var te=W<<32-S|P>>>S;return te>>>0}Be.rotr64_hi=X;function k(P,W,S){var te=P<<32-S|W>>>S;return te>>>0}Be.rotr64_lo=k;function Z(P,W,S){return P>>>S}Be.shr64_hi=Z;function me(P,W,S){var te=P<<32-S|W>>>S;return te>>>0}return Be.shr64_lo=me,Be}var ra={},jd;function Mn(){if(jd)return ra;jd=1;var n=jt(),e=Tn();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return ra.BlockHash=t,t.prototype.update=function(r,o){if(r=n.toArray(r,o),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var d=r.length%this._delta8;this.pending=r.slice(r.length-d,r.length),this.pending.length===0&&(this.pending=null),r=n.join32(r,0,r.length-d,this.endian);for(var l=0;l<r.length;l+=this._delta32)this._update(r,l,l+this._delta32)}return this},t.prototype.digest=function(r){return this.update(this._pad()),e(this.pending===null),this._digest(r)},t.prototype._pad=function(){var r=this.pendingTotal,o=this._delta8,d=o-(r+this.padLength)%o,l=new Array(d+this.padLength);l[0]=128;for(var p=1;p<d;p++)l[p]=0;if(r<<=3,this.endian==="big"){for(var A=8;A<this.padLength;A++)l[p++]=0;l[p++]=0,l[p++]=0,l[p++]=0,l[p++]=0,l[p++]=r>>>24&255,l[p++]=r>>>16&255,l[p++]=r>>>8&255,l[p++]=r&255}else for(l[p++]=r&255,l[p++]=r>>>8&255,l[p++]=r>>>16&255,l[p++]=r>>>24&255,l[p++]=0,l[p++]=0,l[p++]=0,l[p++]=0,A=8;A<this.padLength;A++)l[p++]=0;return l},ra}var hi={},Pt={},Hd;function Nh(){if(Hd)return Pt;Hd=1;var n=jt(),e=n.rotr32;function t(y,M,N,w){if(y===0)return i(M,N,w);if(y===1||y===3)return o(M,N,w);if(y===2)return r(M,N,w)}Pt.ft_1=t;function i(y,M,N){return y&M^~y&N}Pt.ch32=i;function r(y,M,N){return y&M^y&N^M&N}Pt.maj32=r;function o(y,M,N){return y^M^N}Pt.p32=o;function d(y){return e(y,2)^e(y,13)^e(y,22)}Pt.s0_256=d;function l(y){return e(y,6)^e(y,11)^e(y,25)}Pt.s1_256=l;function p(y){return e(y,7)^e(y,18)^y>>>3}Pt.g0_256=p;function A(y){return e(y,17)^e(y,19)^y>>>10}return Pt.g1_256=A,Pt}var oa,Wd;function gm(){if(Wd)return oa;Wd=1;var n=jt(),e=Mn(),t=Nh(),i=n.rotl32,r=n.sum32,o=n.sum32_5,d=t.ft_1,l=e.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function A(){if(!(this instanceof A))return new A;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return n.inherits(A,l),oa=A,A.blockSize=512,A.outSize=160,A.hmacStrength=80,A.padLength=64,A.prototype._update=function(M,N){for(var w=this.W,R=0;R<16;R++)w[R]=M[N+R];for(;R<w.length;R++)w[R]=i(w[R-3]^w[R-8]^w[R-14]^w[R-16],1);var b=this.h[0],D=this.h[1],m=this.h[2],x=this.h[3],_=this.h[4];for(R=0;R<w.length;R++){var f=~~(R/20),O=o(i(b,5),d(f,D,m,x),_,w[R],p[f]);_=x,x=m,m=i(D,30),D=b,b=O}this.h[0]=r(this.h[0],b),this.h[1]=r(this.h[1],D),this.h[2]=r(this.h[2],m),this.h[3]=r(this.h[3],x),this.h[4]=r(this.h[4],_)},A.prototype._digest=function(M){return M==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},oa}var aa,qd;function Dh(){if(qd)return aa;qd=1;var n=jt(),e=Mn(),t=Nh(),i=Tn(),r=n.sum32,o=n.sum32_4,d=n.sum32_5,l=t.ch32,p=t.maj32,A=t.s0_256,y=t.s1_256,M=t.g0_256,N=t.g1_256,w=e.BlockHash,R=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;w.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=R,this.W=new Array(64)}return n.inherits(b,w),aa=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(m,x){for(var _=this.W,f=0;f<16;f++)_[f]=m[x+f];for(;f<_.length;f++)_[f]=o(N(_[f-2]),_[f-7],M(_[f-15]),_[f-16]);var O=this.h[0],V=this.h[1],j=this.h[2],X=this.h[3],k=this.h[4],Z=this.h[5],me=this.h[6],P=this.h[7];for(i(this.k.length===_.length),f=0;f<_.length;f++){var W=d(P,y(k),l(k,Z,me),this.k[f],_[f]),S=r(A(O),p(O,V,j));P=me,me=Z,Z=k,k=r(X,W),X=j,j=V,V=O,O=r(W,S)}this.h[0]=r(this.h[0],O),this.h[1]=r(this.h[1],V),this.h[2]=r(this.h[2],j),this.h[3]=r(this.h[3],X),this.h[4]=r(this.h[4],k),this.h[5]=r(this.h[5],Z),this.h[6]=r(this.h[6],me),this.h[7]=r(this.h[7],P)},b.prototype._digest=function(m){return m==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},aa}var sa,Kd;function vm(){if(Kd)return sa;Kd=1;var n=jt(),e=Dh();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return n.inherits(t,e),sa=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(r){return r==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")},sa}var la,$d;function kh(){if($d)return la;$d=1;var n=jt(),e=Mn(),t=Tn(),i=n.rotr64_hi,r=n.rotr64_lo,o=n.shr64_hi,d=n.shr64_lo,l=n.sum64,p=n.sum64_hi,A=n.sum64_lo,y=n.sum64_4_hi,M=n.sum64_4_lo,N=n.sum64_5_hi,w=n.sum64_5_lo,R=e.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;R.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}n.inherits(D,R),la=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(S,te){for(var ce=this.W,K=0;K<32;K++)ce[K]=S[te+K];for(;K<ce.length;K+=2){var de=me(ce[K-4],ce[K-3]),oe=P(ce[K-4],ce[K-3]),be=ce[K-14],Y=ce[K-13],L=k(ce[K-30],ce[K-29]),ie=Z(ce[K-30],ce[K-29]),ne=ce[K-32],he=ce[K-31];ce[K]=y(de,oe,be,Y,L,ie,ne,he),ce[K+1]=M(de,oe,be,Y,L,ie,ne,he)}},D.prototype._update=function(S,te){this._prepareBlock(S,te);var ce=this.W,K=this.h[0],de=this.h[1],oe=this.h[2],be=this.h[3],Y=this.h[4],L=this.h[5],ie=this.h[6],ne=this.h[7],he=this.h[8],Q=this.h[9],I=this.h[10],E=this.h[11],$=this.h[12],H=this.h[13],F=this.h[14],U=this.h[15];t(this.k.length===ce.length);for(var ue=0;ue<ce.length;ue+=2){var v=F,ae=U,T=j(he,Q),c=X(he,Q),u=m(he,Q,I,E,$),g=x(he,Q,I,E,$,H),B=this.k[ue],J=this.k[ue+1],q=ce[ue],pe=ce[ue+1],we=N(v,ae,T,c,u,g,B,J,q,pe),ve=w(v,ae,T,c,u,g,B,J,q,pe);v=O(K,de),ae=V(K,de),T=_(K,de,oe,be,Y),c=f(K,de,oe,be,Y,L);var Ce=p(v,ae,T,c),Ae=A(v,ae,T,c);F=$,U=H,$=I,H=E,I=he,E=Q,he=p(ie,ne,we,ve),Q=A(ne,ne,we,ve),ie=Y,ne=L,Y=oe,L=be,oe=K,be=de,K=p(we,ve,Ce,Ae),de=A(we,ve,Ce,Ae)}l(this.h,0,K,de),l(this.h,2,oe,be),l(this.h,4,Y,L),l(this.h,6,ie,ne),l(this.h,8,he,Q),l(this.h,10,I,E),l(this.h,12,$,H),l(this.h,14,F,U)},D.prototype._digest=function(S){return S==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")};function m(W,S,te,ce,K){var de=W&te^~W&K;return de<0&&(de+=4294967296),de}function x(W,S,te,ce,K,de){var oe=S&ce^~S&de;return oe<0&&(oe+=4294967296),oe}function _(W,S,te,ce,K){var de=W&te^W&K^te&K;return de<0&&(de+=4294967296),de}function f(W,S,te,ce,K,de){var oe=S&ce^S&de^ce&de;return oe<0&&(oe+=4294967296),oe}function O(W,S){var te=i(W,S,28),ce=i(S,W,2),K=i(S,W,7),de=te^ce^K;return de<0&&(de+=4294967296),de}function V(W,S){var te=r(W,S,28),ce=r(S,W,2),K=r(S,W,7),de=te^ce^K;return de<0&&(de+=4294967296),de}function j(W,S){var te=i(W,S,14),ce=i(W,S,18),K=i(S,W,9),de=te^ce^K;return de<0&&(de+=4294967296),de}function X(W,S){var te=r(W,S,14),ce=r(W,S,18),K=r(S,W,9),de=te^ce^K;return de<0&&(de+=4294967296),de}function k(W,S){var te=i(W,S,1),ce=i(W,S,8),K=o(W,S,7),de=te^ce^K;return de<0&&(de+=4294967296),de}function Z(W,S){var te=r(W,S,1),ce=r(W,S,8),K=d(W,S,7),de=te^ce^K;return de<0&&(de+=4294967296),de}function me(W,S){var te=i(W,S,19),ce=i(S,W,29),K=o(W,S,6),de=te^ce^K;return de<0&&(de+=4294967296),de}function P(W,S){var te=r(W,S,19),ce=r(S,W,29),K=d(W,S,6),de=te^ce^K;return de<0&&(de+=4294967296),de}return la}var ca,Xd;function bm(){if(Xd)return ca;Xd=1;var n=jt(),e=kh();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return n.inherits(t,e),ca=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(r){return r==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")},ca}var Zd;function _m(){return Zd||(Zd=1,hi.sha1=gm(),hi.sha224=vm(),hi.sha256=Dh(),hi.sha384=bm(),hi.sha512=kh()),hi}var ua={},Yd;function wm(){if(Yd)return ua;Yd=1;var n=jt(),e=Mn(),t=n.rotl32,i=n.sum32,r=n.sum32_3,o=n.sum32_4,d=e.BlockHash;function l(){if(!(this instanceof l))return new l;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}n.inherits(l,d),ua.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(D,m){for(var x=this.h[0],_=this.h[1],f=this.h[2],O=this.h[3],V=this.h[4],j=x,X=_,k=f,Z=O,me=V,P=0;P<80;P++){var W=i(t(o(x,p(P,_,f,O),D[M[P]+m],A(P)),w[P]),V);x=V,V=O,O=t(f,10),f=_,_=W,W=i(t(o(j,p(79-P,X,k,Z),D[N[P]+m],y(P)),R[P]),me),j=me,me=Z,Z=t(k,10),k=X,X=W}W=r(this.h[1],f,Z),this.h[1]=r(this.h[2],O,me),this.h[2]=r(this.h[3],V,j),this.h[3]=r(this.h[4],x,X),this.h[4]=r(this.h[0],_,k),this.h[0]=W},l.prototype._digest=function(D){return D==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};function p(b,D,m,x){return b<=15?D^m^x:b<=31?D&m|~D&x:b<=47?(D|~m)^x:b<=63?D&x|m&~x:D^(m|~x)}function A(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function y(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}var M=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],N=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],R=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ua}var da,Jd;function Em(){if(Jd)return da;Jd=1;var n=jt(),e=Tn();function t(i,r,o){if(!(this instanceof t))return new t(i,r,o);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(r,o))}return da=t,t.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),e(r.length<=this.blockSize);for(var o=r.length;o<this.blockSize;o++)r.push(0);for(o=0;o<r.length;o++)r[o]^=54;for(this.inner=new this.Hash().update(r),o=0;o<r.length;o++)r[o]^=106;this.outer=new this.Hash().update(r)},t.prototype.update=function(r,o){return this.inner.update(r,o),this},t.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},da}var Qd;function ym(){return Qd||(Qd=1,function(n){var e=n;e.utils=jt(),e.common=Mn(),e.sha=_m(),e.ripemd=wm(),e.hmac=Em(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(ia)),ia}var B1=ym();var Cm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",xm=(n,e=21)=>(t=e)=>{let i="",r=t|0;for(;r--;)i+=n[Math.random()*n.length|0];return i},Sm=(n=21)=>{let e="",t=n|0;for(;t--;)e+=Cm[Math.random()*64|0];return e};var It=n=>Math.floor(n*72*20),Nc=(n=0)=>{let e=n;return()=>++e},Am=()=>Nc(),Im=()=>Nc(1);var Tm=()=>Nc(),Mm=()=>Sm().toLowerCase();var pn=n=>xm("1234567890abcdef",n)(),Rm=()=>`${pn(8)}-${pn(4)}-${pn(4)}-${pn(4)}-${pn(12)}`;var Wa=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}};var qa=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}};var Ka=class extends ge{constructor({id:e,initials:t,author:i,date:r=new Date,children:o}){super("w:comment"),this.root.push(new Wa({id:e,initials:t,author:i,date:r.toISOString()}));for(let d of o)this.root.push(d)}},$a=class extends ge{constructor({children:e}){super("w:comments"),this.root.push(new qa({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(let t of e)this.root.push(new Ka(t))}};var Xa=class extends ge{constructor(){super("w:pageBreakBefore")}},Za={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"},Ya=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutoSpacing"})}},Ja=class extends ge{constructor(e){super("w:spacing"),this.root.push(new Ya(e))}},Ht={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"},Jn=class extends ge{constructor(e){super("w:pStyle"),this.root.push(new je({val:e}))}},Qa=class extends ge{constructor(e){super("w:tabs");for(let t of e)this.root.push(new ts(t))}},eh={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};var es=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}},ts=class extends ge{constructor({type:e,position:t,leader:i}){super("w:tab"),this.root.push(new es({val:e,pos:t,leader:i}))}},bn=class extends ge{constructor(e,t){super("w:numPr"),this.root.push(new is(t)),this.root.push(new ns(e))}},is=class extends ge{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new je({val:e}))}},ns=class extends ge{constructor(e){super("w:numId"),this.root.push(new je({val:typeof e=="string"?`{${e}}`:e}))}},ar=class extends ge{constructor(){super(...arguments),fe(this,"fileChild",Symbol())}},rs=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}},Om={EXTERNAL:"External"},os=class extends ge{constructor(e,t,i,r){super("Relationship"),this.root.push(new rs({id:e,type:t,target:i,targetMode:r}))}},as=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}};var ss=class extends ge{constructor(e,t,i){super("w:hyperlink"),fe(this,"linkId"),this.linkId=t;let r={history:1,anchor:i||void 0,id:i?void 0:`rId${this.linkId}`},o=new as(r);this.root.push(o),e.forEach(d=>{this.root.push(d)})}};var ls=class extends ge{constructor(e){super("w:externalHyperlink"),this.options=e}},cs=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id",name:"w:name"})}},us=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{id:"w:id"})}},ds=class{constructor(e){fe(this,"bookmarkUniqueNumericId",Tm()),fe(this,"start"),fe(this,"children"),fe(this,"end");let t=this.bookmarkUniqueNumericId();this.start=new hs(e.id,t),this.children=e.children,this.end=new ps(t)}},hs=class extends ge{constructor(e,t){super("w:bookmarkStart");let i=new cs({name:e,id:t});this.root.push(i)}},ps=class extends ge{constructor(e){super("w:bookmarkEnd");let t=new us({id:e});this.root.push(t)}},ms=class extends ge{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new je({val:e}))}};var fs=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{verticalAlign:"w:val"})}},sr=class extends ge{constructor(e){super("w:vAlign"),this.root.push(new fs({verticalAlign:e}))}},gs=class extends ge{constructor({space:e,count:t,separate:i,equalWidth:r,children:o}){super("w:cols"),this.root.push(new Vt({space:{key:"w:space",value:e===void 0?void 0:Ye(e)},count:{key:"w:num",value:t===void 0?void 0:et(t)},separate:{key:"w:sep",value:i},equalWidth:{key:"w:equalWidth",value:r}})),!r&&o&&o.forEach(d=>this.addChildElement(d))}};var vs=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}},bs=class extends ge{constructor(e,t,i){super("w:docGrid"),this.root.push(new vs({type:i,linePitch:et(e),charSpace:t?et(t):void 0}))}},Di={DEFAULT:"default",FIRST:"first",EVEN:"even"},_s=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",id:"r:id"})}},th={HEADER:"w:headerReference",FOOTER:"w:footerReference"},_n=class extends ge{constructor(e,t){super(e),this.root.push(new _s({type:t.type||Di.DEFAULT,id:`rId${t.id}`}))}};var Nm=({countBy:n,start:e,restart:t,distance:i})=>new Gt({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:n===void 0?void 0:et(n)},start:{key:"w:start",value:e===void 0?void 0:et(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:i===void 0?void 0:Ye(i)}}});var lr=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}},ws=class extends Mt{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new lr({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new lr({})),e.pageBorderTop&&this.root.push(new Ve("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Ve("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Ve("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Ve("w:right",e.pageBorderRight))}},Es=class extends ge{constructor(e,t,i,r,o,d,l){super("w:pgMar"),this.root.push(new Vt({top:{key:"w:top",value:Xt(e)},right:{key:"w:right",value:Ye(t)},bottom:{key:"w:bottom",value:Xt(i)},left:{key:"w:left",value:Ye(r)},header:{key:"w:header",value:Ye(o)},footer:{key:"w:footer",value:Ye(d)},gutter:{key:"w:gutter",value:Ye(l)}}))}};var ys=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}},Cs=class extends ge{constructor({start:e,formatType:t,separator:i}){super("w:pgNumType"),this.root.push(new ys({start:e===void 0?void 0:et(e),formatType:t,separator:i}))}},Ph={PORTRAIT:"portrait",LANDSCAPE:"landscape"},xs=class extends ge{constructor(e,t,i){super("w:pgSz");let r=i===Ph.LANDSCAPE,o=Ye(e),d=Ye(t);this.root.push(new Vt({width:{key:"w:w",value:r?d:o},height:{key:"w:h",value:r?o:d},orientation:{key:"w:orient",value:i}}))}};var Ss=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},As=class extends ge{constructor(e){super("w:textDirection"),this.root.push(new Ss({val:e}))}};var Is=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},Ts=class extends ge{constructor(e){super("w:type"),this.root.push(new Is({val:e}))}},pi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},ha={WIDTH:11906,HEIGHT:16838,ORIENTATION:Ph.PORTRAIT},Ms=class extends ge{constructor({page:{size:{width:e=ha.WIDTH,height:t=ha.HEIGHT,orientation:i=ha.ORIENTATION}={},margin:{top:r=pi.TOP,right:o=pi.RIGHT,bottom:d=pi.BOTTOM,left:l=pi.LEFT,header:p=pi.HEADER,footer:A=pi.FOOTER,gutter:y=pi.GUTTER}={},pageNumbers:M={},borders:N,textDirection:w}={},grid:{linePitch:R=360,charSpace:b,type:D}={},headerWrapperGroup:m={},footerWrapperGroup:x={},lineNumbers:_,titlePage:f,verticalAlign:O,column:V,type:j}={}){super("w:sectPr"),this.addHeaderFooterGroup(th.HEADER,m),this.addHeaderFooterGroup(th.FOOTER,x),j&&this.root.push(new Ts(j)),this.root.push(new xs(e,t,i)),this.root.push(new Es(r,o,d,l,p,A,y)),N&&this.root.push(new ws(N)),_&&this.root.push(Nm(_)),this.root.push(new Cs(M)),V&&this.root.push(new gs(V)),O&&this.root.push(new sr(O)),f!==void 0&&this.root.push(new _e("w:titlePg",f)),w&&this.root.push(new As(w)),this.root.push(new bs(R,b,D))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new _n(e,{type:Di.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new _n(e,{type:Di.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new _n(e,{type:Di.EVEN,id:t.even.View.ReferenceId}))}},Rs=class extends ge{constructor(){super("w:body"),fe(this,"sections",[])}addSection(e){let t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new Ms(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){let t=new Le({}),i=new ai({});return i.push(e),t.addChildElement(i),t}};var ih={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Vi=class extends Ie{constructor(e,t){super(Pe({Ignorable:t},Object.fromEntries(e.map(i=>[i,ih[i]])))),fe(this,"xmlKeys",Pe({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(ih).map(i=>[i,`xmlns:${i}`]))))}},Os=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}},Ns=class extends ge{constructor(e){super("w:background"),this.root.push(new Os({color:e.color===void 0?void 0:Li(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:Vd(e.themeShade),themeTint:e.themeTint===void 0?void 0:Vd(e.themeTint)}))}},Ds=class extends ge{constructor(e){super("w:document"),fe(this,"body"),this.root.push(new Vi(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Rs,e.background&&this.root.push(new Ns(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}},ks=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns"})}},oi=class extends ge{constructor(){super("Relationships"),this.root.push(new ks({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,i,r){let o=new os(`rId${e}`,t,i,r);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}},cr=class{constructor(e){fe(this,"document"),fe(this,"relationships"),this.document=new Ds(e),this.relationships=new oi}get View(){return this.document}get Relationships(){return this.relationships}},Ps=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},Ls=class extends ge{constructor(){super("w:wordWrap"),this.root.push(new Ps({val:0}))}};var Dm=n=>{var e,t;return new Gt({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:n.anchorLock},dropCap:{key:"w:dropCap",value:n.dropCap},width:{key:"w:w",value:n.width},height:{key:"w:h",value:n.height},x:{key:"w:x",value:n.position?n.position.x:void 0},y:{key:"w:y",value:n.position?n.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:n.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:n.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=n.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=n.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:n.rule},alignmentX:{key:"w:xAlign",value:n.alignment?n.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:n.alignment?n.alignment.y:void 0},lines:{key:"w:lines",value:n.lines},wrap:{key:"w:wrap",value:n.wrap}}})},ai=class extends Mt{constructor(e){var t,i;if(super("w:pPr"),fe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Jn(e.heading)),e.bullet&&this.push(new Jn("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Jn("ListParagraph"))),e.style&&this.push(new Jn(e.style)),e.keepNext!==void 0&&this.push(new _e("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new _e("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new Xa),e.frame&&this.push(Dm(e.frame)),e.widowControl!==void 0&&this.push(new _e("w:widowControl",e.widowControl)),e.bullet&&this.push(new bn(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new bn(`${e.numbering.reference}-${(i=e.numbering.instance)!=null?i:0}`,e.numbering.level))):e.numbering===!1&&this.push(new bn(0,0)),e.border&&this.push(new Aa(e.border)),e.thematicBreak&&this.push(new Ia),e.shading&&this.push(new zi(e.shading)),e.wordWrap&&this.push(new Ls),e.overflowPunctuation&&this.push(new _e("w:overflowPunct",e.overflowPunctuation));let r=[...e.rightTabStop!==void 0?[{type:eh.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:eh.LEFT,position:e.leftTabStop}]:[]];r.length>0&&this.push(new Qa(r)),e.bidirectional!==void 0&&this.push(new _e("w:bidi",e.bidirectional)),e.spacing&&this.push(new Ja(e.spacing)),e.indent&&this.push(new Ta(e.indent)),e.contextualSpacing!==void 0&&this.push(new _e("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new nr(e.alignment)),e.outlineLevel!==void 0&&this.push(new ms(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new _e("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new _e("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Jt(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof cr)for(let t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}},Le=class extends ar{constructor(e){if(super("w:p"),fe(this,"properties"),typeof e=="string")return this.properties=new ai({}),this.root.push(this.properties),this.root.push(new tt(e)),this;if(this.properties=new ai(e),this.root.push(this.properties),e.text&&this.root.push(new tt(e.text)),e.children)for(let t of e.children){if(t instanceof ds){this.root.push(t.start);for(let i of t.children)this.root.push(i);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(let t of this.root)if(t instanceof ls){let i=this.root.indexOf(t),r=new ss(t.options.children,Mm());e.viewWrapper.Relationships.createRelationship(r.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,Om.EXTERNAL),this.root[i]=r}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}};var Fs=class extends ge{constructor(e){super("w:tblGrid");for(let t of e)this.root.push(new zs(t))}},zs=class extends ge{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new Vt({width:{key:"w:w",value:Ye(e)}}))}},Lh={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"},ur=class extends Mt{constructor(e,{marginUnitType:t=Us.DXA,top:i,left:r,bottom:o,right:d}){super(e),i!==void 0&&this.root.push(new Zt("w:top",{type:t,size:i})),r!==void 0&&this.root.push(new Zt("w:left",{type:t,size:r})),o!==void 0&&this.root.push(new Zt("w:bottom",{type:t,size:o})),d!==void 0&&this.root.push(new Zt("w:right",{type:t,size:d}))}},Us={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"},Zt=class extends ge{constructor(e,{type:t=Us.AUTO,size:i}){super(e);let r=i;t===Us.PERCENTAGE&&typeof i=="number"&&(r=`${i}%`),this.root.push(new Vt({type:{key:"w:type",value:t},size:{key:"w:w",value:cm(r)}}))}},Vs=class extends Mt{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Ve("w:top",e.top)),e.start&&this.root.push(new Ve("w:start",e.start)),e.left&&this.root.push(new Ve("w:left",e.left)),e.bottom&&this.root.push(new Ve("w:bottom",e.bottom)),e.end&&this.root.push(new Ve("w:end",e.end)),e.right&&this.root.push(new Ve("w:right",e.right))}},Gs=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},Bs=class extends ge{constructor(e){super("w:gridSpan"),this.root.push(new Gs({val:et(e)}))}},Fh={CONTINUE:"continue",RESTART:"restart"},js=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},dr=class extends ge{constructor(e){super("w:vMerge"),this.root.push(new js({val:e}))}};var Hs=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},Ws=class extends ge{constructor(e){super("w:textDirection"),this.root.push(new Hs({val:e}))}},qs=class extends Mt{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Zt("w:tcW",e.width)),e.columnSpan&&this.root.push(new Bs(e.columnSpan)),e.verticalMerge?this.root.push(new dr(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new dr(Fh.RESTART)),e.borders&&this.root.push(new Vs(e.borders)),e.shading&&this.root.push(new zi(e.shading)),e.margins&&this.root.push(new ur(Lh.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new Ws(e.textDirection)),e.verticalAlign&&this.root.push(new sr(e.verticalAlign))}},Rt=class extends ge{constructor(e){super("w:tc"),this.options=e,this.root.push(new qs(e));for(let t of e.children)this.root.push(t)}prepForXml(e){return this.root[this.root.length-1]instanceof Le||this.root.push(new Le({})),super.prepForXml(e)}},Ai={style:Rc.NONE,size:0,color:"auto"},Ii={style:Rc.SINGLE,size:4,color:"auto"},hr=class extends ge{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Ve("w:top",e.top)):this.root.push(new Ve("w:top",Ii)),e.left?this.root.push(new Ve("w:left",e.left)):this.root.push(new Ve("w:left",Ii)),e.bottom?this.root.push(new Ve("w:bottom",e.bottom)):this.root.push(new Ve("w:bottom",Ii)),e.right?this.root.push(new Ve("w:right",e.right)):this.root.push(new Ve("w:right",Ii)),e.insideHorizontal?this.root.push(new Ve("w:insideH",e.insideHorizontal)):this.root.push(new Ve("w:insideH",Ii)),e.insideVertical?this.root.push(new Ve("w:insideV",e.insideVertical)):this.root.push(new Ve("w:insideV",Ii))}};fe(hr,"NONE",{top:Ai,bottom:Ai,left:Ai,right:Ai,insideHorizontal:Ai,insideVertical:Ai});var Ks=class extends ge{constructor({horizontalAnchor:e,verticalAnchor:t,absoluteHorizontalPosition:i,relativeHorizontalPosition:r,absoluteVerticalPosition:o,relativeVerticalPosition:d,bottomFromText:l,topFromText:p,leftFromText:A,rightFromText:y,overlap:M}){super("w:tblpPr"),this.root.push(new Vt({leftFromText:{key:"w:leftFromText",value:A===void 0?void 0:Ye(A)},rightFromText:{key:"w:rightFromText",value:y===void 0?void 0:Ye(y)},topFromText:{key:"w:topFromText",value:p===void 0?void 0:Ye(p)},bottomFromText:{key:"w:bottomFromText",value:l===void 0?void 0:Ye(l)},absoluteHorizontalPosition:{key:"w:tblpX",value:i===void 0?void 0:Xt(i)},absoluteVerticalPosition:{key:"w:tblpY",value:o===void 0?void 0:Xt(o)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:r},relativeVerticalPosition:{key:"w:tblpYSpec",value:d},verticalAnchor:{key:"w:vertAnchor",value:t}})),M&&this.root.push(new Ca("w:tblOverlap",M))}};var $s=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type"})}},Xs=class extends ge{constructor(e){super("w:tblLayout"),this.root.push(new $s({type:e}))}},Zs=class extends Mt{constructor(e){super("w:tblPr"),e.style&&this.root.push(new Yt("w:tblStyle",e.style)),e.float&&this.root.push(new Ks(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new _e("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Zt("w:tblW",e.width)),e.alignment&&this.root.push(new nr(e.alignment)),e.indent&&this.root.push(new Zt("w:tblInd",e.indent)),e.borders&&this.root.push(new hr(e.borders)),e.shading&&this.root.push(new zi(e.shading)),e.layout&&this.root.push(new Xs(e.layout)),e.cellMargin&&this.root.push(new ur(Lh.TABLE,e.cellMargin))}},pr=class extends ar{constructor({rows:e,width:t,columnWidths:i=Array(Math.max(...e.map(N=>N.CellCount))).fill(100),margins:r,indent:o,float:d,layout:l,style:p,borders:A,alignment:y,visuallyRightToLeft:M}){super("w:tbl"),this.root.push(new Zs({borders:A??{},width:t??{size:100},indent:o,float:d,layout:l,style:p,alignment:y,cellMargin:r,visuallyRightToLeft:M})),this.root.push(new Fs(i));for(let N of e)this.root.push(N);e.forEach((N,w)=>{if(w===e.length-1)return;let R=0;N.cells.forEach(b=>{if(b.options.rowSpan&&b.options.rowSpan>1){let D=new Rt({rowSpan:b.options.rowSpan-1,columnSpan:b.options.columnSpan,borders:b.options.borders,children:[],verticalMerge:Fh.CONTINUE});e[w+1].addCellToColumnIndex(D,R)}R+=b.options.columnSpan||1})})}};var Ys=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}},Js=class extends ge{constructor(e,t){super("w:trHeight"),this.root.push(new Ys({value:Ye(e),rule:t}))}},Qs=class extends Mt{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new _e("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new _e("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new Js(e.height.value,e.height.rule))}},Cn=class extends ge{constructor(e){super("w:tr"),this.options=e,this.root.push(new Qs(e));for(let t of e.children)this.root.push(t)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Rt)}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){let i=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,i-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let t=0;for(let i=1;i<e;i++){let r=this.root[i];t+=r.options.columnSpan||1}return t}columnIndexToRootIndex(e,t=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let i=0,r=1;for(;i<=e;){if(r>=this.root.length){if(t)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${i-1}`)}let o=this.root[r];r+=1,i+=o&&o.options.columnSpan||1}return r-1}},el=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}},tl=class extends ge{constructor(){super("Properties"),this.root.push(new el({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}},il=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns"})}},nl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}},Tt=class extends ge{constructor(e,t){super("Default"),this.root.push(new nl({contentType:e,extension:t}))}},rl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}},dt=class extends ge{constructor(e,t){super("Override"),this.root.push(new rl({contentType:e,partName:t}))}},ol=class extends ge{constructor(){super("Types"),this.root.push(new il({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Tt("image/png","png")),this.root.push(new Tt("image/jpeg","jpeg")),this.root.push(new Tt("image/jpeg","jpg")),this.root.push(new Tt("image/bmp","bmp")),this.root.push(new Tt("image/gif","gif")),this.root.push(new Tt("image/svg+xml","svg")),this.root.push(new Tt("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Tt("application/xml","xml")),this.root.push(new Tt("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new dt("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new dt("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}},al=class extends ge{constructor(e){super("cp:coreProperties"),this.root.push(new Vi(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Kt("dc:title",e.title)),e.subject&&this.root.push(new Kt("dc:subject",e.subject)),e.creator&&this.root.push(new Kt("dc:creator",e.creator)),e.keywords&&this.root.push(new Kt("cp:keywords",e.keywords)),e.description&&this.root.push(new Kt("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Kt("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Kt("cp:revision",String(e.revision))),this.root.push(new mr("dcterms:created")),this.root.push(new mr("dcterms:modified"))}},sl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"xsi:type"})}},mr=class extends ge{constructor(e){super(e),this.root.push(new sl({type:"dcterms:W3CDTF"})),this.root.push(hm(new Date))}},ll=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}},cl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}},ul=class extends ge{constructor(e,t){super("property"),this.root.push(new cl({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new dl(t.value))}},dl=class extends ge{constructor(e){super("vt:lpwstr"),this.root.push(e)}},hl=class extends ge{constructor(e){super("Properties"),fe(this,"nextId"),fe(this,"properties",[]),this.root.push(new ll({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(let t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new ul(this.nextId++,e))}};var Qn=({id:n,fontKey:e,subsetted:t},i)=>new Gt({name:i,attributes:Pe({id:{key:"r:id",value:n}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new _e("w:subsetted",t)]:[]]}),km=({name:n,altName:e,panose1:t,charset:i,family:r,notTrueType:o,pitch:d,sig:l,embedRegular:p,embedBold:A,embedItalic:y,embedBoldItalic:M})=>new Gt({name:"w:font",attributes:{name:{key:"w:name",value:n}},children:[...e?[hn("w:altName",e)]:[],...t?[hn("w:panose1",t)]:[],...i?[hn("w:charset",i)]:[],...r?[hn("w:family",r)]:[],...o?[new _e("w:notTrueType",o)]:[],...d?[hn("w:pitch",d)]:[],...l?[new Gt({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...p?[Qn(p,"w:embedRegular")]:[],...A?[Qn(A,"w:embedBold")]:[],...y?[Qn(y,"w:embedItalic")]:[],...M?[Qn(M,"w:embedBoldItalic")]:[]]}),Pm=({name:n,index:e,fontKey:t,characterSet:i})=>km({name:n,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:i,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),Lm=n=>new Gt({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:n.map((e,t)=>Pm({name:e.name,index:t+1,fontKey:e.fontKey}))}),pl=class{constructor(e){fe(this,"fontTable"),fe(this,"relationships"),fe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>En(Pe({},t),{fontKey:Rm()})),this.fontTable=Lm(this.fontOptionsWithKey),this.relationships=new oi;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}},ml=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}},Fm=class extends ir{constructor(e,t){super("w:ftr",t),fe(this,"refId"),this.refId=e,t||this.root.push(new ml({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}},fl=class{constructor(e,t,i){fe(this,"footer"),fe(this,"relationships"),this.media=e,this.footer=new Fm(t,i),this.relationships=new oi}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}},gl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",id:"w:id"})}},vl=class extends ge{constructor(){super("w:footnoteRef")}},bl=class extends Ui{constructor(){super({style:"FootnoteReference"}),this.root.push(new vl)}},nh={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"},wn=class extends ge{constructor(e){super("w:footnote"),this.root.push(new gl({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){let i=e.children[t];t===0&&i.addRunToFront(new bl),this.root.push(i)}}},_l=class extends ge{constructor(){super("w:continuationSeparator")}},wl=class extends Ui{constructor(){super({}),this.root.push(new _l)}},El=class extends ge{constructor(){super("w:separator")}},yl=class extends Ui{constructor(){super({}),this.root.push(new El)}},Cl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}},xl=class extends ge{constructor(){super("w:footnotes"),this.root.push(new Cl({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));let e=new wn({id:-1,type:nh.SEPERATOR,children:[new Le({spacing:{after:0,line:240,lineRule:Za.AUTO},children:[new yl]})]});this.root.push(e);let t=new wn({id:0,type:nh.CONTINUATION_SEPERATOR,children:[new Le({spacing:{after:0,line:240,lineRule:Za.AUTO},children:[new wl]})]});this.root.push(t)}createFootNote(e,t){let i=new wn({id:e,children:t});this.root.push(i)}},Sl=class{constructor(){fe(this,"footnotess"),fe(this,"relationships"),this.footnotess=new xl,this.relationships=new oi}get View(){return this.footnotess}get Relationships(){return this.relationships}},Al=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}},zm=class extends ir{constructor(e,t){super("w:hdr",t),fe(this,"refId"),this.refId=e,t||this.root.push(new Al({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}},Il=class{constructor(e,t,i){fe(this,"header"),fe(this,"relationships"),this.media=e,this.header=new zm(t,i),this.relationships=new oi}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}},Tl=class{constructor(){fe(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}};var qt={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"},Ml=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}},Rl=class extends ge{constructor(e){super("w:numFmt"),this.root.push(new je({val:e}))}},Ol=class extends ge{constructor(e){super("w:lvlText"),this.root.push(new je({val:e}))}},Nl=class extends ge{constructor(e){super("w:lvlJc"),this.root.push(new je({val:e}))}};var Dl=class extends ge{constructor(e){super("w:suff"),this.root.push(new je({val:e}))}},kl=class extends ge{constructor(){super("w:isLgl")}},Pl=class extends ge{constructor({level:e,format:t,text:i,alignment:r=Lt.START,start:o=1,style:d,suffix:l,isLegalNumberingStyle:p}){if(super("w:lvl"),fe(this,"paragraphProperties"),fe(this,"runProperties"),this.root.push(new fi("w:start",et(o))),t&&this.root.push(new Rl(t)),l&&this.root.push(new Dl(l)),p&&this.root.push(new kl),i&&this.root.push(new Ol(i)),this.root.push(new Nl(r)),this.paragraphProperties=new ai(d&&d.paragraph),this.runProperties=new Jt(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ml({ilvl:et(e),tentative:1}))}},Ll=class extends Pl{};var Fl=class extends ge{constructor(e){super("w:multiLevelType"),this.root.push(new je({val:e}))}},zl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}},fr=class extends ge{constructor(e,t){super("w:abstractNum"),fe(this,"id"),this.root.push(new zl({abstractNumId:et(e),restartNumberingAfterBreak:0})),this.root.push(new Fl("hybridMultilevel")),this.id=e;for(let i of t)this.root.push(new Ll(i))}},Ul=class extends ge{constructor(e){super("w:abstractNumId"),this.root.push(new je({val:e}))}},Vl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{numId:"w:numId"})}},gr=class extends ge{constructor(e){if(super("w:num"),fe(this,"numId"),fe(this,"reference"),fe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Vl({numId:et(e.numId)})),this.root.push(new Ul(et(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(let t of e.overrideLevels)this.root.push(new Bl(t.num,t.start))}},Gl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{ilvl:"w:ilvl"})}},Bl=class extends ge{constructor(e,t){super("w:lvlOverride"),this.root.push(new Gl({ilvl:e})),t!==void 0&&this.root.push(new Hl(t))}},jl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},Hl=class extends ge{constructor(e){super("w:startOverride"),this.root.push(new jl({val:e}))}},Wl=class extends ge{constructor(e){super("w:numbering"),fe(this,"abstractNumberingMap",new Map),fe(this,"concreteNumberingMap",new Map),fe(this,"referenceConfigMap",new Map),fe(this,"abstractNumUniqueNumericId",Am()),fe(this,"concreteNumUniqueNumericId",Im()),this.root.push(new Vi(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));let t=new fr(this.abstractNumUniqueNumericId(),[{level:0,format:qt.BULLET,text:"\u25CF",alignment:Lt.LEFT,style:{paragraph:{indent:{left:It(.5),hanging:It(.25)}}}},{level:1,format:qt.BULLET,text:"\u25CB",alignment:Lt.LEFT,style:{paragraph:{indent:{left:It(1),hanging:It(.25)}}}},{level:2,format:qt.BULLET,text:"\u25A0",alignment:Lt.LEFT,style:{paragraph:{indent:{left:2160,hanging:It(.25)}}}},{level:3,format:qt.BULLET,text:"\u25CF",alignment:Lt.LEFT,style:{paragraph:{indent:{left:2880,hanging:It(.25)}}}},{level:4,format:qt.BULLET,text:"\u25CB",alignment:Lt.LEFT,style:{paragraph:{indent:{left:3600,hanging:It(.25)}}}},{level:5,format:qt.BULLET,text:"\u25A0",alignment:Lt.LEFT,style:{paragraph:{indent:{left:4320,hanging:It(.25)}}}},{level:6,format:qt.BULLET,text:"\u25CF",alignment:Lt.LEFT,style:{paragraph:{indent:{left:5040,hanging:It(.25)}}}},{level:7,format:qt.BULLET,text:"\u25CF",alignment:Lt.LEFT,style:{paragraph:{indent:{left:5760,hanging:It(.25)}}}},{level:8,format:qt.BULLET,text:"\u25CF",alignment:Lt.LEFT,style:{paragraph:{indent:{left:6480,hanging:It(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new gr({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(let i of e.config)this.abstractNumberingMap.set(i.reference,new fr(this.abstractNumUniqueNumericId(),i.levels)),this.referenceConfigMap.set(i.reference,i.levels)}prepForXml(e){for(let t of this.abstractNumberingMap.values())this.root.push(t);for(let t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){let i=this.abstractNumberingMap.get(e);if(!i)return;let r=`${e}-${t}`;if(this.concreteNumberingMap.has(r))return;let o=this.referenceConfigMap.get(e),d=o&&o[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:i.id,reference:e,instance:t,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(r,new gr(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}},ql=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}},Kl=class extends ge{constructor(e){super("w:compatSetting"),this.root.push(new ql({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}},$l=class extends ge{constructor(e){super("w:compat"),e.version&&this.root.push(new Kl(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new _e("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new _e("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new _e("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new _e("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new _e("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new _e("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new _e("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new _e("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new _e("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new _e("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new _e("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new _e("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new _e("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new _e("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new _e("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new _e("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new _e("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new _e("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new _e("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new _e("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new _e("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new _e("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new _e("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new _e("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new _e("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new _e("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new _e("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new _e("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new _e("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new _e("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new _e("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new _e("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new _e("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new _e("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new _e("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new _e("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new _e("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new _e("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new _e("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new _e("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new _e("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new _e("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new _e("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new _e("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new _e("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new _e("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new _e("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new _e("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new _e("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new _e("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new _e("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new _e("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new _e("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new _e("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new _e("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new _e("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new _e("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new _e("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new _e("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new _e("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new _e("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new _e("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new _e("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new _e("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new _e("w:cachedColBalance",e.cachedColumnBalance))}},Xl=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}},Zl=class extends ge{constructor(e){var t,i,r,o,d,l,p,A;super("w:settings"),this.root.push(new Xl({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new _e("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new _e("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new _e("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new _e("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new fi("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new _e("w:autoHyphenation",e.hyphenation.autoHyphenation)),((i=e.hyphenation)==null?void 0:i.hyphenationZone)!==void 0&&this.root.push(new fi("w:hyphenationZone",e.hyphenation.hyphenationZone)),((r=e.hyphenation)==null?void 0:r.consecutiveHyphenLimit)!==void 0&&this.root.push(new fi("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((o=e.hyphenation)==null?void 0:o.doNotHyphenateCaps)!==void 0&&this.root.push(new _e("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new $l(En(Pe({},(d=e.compatibility)!=null?d:{}),{version:(A=(p=(l=e.compatibility)==null?void 0:l.version)!=null?p:e.compatibilityModeVersion)!=null?A:15})))}},vr=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{val:"w:val"})}},Yl=class extends ge{constructor(e){super("w:name"),this.root.push(new vr({val:e}))}},Jl=class extends ge{constructor(e){super("w:uiPriority"),this.root.push(new vr({val:et(e)}))}},Ql=class extends Ie{constructor(){super(...arguments),fe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}},br=class extends ge{constructor(e,t){super("w:style"),this.root.push(new Ql(e)),t.name&&this.root.push(new Yl(t.name)),t.basedOn&&this.root.push(new Yt("w:basedOn",t.basedOn)),t.next&&this.root.push(new Yt("w:next",t.next)),t.link&&this.root.push(new Yt("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new Jl(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new _e("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new _e("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new _e("w:qFormat",t.quickFormat))}},Gi=class extends br{constructor(e){super({type:"paragraph",styleId:e.id},e),fe(this,"paragraphProperties"),fe(this,"runProperties"),this.paragraphProperties=new ai(e.paragraph),this.runProperties=new Jt(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}},Bi=class extends br{constructor(e){super({type:"character",styleId:e.id},Pe({uiPriority:99,unhideWhenUsed:!0},e)),fe(this,"runProperties"),this.runProperties=new Jt(e.run),this.root.push(this.runProperties)}},Bt=class extends Gi{constructor(e){super(Pe({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}},ec=class extends Bt{constructor(e){super(Pe({id:"Title",name:"Title"},e))}},tc=class extends Bt{constructor(e){super(Pe({id:"Heading1",name:"Heading 1"},e))}},ic=class extends Bt{constructor(e){super(Pe({id:"Heading2",name:"Heading 2"},e))}},nc=class extends Bt{constructor(e){super(Pe({id:"Heading3",name:"Heading 3"},e))}},rc=class extends Bt{constructor(e){super(Pe({id:"Heading4",name:"Heading 4"},e))}},oc=class extends Bt{constructor(e){super(Pe({id:"Heading5",name:"Heading 5"},e))}},ac=class extends Bt{constructor(e){super(Pe({id:"Heading6",name:"Heading 6"},e))}},sc=class extends Bt{constructor(e){super(Pe({id:"Strong",name:"Strong"},e))}},lc=class extends Gi{constructor(e){super(Pe({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}},cc=class extends Gi{constructor(e){super(Pe({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Za.AUTO}},run:{size:20}},e))}},uc=class extends Bi{constructor(e){super(Pe({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}},dc=class extends Bi{constructor(e){super(Pe({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}},hc=class extends Bi{constructor(e){super(Pe({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Oh.SINGLE}}},e))}},xn=class extends ge{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(let t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(let t of e.paragraphStyles)this.root.push(new Gi(t));if(e.characterStyles)for(let t of e.characterStyles)this.root.push(new Bi(t))}},pc=class extends ge{constructor(e){super("w:pPrDefault"),this.root.push(new ai(e))}},mc=class extends ge{constructor(e){super("w:rPrDefault"),this.root.push(new Jt(e))}},fc=class extends ge{constructor(e){super("w:docDefaults"),fe(this,"runPropertiesDefaults"),fe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new mc(e.run),this.paragraphPropertiesDefaults=new pc(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}},gc=class{newInstance(e){let t=Ih.xml2js(e,{compact:!1}),i;for(let d of t.elements||[])d.name==="w:styles"&&(i=d);if(i===void 0)throw new Error("can not find styles element");let r=i.elements||[];return new xn({initialStyles:new ya(i.attributes),importedStyles:r.map(d=>Tc(d))})}},_r=class{newInstance(e={}){var t;return{initialStyles:new Vi(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new fc((t=e.document)!=null?t:{}),new ec(Pe({run:{size:56}},e.title)),new tc(Pe({run:{color:"2E74B5",size:32}},e.heading1)),new ic(Pe({run:{color:"2E74B5",size:26}},e.heading2)),new nc(Pe({run:{color:"1F4D78",size:24}},e.heading3)),new rc(Pe({run:{color:"2E74B5",italics:!0}},e.heading4)),new oc(Pe({run:{color:"2E74B5"}},e.heading5)),new ac(Pe({run:{color:"1F4D78"}},e.heading6)),new sc(Pe({run:{bold:!0}},e.strong)),new lc(e.listParagraph||{}),new hc(e.hyperlink||{}),new uc(e.footnoteReference||{}),new cc(e.footnoteText||{}),new dc(e.footnoteTextChar||{})]}}},Sn=class{constructor(e){fe(this,"currentRelationshipId",1),fe(this,"documentWrapper"),fe(this,"headers",[]),fe(this,"footers",[]),fe(this,"coreProperties"),fe(this,"numbering"),fe(this,"media"),fe(this,"fileRelationships"),fe(this,"footnotesWrapper"),fe(this,"settings"),fe(this,"contentTypes"),fe(this,"customProperties"),fe(this,"appProperties"),fe(this,"styles"),fe(this,"comments"),fe(this,"fontWrapper");var t,i,r,o,d,l,p,A,y,M,N,w;if(this.coreProperties=new al(En(Pe({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(i=e.revision)!=null?i:1,lastModifiedBy:(r=e.lastModifiedBy)!=null?r:"Un-named"})),this.numbering=new Wl(e.numbering?e.numbering:{config:[]}),this.comments=new $a((o=e.comments)!=null?o:{children:[]}),this.fileRelationships=new oi,this.customProperties=new hl((d=e.customProperties)!=null?d:[]),this.appProperties=new tl,this.footnotesWrapper=new Sl,this.contentTypes=new ol,this.documentWrapper=new cr({background:e.background}),this.settings=new Zl({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(A=e.hyphenation)==null?void 0:A.autoHyphenation,hyphenationZone:(y=e.hyphenation)==null?void 0:y.hyphenationZone,consecutiveHyphenLimit:(M=e.hyphenation)==null?void 0:M.consecutiveHyphenLimit,doNotHyphenateCaps:(N=e.hyphenation)==null?void 0:N.doNotHyphenateCaps}}),this.media=new Tl,e.externalStyles!==void 0){let R=new gc;this.styles=R.newInstance(e.externalStyles)}else if(e.styles){let b=new _r().newInstance(e.styles.default);this.styles=new xn(Pe(Pe({},b),e.styles))}else{let R=new _r;this.styles=new xn(R.newInstance())}this.addDefaultRelationships();for(let R of e.sections)this.addSection(R);if(e.footnotes)for(let R in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(R),e.footnotes[R].children);this.fontWrapper=new pl((w=e.fonts)!=null?w:[])}addSection({headers:e={},footers:t={},children:i,properties:r}){this.documentWrapper.View.Body.addSection(En(Pe({},r),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(let o of i)this.documentWrapper.View.add(o)}createHeader(e){let t=new Il(this.media,this.currentRelationshipId++);for(let i of e.options.children)t.add(i);return this.addHeaderToDocument(t),t}createFooter(e){let t=new fl(this.media,this.currentRelationshipId++);for(let i of e.options.children)t.add(i);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Di.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Di.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var Um=Sc();function er(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pa={exports:{}},rh;function Vm(){return rh||(rh=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,r,o){function d(A,y){if(!r[A]){if(!i[A]){var M=typeof er=="function"&&er;if(!y&&M)return M(A,!0);if(l)return l(A,!0);var N=new Error("Cannot find module '"+A+"'");throw N.code="MODULE_NOT_FOUND",N}var w=r[A]={exports:{}};i[A][0].call(w.exports,function(R){var b=i[A][1][R];return d(b||R)},w,w.exports,t,i,r,o)}return r[A].exports}for(var l=typeof er=="function"&&er,p=0;p<o.length;p++)d(o[p]);return d}({1:[function(t,i,r){var o=t("./utils"),d=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(p){for(var A,y,M,N,w,R,b,D=[],m=0,x=p.length,_=x,f=o.getTypeOf(p)!=="string";m<p.length;)_=x-m,M=f?(A=p[m++],y=m<x?p[m++]:0,m<x?p[m++]:0):(A=p.charCodeAt(m++),y=m<x?p.charCodeAt(m++):0,m<x?p.charCodeAt(m++):0),N=A>>2,w=(3&A)<<4|y>>4,R=1<_?(15&y)<<2|M>>6:64,b=2<_?63&M:64,D.push(l.charAt(N)+l.charAt(w)+l.charAt(R)+l.charAt(b));return D.join("")},r.decode=function(p){var A,y,M,N,w,R,b=0,D=0,m="data:";if(p.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var x,_=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===l.charAt(64)&&_--,p.charAt(p.length-2)===l.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=d.uint8array?new Uint8Array(0|_):new Array(0|_);b<p.length;)A=l.indexOf(p.charAt(b++))<<2|(N=l.indexOf(p.charAt(b++)))>>4,y=(15&N)<<4|(w=l.indexOf(p.charAt(b++)))>>2,M=(3&w)<<6|(R=l.indexOf(p.charAt(b++))),x[D++]=A,w!==64&&(x[D++]=y),R!==64&&(x[D++]=M);return x}},{"./support":30,"./utils":32}],2:[function(t,i,r){var o=t("./external"),d=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),p=t("./stream/DataLengthProbe");function A(y,M,N,w,R){this.compressedSize=y,this.uncompressedSize=M,this.crc32=N,this.compression=w,this.compressedContent=R}A.prototype={getContentWorker:function(){var y=new d(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),M=this;return y.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},A.createWorkerFrom=function(y,M,N){return y.pipe(new l).pipe(new p("uncompressedSize")).pipe(M.compressWorker(N)).pipe(new p("compressedSize")).withStreamInfo("compression",M)},i.exports=A},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,r){var o=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,r){var o=t("./utils"),d=function(){for(var l,p=[],A=0;A<256;A++){l=A;for(var y=0;y<8;y++)l=1&l?3988292384^l>>>1:l>>>1;p[A]=l}return p}();i.exports=function(l,p){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(A,y,M,N){var w=d,R=N+M;A^=-1;for(var b=N;b<R;b++)A=A>>>8^w[255&(A^y[b])];return-1^A}(0|p,l,l.length,0):function(A,y,M,N){var w=d,R=N+M;A^=-1;for(var b=N;b<R;b++)A=A>>>8^w[255&(A^y.charCodeAt(b))];return-1^A}(0|p,l,l.length,0):0}},{"./utils":32}],5:[function(t,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,i,r){var o=null;o=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:o}},{lie:37}],7:[function(t,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=t("pako"),l=t("./utils"),p=t("./stream/GenericWorker"),A=o?"uint8array":"array";function y(M,N){p.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=N,this.meta={}}r.magic="\b\0",l.inherits(y,p),y.prototype.processChunk=function(M){this.meta=M.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(A,M.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(N){M.push({data:N,meta:M.meta})}},r.compressWorker=function(M){return new y("Deflate",M)},r.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,r){function o(w,R){var b,D="";for(b=0;b<R;b++)D+=String.fromCharCode(255&w),w>>>=8;return D}function d(w,R,b,D,m,x){var _,f,O=w.file,V=w.compression,j=x!==A.utf8encode,X=l.transformTo("string",x(O.name)),k=l.transformTo("string",A.utf8encode(O.name)),Z=O.comment,me=l.transformTo("string",x(Z)),P=l.transformTo("string",A.utf8encode(Z)),W=k.length!==O.name.length,S=P.length!==Z.length,te="",ce="",K="",de=O.dir,oe=O.date,be={crc32:0,compressedSize:0,uncompressedSize:0};R&&!b||(be.crc32=w.crc32,be.compressedSize=w.compressedSize,be.uncompressedSize=w.uncompressedSize);var Y=0;R&&(Y|=8),j||!W&&!S||(Y|=2048);var L=0,ie=0;de&&(L|=16),m==="UNIX"?(ie=798,L|=function(he,Q){var I=he;return he||(I=Q?16893:33204),(65535&I)<<16}(O.unixPermissions,de)):(ie=20,L|=function(he){return 63&(he||0)}(O.dosPermissions)),_=oe.getUTCHours(),_<<=6,_|=oe.getUTCMinutes(),_<<=5,_|=oe.getUTCSeconds()/2,f=oe.getUTCFullYear()-1980,f<<=4,f|=oe.getUTCMonth()+1,f<<=5,f|=oe.getUTCDate(),W&&(ce=o(1,1)+o(y(X),4)+k,te+="up"+o(ce.length,2)+ce),S&&(K=o(1,1)+o(y(me),4)+P,te+="uc"+o(K.length,2)+K);var ne="";return ne+=`
\0`,ne+=o(Y,2),ne+=V.magic,ne+=o(_,2),ne+=o(f,2),ne+=o(be.crc32,4),ne+=o(be.compressedSize,4),ne+=o(be.uncompressedSize,4),ne+=o(X.length,2),ne+=o(te.length,2),{fileRecord:M.LOCAL_FILE_HEADER+ne+X+te,dirRecord:M.CENTRAL_FILE_HEADER+o(ie,2)+ne+o(me.length,2)+"\0\0\0\0"+o(L,4)+o(D,4)+X+te+me}}var l=t("../utils"),p=t("../stream/GenericWorker"),A=t("../utf8"),y=t("../crc32"),M=t("../signature");function N(w,R,b,D){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=b,this.encodeFileName=D,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(N,p),N.prototype.push=function(w){var R=w.meta.percent||0,b=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,p.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:b?(R+100*(b-D-1))/b:100}}))},N.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var R=this.streamFiles&&!w.file.dir;if(R){var b=d(w,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},N.prototype.closedSource=function(w){this.accumulate=!1;var R=this.streamFiles&&!w.file.dir,b=d(w,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),R)this.push({data:function(D){return M.DATA_DESCRIPTOR+o(D.crc32,4)+o(D.compressedSize,4)+o(D.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},N.prototype.flush=function(){for(var w=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var b=this.bytesWritten-w,D=function(m,x,_,f,O){var V=l.transformTo("string",O(f));return M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(m,2)+o(m,2)+o(x,4)+o(_,4)+o(V.length,2)+V}(this.dirRecords.length,b,w,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},N.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},N.prototype.registerPrevious=function(w){this._sources.push(w);var R=this;return w.on("data",function(b){R.processChunk(b)}),w.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),w.on("error",function(b){R.error(b)}),this},N.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},N.prototype.error=function(w){var R=this._sources;if(!p.prototype.error.call(this,w))return!1;for(var b=0;b<R.length;b++)try{R[b].error(w)}catch{}return!0},N.prototype.lock=function(){p.prototype.lock.call(this);for(var w=this._sources,R=0;R<w.length;R++)w[R].lock()},i.exports=N},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,r){var o=t("../compressions"),d=t("./ZipFileWorker");r.generateWorker=function(l,p,A){var y=new d(p.streamFiles,A,p.platform,p.encodeFileName),M=0;try{l.forEach(function(N,w){M++;var R=function(x,_){var f=x||_,O=o[f];if(!O)throw new Error(f+" is not a valid compression method !");return O}(w.options.compression,p.compression),b=w.options.compressionOptions||p.compressionOptions||{},D=w.dir,m=w.date;w._compressWorker(R,b).withStreamInfo("file",{name:N,dir:D,date:m,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(y)}),y.entriesCount=M}catch(N){y.error(N)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,r){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new o;for(var l in this)typeof this[l]!="function"&&(d[l]=this[l]);return d}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(d,l){return new o().loadAsync(d,l)},o.external=t("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,r){var o=t("./utils"),d=t("./external"),l=t("./utf8"),p=t("./zipEntries"),A=t("./stream/Crc32Probe"),y=t("./nodejsUtils");function M(N){return new d.Promise(function(w,R){var b=N.decompressed.getContentWorker().pipe(new A);b.on("error",function(D){R(D)}).on("end",function(){b.streamInfo.crc32!==N.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}i.exports=function(N,w){var R=this;return w=o.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),y.isNode&&y.isStream(N)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",N,!0,w.optimizedBinaryString,w.base64).then(function(b){var D=new p(w);return D.load(b),D}).then(function(b){var D=[d.Promise.resolve(b)],m=b.files;if(w.checkCRC32)for(var x=0;x<m.length;x++)D.push(M(m[x]));return d.Promise.all(D)}).then(function(b){for(var D=b.shift(),m=D.files,x=0;x<m.length;x++){var _=m[x],f=_.fileNameStr,O=o.resolve(_.fileNameStr);R.file(O,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:w.createFolders}),_.dir||(R.file(O).unsafeOriginalName=f)}return D.zipComment.length&&(R.comment=D.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,r){var o=t("../utils"),d=t("../stream/GenericWorker");function l(p,A){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(A)}o.inherits(l,d),l.prototype._bindStream=function(p){var A=this;(this._stream=p).pause(),p.on("data",function(y){A.push({data:y,meta:{percent:0}})}).on("error",function(y){A.isPaused?this.generatedError=y:A.error(y)}).on("end",function(){A.isPaused?A._upstreamEnded=!0:A.end()})},l.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,r){var o=t("readable-stream").Readable;function d(l,p,A){o.call(this,p),this._helper=l;var y=this;l.on("data",function(M,N){y.push(M)||y._helper.pause(),A&&A(N)}).on("error",function(M){y.emit("error",M)}).on("end",function(){y.push(null)})}t("../utils").inherits(d,o),d.prototype._read=function(){this._helper.resume()},i.exports=d},{"../utils":32,"readable-stream":16}],14:[function(t,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,d);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,d)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var d=new Buffer(o);return d.fill(0),d},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,i,r){function o(O,V,j){var X,k=l.getTypeOf(V),Z=l.extend(j||{},y);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(O=m(O)),Z.createFolders&&(X=D(O))&&x.call(this,X,!0);var me=k==="string"&&Z.binary===!1&&Z.base64===!1;j&&j.binary!==void 0||(Z.binary=!me),(V instanceof M&&V.uncompressedSize===0||Z.dir||!V||V.length===0)&&(Z.base64=!1,Z.binary=!0,V="",Z.compression="STORE",k="string");var P=null;P=V instanceof M||V instanceof p?V:R.isNode&&R.isStream(V)?new b(O,V):l.prepareContent(O,V,Z.binary,Z.optimizedBinaryString,Z.base64);var W=new N(O,P,Z);this.files[O]=W}var d=t("./utf8"),l=t("./utils"),p=t("./stream/GenericWorker"),A=t("./stream/StreamHelper"),y=t("./defaults"),M=t("./compressedObject"),N=t("./zipObject"),w=t("./generate"),R=t("./nodejsUtils"),b=t("./nodejs/NodejsStreamInputAdapter"),D=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var V=O.lastIndexOf("/");return 0<V?O.substring(0,V):""},m=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},x=function(O,V){return V=V!==void 0?V:y.createFolders,O=m(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:V}),this.files[O]};function _(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var f={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var V,j,X;for(V in this.files)X=this.files[V],(j=V.slice(this.root.length,V.length))&&V.slice(0,this.root.length)===this.root&&O(j,X)},filter:function(O){var V=[];return this.forEach(function(j,X){O(j,X)&&V.push(X)}),V},file:function(O,V,j){if(arguments.length!==1)return O=this.root+O,o.call(this,O,V,j),this;if(_(O)){var X=O;return this.filter(function(Z,me){return!me.dir&&X.test(Z)})}var k=this.files[this.root+O];return k&&!k.dir?k:null},folder:function(O){if(!O)return this;if(_(O))return this.filter(function(k,Z){return Z.dir&&O.test(k)});var V=this.root+O,j=x.call(this,V),X=this.clone();return X.root=j.name,X},remove:function(O){O=this.root+O;var V=this.files[O];if(V||(O.slice(-1)!=="/"&&(O+="/"),V=this.files[O]),V&&!V.dir)delete this.files[O];else for(var j=this.filter(function(k,Z){return Z.name.slice(0,O.length)===O}),X=0;X<j.length;X++)delete this.files[j[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var V,j={};try{if((j=l.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");l.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var X=j.comment||this.comment||"";V=w.generateWorker(this,j,X)}catch(k){(V=new p("error")).error(k)}return new A(V,j.type||"string",j.mimeType)},generateAsync:function(O,V){return this.generateInternalStream(O).accumulate(V)},generateNodeStream:function(O,V){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(V)}};i.exports=f},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,r){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,r){var o=t("./DataReader");function d(l){o.call(this,l);for(var p=0;p<this.data.length;p++)l[p]=255&l[p]}t("../utils").inherits(d,o),d.prototype.byteAt=function(l){return this.data[this.zero+l]},d.prototype.lastIndexOfSignature=function(l){for(var p=l.charCodeAt(0),A=l.charCodeAt(1),y=l.charCodeAt(2),M=l.charCodeAt(3),N=this.length-4;0<=N;--N)if(this.data[N]===p&&this.data[N+1]===A&&this.data[N+2]===y&&this.data[N+3]===M)return N-this.zero;return-1},d.prototype.readAndCheckSignature=function(l){var p=l.charCodeAt(0),A=l.charCodeAt(1),y=l.charCodeAt(2),M=l.charCodeAt(3),N=this.readData(4);return p===N[0]&&A===N[1]&&y===N[2]&&M===N[3]},d.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,p},i.exports=d},{"../utils":32,"./DataReader":18}],18:[function(t,i,r){var o=t("../utils");function d(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var p,A=0;for(this.checkOffset(l),p=this.index+l-1;p>=this.index;p--)A=(A<<8)+this.byteAt(p);return this.index+=l,A},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=d},{"../utils":32}],19:[function(t,i,r){var o=t("./Uint8ArrayReader");function d(l){o.call(this,l)}t("../utils").inherits(d,o),d.prototype.readData=function(l){this.checkOffset(l);var p=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,p},i.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,r){var o=t("./DataReader");function d(l){o.call(this,l)}t("../utils").inherits(d,o),d.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},d.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},d.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},d.prototype.readData=function(l){this.checkOffset(l);var p=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,p},i.exports=d},{"../utils":32,"./DataReader":18}],21:[function(t,i,r){var o=t("./ArrayReader");function d(l){o.call(this,l)}t("../utils").inherits(d,o),d.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,p},i.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,r){var o=t("../utils"),d=t("../support"),l=t("./ArrayReader"),p=t("./StringReader"),A=t("./NodeBufferReader"),y=t("./Uint8ArrayReader");i.exports=function(M){var N=o.getTypeOf(M);return o.checkSupport(N),N!=="string"||d.uint8array?N==="nodebuffer"?new A(M):d.uint8array?new y(o.transformTo("uint8array",M)):new l(o.transformTo("array",M)):new p(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,r){var o=t("./GenericWorker"),d=t("../utils");function l(p){o.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(l,o),l.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,r){var o=t("./GenericWorker"),d=t("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,o),l.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,r){var o=t("../utils"),d=t("./GenericWorker");function l(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}o.inherits(l,d),l.prototype.processChunk=function(p){if(p){var A=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=A+p.data.length}d.prototype.processChunk.call(this,p)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,r){var o=t("../utils"),d=t("./GenericWorker");function l(p){d.call(this,"DataWorker");var A=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){A.dataIsReady=!0,A.data=y,A.max=y&&y.length||0,A.type=o.getTypeOf(y),A.isPaused||A._tickAndRepeat()},function(y){A.error(y)})}o.inherits(l,d),l.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,A=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,A);break;case"uint8array":p=this.data.subarray(this.index,A);break;case"array":case"nodebuffer":p=this.data.slice(this.index,A)}return this.index=A,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,r){function o(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,l){return this._listeners[d].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,l){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,l)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var l=this;return d.on("data",function(p){l.processChunk(p)}),d.on("end",function(){l.end()}),d.on("error",function(p){l.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,l){return this.extraStreamInfo[d]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},i.exports=o},{}],29:[function(t,i,r){var o=t("../utils"),d=t("./ConvertWorker"),l=t("./GenericWorker"),p=t("../base64"),A=t("../support"),y=t("../external"),M=null;if(A.nodestream)try{M=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function N(R,b){return new y.Promise(function(D,m){var x=[],_=R._internalType,f=R._outputType,O=R._mimeType;R.on("data",function(V,j){x.push(V),b&&b(j)}).on("error",function(V){x=[],m(V)}).on("end",function(){try{var V=function(j,X,k){switch(j){case"blob":return o.newBlob(o.transformTo("arraybuffer",X),k);case"base64":return p.encode(X);default:return o.transformTo(j,X)}}(f,function(j,X){var k,Z=0,me=null,P=0;for(k=0;k<X.length;k++)P+=X[k].length;switch(j){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(me=new Uint8Array(P),k=0;k<X.length;k++)me.set(X[k],Z),Z+=X[k].length;return me;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+j+"'")}}(_,x),O);D(V)}catch(j){m(j)}x=[]}).resume()})}function w(R,b,D){var m=b;switch(b){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=b,this._mimeType=D,o.checkSupport(m),this._worker=R.pipe(new d(m)),R.lock()}catch(x){this._worker=new l("error"),this._worker.error(x)}}w.prototype={accumulate:function(R){return N(this,R)},on:function(R,b){var D=this;return R==="data"?this._worker.on(R,function(m){b.call(D,m.data,m.meta)}):this._worker.on(R,function(){o.delay(b,arguments,D)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:this._outputType!=="nodebuffer"},R)}},i.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(o),r.blob=d.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,r){for(var o=t("./utils"),d=t("./support"),l=t("./nodejsUtils"),p=t("./stream/GenericWorker"),A=new Array(256),y=0;y<256;y++)A[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;A[254]=A[254]=1;function M(){p.call(this,"utf-8 decode"),this.leftOver=null}function N(){p.call(this,"utf-8 encode")}r.utf8encode=function(w){return d.nodebuffer?l.newBufferFrom(w,"utf-8"):function(R){var b,D,m,x,_,f=R.length,O=0;for(x=0;x<f;x++)(64512&(D=R.charCodeAt(x)))==55296&&x+1<f&&(64512&(m=R.charCodeAt(x+1)))==56320&&(D=65536+(D-55296<<10)+(m-56320),x++),O+=D<128?1:D<2048?2:D<65536?3:4;for(b=d.uint8array?new Uint8Array(O):new Array(O),x=_=0;_<O;x++)(64512&(D=R.charCodeAt(x)))==55296&&x+1<f&&(64512&(m=R.charCodeAt(x+1)))==56320&&(D=65536+(D-55296<<10)+(m-56320),x++),D<128?b[_++]=D:(D<2048?b[_++]=192|D>>>6:(D<65536?b[_++]=224|D>>>12:(b[_++]=240|D>>>18,b[_++]=128|D>>>12&63),b[_++]=128|D>>>6&63),b[_++]=128|63&D);return b}(w)},r.utf8decode=function(w){return d.nodebuffer?o.transformTo("nodebuffer",w).toString("utf-8"):function(R){var b,D,m,x,_=R.length,f=new Array(2*_);for(b=D=0;b<_;)if((m=R[b++])<128)f[D++]=m;else if(4<(x=A[m]))f[D++]=65533,b+=x-1;else{for(m&=x===2?31:x===3?15:7;1<x&&b<_;)m=m<<6|63&R[b++],x--;1<x?f[D++]=65533:m<65536?f[D++]=m:(m-=65536,f[D++]=55296|m>>10&1023,f[D++]=56320|1023&m)}return f.length!==D&&(f.subarray?f=f.subarray(0,D):f.length=D),o.applyFromCharCode(f)}(w=o.transformTo(d.uint8array?"uint8array":"array",w))},o.inherits(M,p),M.prototype.processChunk=function(w){var R=o.transformTo(d.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var b=R;(R=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),R.set(b,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var D=function(x,_){var f;for((_=_||x.length)>x.length&&(_=x.length),f=_-1;0<=f&&(192&x[f])==128;)f--;return f<0||f===0?_:f+A[x[f]]>_?f:_}(R),m=R;D!==R.length&&(d.uint8array?(m=R.subarray(0,D),this.leftOver=R.subarray(D,R.length)):(m=R.slice(0,D),this.leftOver=R.slice(D,R.length))),this.push({data:r.utf8decode(m),meta:w.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=M,o.inherits(N,p),N.prototype.processChunk=function(w){this.push({data:r.utf8encode(w.data),meta:w.meta})},r.Utf8EncodeWorker=N},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,r){var o=t("./support"),d=t("./base64"),l=t("./nodejsUtils"),p=t("./external");function A(b){return b}function y(b,D){for(var m=0;m<b.length;++m)D[m]=255&b.charCodeAt(m);return D}t("setimmediate"),r.newBlob=function(b,D){r.checkSupport("blob");try{return new Blob([b],{type:D})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(b),m.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(b,D,m){var x=[],_=0,f=b.length;if(f<=m)return String.fromCharCode.apply(null,b);for(;_<f;)D==="array"||D==="nodebuffer"?x.push(String.fromCharCode.apply(null,b.slice(_,Math.min(_+m,f)))):x.push(String.fromCharCode.apply(null,b.subarray(_,Math.min(_+m,f)))),_+=m;return x.join("")},stringifyByChar:function(b){for(var D="",m=0;m<b.length;m++)D+=String.fromCharCode(b[m]);return D},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function N(b){var D=65536,m=r.getTypeOf(b),x=!0;if(m==="uint8array"?x=M.applyCanBeUsed.uint8array:m==="nodebuffer"&&(x=M.applyCanBeUsed.nodebuffer),x)for(;1<D;)try{return M.stringifyByChunk(b,m,D)}catch{D=Math.floor(D/2)}return M.stringifyByChar(b)}function w(b,D){for(var m=0;m<b.length;m++)D[m]=b[m];return D}r.applyFromCharCode=N;var R={};R.string={string:A,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return R.string.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:function(b){return y(b,l.allocBuffer(b.length))}},R.array={string:N,array:A,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(b)}},R.arraybuffer={string:function(b){return N(new Uint8Array(b))},array:function(b){return w(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:A,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(new Uint8Array(b))}},R.uint8array={string:N,array:function(b){return w(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:A,nodebuffer:function(b){return l.newBufferFrom(b)}},R.nodebuffer={string:N,array:function(b){return w(b,new Array(b.length))},arraybuffer:function(b){return R.nodebuffer.uint8array(b).buffer},uint8array:function(b){return w(b,new Uint8Array(b.length))},nodebuffer:A},r.transformTo=function(b,D){if(D=D||"",!b)return D;r.checkSupport(b);var m=r.getTypeOf(D);return R[m][b](D)},r.resolve=function(b){for(var D=b.split("/"),m=[],x=0;x<D.length;x++){var _=D[x];_==="."||_===""&&x!==0&&x!==D.length-1||(_===".."?m.pop():m.push(_))}return m.join("/")},r.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(b)?"nodebuffer":o.uint8array&&b instanceof Uint8Array?"uint8array":o.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(b){if(!o[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(b){var D,m,x="";for(m=0;m<(b||"").length;m++)x+="\\x"+((D=b.charCodeAt(m))<16?"0":"")+D.toString(16).toUpperCase();return x},r.delay=function(b,D,m){setImmediate(function(){b.apply(m||null,D||[])})},r.inherits=function(b,D){function m(){}m.prototype=D.prototype,b.prototype=new m},r.extend=function(){var b,D,m={};for(b=0;b<arguments.length;b++)for(D in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],D)&&m[D]===void 0&&(m[D]=arguments[b][D]);return m},r.prepareContent=function(b,D,m,x,_){return p.Promise.resolve(D).then(function(f){return o.blob&&(f instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(f))!==-1)&&typeof FileReader<"u"?new p.Promise(function(O,V){var j=new FileReader;j.onload=function(X){O(X.target.result)},j.onerror=function(X){V(X.target.error)},j.readAsArrayBuffer(f)}):f}).then(function(f){var O=r.getTypeOf(f);return O?(O==="arraybuffer"?f=r.transformTo("uint8array",f):O==="string"&&(_?f=d.decode(f):m&&x!==!0&&(f=function(V){return y(V,o.uint8array?new Uint8Array(V.length):new Array(V.length))}(f))),f):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,r){var o=t("./reader/readerFor"),d=t("./utils"),l=t("./signature"),p=t("./zipEntry"),A=t("./support");function y(M){this.files=[],this.loadOptions=M}y.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var N=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(N)+", expected "+d.pretty(M)+")")}},isSignature:function(M,N){var w=this.reader.index;this.reader.setIndex(M);var R=this.reader.readString(4)===N;return this.reader.setIndex(w),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),N=A.uint8array?"uint8array":"array",w=d.transformTo(N,M);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,N,w,R=this.zip64EndOfCentralSize-44;0<R;)M=this.reader.readInt(2),N=this.reader.readInt(4),w=this.reader.readData(N),this.zip64ExtensibleData[M]={id:M,length:N,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,N;for(M=0;M<this.files.length;M++)N=this.files[M],this.reader.setIndex(N.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),N.readLocalPart(this.reader),N.handleUTF8(),N.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(M=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var N=M;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var R=N-w;if(0<R)this.isSignature(N,l.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(M){this.reader=o(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,r){var o=t("./reader/readerFor"),d=t("./utils"),l=t("./compressedObject"),p=t("./crc32"),A=t("./utf8"),y=t("./compressions"),M=t("./support");function N(w,R){this.options=w,this.loadOptions=R}N.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var R,b;if(w.skip(22),this.fileNameLength=w.readInt(2),b=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=function(D){for(var m in y)if(Object.prototype.hasOwnProperty.call(y,m)&&y[m].magic===D)return y[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,R,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var R=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(R),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=o(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var R,b,D,m=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<m;)R=w.readInt(2),b=w.readInt(2),D=w.readData(b),this.extraFields[R]={id:R,length:b,value:D};w.setIndex(m)},handleUTF8:function(){var w=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=A.utf8decode(this.fileName),this.fileCommentStr=A.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var b=d.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var m=d.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var R=o(w.value);return R.readInt(1)!==1||p(this.fileName)!==R.readInt(4)?null:A.utf8decode(R.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var R=o(w.value);return R.readInt(1)!==1||p(this.fileComment)!==R.readInt(4)?null:A.utf8decode(R.readData(w.length-5))}return null}},i.exports=N},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,r){function o(R,b,D){this.name=R,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=b,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var d=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),p=t("./utf8"),A=t("./compressedObject"),y=t("./stream/GenericWorker");o.prototype={internalStream:function(R){var b=null,D="string";try{if(!R)throw new Error("No output type specified.");var m=(D=R.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),b=this._decompressWorker();var x=!this._dataBinary;x&&!m&&(b=b.pipe(new p.Utf8EncodeWorker)),!x&&m&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(_){(b=new y("error")).error(_)}return new d(b,D,"")},async:function(R,b){return this.internalStream(R).accumulate(b)},nodeStream:function(R,b){return this.internalStream(R||"nodebuffer").toNodejsStream(b)},_compressWorker:function(R,b){if(this._data instanceof A&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new p.Utf8EncodeWorker)),A.createWorkerFrom(D,R,b)},_decompressWorker:function(){return this._data instanceof A?this._data.getContentWorker():this._data instanceof y?this._data:new l(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],N=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<M.length;w++)o.prototype[M[w]]=N;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,r){(function(o){var d,l,p=o.MutationObserver||o.WebKitMutationObserver;if(p){var A=0,y=new p(R),M=o.document.createTextNode("");y.observe(M,{characterData:!0}),d=function(){M.data=A=++A%2}}else if(o.setImmediate||o.MessageChannel===void 0)d="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var b=o.document.createElement("script");b.onreadystatechange=function(){R(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:function(){setTimeout(R,0)};else{var N=new o.MessageChannel;N.port1.onmessage=R,d=function(){N.port2.postMessage(0)}}var w=[];function R(){var b,D;l=!0;for(var m=w.length;m;){for(D=w,w=[],b=-1;++b<m;)D[b]();m=w.length}l=!1}i.exports=function(b){w.push(b)!==1||l||d()}}).call(this,typeof Ut<"u"?Ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,r){var o=t("immediate");function d(){}var l={},p=["REJECTED"],A=["FULFILLED"],y=["PENDING"];function M(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,m!==d&&b(this,m)}function N(m,x,_){this.promise=m,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function w(m,x,_){o(function(){var f;try{f=x(_)}catch(O){return l.reject(m,O)}f===m?l.reject(m,new TypeError("Cannot resolve promise with itself")):l.resolve(m,f)})}function R(m){var x=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof x=="function")return function(){x.apply(m,arguments)}}function b(m,x){var _=!1;function f(j){_||(_=!0,l.reject(m,j))}function O(j){_||(_=!0,l.resolve(m,j))}var V=D(function(){x(O,f)});V.status==="error"&&f(V.value)}function D(m,x){var _={};try{_.value=m(x),_.status="success"}catch(f){_.status="error",_.value=f}return _}(i.exports=M).prototype.finally=function(m){if(typeof m!="function")return this;var x=this.constructor;return this.then(function(_){return x.resolve(m()).then(function(){return _})},function(_){return x.resolve(m()).then(function(){throw _})})},M.prototype.catch=function(m){return this.then(null,m)},M.prototype.then=function(m,x){if(typeof m!="function"&&this.state===A||typeof x!="function"&&this.state===p)return this;var _=new this.constructor(d);return this.state!==y?w(_,this.state===A?m:x,this.outcome):this.queue.push(new N(_,m,x)),_},N.prototype.callFulfilled=function(m){l.resolve(this.promise,m)},N.prototype.otherCallFulfilled=function(m){w(this.promise,this.onFulfilled,m)},N.prototype.callRejected=function(m){l.reject(this.promise,m)},N.prototype.otherCallRejected=function(m){w(this.promise,this.onRejected,m)},l.resolve=function(m,x){var _=D(R,x);if(_.status==="error")return l.reject(m,_.value);var f=_.value;if(f)b(m,f);else{m.state=A,m.outcome=x;for(var O=-1,V=m.queue.length;++O<V;)m.queue[O].callFulfilled(x)}return m},l.reject=function(m,x){m.state=p,m.outcome=x;for(var _=-1,f=m.queue.length;++_<f;)m.queue[_].callRejected(x);return m},M.resolve=function(m){return m instanceof this?m:l.resolve(new this(d),m)},M.reject=function(m){var x=new this(d);return l.reject(x,m)},M.all=function(m){var x=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,f=!1;if(!_)return this.resolve([]);for(var O=new Array(_),V=0,j=-1,X=new this(d);++j<_;)k(m[j],j);return X;function k(Z,me){x.resolve(Z).then(function(P){O[me]=P,++V!==_||f||(f=!0,l.resolve(X,O))},function(P){f||(f=!0,l.reject(X,P))})}},M.race=function(m){var x=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,f=!1;if(!_)return this.resolve([]);for(var O=-1,V=new this(d);++O<_;)j=m[O],x.resolve(j).then(function(X){f||(f=!0,l.resolve(V,X))},function(X){f||(f=!0,l.reject(V,X))});var j;return V}},{immediate:36}],38:[function(t,i,r){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,r){var o=t("./zlib/deflate"),d=t("./utils/common"),l=t("./utils/strings"),p=t("./zlib/messages"),A=t("./zlib/zstream"),y=Object.prototype.toString,M=0,N=-1,w=0,R=8;function b(m){if(!(this instanceof b))return new b(m);this.options=d.assign({level:N,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},m||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var _=o.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(_!==M)throw new Error(p[_]);if(x.header&&o.deflateSetHeader(this.strm,x.header),x.dictionary){var f;if(f=typeof x.dictionary=="string"?l.string2buf(x.dictionary):y.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(_=o.deflateSetDictionary(this.strm,f))!==M)throw new Error(p[_]);this._dict_set=!0}}function D(m,x){var _=new b(x);if(_.push(m,!0),_.err)throw _.msg||p[_.err];return _.result}b.prototype.push=function(m,x){var _,f,O=this.strm,V=this.options.chunkSize;if(this.ended)return!1;f=x===~~x?x:x===!0?4:0,typeof m=="string"?O.input=l.string2buf(m):y.call(m)==="[object ArrayBuffer]"?O.input=new Uint8Array(m):O.input=m,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new d.Buf8(V),O.next_out=0,O.avail_out=V),(_=o.deflate(O,f))!==1&&_!==M)return this.onEnd(_),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||f!==4&&f!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(d.shrinkBuf(O.output,O.next_out))):this.onData(d.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&_!==1);return f===4?(_=o.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===M):f!==2||(this.onEnd(M),!(O.avail_out=0))},b.prototype.onData=function(m){this.chunks.push(m)},b.prototype.onEnd=function(m){m===M&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},r.Deflate=b,r.deflate=D,r.deflateRaw=function(m,x){return(x=x||{}).raw=!0,D(m,x)},r.gzip=function(m,x){return(x=x||{}).gzip=!0,D(m,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,r){var o=t("./zlib/inflate"),d=t("./utils/common"),l=t("./utils/strings"),p=t("./zlib/constants"),A=t("./zlib/messages"),y=t("./zlib/zstream"),M=t("./zlib/gzheader"),N=Object.prototype.toString;function w(b){if(!(this instanceof w))return new w(b);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},b||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||b&&b.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&(15&D.windowBits)==0&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var m=o.inflateInit2(this.strm,D.windowBits);if(m!==p.Z_OK)throw new Error(A[m]);this.header=new M,o.inflateGetHeader(this.strm,this.header)}function R(b,D){var m=new w(D);if(m.push(b,!0),m.err)throw m.msg||A[m.err];return m.result}w.prototype.push=function(b,D){var m,x,_,f,O,V,j=this.strm,X=this.options.chunkSize,k=this.options.dictionary,Z=!1;if(this.ended)return!1;x=D===~~D?D:D===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?j.input=l.binstring2buf(b):N.call(b)==="[object ArrayBuffer]"?j.input=new Uint8Array(b):j.input=b,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new d.Buf8(X),j.next_out=0,j.avail_out=X),(m=o.inflate(j,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&k&&(V=typeof k=="string"?l.string2buf(k):N.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,m=o.inflateSetDictionary(this.strm,V)),m===p.Z_BUF_ERROR&&Z===!0&&(m=p.Z_OK,Z=!1),m!==p.Z_STREAM_END&&m!==p.Z_OK)return this.onEnd(m),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&m!==p.Z_STREAM_END&&(j.avail_in!==0||x!==p.Z_FINISH&&x!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=l.utf8border(j.output,j.next_out),f=j.next_out-_,O=l.buf2string(j.output,_),j.next_out=f,j.avail_out=X-f,f&&d.arraySet(j.output,j.output,_,f,0),this.onData(O)):this.onData(d.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(Z=!0)}while((0<j.avail_in||j.avail_out===0)&&m!==p.Z_STREAM_END);return m===p.Z_STREAM_END&&(x=p.Z_FINISH),x===p.Z_FINISH?(m=o.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===p.Z_OK):x!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(j.avail_out=0))},w.prototype.onData=function(b){this.chunks.push(b)},w.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Inflate=w,r.inflate=R,r.inflateRaw=function(b,D){return(D=D||{}).raw=!0,R(b,D)},r.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(p){for(var A=Array.prototype.slice.call(arguments,1);A.length;){var y=A.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var M in y)y.hasOwnProperty(M)&&(p[M]=y[M])}}return p},r.shrinkBuf=function(p,A){return p.length===A?p:p.subarray?p.subarray(0,A):(p.length=A,p)};var d={arraySet:function(p,A,y,M,N){if(A.subarray&&p.subarray)p.set(A.subarray(y,y+M),N);else for(var w=0;w<M;w++)p[N+w]=A[y+w]},flattenChunks:function(p){var A,y,M,N,w,R;for(A=M=0,y=p.length;A<y;A++)M+=p[A].length;for(R=new Uint8Array(M),A=N=0,y=p.length;A<y;A++)w=p[A],R.set(w,N),N+=w.length;return R}},l={arraySet:function(p,A,y,M,N){for(var w=0;w<M;w++)p[N+w]=A[y+w]},flattenChunks:function(p){return[].concat.apply([],p)}};r.setTyped=function(p){p?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,d)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(o)},{}],42:[function(t,i,r){var o=t("./common"),d=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var p=new o.Buf8(256),A=0;A<256;A++)p[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function y(M,N){if(N<65537&&(M.subarray&&l||!M.subarray&&d))return String.fromCharCode.apply(null,o.shrinkBuf(M,N));for(var w="",R=0;R<N;R++)w+=String.fromCharCode(M[R]);return w}p[254]=p[254]=1,r.string2buf=function(M){var N,w,R,b,D,m=M.length,x=0;for(b=0;b<m;b++)(64512&(w=M.charCodeAt(b)))==55296&&b+1<m&&(64512&(R=M.charCodeAt(b+1)))==56320&&(w=65536+(w-55296<<10)+(R-56320),b++),x+=w<128?1:w<2048?2:w<65536?3:4;for(N=new o.Buf8(x),b=D=0;D<x;b++)(64512&(w=M.charCodeAt(b)))==55296&&b+1<m&&(64512&(R=M.charCodeAt(b+1)))==56320&&(w=65536+(w-55296<<10)+(R-56320),b++),w<128?N[D++]=w:(w<2048?N[D++]=192|w>>>6:(w<65536?N[D++]=224|w>>>12:(N[D++]=240|w>>>18,N[D++]=128|w>>>12&63),N[D++]=128|w>>>6&63),N[D++]=128|63&w);return N},r.buf2binstring=function(M){return y(M,M.length)},r.binstring2buf=function(M){for(var N=new o.Buf8(M.length),w=0,R=N.length;w<R;w++)N[w]=M.charCodeAt(w);return N},r.buf2string=function(M,N){var w,R,b,D,m=N||M.length,x=new Array(2*m);for(w=R=0;w<m;)if((b=M[w++])<128)x[R++]=b;else if(4<(D=p[b]))x[R++]=65533,w+=D-1;else{for(b&=D===2?31:D===3?15:7;1<D&&w<m;)b=b<<6|63&M[w++],D--;1<D?x[R++]=65533:b<65536?x[R++]=b:(b-=65536,x[R++]=55296|b>>10&1023,x[R++]=56320|1023&b)}return y(x,R)},r.utf8border=function(M,N){var w;for((N=N||M.length)>M.length&&(N=M.length),w=N-1;0<=w&&(192&M[w])==128;)w--;return w<0||w===0?N:w+p[M[w]]>N?w:N}},{"./common":41}],43:[function(t,i,r){i.exports=function(o,d,l,p){for(var A=65535&o|0,y=o>>>16&65535|0,M=0;l!==0;){for(l-=M=2e3<l?2e3:l;y=y+(A=A+d[p++]|0)|0,--M;);A%=65521,y%=65521}return A|y<<16|0}},{}],44:[function(t,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,r){var o=function(){for(var d,l=[],p=0;p<256;p++){d=p;for(var A=0;A<8;A++)d=1&d?3988292384^d>>>1:d>>>1;l[p]=d}return l}();i.exports=function(d,l,p,A){var y=o,M=A+p;d^=-1;for(var N=A;N<M;N++)d=d>>>8^y[255&(d^l[N])];return-1^d}},{}],46:[function(t,i,r){var o,d=t("../utils/common"),l=t("./trees"),p=t("./adler32"),A=t("./crc32"),y=t("./messages"),M=0,N=4,w=0,R=-2,b=-1,D=4,m=2,x=8,_=9,f=286,O=30,V=19,j=2*f+1,X=15,k=3,Z=258,me=Z+k+1,P=42,W=113,S=1,te=2,ce=3,K=4;function de(v,ae){return v.msg=y[ae],ae}function oe(v){return(v<<1)-(4<v?9:0)}function be(v){for(var ae=v.length;0<=--ae;)v[ae]=0}function Y(v){var ae=v.state,T=ae.pending;T>v.avail_out&&(T=v.avail_out),T!==0&&(d.arraySet(v.output,ae.pending_buf,ae.pending_out,T,v.next_out),v.next_out+=T,ae.pending_out+=T,v.total_out+=T,v.avail_out-=T,ae.pending-=T,ae.pending===0&&(ae.pending_out=0))}function L(v,ae){l._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,ae),v.block_start=v.strstart,Y(v.strm)}function ie(v,ae){v.pending_buf[v.pending++]=ae}function ne(v,ae){v.pending_buf[v.pending++]=ae>>>8&255,v.pending_buf[v.pending++]=255&ae}function he(v,ae){var T,c,u=v.max_chain_length,g=v.strstart,B=v.prev_length,J=v.nice_match,q=v.strstart>v.w_size-me?v.strstart-(v.w_size-me):0,pe=v.window,we=v.w_mask,ve=v.prev,Ce=v.strstart+Z,Ae=pe[g+B-1],Te=pe[g+B];v.prev_length>=v.good_match&&(u>>=2),J>v.lookahead&&(J=v.lookahead);do if(pe[(T=ae)+B]===Te&&pe[T+B-1]===Ae&&pe[T]===pe[g]&&pe[++T]===pe[g+1]){g+=2,T++;do;while(pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&pe[++g]===pe[++T]&&g<Ce);if(c=Z-(Ce-g),g=Ce-Z,B<c){if(v.match_start=ae,J<=(B=c))break;Ae=pe[g+B-1],Te=pe[g+B]}}while((ae=ve[ae&we])>q&&--u!=0);return B<=v.lookahead?B:v.lookahead}function Q(v){var ae,T,c,u,g,B,J,q,pe,we,ve=v.w_size;do{if(u=v.window_size-v.lookahead-v.strstart,v.strstart>=ve+(ve-me)){for(d.arraySet(v.window,v.window,ve,ve,0),v.match_start-=ve,v.strstart-=ve,v.block_start-=ve,ae=T=v.hash_size;c=v.head[--ae],v.head[ae]=ve<=c?c-ve:0,--T;);for(ae=T=ve;c=v.prev[--ae],v.prev[ae]=ve<=c?c-ve:0,--T;);u+=ve}if(v.strm.avail_in===0)break;if(B=v.strm,J=v.window,q=v.strstart+v.lookahead,pe=u,we=void 0,we=B.avail_in,pe<we&&(we=pe),T=we===0?0:(B.avail_in-=we,d.arraySet(J,B.input,B.next_in,we,q),B.state.wrap===1?B.adler=p(B.adler,J,we,q):B.state.wrap===2&&(B.adler=A(B.adler,J,we,q)),B.next_in+=we,B.total_in+=we,we),v.lookahead+=T,v.lookahead+v.insert>=k)for(g=v.strstart-v.insert,v.ins_h=v.window[g],v.ins_h=(v.ins_h<<v.hash_shift^v.window[g+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[g+k-1])&v.hash_mask,v.prev[g&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=g,g++,v.insert--,!(v.lookahead+v.insert<k)););}while(v.lookahead<me&&v.strm.avail_in!==0)}function I(v,ae){for(var T,c;;){if(v.lookahead<me){if(Q(v),v.lookahead<me&&ae===M)return S;if(v.lookahead===0)break}if(T=0,v.lookahead>=k&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+k-1])&v.hash_mask,T=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),T!==0&&v.strstart-T<=v.w_size-me&&(v.match_length=he(v,T)),v.match_length>=k)if(c=l._tr_tally(v,v.strstart-v.match_start,v.match_length-k),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=k){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+k-1])&v.hash_mask,T=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else c=l._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(c&&(L(v,!1),v.strm.avail_out===0))return S}return v.insert=v.strstart<k-1?v.strstart:k-1,ae===N?(L(v,!0),v.strm.avail_out===0?ce:K):v.last_lit&&(L(v,!1),v.strm.avail_out===0)?S:te}function E(v,ae){for(var T,c,u;;){if(v.lookahead<me){if(Q(v),v.lookahead<me&&ae===M)return S;if(v.lookahead===0)break}if(T=0,v.lookahead>=k&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+k-1])&v.hash_mask,T=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=k-1,T!==0&&v.prev_length<v.max_lazy_match&&v.strstart-T<=v.w_size-me&&(v.match_length=he(v,T),v.match_length<=5&&(v.strategy===1||v.match_length===k&&4096<v.strstart-v.match_start)&&(v.match_length=k-1)),v.prev_length>=k&&v.match_length<=v.prev_length){for(u=v.strstart+v.lookahead-k,c=l._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-k),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=u&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+k-1])&v.hash_mask,T=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=k-1,v.strstart++,c&&(L(v,!1),v.strm.avail_out===0))return S}else if(v.match_available){if((c=l._tr_tally(v,0,v.window[v.strstart-1]))&&L(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return S}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(c=l._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<k-1?v.strstart:k-1,ae===N?(L(v,!0),v.strm.avail_out===0?ce:K):v.last_lit&&(L(v,!1),v.strm.avail_out===0)?S:te}function $(v,ae,T,c,u){this.good_length=v,this.max_lazy=ae,this.nice_length=T,this.max_chain=c,this.func=u}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*j),this.dyn_dtree=new d.Buf16(2*(2*O+1)),this.bl_tree=new d.Buf16(2*(2*V+1)),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(X+1),this.heap=new d.Buf16(2*f+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*f+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(v){var ae;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=m,(ae=v.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?P:W,v.adler=ae.wrap===2?0:1,ae.last_flush=M,l._tr_init(ae),w):de(v,R)}function U(v){var ae=F(v);return ae===w&&function(T){T.window_size=2*T.w_size,be(T.head),T.max_lazy_match=o[T.level].max_lazy,T.good_match=o[T.level].good_length,T.nice_match=o[T.level].nice_length,T.max_chain_length=o[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=k-1,T.match_available=0,T.ins_h=0}(v.state),ae}function ue(v,ae,T,c,u,g){if(!v)return R;var B=1;if(ae===b&&(ae=6),c<0?(B=0,c=-c):15<c&&(B=2,c-=16),u<1||_<u||T!==x||c<8||15<c||ae<0||9<ae||g<0||D<g)return de(v,R);c===8&&(c=9);var J=new H;return(v.state=J).strm=v,J.wrap=B,J.gzhead=null,J.w_bits=c,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=u+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+k-1)/k),J.window=new d.Buf8(2*J.w_size),J.head=new d.Buf16(J.hash_size),J.prev=new d.Buf16(J.w_size),J.lit_bufsize=1<<u+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new d.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=ae,J.strategy=g,J.method=T,U(v)}o=[new $(0,0,0,0,function(v,ae){var T=65535;for(T>v.pending_buf_size-5&&(T=v.pending_buf_size-5);;){if(v.lookahead<=1){if(Q(v),v.lookahead===0&&ae===M)return S;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var c=v.block_start+T;if((v.strstart===0||v.strstart>=c)&&(v.lookahead=v.strstart-c,v.strstart=c,L(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-me&&(L(v,!1),v.strm.avail_out===0))return S}return v.insert=0,ae===N?(L(v,!0),v.strm.avail_out===0?ce:K):(v.strstart>v.block_start&&(L(v,!1),v.strm.avail_out),S)}),new $(4,4,8,4,I),new $(4,5,16,8,I),new $(4,6,32,32,I),new $(4,4,16,16,E),new $(8,16,32,32,E),new $(8,16,128,128,E),new $(8,32,128,256,E),new $(32,128,258,1024,E),new $(32,258,258,4096,E)],r.deflateInit=function(v,ae){return ue(v,ae,x,15,8,0)},r.deflateInit2=ue,r.deflateReset=U,r.deflateResetKeep=F,r.deflateSetHeader=function(v,ae){return v&&v.state?v.state.wrap!==2?R:(v.state.gzhead=ae,w):R},r.deflate=function(v,ae){var T,c,u,g;if(!v||!v.state||5<ae||ae<0)return v?de(v,R):R;if(c=v.state,!v.output||!v.input&&v.avail_in!==0||c.status===666&&ae!==N)return de(v,v.avail_out===0?-5:R);if(c.strm=v,T=c.last_flush,c.last_flush=ae,c.status===P)if(c.wrap===2)v.adler=0,ie(c,31),ie(c,139),ie(c,8),c.gzhead?(ie(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),ie(c,255&c.gzhead.time),ie(c,c.gzhead.time>>8&255),ie(c,c.gzhead.time>>16&255),ie(c,c.gzhead.time>>24&255),ie(c,c.level===9?2:2<=c.strategy||c.level<2?4:0),ie(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(ie(c,255&c.gzhead.extra.length),ie(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(v.adler=A(v.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69):(ie(c,0),ie(c,0),ie(c,0),ie(c,0),ie(c,0),ie(c,c.level===9?2:2<=c.strategy||c.level<2?4:0),ie(c,3),c.status=W);else{var B=x+(c.w_bits-8<<4)<<8;B|=(2<=c.strategy||c.level<2?0:c.level<6?1:c.level===6?2:3)<<6,c.strstart!==0&&(B|=32),B+=31-B%31,c.status=W,ne(c,B),c.strstart!==0&&(ne(c,v.adler>>>16),ne(c,65535&v.adler)),v.adler=1}if(c.status===69)if(c.gzhead.extra){for(u=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>u&&(v.adler=A(v.adler,c.pending_buf,c.pending-u,u)),Y(v),u=c.pending,c.pending!==c.pending_buf_size));)ie(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>u&&(v.adler=A(v.adler,c.pending_buf,c.pending-u,u)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=73)}else c.status=73;if(c.status===73)if(c.gzhead.name){u=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>u&&(v.adler=A(v.adler,c.pending_buf,c.pending-u,u)),Y(v),u=c.pending,c.pending===c.pending_buf_size)){g=1;break}g=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,ie(c,g)}while(g!==0);c.gzhead.hcrc&&c.pending>u&&(v.adler=A(v.adler,c.pending_buf,c.pending-u,u)),g===0&&(c.gzindex=0,c.status=91)}else c.status=91;if(c.status===91)if(c.gzhead.comment){u=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>u&&(v.adler=A(v.adler,c.pending_buf,c.pending-u,u)),Y(v),u=c.pending,c.pending===c.pending_buf_size)){g=1;break}g=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,ie(c,g)}while(g!==0);c.gzhead.hcrc&&c.pending>u&&(v.adler=A(v.adler,c.pending_buf,c.pending-u,u)),g===0&&(c.status=103)}else c.status=103;if(c.status===103&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&Y(v),c.pending+2<=c.pending_buf_size&&(ie(c,255&v.adler),ie(c,v.adler>>8&255),v.adler=0,c.status=W)):c.status=W),c.pending!==0){if(Y(v),v.avail_out===0)return c.last_flush=-1,w}else if(v.avail_in===0&&oe(ae)<=oe(T)&&ae!==N)return de(v,-5);if(c.status===666&&v.avail_in!==0)return de(v,-5);if(v.avail_in!==0||c.lookahead!==0||ae!==M&&c.status!==666){var J=c.strategy===2?function(q,pe){for(var we;;){if(q.lookahead===0&&(Q(q),q.lookahead===0)){if(pe===M)return S;break}if(q.match_length=0,we=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,we&&(L(q,!1),q.strm.avail_out===0))return S}return q.insert=0,pe===N?(L(q,!0),q.strm.avail_out===0?ce:K):q.last_lit&&(L(q,!1),q.strm.avail_out===0)?S:te}(c,ae):c.strategy===3?function(q,pe){for(var we,ve,Ce,Ae,Te=q.window;;){if(q.lookahead<=Z){if(Q(q),q.lookahead<=Z&&pe===M)return S;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=k&&0<q.strstart&&(ve=Te[Ce=q.strstart-1])===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]){Ae=q.strstart+Z;do;while(ve===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]&&ve===Te[++Ce]&&Ce<Ae);q.match_length=Z-(Ae-Ce),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=k?(we=l._tr_tally(q,1,q.match_length-k),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(we=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),we&&(L(q,!1),q.strm.avail_out===0))return S}return q.insert=0,pe===N?(L(q,!0),q.strm.avail_out===0?ce:K):q.last_lit&&(L(q,!1),q.strm.avail_out===0)?S:te}(c,ae):o[c.level].func(c,ae);if(J!==ce&&J!==K||(c.status=666),J===S||J===ce)return v.avail_out===0&&(c.last_flush=-1),w;if(J===te&&(ae===1?l._tr_align(c):ae!==5&&(l._tr_stored_block(c,0,0,!1),ae===3&&(be(c.head),c.lookahead===0&&(c.strstart=0,c.block_start=0,c.insert=0))),Y(v),v.avail_out===0))return c.last_flush=-1,w}return ae!==N?w:c.wrap<=0?1:(c.wrap===2?(ie(c,255&v.adler),ie(c,v.adler>>8&255),ie(c,v.adler>>16&255),ie(c,v.adler>>24&255),ie(c,255&v.total_in),ie(c,v.total_in>>8&255),ie(c,v.total_in>>16&255),ie(c,v.total_in>>24&255)):(ne(c,v.adler>>>16),ne(c,65535&v.adler)),Y(v),0<c.wrap&&(c.wrap=-c.wrap),c.pending!==0?w:1)},r.deflateEnd=function(v){var ae;return v&&v.state?(ae=v.state.status)!==P&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==W&&ae!==666?de(v,R):(v.state=null,ae===W?de(v,-3):w):R},r.deflateSetDictionary=function(v,ae){var T,c,u,g,B,J,q,pe,we=ae.length;if(!v||!v.state||(g=(T=v.state).wrap)===2||g===1&&T.status!==P||T.lookahead)return R;for(g===1&&(v.adler=p(v.adler,ae,we,0)),T.wrap=0,we>=T.w_size&&(g===0&&(be(T.head),T.strstart=0,T.block_start=0,T.insert=0),pe=new d.Buf8(T.w_size),d.arraySet(pe,ae,we-T.w_size,T.w_size,0),ae=pe,we=T.w_size),B=v.avail_in,J=v.next_in,q=v.input,v.avail_in=we,v.next_in=0,v.input=ae,Q(T);T.lookahead>=k;){for(c=T.strstart,u=T.lookahead-(k-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[c+k-1])&T.hash_mask,T.prev[c&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=c,c++,--u;);T.strstart=c,T.lookahead=k-1,Q(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=k-1,T.match_available=0,v.next_in=J,v.input=q,v.avail_in=B,T.wrap=g,w},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,r){i.exports=function(o,d){var l,p,A,y,M,N,w,R,b,D,m,x,_,f,O,V,j,X,k,Z,me,P,W,S,te;l=o.state,p=o.next_in,S=o.input,A=p+(o.avail_in-5),y=o.next_out,te=o.output,M=y-(d-o.avail_out),N=y+(o.avail_out-257),w=l.dmax,R=l.wsize,b=l.whave,D=l.wnext,m=l.window,x=l.hold,_=l.bits,f=l.lencode,O=l.distcode,V=(1<<l.lenbits)-1,j=(1<<l.distbits)-1;e:do{_<15&&(x+=S[p++]<<_,_+=8,x+=S[p++]<<_,_+=8),X=f[x&V];t:for(;;){if(x>>>=k=X>>>24,_-=k,(k=X>>>16&255)===0)te[y++]=65535&X;else{if(!(16&k)){if((64&k)==0){X=f[(65535&X)+(x&(1<<k)-1)];continue t}if(32&k){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}Z=65535&X,(k&=15)&&(_<k&&(x+=S[p++]<<_,_+=8),Z+=x&(1<<k)-1,x>>>=k,_-=k),_<15&&(x+=S[p++]<<_,_+=8,x+=S[p++]<<_,_+=8),X=O[x&j];i:for(;;){if(x>>>=k=X>>>24,_-=k,!(16&(k=X>>>16&255))){if((64&k)==0){X=O[(65535&X)+(x&(1<<k)-1)];continue i}o.msg="invalid distance code",l.mode=30;break e}if(me=65535&X,_<(k&=15)&&(x+=S[p++]<<_,(_+=8)<k&&(x+=S[p++]<<_,_+=8)),w<(me+=x&(1<<k)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(x>>>=k,_-=k,(k=y-M)<me){if(b<(k=me-k)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(W=m,(P=0)===D){if(P+=R-k,k<Z){for(Z-=k;te[y++]=m[P++],--k;);P=y-me,W=te}}else if(D<k){if(P+=R+D-k,(k-=D)<Z){for(Z-=k;te[y++]=m[P++],--k;);if(P=0,D<Z){for(Z-=k=D;te[y++]=m[P++],--k;);P=y-me,W=te}}}else if(P+=D-k,k<Z){for(Z-=k;te[y++]=m[P++],--k;);P=y-me,W=te}for(;2<Z;)te[y++]=W[P++],te[y++]=W[P++],te[y++]=W[P++],Z-=3;Z&&(te[y++]=W[P++],1<Z&&(te[y++]=W[P++]))}else{for(P=y-me;te[y++]=te[P++],te[y++]=te[P++],te[y++]=te[P++],2<(Z-=3););Z&&(te[y++]=te[P++],1<Z&&(te[y++]=te[P++]))}break}}break}}while(p<A&&y<N);p-=Z=_>>3,x&=(1<<(_-=Z<<3))-1,o.next_in=p,o.next_out=y,o.avail_in=p<A?A-p+5:5-(p-A),o.avail_out=y<N?N-y+257:257-(y-N),l.hold=x,l.bits=_}},{}],49:[function(t,i,r){var o=t("../utils/common"),d=t("./adler32"),l=t("./crc32"),p=t("./inffast"),A=t("./inftrees"),y=1,M=2,N=0,w=-2,R=1,b=852,D=592;function m(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(P){var W;return P&&P.state?(W=P.state,P.total_in=P.total_out=W.total=0,P.msg="",W.wrap&&(P.adler=1&W.wrap),W.mode=R,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new o.Buf32(b),W.distcode=W.distdyn=new o.Buf32(D),W.sane=1,W.back=-1,N):w}function f(P){var W;return P&&P.state?((W=P.state).wsize=0,W.whave=0,W.wnext=0,_(P)):w}function O(P,W){var S,te;return P&&P.state?(te=P.state,W<0?(S=0,W=-W):(S=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?w:(te.window!==null&&te.wbits!==W&&(te.window=null),te.wrap=S,te.wbits=W,f(P))):w}function V(P,W){var S,te;return P?(te=new x,(P.state=te).window=null,(S=O(P,W))!==N&&(P.state=null),S):w}var j,X,k=!0;function Z(P){if(k){var W;for(j=new o.Buf32(512),X=new o.Buf32(32),W=0;W<144;)P.lens[W++]=8;for(;W<256;)P.lens[W++]=9;for(;W<280;)P.lens[W++]=7;for(;W<288;)P.lens[W++]=8;for(A(y,P.lens,0,288,j,0,P.work,{bits:9}),W=0;W<32;)P.lens[W++]=5;A(M,P.lens,0,32,X,0,P.work,{bits:5}),k=!1}P.lencode=j,P.lenbits=9,P.distcode=X,P.distbits=5}function me(P,W,S,te){var ce,K=P.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new o.Buf8(K.wsize)),te>=K.wsize?(o.arraySet(K.window,W,S-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(te<(ce=K.wsize-K.wnext)&&(ce=te),o.arraySet(K.window,W,S-te,ce,K.wnext),(te-=ce)?(o.arraySet(K.window,W,S-te,te,0),K.wnext=te,K.whave=K.wsize):(K.wnext+=ce,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=ce))),0}r.inflateReset=f,r.inflateReset2=O,r.inflateResetKeep=_,r.inflateInit=function(P){return V(P,15)},r.inflateInit2=V,r.inflate=function(P,W){var S,te,ce,K,de,oe,be,Y,L,ie,ne,he,Q,I,E,$,H,F,U,ue,v,ae,T,c,u=0,g=new o.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return w;(S=P.state).mode===12&&(S.mode=13),de=P.next_out,ce=P.output,be=P.avail_out,K=P.next_in,te=P.input,oe=P.avail_in,Y=S.hold,L=S.bits,ie=oe,ne=be,ae=N;e:for(;;)switch(S.mode){case R:if(S.wrap===0){S.mode=13;break}for(;L<16;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(2&S.wrap&&Y===35615){g[S.check=0]=255&Y,g[1]=Y>>>8&255,S.check=l(S.check,g,2,0),L=Y=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&Y)<<8)+(Y>>8))%31){P.msg="incorrect header check",S.mode=30;break}if((15&Y)!=8){P.msg="unknown compression method",S.mode=30;break}if(L-=4,v=8+(15&(Y>>>=4)),S.wbits===0)S.wbits=v;else if(v>S.wbits){P.msg="invalid window size",S.mode=30;break}S.dmax=1<<v,P.adler=S.check=1,S.mode=512&Y?10:12,L=Y=0;break;case 2:for(;L<16;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(S.flags=Y,(255&S.flags)!=8){P.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){P.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=Y>>8&1),512&S.flags&&(g[0]=255&Y,g[1]=Y>>>8&255,S.check=l(S.check,g,2,0)),L=Y=0,S.mode=3;case 3:for(;L<32;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}S.head&&(S.head.time=Y),512&S.flags&&(g[0]=255&Y,g[1]=Y>>>8&255,g[2]=Y>>>16&255,g[3]=Y>>>24&255,S.check=l(S.check,g,4,0)),L=Y=0,S.mode=4;case 4:for(;L<16;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}S.head&&(S.head.xflags=255&Y,S.head.os=Y>>8),512&S.flags&&(g[0]=255&Y,g[1]=Y>>>8&255,S.check=l(S.check,g,2,0)),L=Y=0,S.mode=5;case 5:if(1024&S.flags){for(;L<16;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}S.length=Y,S.head&&(S.head.extra_len=Y),512&S.flags&&(g[0]=255&Y,g[1]=Y>>>8&255,S.check=l(S.check,g,2,0)),L=Y=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(oe<(he=S.length)&&(he=oe),he&&(S.head&&(v=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),o.arraySet(S.head.extra,te,K,he,v)),512&S.flags&&(S.check=l(S.check,te,he,K)),oe-=he,K+=he,S.length-=he),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(oe===0)break e;for(he=0;v=te[K+he++],S.head&&v&&S.length<65536&&(S.head.name+=String.fromCharCode(v)),v&&he<oe;);if(512&S.flags&&(S.check=l(S.check,te,he,K)),oe-=he,K+=he,v)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(oe===0)break e;for(he=0;v=te[K+he++],S.head&&v&&S.length<65536&&(S.head.comment+=String.fromCharCode(v)),v&&he<oe;);if(512&S.flags&&(S.check=l(S.check,te,he,K)),oe-=he,K+=he,v)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;L<16;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(Y!==(65535&S.check)){P.msg="header crc mismatch",S.mode=30;break}L=Y=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),P.adler=S.check=0,S.mode=12;break;case 10:for(;L<32;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}P.adler=S.check=m(Y),L=Y=0,S.mode=11;case 11:if(S.havedict===0)return P.next_out=de,P.avail_out=be,P.next_in=K,P.avail_in=oe,S.hold=Y,S.bits=L,2;P.adler=S.check=1,S.mode=12;case 12:if(W===5||W===6)break e;case 13:if(S.last){Y>>>=7&L,L-=7&L,S.mode=27;break}for(;L<3;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}switch(S.last=1&Y,L-=1,3&(Y>>>=1)){case 0:S.mode=14;break;case 1:if(Z(S),S.mode=20,W!==6)break;Y>>>=2,L-=2;break e;case 2:S.mode=17;break;case 3:P.msg="invalid block type",S.mode=30}Y>>>=2,L-=2;break;case 14:for(Y>>>=7&L,L-=7&L;L<32;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if((65535&Y)!=(Y>>>16^65535)){P.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&Y,L=Y=0,S.mode=15,W===6)break e;case 15:S.mode=16;case 16:if(he=S.length){if(oe<he&&(he=oe),be<he&&(he=be),he===0)break e;o.arraySet(ce,te,K,he,de),oe-=he,K+=he,be-=he,de+=he,S.length-=he;break}S.mode=12;break;case 17:for(;L<14;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(S.nlen=257+(31&Y),Y>>>=5,L-=5,S.ndist=1+(31&Y),Y>>>=5,L-=5,S.ncode=4+(15&Y),Y>>>=4,L-=4,286<S.nlen||30<S.ndist){P.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;L<3;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}S.lens[B[S.have++]]=7&Y,Y>>>=3,L-=3}for(;S.have<19;)S.lens[B[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,T={bits:S.lenbits},ae=A(0,S.lens,0,19,S.lencode,0,S.work,T),S.lenbits=T.bits,ae){P.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;$=(u=S.lencode[Y&(1<<S.lenbits)-1])>>>16&255,H=65535&u,!((E=u>>>24)<=L);){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(H<16)Y>>>=E,L-=E,S.lens[S.have++]=H;else{if(H===16){for(c=E+2;L<c;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(Y>>>=E,L-=E,S.have===0){P.msg="invalid bit length repeat",S.mode=30;break}v=S.lens[S.have-1],he=3+(3&Y),Y>>>=2,L-=2}else if(H===17){for(c=E+3;L<c;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}L-=E,v=0,he=3+(7&(Y>>>=E)),Y>>>=3,L-=3}else{for(c=E+7;L<c;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}L-=E,v=0,he=11+(127&(Y>>>=E)),Y>>>=7,L-=7}if(S.have+he>S.nlen+S.ndist){P.msg="invalid bit length repeat",S.mode=30;break}for(;he--;)S.lens[S.have++]=v}}if(S.mode===30)break;if(S.lens[256]===0){P.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,T={bits:S.lenbits},ae=A(y,S.lens,0,S.nlen,S.lencode,0,S.work,T),S.lenbits=T.bits,ae){P.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,T={bits:S.distbits},ae=A(M,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,T),S.distbits=T.bits,ae){P.msg="invalid distances set",S.mode=30;break}if(S.mode=20,W===6)break e;case 20:S.mode=21;case 21:if(6<=oe&&258<=be){P.next_out=de,P.avail_out=be,P.next_in=K,P.avail_in=oe,S.hold=Y,S.bits=L,p(P,ne),de=P.next_out,ce=P.output,be=P.avail_out,K=P.next_in,te=P.input,oe=P.avail_in,Y=S.hold,L=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;$=(u=S.lencode[Y&(1<<S.lenbits)-1])>>>16&255,H=65535&u,!((E=u>>>24)<=L);){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if($&&(240&$)==0){for(F=E,U=$,ue=H;$=(u=S.lencode[ue+((Y&(1<<F+U)-1)>>F)])>>>16&255,H=65535&u,!(F+(E=u>>>24)<=L);){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}Y>>>=F,L-=F,S.back+=F}if(Y>>>=E,L-=E,S.back+=E,S.length=H,$===0){S.mode=26;break}if(32&$){S.back=-1,S.mode=12;break}if(64&$){P.msg="invalid literal/length code",S.mode=30;break}S.extra=15&$,S.mode=22;case 22:if(S.extra){for(c=S.extra;L<c;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}S.length+=Y&(1<<S.extra)-1,Y>>>=S.extra,L-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;$=(u=S.distcode[Y&(1<<S.distbits)-1])>>>16&255,H=65535&u,!((E=u>>>24)<=L);){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if((240&$)==0){for(F=E,U=$,ue=H;$=(u=S.distcode[ue+((Y&(1<<F+U)-1)>>F)])>>>16&255,H=65535&u,!(F+(E=u>>>24)<=L);){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}Y>>>=F,L-=F,S.back+=F}if(Y>>>=E,L-=E,S.back+=E,64&$){P.msg="invalid distance code",S.mode=30;break}S.offset=H,S.extra=15&$,S.mode=24;case 24:if(S.extra){for(c=S.extra;L<c;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}S.offset+=Y&(1<<S.extra)-1,Y>>>=S.extra,L-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){P.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(be===0)break e;if(he=ne-be,S.offset>he){if((he=S.offset-he)>S.whave&&S.sane){P.msg="invalid distance too far back",S.mode=30;break}Q=he>S.wnext?(he-=S.wnext,S.wsize-he):S.wnext-he,he>S.length&&(he=S.length),I=S.window}else I=ce,Q=de-S.offset,he=S.length;for(be<he&&(he=be),be-=he,S.length-=he;ce[de++]=I[Q++],--he;);S.length===0&&(S.mode=21);break;case 26:if(be===0)break e;ce[de++]=S.length,be--,S.mode=21;break;case 27:if(S.wrap){for(;L<32;){if(oe===0)break e;oe--,Y|=te[K++]<<L,L+=8}if(ne-=be,P.total_out+=ne,S.total+=ne,ne&&(P.adler=S.check=S.flags?l(S.check,ce,ne,de-ne):d(S.check,ce,ne,de-ne)),ne=be,(S.flags?Y:m(Y))!==S.check){P.msg="incorrect data check",S.mode=30;break}L=Y=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;L<32;){if(oe===0)break e;oe--,Y+=te[K++]<<L,L+=8}if(Y!==(4294967295&S.total)){P.msg="incorrect length check",S.mode=30;break}L=Y=0}S.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return w}return P.next_out=de,P.avail_out=be,P.next_in=K,P.avail_in=oe,S.hold=Y,S.bits=L,(S.wsize||ne!==P.avail_out&&S.mode<30&&(S.mode<27||W!==4))&&me(P,P.output,P.next_out,ne-P.avail_out)?(S.mode=31,-4):(ie-=P.avail_in,ne-=P.avail_out,P.total_in+=ie,P.total_out+=ne,S.total+=ne,S.wrap&&ne&&(P.adler=S.check=S.flags?l(S.check,ce,ne,P.next_out-ne):d(S.check,ce,ne,P.next_out-ne)),P.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(ie==0&&ne===0||W===4)&&ae===N&&(ae=-5),ae)},r.inflateEnd=function(P){if(!P||!P.state)return w;var W=P.state;return W.window&&(W.window=null),P.state=null,N},r.inflateGetHeader=function(P,W){var S;return P&&P.state?(2&(S=P.state).wrap)==0?w:((S.head=W).done=!1,N):w},r.inflateSetDictionary=function(P,W){var S,te=W.length;return P&&P.state?(S=P.state).wrap!==0&&S.mode!==11?w:S.mode===11&&d(1,W,te,0)!==S.check?-3:me(P,W,te,te)?(S.mode=31,-4):(S.havedict=1,N):w},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,r){var o=t("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(y,M,N,w,R,b,D,m){var x,_,f,O,V,j,X,k,Z,me=m.bits,P=0,W=0,S=0,te=0,ce=0,K=0,de=0,oe=0,be=0,Y=0,L=null,ie=0,ne=new o.Buf16(16),he=new o.Buf16(16),Q=null,I=0;for(P=0;P<=15;P++)ne[P]=0;for(W=0;W<w;W++)ne[M[N+W]]++;for(ce=me,te=15;1<=te&&ne[te]===0;te--);if(te<ce&&(ce=te),te===0)return R[b++]=20971520,R[b++]=20971520,m.bits=1,0;for(S=1;S<te&&ne[S]===0;S++);for(ce<S&&(ce=S),P=oe=1;P<=15;P++)if(oe<<=1,(oe-=ne[P])<0)return-1;if(0<oe&&(y===0||te!==1))return-1;for(he[1]=0,P=1;P<15;P++)he[P+1]=he[P]+ne[P];for(W=0;W<w;W++)M[N+W]!==0&&(D[he[M[N+W]]++]=W);if(j=y===0?(L=Q=D,19):y===1?(L=d,ie-=257,Q=l,I-=257,256):(L=p,Q=A,-1),P=S,V=b,de=W=Y=0,f=-1,O=(be=1<<(K=ce))-1,y===1&&852<be||y===2&&592<be)return 1;for(;;){for(X=P-de,Z=D[W]<j?(k=0,D[W]):D[W]>j?(k=Q[I+D[W]],L[ie+D[W]]):(k=96,0),x=1<<P-de,S=_=1<<K;R[V+(Y>>de)+(_-=x)]=X<<24|k<<16|Z|0,_!==0;);for(x=1<<P-1;Y&x;)x>>=1;if(x!==0?(Y&=x-1,Y+=x):Y=0,W++,--ne[P]==0){if(P===te)break;P=M[N+D[W]]}if(ce<P&&(Y&O)!==f){for(de===0&&(de=ce),V+=S,oe=1<<(K=P-de);K+de<te&&!((oe-=ne[K+de])<=0);)K++,oe<<=1;if(be+=1<<K,y===1&&852<be||y===2&&592<be)return 1;R[f=Y&O]=ce<<24|K<<16|V-b|0}}return Y!==0&&(R[V+Y]=P-de<<24|64<<16|0),m.bits=ce,0}},{"../utils/common":41}],51:[function(t,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,r){var o=t("../utils/common"),d=0,l=1;function p(u){for(var g=u.length;0<=--g;)u[g]=0}var A=0,y=29,M=256,N=M+1+y,w=30,R=19,b=2*N+1,D=15,m=16,x=7,_=256,f=16,O=17,V=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(N+2));p(me);var P=new Array(2*w);p(P);var W=new Array(512);p(W);var S=new Array(256);p(S);var te=new Array(y);p(te);var ce,K,de,oe=new Array(w);function be(u,g,B,J,q){this.static_tree=u,this.extra_bits=g,this.extra_base=B,this.elems=J,this.max_length=q,this.has_stree=u&&u.length}function Y(u,g){this.dyn_tree=u,this.max_code=0,this.stat_desc=g}function L(u){return u<256?W[u]:W[256+(u>>>7)]}function ie(u,g){u.pending_buf[u.pending++]=255&g,u.pending_buf[u.pending++]=g>>>8&255}function ne(u,g,B){u.bi_valid>m-B?(u.bi_buf|=g<<u.bi_valid&65535,ie(u,u.bi_buf),u.bi_buf=g>>m-u.bi_valid,u.bi_valid+=B-m):(u.bi_buf|=g<<u.bi_valid&65535,u.bi_valid+=B)}function he(u,g,B){ne(u,B[2*g],B[2*g+1])}function Q(u,g){for(var B=0;B|=1&u,u>>>=1,B<<=1,0<--g;);return B>>>1}function I(u,g,B){var J,q,pe=new Array(D+1),we=0;for(J=1;J<=D;J++)pe[J]=we=we+B[J-1]<<1;for(q=0;q<=g;q++){var ve=u[2*q+1];ve!==0&&(u[2*q]=Q(pe[ve]++,ve))}}function E(u){var g;for(g=0;g<N;g++)u.dyn_ltree[2*g]=0;for(g=0;g<w;g++)u.dyn_dtree[2*g]=0;for(g=0;g<R;g++)u.bl_tree[2*g]=0;u.dyn_ltree[2*_]=1,u.opt_len=u.static_len=0,u.last_lit=u.matches=0}function $(u){8<u.bi_valid?ie(u,u.bi_buf):0<u.bi_valid&&(u.pending_buf[u.pending++]=u.bi_buf),u.bi_buf=0,u.bi_valid=0}function H(u,g,B,J){var q=2*g,pe=2*B;return u[q]<u[pe]||u[q]===u[pe]&&J[g]<=J[B]}function F(u,g,B){for(var J=u.heap[B],q=B<<1;q<=u.heap_len&&(q<u.heap_len&&H(g,u.heap[q+1],u.heap[q],u.depth)&&q++,!H(g,J,u.heap[q],u.depth));)u.heap[B]=u.heap[q],B=q,q<<=1;u.heap[B]=J}function U(u,g,B){var J,q,pe,we,ve=0;if(u.last_lit!==0)for(;J=u.pending_buf[u.d_buf+2*ve]<<8|u.pending_buf[u.d_buf+2*ve+1],q=u.pending_buf[u.l_buf+ve],ve++,J===0?he(u,q,g):(he(u,(pe=S[q])+M+1,g),(we=j[pe])!==0&&ne(u,q-=te[pe],we),he(u,pe=L(--J),B),(we=X[pe])!==0&&ne(u,J-=oe[pe],we)),ve<u.last_lit;);he(u,_,g)}function ue(u,g){var B,J,q,pe=g.dyn_tree,we=g.stat_desc.static_tree,ve=g.stat_desc.has_stree,Ce=g.stat_desc.elems,Ae=-1;for(u.heap_len=0,u.heap_max=b,B=0;B<Ce;B++)pe[2*B]!==0?(u.heap[++u.heap_len]=Ae=B,u.depth[B]=0):pe[2*B+1]=0;for(;u.heap_len<2;)pe[2*(q=u.heap[++u.heap_len]=Ae<2?++Ae:0)]=1,u.depth[q]=0,u.opt_len--,ve&&(u.static_len-=we[2*q+1]);for(g.max_code=Ae,B=u.heap_len>>1;1<=B;B--)F(u,pe,B);for(q=Ce;B=u.heap[1],u.heap[1]=u.heap[u.heap_len--],F(u,pe,1),J=u.heap[1],u.heap[--u.heap_max]=B,u.heap[--u.heap_max]=J,pe[2*q]=pe[2*B]+pe[2*J],u.depth[q]=(u.depth[B]>=u.depth[J]?u.depth[B]:u.depth[J])+1,pe[2*B+1]=pe[2*J+1]=q,u.heap[1]=q++,F(u,pe,1),2<=u.heap_len;);u.heap[--u.heap_max]=u.heap[1],function(Te,it){var ei,Ot,on,He,On,Dr,Wt=it.dyn_tree,jc=it.max_code,qh=it.stat_desc.static_tree,Kh=it.stat_desc.has_stree,$h=it.stat_desc.extra_bits,Hc=it.stat_desc.extra_base,an=it.stat_desc.max_length,Nn=0;for(He=0;He<=D;He++)Te.bl_count[He]=0;for(Wt[2*Te.heap[Te.heap_max]+1]=0,ei=Te.heap_max+1;ei<b;ei++)an<(He=Wt[2*Wt[2*(Ot=Te.heap[ei])+1]+1]+1)&&(He=an,Nn++),Wt[2*Ot+1]=He,jc<Ot||(Te.bl_count[He]++,On=0,Hc<=Ot&&(On=$h[Ot-Hc]),Dr=Wt[2*Ot],Te.opt_len+=Dr*(He+On),Kh&&(Te.static_len+=Dr*(qh[2*Ot+1]+On)));if(Nn!==0){do{for(He=an-1;Te.bl_count[He]===0;)He--;Te.bl_count[He]--,Te.bl_count[He+1]+=2,Te.bl_count[an]--,Nn-=2}while(0<Nn);for(He=an;He!==0;He--)for(Ot=Te.bl_count[He];Ot!==0;)jc<(on=Te.heap[--ei])||(Wt[2*on+1]!==He&&(Te.opt_len+=(He-Wt[2*on+1])*Wt[2*on],Wt[2*on+1]=He),Ot--)}}(u,g),I(pe,Ae,u.bl_count)}function v(u,g,B){var J,q,pe=-1,we=g[1],ve=0,Ce=7,Ae=4;for(we===0&&(Ce=138,Ae=3),g[2*(B+1)+1]=65535,J=0;J<=B;J++)q=we,we=g[2*(J+1)+1],++ve<Ce&&q===we||(ve<Ae?u.bl_tree[2*q]+=ve:q!==0?(q!==pe&&u.bl_tree[2*q]++,u.bl_tree[2*f]++):ve<=10?u.bl_tree[2*O]++:u.bl_tree[2*V]++,pe=q,Ae=(ve=0)===we?(Ce=138,3):q===we?(Ce=6,3):(Ce=7,4))}function ae(u,g,B){var J,q,pe=-1,we=g[1],ve=0,Ce=7,Ae=4;for(we===0&&(Ce=138,Ae=3),J=0;J<=B;J++)if(q=we,we=g[2*(J+1)+1],!(++ve<Ce&&q===we)){if(ve<Ae)for(;he(u,q,u.bl_tree),--ve!=0;);else q!==0?(q!==pe&&(he(u,q,u.bl_tree),ve--),he(u,f,u.bl_tree),ne(u,ve-3,2)):ve<=10?(he(u,O,u.bl_tree),ne(u,ve-3,3)):(he(u,V,u.bl_tree),ne(u,ve-11,7));pe=q,Ae=(ve=0)===we?(Ce=138,3):q===we?(Ce=6,3):(Ce=7,4)}}p(oe);var T=!1;function c(u,g,B,J){ne(u,(A<<1)+(J?1:0),3),function(q,pe,we,ve){$(q),ie(q,we),ie(q,~we),o.arraySet(q.pending_buf,q.window,pe,we,q.pending),q.pending+=we}(u,g,B)}r._tr_init=function(u){T||(function(){var g,B,J,q,pe,we=new Array(D+1);for(q=J=0;q<y-1;q++)for(te[q]=J,g=0;g<1<<j[q];g++)S[J++]=q;for(S[J-1]=q,q=pe=0;q<16;q++)for(oe[q]=pe,g=0;g<1<<X[q];g++)W[pe++]=q;for(pe>>=7;q<w;q++)for(oe[q]=pe<<7,g=0;g<1<<X[q]-7;g++)W[256+pe++]=q;for(B=0;B<=D;B++)we[B]=0;for(g=0;g<=143;)me[2*g+1]=8,g++,we[8]++;for(;g<=255;)me[2*g+1]=9,g++,we[9]++;for(;g<=279;)me[2*g+1]=7,g++,we[7]++;for(;g<=287;)me[2*g+1]=8,g++,we[8]++;for(I(me,N+1,we),g=0;g<w;g++)P[2*g+1]=5,P[2*g]=Q(g,5);ce=new be(me,j,M+1,N,D),K=new be(P,X,0,w,D),de=new be(new Array(0),k,0,R,x)}(),T=!0),u.l_desc=new Y(u.dyn_ltree,ce),u.d_desc=new Y(u.dyn_dtree,K),u.bl_desc=new Y(u.bl_tree,de),u.bi_buf=0,u.bi_valid=0,E(u)},r._tr_stored_block=c,r._tr_flush_block=function(u,g,B,J){var q,pe,we=0;0<u.level?(u.strm.data_type===2&&(u.strm.data_type=function(ve){var Ce,Ae=4093624447;for(Ce=0;Ce<=31;Ce++,Ae>>>=1)if(1&Ae&&ve.dyn_ltree[2*Ce]!==0)return d;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return l;for(Ce=32;Ce<M;Ce++)if(ve.dyn_ltree[2*Ce]!==0)return l;return d}(u)),ue(u,u.l_desc),ue(u,u.d_desc),we=function(ve){var Ce;for(v(ve,ve.dyn_ltree,ve.l_desc.max_code),v(ve,ve.dyn_dtree,ve.d_desc.max_code),ue(ve,ve.bl_desc),Ce=R-1;3<=Ce&&ve.bl_tree[2*Z[Ce]+1]===0;Ce--);return ve.opt_len+=3*(Ce+1)+5+5+4,Ce}(u),q=u.opt_len+3+7>>>3,(pe=u.static_len+3+7>>>3)<=q&&(q=pe)):q=pe=B+5,B+4<=q&&g!==-1?c(u,g,B,J):u.strategy===4||pe===q?(ne(u,2+(J?1:0),3),U(u,me,P)):(ne(u,4+(J?1:0),3),function(ve,Ce,Ae,Te){var it;for(ne(ve,Ce-257,5),ne(ve,Ae-1,5),ne(ve,Te-4,4),it=0;it<Te;it++)ne(ve,ve.bl_tree[2*Z[it]+1],3);ae(ve,ve.dyn_ltree,Ce-1),ae(ve,ve.dyn_dtree,Ae-1)}(u,u.l_desc.max_code+1,u.d_desc.max_code+1,we+1),U(u,u.dyn_ltree,u.dyn_dtree)),E(u),J&&$(u)},r._tr_tally=function(u,g,B){return u.pending_buf[u.d_buf+2*u.last_lit]=g>>>8&255,u.pending_buf[u.d_buf+2*u.last_lit+1]=255&g,u.pending_buf[u.l_buf+u.last_lit]=255&B,u.last_lit++,g===0?u.dyn_ltree[2*B]++:(u.matches++,g--,u.dyn_ltree[2*(S[B]+M+1)]++,u.dyn_dtree[2*L(g)]++),u.last_lit===u.lit_bufsize-1},r._tr_align=function(u){ne(u,2,3),he(u,_,me),function(g){g.bi_valid===16?(ie(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):8<=g.bi_valid&&(g.pending_buf[g.pending++]=255&g.bi_buf,g.bi_buf>>=8,g.bi_valid-=8)}(u)}},{"../utils/common":41}],53:[function(t,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,r){(function(o){(function(d,l){if(!d.setImmediate){var p,A,y,M,N=1,w={},R=!1,b=d.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(d);D=D&&D.setTimeout?D:d,p={}.toString.call(d.process)==="[object process]"?function(f){Oe.nextTick(function(){x(f)})}:function(){if(d.postMessage&&!d.importScripts){var f=!0,O=d.onmessage;return d.onmessage=function(){f=!1},d.postMessage("","*"),d.onmessage=O,f}}()?(M="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",_,!1):d.attachEvent("onmessage",_),function(f){d.postMessage(M+f,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(f){x(f.data)},function(f){y.port2.postMessage(f)}):b&&"onreadystatechange"in b.createElement("script")?(A=b.documentElement,function(f){var O=b.createElement("script");O.onreadystatechange=function(){x(f),O.onreadystatechange=null,A.removeChild(O),O=null},A.appendChild(O)}):function(f){setTimeout(x,0,f)},D.setImmediate=function(f){typeof f!="function"&&(f=new Function(""+f));for(var O=new Array(arguments.length-1),V=0;V<O.length;V++)O[V]=arguments[V+1];var j={callback:f,args:O};return w[N]=j,p(N),N++},D.clearImmediate=m}function m(f){delete w[f]}function x(f){if(R)setTimeout(x,0,f);else{var O=w[f];if(O){R=!0;try{(function(V){var j=V.callback,X=V.args;switch(X.length){case 0:j();break;case 1:j(X[0]);break;case 2:j(X[0],X[1]);break;case 3:j(X[0],X[1],X[2]);break;default:j.apply(l,X)}})(O)}finally{m(f),R=!1}}}}function _(f){f.source===d&&typeof f.data=="string"&&f.data.indexOf(M)===0&&x(+f.data.slice(M.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Ut<"u"?Ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(pa)),pa.exports}var Gm=Vm(),Bm=lh(Gm),mn={exports:{}},ma,oh;function jm(){if(oh)return ma;oh=1;var n={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(i,r){return n[r]}):t}return ma=e,ma}var ah;function Hm(){if(ah)return mn.exports;ah=1;var n=jm(),e=Sc().Stream,t="    ";function i(A,y){typeof y!="object"&&(y={indent:y});var M=y.stream?new e:null,N="",w=!1,R=y.indent?y.indent===!0?t:y.indent:"",b=!0;function D(O){b?Oe.nextTick(O):O()}function m(O,V){if(V!==void 0&&(N+=V),O&&!w&&(M=M||new e,w=!0),O&&w){var j=N;D(function(){M.emit("data",j)}),N=""}}function x(O,V){l(m,d(O,R,R?1:0),V)}function _(){if(M){var O=N;D(function(){M.emit("data",O),M.emit("end"),M.readable=!1,M.emit("close")})}}function f(O){var V=O.encoding||"UTF-8",j={version:"1.0",encoding:V};O.standalone&&(j.standalone=O.standalone),x({"?xml":{_attr:j}}),N=N.replace("/>","?>")}return D(function(){b=!1}),y.declaration&&f(y.declaration),A&&A.forEach?A.forEach(function(O,V){var j;V+1===A.length&&(j=_),x(O,j)}):x(A,_),M?(M.readable=!0,M):N}function r(){var A=Array.prototype.slice.call(arguments),y={_elem:d(A)};return y.push=function(M){if(!this.append)throw new Error("not assigned to a parent!");var N=this,w=this._elem.indent;l(this.append,d(M,w,this._elem.icount+(w?1:0)),function(){N.append(!0)})},y.close=function(M){M!==void 0&&this.push(M),this.end&&this.end()},y}function o(A,y){return new Array(y||0).join(A||"")}function d(A,y,M){M=M||0;var N=o(y,M),w,R=A,b=!1;if(typeof A=="object"){var D=Object.keys(A);if(w=D[0],R=A[w],R&&R._elem)return R._elem.name=w,R._elem.icount=M,R._elem.indent=y,R._elem.indents=N,R._elem.interrupt=R,R._elem}var m=[],x=[],_;function f(O){var V=Object.keys(O);V.forEach(function(j){m.push(p(j,O[j]))})}switch(typeof R){case"object":if(R===null)break;R._attr&&f(R._attr),R._cdata&&x.push(("<![CDATA["+R._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),R.forEach&&(_=!1,x.push(""),R.forEach(function(O){if(typeof O=="object"){var V=Object.keys(O)[0];V=="_attr"?f(O._attr):x.push(d(O,y,M+1))}else x.pop(),_=!0,x.push(n(O))}),_||x.push(""));break;default:x.push(n(R))}return{name:w,interrupt:b,attributes:m,content:x,icount:M,indents:N,indent:y}}function l(A,y,M){if(typeof y!="object")return A(!1,y);var N=y.interrupt?1:y.content.length;function w(){for(;y.content.length;){var b=y.content.shift();if(b!==void 0){if(R(b))return;l(A,b)}}A(!1,(N>1?y.indents:"")+(y.name?"</"+y.name+">":"")+(y.indent&&!M?`
`:"")),M&&M()}function R(b){return b.interrupt?(b.interrupt.append=A,b.interrupt.end=w,b.interrupt=!1,A(!0),!0):!1}if(A(!1,y.indents+(y.name?"<"+y.name:"")+(y.attributes.length?" "+y.attributes.join(" "):"")+(N?y.name?">":"":y.name?"/>":"")+(y.indent&&N>1?`
`:"")),!N)return A(!1,y.indent?`
`:"");R(y)||w()}function p(A,y){return A+'="'+n(y)+'"'}return mn.exports=i,mn.exports.element=mn.exports.Element=r,mn.exports}var Wm=Hm(),We=lh(Wm),fn=0,fa=32,qm=32,Km=(n,e)=>{let t=e.replace(/-/g,"");if(t.length!==qm)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);let r=t.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));r.reverse();let d=n.slice(fn,fa).map((p,A)=>p^r[A%r.length]),l=new Uint8Array(fn+d.length+Math.max(0,n.length-fa));return l.set(n.slice(0,fn)),l.set(d,fn),l.set(n.slice(fa),fn+d.length),l},An=class{format(e,t={stack:[]}){let i=e.prepForXml(t);if(i)return i;throw Error("XMLComponent did not format correctly")}},wr=class{replace(e,t,i){let r=e;return t.forEach((o,d)=>{r=r.replace(new RegExp(`{${o.fileName}}`,"g"),(i+d).toString())}),r}getMediaData(e,t){return t.Array.filter(i=>e.search(`{${i.fileName}}`)>0)}},vc=class{replace(e,t){let i=e;for(let r of t)i=i.replace(new RegExp(`{${r.reference}-${r.instance}}`,"g"),r.numId.toString());return i}},bc=class{constructor(){fe(this,"formatter"),fe(this,"imageReplacer"),fe(this,"numberingReplacer"),this.formatter=new An,this.imageReplacer=new wr,this.numberingReplacer=new vc}compile(e,t,i=[]){let r=new Bm,o=this.xmlifyFile(e,t),d=new Map(Object.entries(o));for(let[,l]of d)if(Array.isArray(l))for(let p of l)r.file(p.path,p.data);else r.file(l.path,l.data);for(let l of i)r.file(l.path,l.data);for(let l of e.Media.Array)l.type!=="svg"?r.file(`word/media/${l.fileName}`,l.data):(r.file(`word/media/${l.fileName}`,l.data),r.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(let{data:l,name:p,fontKey:A}of e.FontTable.fontOptionsWithKey){let[y]=p.split(".");r.file(`word/fonts/${y}.odttf`,Km(l,A))}return r}xmlifyFile(e,t){let i=e.Document.Relationships.RelationshipCount+1,r=We(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(r,e.Media);return{Relationships:{data:(o.forEach((d,l)=>{e.Document.Relationships.createRelationship(i+l,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),We(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{let d=this.imageReplacer.replace(r,o,i);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{let d=We(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:We(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:We(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:We(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,l)=>{let p=We(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,M)=>{d.Relationships.createRelationship(M,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:We(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${l+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,l)=>{let p=We(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,M)=>{d.Relationships.createRelationship(M,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:We(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${l+1}.xml.rels`}}),Headers:e.Headers.map((d,l)=>{let p=We(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),A=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,A,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${l+1}.xml`}}),Footers:e.Footers.map((d,l)=>{let p=We(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),A=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,A,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${l+1}.xml`}}),ContentTypes:{data:We(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:We(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:We(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:We(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:We(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:We(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:We(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:We(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:We(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}},$m={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},sh=n=>n===!0?$m.WITH_2_BLANKS:n===!1?void 0:n,zh=class Ti{static pack(e,t,i){return Ep(this,arguments,function*(r,o,d,l=[]){return this.compiler.compile(r,sh(d),l).generateAsync({type:o,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,i=[]){return Ti.pack(e,"string",t,i)}static toBuffer(e,t,i=[]){return Ti.pack(e,"nodebuffer",t,i)}static toBase64String(e,t,i=[]){return Ti.pack(e,"base64",t,i)}static toBlob(e,t,i=[]){return Ti.pack(e,"blob",t,i)}static toArrayBuffer(e,t,i=[]){return Ti.pack(e,"arraybuffer",t,i)}static toStream(e,t,i=[]){let r=new Um.Stream;return this.compiler.compile(e,sh(t),i).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(d=>{r.emit("data",d),r.emit("end")}),r}};fe(zh,"compiler",new bc);var Dc=zh,q1=new An;var K1=new An;var $1=new wr;var Fc=Zh(Uh());var Hi=class Hi{transform(e,t){if(!t)return e;let i=t.trim().toLowerCase().split(" ").filter(r=>r);return e.filter(r=>i.every(o=>this.normalizarTexto(r.apellidos).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.nombres).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.carnet).toLowerCase().includes(this.normalizarTexto(o))))}normalizarTexto(e){return e==null&&(e=" "),e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}};Hi.\u0275fac=function(t){return new(t||Hi)},Hi.\u0275pipe=Nt({name:"filterapellidosnombrescarnet",type:Hi,pure:!0,standalone:!1});var li=Hi;var Wi=class Wi{transform(e,t){if(!t)return e;let i=t.trim().toLowerCase().split(" ").filter(r=>r);return e.filter(r=>i.every(o=>this.normalizarTexto(r.categoria).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.titulo).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.evaluacion).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.palabra).toLowerCase().includes(this.normalizarTexto(o))))}normalizarTexto(e){return e==null&&(e=" "),e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}};Wi.\u0275fac=function(t){return new(t||Wi)},Wi.\u0275pipe=Nt({name:"filtercategoria",type:Wi,pure:!0,standalone:!1});var qi=Wi;var Ki=class Ki{transform(e,t){return!e||!t||t.length===0?e:e.filter(i=>t.includes(i.categoria))}normalizarTexto(e){return e==null&&(e=" "),e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}};Ki.\u0275fac=function(t){return new(t||Ki)},Ki.\u0275pipe=Nt({name:"filtercategoriapestania",type:Ki,pure:!0,standalone:!1});var xr=Ki;var Ym=n=>({itemsPerPage:10,currentPage:n});function Jm(n,e){n&1&&(a(0,"tr")(1,"td",133)(2,"div",134)(3,"div",135)(4,"span",136),h(5,"Loading..."),s()()()()())}function Qm(n,e){n&1&&(a(0,"tr")(1,"td",133),h(2,"No hay datos disponibles"),s()())}function ef(n,e){if(n&1&&(a(0,"a",146),G(1,"i",147),s()),n&2){let t=re().$implicit,i=re();z("href",i.ruta+t.foto,Ze)}}function tf(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",137),h(2),s(),a(3,"td"),h(4),s(),a(5,"td"),h(6),s(),a(7,"td"),h(8),s(),a(9,"td"),h(10),s(),a(11,"td",138)(12,"button",139),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarClientes(r.id))}),G(13,"i",140),s(),a(14,"button",141),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarClientes(r.id))}),G(15,"i",142),s(),a(16,"button",143),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarClientes(r.id,"InfoClientes",r.apellidos+" "+r.nombres,r.fecha,r.edad,r.frecuencia))}),G(17,"i",144),s(),Ee(18,ef,2,1,"a",145),s()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaClientes-1)*10+(t+1)),C(2),ye(i.apellidos+" "+i.nombres),C(2),ye(i.carnet),C(2),ye(i.celular),C(2),ye(i.estado),C(8),z("ngIf",!(i.foto==null||i.foto==""))}}function nf(n,e){if(n&1){let t=xe();a(0,"div",148)(1,"button",149),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastClientes())}),G(2,"i",150),h(3," AUTO COMPLETAR "),G(4,"span",9)(5,"i",151),s()()}}function rf(n,e){if(n&1){let t=xe();a(0,"button",152),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarClientes())}),G(1,"i",153),h(2),G(3,"span",9),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newClientes.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newClientes.get("id").value?"MODIFICAR":"REGISTRAR")}}function of(n,e){if(n&1){let t=xe();a(0,"button",154),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarClientes())}),G(1,"span",155),s()}n&2&&z("disabled",!0)}function af(n,e){n&1&&(a(0,"div")(1,"div",156)(2,"div",134)(3,"div",135)(4,"span",136),h(5,"Loading..."),s()()()()())}function sf(n,e){n&1&&(a(0,"div")(1,"td",156),h(2,"No hay datos disponibles"),s()())}function lf(n,e){if(n&1){let t=xe();a(0,"div",157)(1,"div",158)(2,"div",159)(3,"div",160)(4,"button",161),G(5,"i",162),s()(),a(6,"div",163)(7,"span"),h(8),Re(9,"dateFormat"),s()(),a(10,"div",160)(11,"button",164),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.generateDocdeemo(r))}),G(12,"i",165),s(),a(13,"button",166),ee("mousedown",function(r){let o=se(t).$implicit,d=re();return le(d.CargarGraficas(o.id,o.fechaadmision,r))}),G(14,"i",167),s(),a(15,"button",168),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarInfoClientes(r.id,"Demucas"))}),G(16,"i",169),s(),a(17,"a",170),ee("click",function(r){let o=se(t).$implicit,d=re();return le(d.onButtonClick(r,o.id))}),G(18,"i",171),s(),a(19,"button",172),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarInfoClientes(r.id))}),G(20,"i",140),s(),a(21,"button",173),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarInfoClientes(r.id))}),G(22,"i",174),s(),a(23,"button",175),G(24,"i",162),s()()(),a(25,"div",176)(26,"ul",177)(27,"li",178)(28,"h5"),h(29,"RESIDENCIA ACTUAL."),s(),a(30,"a",179),h(31),s()(),a(32,"li",178)(33,"h5"),h(34,"DIAGNOSTICO."),s(),a(35,"a",179),h(36),s()(),a(37,"li",178)(38,"h5"),h(39,"TIPO DE TRATAMIENTO."),s(),a(40,"a",179),h(41),s()(),a(42,"li",178)(43,"h5"),h(44,"DURACI\xD3N."),s(),a(45,"a",179),h(46),s()(),a(47,"li",178)(48,"h5"),h(49,"TUTOR."),s(),a(50,"a",179),h(51),s()(),a(52,"li",178)(53,"h5"),h(54,"FRECUENCIA DE LAS SESIONES."),s(),a(55,"a",179),h(56),s()(),a(57,"li",178)(58,"h5"),h(59,"OBJETIVOS GENERALES."),s(),a(60,"a",179),h(61),s()(),a(62,"li",178)(63,"h5"),h(64,"FISICO."),s(),a(65,"a",179),h(66),s()(),a(67,"li",178)(68,"h5"),h(69,"EMOCIONAL."),s(),a(70,"a",179),h(71),s()(),a(72,"li",178)(73,"h5"),h(74,"COGNITIVO."),s(),a(75,"a",179),h(76),s()(),a(77,"li",178)(78,"h5"),h(79,"SOCIAL."),s(),a(80,"a",179),h(81),s()(),a(82,"li",178)(83,"h5"),h(84,"METODOS A USAR."),s(),a(85,"a",179),h(86),s()(),a(87,"li",178)(88,"h5"),h(89,"NOTAS."),s(),a(90,"quill-editor",180),Ue("ngModelChange",function(r){let o=se(t).$implicit;return ze(o.notas,r)||(o.notas=r),le(r)}),s()(),a(91,"li",178)(92,"h5"),h(93,"CUESTIONARIO."),s(),a(94,"quill-editor",180),Ue("ngModelChange",function(r){let o=se(t).$implicit;return ze(o.cuestionario,r)||(o.cuestionario=r),le(r)}),s()()()()()()}if(n&2){let t=e.$implicit,i=e.index,r=re();C(4),Dt("data-bs-target","#collapseCar"+i),C(4),Se("FECHA DE ADMISI\xD3N: ",mt(9,21,t.fechaadmision)),C(9),z("href",r.generateUrl(t.id),Ze),C(6),Dt("data-bs-target","#collapseCar"+i),C(2),z("id","collapseCar"+i),C(6),ye(t.residenciaactual==null?"NINGUNA":t.residenciaactual),C(5),ye(t.diagnostico==null?"NINGUNA":t.diagnostico),C(5),ye(t.tipotratamiento==null?"NINGUNA":t.tipotratamiento),C(5),ye(t.duracion==null?"NINGUNA":t.duracion),C(5),ye(t.tutor==null?"NINGUNA":t.tutor),C(5),ye(t.frecuencia==null?"NINGUNA":t.frecuencia),C(5),ye(t.objgenerales==null?"NINGUNA":t.objgenerales),C(5),ye(t.fisico==null?"NINGUNA":t.fisico),C(5),ye(t.emocional==null?"NINGUNA":t.emocional),C(5),ye(t.cognitivo==null?"NINGUNA":t.cognitivo),C(5),ye(t.social==null?"NINGUNA":t.social),C(5),ye(t.metodosausar==null?"NINGUNA":t.metodosausar),C(4),z("modules",r._tools.modulesQuillShow),Fe("ngModel",t.notas),C(4),z("modules",r._tools.modulesQuillShow),Fe("ngModel",t.cuestionario)}}function cf(n,e){if(n&1){let t=xe();a(0,"div",148)(1,"button",149),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastInfoClientes())}),G(2,"i",150),h(3," AUTO COMPLETAR "),G(4,"span",9)(5,"i",151),s()()}}function uf(n,e){if(n&1){let t=xe();a(0,"button",152),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarInfoClientes())}),G(1,"i",153),h(2),G(3,"span",9),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newInfoClientes.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newInfoClientes.get("id").value?"MODIFICAR":"REGISTRAR")}}function df(n,e){if(n&1){let t=xe();a(0,"button",154),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarInfoClientes())}),G(1,"span",155),s()}n&2&&z("disabled",!0)}function hf(n,e){if(n&1){let t=xe();a(0,"li",178)(1,"a",181),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.toggleCategoria(r.categoria))}),h(2),s()()}if(n&2){let t=e.$implicit,i=re();C(),kt("active",i.categoriasSeleccionadas.includes(t.categoria)),C(),Se(" ",t.categoria," ")}}function pf(n,e){n&1&&(a(0,"tr")(1,"td",133)(2,"div",134)(3,"div",135)(4,"span",136),h(5,"Loading..."),s()()()()())}function mf(n,e){n&1&&(a(0,"tr")(1,"td",133),h(2,"No hay datos disponibles"),s()())}function ff(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",137),h(2),s(),a(3,"td",156),h(4),a(5,"div",182)(6,"small",183),h(7),s()()(),a(8,"td",156),h(9),s(),a(10,"td",156),h(11),G(12,"br"),a(13,"div",184)(14,"label",185),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.ModificarEscalaDemucas(r.id,"NADA"))}),a(15,"input",186),Ue("ngModelChange",function(r){let o=se(t).$implicit;return ze(o.escala,r)||(o.escala=r),le(r)}),s(),h(16," N "),s(),a(17,"label",185),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.ModificarEscalaDemucas(r.id,"POCO"))}),a(18,"input",187),Ue("ngModelChange",function(r){let o=se(t).$implicit;return ze(o.escala,r)||(o.escala=r),le(r)}),s(),h(19," P "),s(),a(20,"label",185),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.ModificarEscalaDemucas(r.id,"MUCHO"))}),a(21,"input",188),Ue("ngModelChange",function(r){let o=se(t).$implicit;return ze(o.escala,r)||(o.escala=r),le(r)}),s(),h(22," M "),s()()(),a(23,"td",156),h(24),Re(25,"dateFormat"),s(),a(26,"td",138)(27,"button",139),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarDemucas(r.id))}),G(28,"i",140),s(),a(29,"button",141),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarDemucas(r.id))}),G(30,"i",142),s()()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaDemucas-1)*15+(t+1)),C(2),Se("",i.evaluacion," "),C(3),Se("Cat: ",i.categoria),C(2),lu("",i.rango,": ",i.palabra," ",i.multiplicar==null||i.multiplicar==null||i.multiplicar==""||i.multiplicar=="1"?"":"(x"+i.multiplicar+")"," "),C(2),Se(" ",i.escala," "),C(3),kt("active",i.escala==="NADA"),C(),z("id",Ne("nada-",t))("name",Ne("escala-",t)),Fe("ngModel",i.escala),C(2),kt("active",i.escala==="POCO"),C(),z("id",Ne("poco-",t))("name",Ne("escala-",t)),Fe("ngModel",i.escala),C(2),kt("active",i.escala==="MUCHO"),C(),z("id",Ne("mucho-",t))("name",Ne("escala-",t)),Fe("ngModel",i.escala),C(3),ye(mt(25,29,i.fecha))}}function gf(n,e){if(n&1&&(a(0,"option",189),h(1),s()),n&2){let t=e.$implicit;z("value",t.categoria),C(),ye(t.categoria)}}function vf(n,e){if(n&1&&(a(0,"option",189),h(1),s()),n&2){let t=e.$implicit;z("value",t.nombrematriz),C(),Je("Rango: ",t.valor," - ",t.nombrematriz)}}function bf(n,e){if(n&1){let t=xe();a(0,"div",148)(1,"button",149),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastDemucas())}),G(2,"i",150),h(3," AUTO COMPLETAR "),G(4,"span",9)(5,"i",151),s()()}}function _f(n,e){if(n&1){let t=xe();a(0,"button",152),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarDemucas())}),G(1,"i",153),h(2),G(3,"span",9),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newDemucas.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newDemucas.get("id").value?"MODIFICAR":"REGISTRAR")}}function wf(n,e){if(n&1){let t=xe();a(0,"button",154),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarDemucas())}),G(1,"span",155),s()}n&2&&z("disabled",!0)}function Ef(n,e){if(n&1&&(a(0,"option",189),h(1),s()),n&2){let t=e.$implicit;z("value",t.categoria),C(),ye(t.categoria)}}function yf(n,e){n&1&&(a(0,"tr")(1,"td",190),h(2,"No hay datos disponibles"),s()())}function Cf(n,e){if(n&1&&(a(0,"tr")(1,"td"),h(2),s(),a(3,"td"),h(4),s()()),n&2){let t=e.$implicit;C(2),ye(t.categoria),C(2),Je("",t.valor,": ",t.nombrematriz)}}function xf(n,e){if(n&1){let t=xe();a(0,"button",152),ee("click",function(){se(t);let r=re();return le(r.AgregarGrupoDemucas())}),G(1,"i",153),h(2),G(3,"span",9),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newDemucas.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newDemucas.get("id").value?"MODIFICAR":"REGISTRAR")}}function Sf(n,e){if(n&1){let t=xe();a(0,"button",154),ee("click",function(){se(t);let r=re();return le(r.AgregarGrupoDemucas())}),G(1,"span",155),s()}n&2&&z("disabled",!0)}function Af(n,e){n&1&&(a(0,"tr")(1,"td",190),h(2,"No hay datos disponibles"),s()())}function If(n,e){if(n&1&&(a(0,"tr")(1,"td"),h(2),s(),a(3,"td"),h(4),s()()),n&2){let t=e.$implicit;C(2),ye(t.rango),C(2),ye(t.palabra)}}var $i=class $i{constructor(e,t,i,r,o,d,l,p){this.router=e;this._cli=t;this._tools=i;this._infocli=r;this._demucas=o;this._matrizescalas=d;this.http=l;this._pagos=p;this.ruta=ft.ruta;this.Pagos=[];this.primeraSesion="";this.ultimaSesion="";this.dataERICIMAPUNTES=[];this.categoriasSeleccionadas=[];this.MatrizEscalas=[];this.MatrizDiferentes=[];this.MatrizDiferentesRespaldo=[];this.MatrizCategorias=[];this.MatrizPalabras=[];this.DemucasDelete=[];this.dataDropZone={iddropzone:"dropzoneclientes",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.uploadProgress=null;this.Clientes=[];this.paginaClientes=1;this.isLoadingClientes=!0;this.AnimacionCargabtnModalClientes=!1;this.filtertxtClientes="";this.idClientesSave=0;this.NameClientesSave="";this.fechaadmisionClientesSave="";this.EdadClientesSave="";this.frecuenciaClientesSave="";this.InfoClientes=[];this.paginaInfoClientes=1;this.isLoadingInfoClientes=!0;this.AnimacionCargabtnModalInfoClientes=!1;this.filtertxtInfoClientes="";this.idInfoClientesSave=0;this.Demucas=[];this.DemucasRespaldo=[];this.paginaDemucas=1;this.isLoadingDemucas=!0;this.AnimacionCargabtnModalDemucas=!1;this.filtertxtDemucas="";this.filterDemucas="";this.newClientes=this._cli.createFormGroupClientes(),this.newClientesAnteriorAccion=this._cli.createFormGroupClientes(),this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientesAnteriorAccion=this._infocli.createFormGroupInfoClientes(),this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucasAnteriorAccion=this._demucas.createFormGroupDemucas(),this.chartOptions={series:[{name:"Ventas",data:[30,40,35,50,49,60,70,91,125]}],chart:{height:350,type:"line"},title:{text:"Ventas Mensuales"},xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep"]}}}ngOnInit(){this.CargarMatrizEscalas(),this.CargarClientes()}ngOnDestroy(){this._tools.cerrarModales()}generateDoc(){let e=new Sn({sections:[{properties:{},children:[new Le({children:[new tt("Hola, este es un documento generado con docx."),new tt({text:"Fecha: "+new Date().toLocaleDateString(),bold:!0})]})]}]});Dc.toBlob(e).then(t=>{(0,Fc.saveAs)(t,"documento_generado.docx")})}generateDocdeemo(e){this._pagos.SeleccionarAllInformacionPagoIDinfoCliente(e.id).subscribe(t=>{console.log("Pagos CARGADO",t.data),this.Pagos=t.data;let o=[...this.Pagos.reduce((Z,me)=>Z.concat(me.ciclos),[]).map(Z=>{if(Z.eri){let me=this.MatrizEscalas.find(P=>P.nombrematriz.trim()===Z.eri.trim()&&P.categoria.includes("ERI"))}if(Z.cim){let me=this.MatrizEscalas.find(P=>P.nombrematriz.trim()===Z.cim.trim()&&P.categoria.includes("CIM"))}return kr({},Z)})].sort((Z,me)=>Number(Z.nrociclo)-Number(me.nrociclo)||Number(Z.sesion)-Number(me.sesion));this.dataERICIMAPUNTES=o,console.log(this.dataERICIMAPUNTES);let d=this.dataERICIMAPUNTES.sort((Z,me)=>Z.nrociclo!==me.nrociclo?Z.nrociclo-me.nrociclo:parseInt(Z.sesion)-parseInt(me.sesion)),l=[];d.forEach(Z=>{let me=`No. Ciclo ${Z.nrociclo} - Sesi\xF3n ${Z.sesion} - realizado el d\xEDa: ${this._tools.formatoFechaEspanol(Z.fecha)}`;if(l.push(me),Z.apuntes){let W=new DOMParser().parseFromString(Z.apuntes,"text/html"),S=Array.from(W.body.children).map(te=>te.textContent.replace(/&nbsp;/g," ").trim()).filter(te=>te!=="");l.push(...S)}(!Z.apuntes||Z.apuntes.trim()==="")&&l.push("(Sin apuntes registrados)")});let p=null,A=null;this.Pagos.forEach(Z=>{Z.ciclos.forEach(me=>{me.estadosesion==="REALIZADO"&&me.fecha&&((!p||me.fecha<p)&&(p=me.fecha),(!A||me.fecha>A)&&(A=me.fecha))})}),this.primeraSesion=p?this._tools.formatoFechaEspanol(p):"No hay sesiones realizadas",this.ultimaSesion=A?this._tools.formatoFechaEspanol(A):"No hay sesiones realizadas",console.log("Primera sesi\xF3n realizada:",this.primeraSesion),console.log("\xDAltima sesi\xF3n realizada:",this.ultimaSesion);let y=this.NameClientesSave,M=this.EdadClientesSave,N=e.diagnostico||"No especificado",w=this._tools.formatoFechaEspanol(e.fechaadmision)||"No especificada",R=this.primeraSesion||"No especificada",b=e.frecuencia||"No especificada",D=this.ultimaSesion||"No especificada",x=new DOMParser().parseFromString(e.notas,"text/html"),_=Array.from(x.body.children).map(Z=>Z.textContent?.replace(/&nbsp;/g," ").trim()||"").filter(Z=>Z!==""),f=["Comunicaci\xF3n: "+e.objgenerales,"Interacci\xF3n social: "+e.social,"Regulaci\xF3n sensorial: "+e.emocional,"Desarrollo motor: "+e.fisico,"Desarrollo cognitivo: "+e.cognitivo],O=[{ambito:"Comportamientos Restrictivos",porcentaje:"0%",observaciones:"TEXTO"},{ambito:"Interacci\xF3n Social",porcentaje:"0%",observaciones:"TEXTO"},{ambito:"Exploraci\xF3n R\xEDtmica",porcentaje:"0%",observaciones:"TEXTO"},{ambito:"Exploraci\xF3n Sonora",porcentaje:"0%",observaciones:"TEXTO"},{ambito:"Exploraci\xF3n Vocal",porcentaje:"0%",observaciones:"TEXTO"},{ambito:"Movimiento Corporal",porcentaje:"0%",observaciones:"TEXTO"}],V=["Energ\xEDa y expresi\xF3n: TEXTO","Inter\xE9s por la improvisaci\xF3n: TEXTO","Dificultades en la atenci\xF3n sostenida: TEXTO","Potencial comunicativo: TEXTO"],j="TEXTO",X=["Actividades sensoriales: TEXTO","Improvisaci\xF3n musical: TEXTO","Actividades r\xEDtmicas: TEXTO","Canciones y juegos vocales: TEXTO","Interacci\xF3n social: TEXTO","Reforzamiento positivo: TEXTO"],k=new Sn({sections:[{properties:{},children:[new Le({text:"Informe en Musicoterapia",heading:Ht.HEADING_1}),new Le({text:"Datos del Usuario:",heading:Ht.HEADING_2}),new Le({children:[new tt(`- Nombre: ${y}`),new tt({text:`- Edad: ${M}`,break:1}),new tt({text:`- Diagn\xF3stico: ${N}`,break:1}),new tt({text:`- Fecha de admisi\xF3n: ${w}`,break:1}),new tt({text:`- Inicio de la terapia: ${R}`,break:1}),new tt({text:`- Frecuencia de sesiones: ${b}`,break:1}),new tt({text:`- \xDAltima sesi\xF3n: ${D}`,break:1})]}),new Le({text:"Antecedentes:",heading:Ht.HEADING_2}),..._.map(Z=>new Le({children:[new tt(Z)],spacing:{after:100}})),new Le({text:"Apuntes de sesiones:",heading:Ht.HEADING_2}),...l.map(Z=>new Le({children:[new tt({text:Z,bold:Z.startsWith("N\xBA Ciclo")})],spacing:{after:Z.startsWith("N\xBA Ciclo")?150:100}})),new Le({text:"Objetivos de la Intervenci\xF3n:",heading:Ht.HEADING_2}),...f.map(Z=>new Le(Z)),new Le({text:"Evaluaci\xF3n a trav\xE9s de la Escala DEMUCA:",heading:Ht.HEADING_2}),new pr({rows:[new Cn({children:[new Rt({children:[new Le("\xC1mbito")]}),new Rt({children:[new Le("Porcentaje")]}),new Rt({children:[new Le("Observaciones")]})]}),...O.map(Z=>new Cn({children:[new Rt({children:[new Le(Z.ambito)]}),new Rt({children:[new Le(Z.porcentaje)]}),new Rt({children:[new Le(Z.observaciones)]})]}))]}),new Le({text:"Observaciones Iniciales en Terapia:",heading:Ht.HEADING_2}),...V.map(Z=>new Le(Z)),new Le({text:"Conclusiones:",heading:Ht.HEADING_2}),new Le(j),new Le({text:"Recomendaciones:",heading:Ht.HEADING_2}),...X.map(Z=>new Le(Z))]}]});Dc.toBlob(k).then(Z=>{(0,Fc.saveAs)(Z,"Informe_"+this.NameClientesSave+".docx")}).catch(Z=>{console.error("Error al generar el documento:",Z)})},t=>{console.log("ERROR AL CARGAR Pagos",t)})}CargarGraficas(e,t,i){this._demucas.SeleccionarAllInformacionDemucas(e).subscribe(r=>{switch(console.log("Demucas para GRAFICOS CARGADO",r.data),this.Demucas=r.data,sessionStorage.setItem("idDemucas",e),sessionStorage.setItem("Nombre",this.NameClientesSave),sessionStorage.setItem("FechaAdmision",t),(i.button===2||i.button===1)&&i.preventDefault(),i.button){case 0:console.log("Clic izquierdo"),this.router.navigate(["/me/graficas"]);break;case 1:console.log("Clic de la rueda"),window.open("/me/graficas","_blank");break;case 2:console.log("Clic derecho");break;default:console.log("Otro tipo de clic")}},r=>{console.log("ERROR AL CARGAR Demucas",r)})}toggleCategoria(e){this.categoriasSeleccionadas.includes(e)?this.categoriasSeleccionadas=this.categoriasSeleccionadas.filter(t=>t!==e):this.categoriasSeleccionadas=[...this.categoriasSeleccionadas,e],console.log("Categor\xEDas seleccionadas:",this.categoriasSeleccionadas)}CalcularEdad(e){var t=this._tools.calcularEdadyMeses(e);this.newClientes.patchValue({edad:t})}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(e=>{this.MatrizEscalas=e.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizDiferentes=e.data.filter(t=>!["ESCALA DE RELACIONES INTERMUSICALES (ERI)","CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)","MOMENTO","OBJETIVOS","RECURSOS MUSICALES","ENFASIS MUSICAL","ENFOQUE","ETAPA MLT"].includes(t.categoria)),this.MatrizDiferentesRespaldo=this.MatrizDiferentes,this.MatrizCategorias=this.MatrizDiferentes.reduce((t,i)=>(t.some(r=>r.categoria===i.categoria)||t.push({categoria:i.categoria}),t),[]),this.MatrizDiferentes.sort((t,i)=>t.categoria<i.categoria?-1:t.categoria>i.categoria?1:t.valor<i.valor?-1:t.valor>i.valor?1:0),console.log("Matrizdiferentes",this.MatrizDiferentes)},e=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",e)})}onCategoriaChange(e){e=="TODOS"?this.MatrizDiferentes=[...this.MatrizDiferentesRespaldo]:e?this.MatrizDiferentes=this.MatrizDiferentesRespaldo.filter(t=>t.categoria===e):this.MatrizDiferentes=[...this.MatrizDiferentesRespaldo],this.MatrizPalabras=[],console.log("MatrizDiferentes filtrado",this.MatrizDiferentes)}onEvaluacionChange(e){e?this.DemucasDelete=this.DemucasRespaldo.filter(t=>t.evaluacion===e):this.DemucasDelete=[...this.DemucasRespaldo],console.log("Demucas filtrado",this.Demucas)}crearDropzone(){sessionStorage.setItem("CategoriaFile","CLIENTE");var e=document.getElementById("dropzoneclientes");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),e&&Ct.instances.length>0&&Ct.instances.forEach(t=>{t.element===e&&(t.destroy(),e.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}onFileSelected(e){let t=e.target.files[0];if(!window.FileReader){alert("El navegador no soporta la lectura de archivos");return}if(/\.(jpg|png|jpeg)$/i.test(t.name)){let i="";t.size>1e7?(this._tools.MostrarMensaje("warning","\xA1TAMA\xD1O EXCEDIDO!. EL TAMA\xD1O DEL ARCHIVO NO PUEDE EXCEDER LOS 10MB"),e.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath})):this.uploadFile(t)}else{this._tools.MostrarMensaje("error","FORMATO INVALIDO!.");let i="";e.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});return}}uploadFile(e){let t=new FormData;t.append("file",e),t.append("type","CLIENTE"),this.http.post(this.ruta+"api/uploadFile",t,{reportProgress:!0,observe:"events"}).subscribe(i=>{i.type===qr.UploadProgress?i.total&&(this.uploadProgress=Math.round(100*i.loaded/i.total)):i.type===qr.Response&&(console.log("File uploaded successfully",i),this.uploadProgress=100,this.previousFilePath=i.body,this.newClientes.value.foto=this.previousFilePath.filePath)},i=>{console.error("File upload failed",i),this.uploadProgress=null})}generateUrl(e){let t={id:e,NomC:this.NameClientesSave,FechAdmision:this.fechaadmisionClientesSave};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:t}))}onButtonClick(e,t){if(!(e.ctrlKey||e.button===1)){e.preventDefault();let i={id:t,NomC:this.NameClientesSave,FechAdmision:this.fechaadmisionClientesSave};this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:i})}this._tools.cerrarModal("ModalGestionInfoCliente")}CargarClientes(){this.AnimarCargaTablaClientes(),this._cli.ObtenerClientes().subscribe(e=>{console.log("Clientes CARGADO",e.data),this.Clientes=e.data,this.isLoadingClientes=!1},e=>{console.log("ERROR AL CARGAR Clientes",e),this.isLoadingClientes=!1})}AgregarModificarClientes(){if(this.newClientes.invalid){this.ValidacionTodoElementoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalClientes=!1;return}else{this.AnimarCargaTablaClientes(),this.AnimacionCargabtnModalClientes=!0,this._tools.MostrarMensajeLoading();let t=this.newClientes.controls.id.value;console.log("INFO A PROCESAR",this.newClientes.value);var e=sessionStorage.getItem("IMG");console.log("VALOR img",e),e==null||e==""||(this.newClientes.value.foto=e),t?(console.log("DATA NUEVO",this.newClientes.value),console.log("DATA ANTERIOR",this.newClientesAnteriorAccion.value),this._cli.ModificarClientes(this.newClientes.value,this.newClientes.value.id).subscribe(i=>{console.log("SE MODIFICO CORRECTAMENTE Clientes",i.data),this.CargarClientes(),this.newClientesAnteriorAccion.value.foto==this.newClientes.value.foto||this._tools.EliminarArchivo(this.newClientesAnteriorAccion.value.foto),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL MODIFICAR Clientes",i),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()})):(this.newClientesAnteriorAccion.setValue(this.newClientes.value),this._cli.AgregarClientes(this.newClientes.value).subscribe(i=>{console.log("SE A\xD1ADIO CORRECTAMENTE Clientes",i.data),this.CargarClientes(),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL A\xD1ADIR Clientes",i),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarClientes(e,t,i,r,o,d){if(this._tools.MostrarMensajeLoading(),e)switch(t){case"InfoClientes":this.idClientesSave=e,this.NameClientesSave=i,this.fechaadmisionClientesSave=r,this.EdadClientesSave=o,this.frecuenciaClientesSave=d,this.CargarInfoClientes(),this._tools.abrirModal("ModalGestionInfoCliente"),this._tools.MostrarMensajeSuccess();break;default:this._cli.SeleccionarClientes(e).subscribe(l=>{Object.keys(this.newClientes.controls).forEach(p=>{this.newClientes.controls[p].setValue(l.data[p])}),l.data.foto?this.selectedFileUrl=this.ruta+l.data.foto:this.selectedFileUrl=null,console.log("SELECCION DE Clientes EXITOSA",this.newClientes.value),this.newClientesAnteriorAccion.setValue(this.newClientes.value),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes"),this._tools.MostrarMensajeSuccess()},l=>{console.log("ERROR AL SELECCIONAR Clientes",l),this._tools.MostrarMensajeError()});break}}EliminarClientes(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._cli.EliminarClientes(e).subscribe(i=>{console.log(i.data),this.CargarClientes(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR Clientes",i),this._tools.MostrarMensajeError()}))})}resetClientes(){this.selectedFileUrl="",this.newClientes.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionClientes")}AbrirModalClientes(){this.newClientes.reset(),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes")}AutoCompletarLastClientes(){this.newClientes.setValue(this.newClientesAnteriorAccion.value),this.newClientes.patchValue({id:0}),console.log("listo",this.newClientes.value)}AnimarCargaTablaClientes(){this.Clientes=[],this.isLoadingClientes=!0}ValidacionClientesxElemento(e){return this._tools.obtenerValidationClass(this.newClientes,e)}ValidacionTodoElementoClientes(){Object.values(this.newClientes.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}CargarInfoClientes(){this.AnimarCargaTablaInfoClientes(),this._infocli.SeleccionarAllInformacionCliente(this.idClientesSave).subscribe(e=>{console.log("InfoClientes CARGADO",e.data),this.InfoClientes=e.data,this.isLoadingInfoClientes=!1},e=>{console.log("ERROR AL CARGAR InfoClientes",e),this.isLoadingInfoClientes=!1})}AgregarModificarInfoClientes(){if(this.newInfoClientes.invalid){this.ValidacionTodoElementoInfoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInfoClientes=!1;return}else{this.AnimarCargaTablaInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!0,this._tools.MostrarMensajeLoading();let e=this.newInfoClientes.controls.id.value;console.log("INFO A PROCESAR",this.newInfoClientes.value),e?this._infocli.ModificarInfoClientes(this.newInfoClientes.value,this.newInfoClientes.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE InfoClientes",t.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR InfoClientes",t),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}):(this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._infocli.AgregarInfoClientes(this.newInfoClientes.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE InfoClientes",t.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR InfoClientes",t),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInfoClientes(e,t){switch(t){case"Demucas":this.idInfoClientesSave=e,this.CargarDemucas(),this._tools.abrirModal("modalGDemucas"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),e&&this._infocli.SeleccionarInfoClientes(e).subscribe(i=>{Object.keys(this.newInfoClientes.controls).forEach(r=>{this.newInfoClientes.controls[r].setValue(i.data[r])}),console.log("SELECCION DE InfoClientes EXITOSA",this.newInfoClientes.value),this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._tools.abrirModal("modalgestionInfoClientes"),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL SELECCIONAR InfoClientes",i),this._tools.MostrarMensajeError()});break}}EliminarInfoClientes(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._infocli.EliminarInfoClientes(e).subscribe(i=>{console.log(i.data),this.CargarInfoClientes(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR InfoClientes",i),this._tools.MostrarMensajeError()}))})}resetInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this._tools.cerrarModal("modalgestionInfoClientes")}AbrirModalInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientes.patchValue({id_cliente:this.idClientesSave}),this._tools.abrirModal("modalgestionInfoClientes")}AutoCompletarLastInfoClientes(){this.newInfoClientes.setValue(this.newInfoClientesAnteriorAccion.value),this.newInfoClientes.patchValue({id:0}),console.log("listo",this.newInfoClientes.value)}AnimarCargaTablaInfoClientes(){this.InfoClientes=[],this.isLoadingInfoClientes=!0}ValidacionInfoClientesxElemento(e){return this._tools.obtenerValidationClass(this.newInfoClientes,e)}ValidacionTodoElementoInfoClientes(){Object.values(this.newInfoClientes.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}CargarDemucas(){this.AnimarCargaTablaDemucas(),this._demucas.SeleccionarAllInformacionDemucas(this.idInfoClientesSave).subscribe(e=>{console.log("Demucas CARGADO",e.data),this.Demucas=e.data,this.DemucasRespaldo=e.data,this.isLoadingDemucas=!1},e=>{console.log("ERROR AL CARGAR Demucas",e),this.isLoadingDemucas=!1})}AgregarModificarDemucas(){if(this.newDemucas.invalid){this.ValidacionTodoElementoDemucas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalDemucas=!1;return}else{this.AnimarCargaTablaDemucas(),this.AnimacionCargabtnModalDemucas=!0,this._tools.MostrarMensajeLoading();let e=this.newDemucas.controls.id.value;console.log("INFO A PROCESAR",this.newDemucas.value),e?this._demucas.ModificarDemucas(this.newDemucas.value,this.newDemucas.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Demucas",t.data),this.CargarDemucas(),this.resetDemucas(),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Demucas",t),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeError()}):(this.newDemucasAnteriorAccion.setValue(this.newDemucas.value),this._demucas.AgregarDemucas(this.newDemucas.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Demucas",t.data),this.CargarDemucas(),this.resetDemucas(),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Demucas",t),this.AnimacionCargabtnModalDemucas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarDemucas(e){if(this._tools.MostrarMensajeLoading(),e){if(!this.Demucas.find(i=>i.id===e))return;this._demucas.SeleccionarDemucas(e).subscribe(i=>{Object.keys(this.newDemucas.controls).forEach(r=>{this.newDemucas.controls[r].setValue(i.data[r])}),console.log("SELECCION DE Demucas EXITOSA",this.newDemucas.value),this.newDemucasAnteriorAccion.setValue(this.newDemucas.value),this._tools.abrirModal("modalgestionDemucas"),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL SELECCIONAR Demucas",i),this._tools.MostrarMensajeError()})}}EliminarDemucas(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._demucas.EliminarDemucas(e).subscribe(i=>{console.log(i.data),this.CargarDemucas(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR Demucas",i),this._tools.MostrarMensajeError()}))})}resetDemucas(){this.newDemucas=this._demucas.createFormGroupDemucas(),this._tools.cerrarModal("modalgestionDemucas")}AbrirModalDemucas(){this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucas.patchValue({id_infocliente:this.idInfoClientesSave}),this._tools.abrirModal("modalgestionDemucas")}AbrirModalDemucasModos(e){switch(e){case"AddGrupoDemucas":this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucas.patchValue({id_infocliente:this.idInfoClientesSave}),this._tools.abrirModal("modalgrupoaddgestionDemucas"),this.onCategoriaChange("asdasd123123123123");break;case"DeleteGrupoDemucas":this._tools.abrirModal("modalgrupodeletegestionDemucas"),this.onEvaluacionChange("asdasd123123123123");break;default:this.newDemucas=this._demucas.createFormGroupDemucas(),this.newDemucas.patchValue({id_infocliente:this.idInfoClientesSave}),this._tools.abrirModal("modalgrupoaddgestionDemucas");break}}CerraModalDemucasModos(e){switch(e){case"AddGrupoDemucas":this._tools.cerrarModal("modalgrupoaddgestionDemucas");break;case"DeleteGrupoDemucas":this._tools.cerrarModal("modalgrupodeletegestionDemucas");break;default:break}}AutoCompletarLastDemucas(){this.newDemucas.setValue(this.newDemucasAnteriorAccion.value),this.newDemucas.patchValue({id:0}),console.log("listo",this.newDemucas.value)}AnimarCargaTablaDemucas(){this.Demucas=[],this.isLoadingDemucas=!0}ValidacionDemucasxElemento(e){return this._tools.obtenerValidationClass(this.newDemucas,e)}ValidacionTodoElementoDemucas(){Object.values(this.newDemucas.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}AgregarGrupoDemucas(){if(this.newDemucas.invalid){this.ValidacionTodoElementoDemucas(),this._tools.MostrarMensajeFrmIncompleto();return}let e=this.newDemucas.value,t=this.MatrizDiferentes.map(i=>({id_infocliente:e.id_infocliente,categoria:i.categoria,evaluacion:e.evaluacion,escala:"SIN ESCALA",fecha:e.fecha,palabra:i.nombrematriz,multiplicar:i.multiplicar==null||i.multiplicar==null||i.multiplicar==""?1:i.multiplicar,rango:i.valor}));this._demucas.AgregarGrupoDemucas(t).subscribe(i=>{console.log("Grupo Demucas a\xF1adido correctamente",i.data),this.CargarDemucas(),this.resetDemucas(),this.CerraModalDemucasModos("AddGrupoDemucas"),this._tools.MostrarMensajeSuccess()},i=>{console.log("Error al a\xF1adir Grupo Demucas",i),this._tools.MostrarMensajeError()})}EliminarGrupoDemucas(){if(this.DemucasDelete.length===0){this._tools.MostrarMensaje("warning","Seleccione al menos un elemento para eliminar.");return}let e=this.DemucasDelete.map(t=>t.id);this._demucas.EliminarGrupoDemucas(e).subscribe(t=>{console.log("Grupo Demucas eliminado correctamente",t.data),this.CargarDemucas(),this.CerraModalDemucasModos("DeleteGrupoDemucas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("Error al eliminar Grupo Demucas",t),this._tools.MostrarMensajeError()})}ModificarEscalaDemucas(e,t){this._demucas.ModificarEscalaDemucas(e,t).subscribe(i=>{console.log("Escala Demucas modificada correctamente",i.data),this._tools.MostrarMensajeSuccess()},i=>{console.log("Error al modificar Escala Demucas",i),this.CargarDemucas(),this._tools.MostrarMensajeError()})}};$i.\u0275fac=function(t){return new(t||$i)(Me(yi),Me(wu),Me(Qe),Me(Ci),Me(Eu),Me(ii),Me(ti),Me(jn))},$i.\u0275cmp=Ke({type:$i,selectors:[["app-clientes"]],standalone:!1,decls:668,vars:92,consts:[["fechnacvalor",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechnac",1,"form-control",3,"ngModelChange","ngClass"],["type","text","placeholder","","formControlName","edad",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["formControlName","estado",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneclientes",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalGestionInfoCliente","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-7","d-flex","justify-content-start"],["title","Admitir Cliente",1,"btn","mouse-dir","primary",3,"click"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionInfoClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","residenciaactual",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","diagnostico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","tipotratamiento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","duracion",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechaadmision",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","tutor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","frecuencia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","objgenerales",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fisico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","emocional",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cognitivo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","social",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","metodosausar",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","notas",1,"quill-container-wrapper",3,"modules"],["formControlName","cuestionario",1,"quill-container-wrapper",3,"modules"],["id","modalGDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-6","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","success",3,"click"],[1,"bi","bi-plus-circle",2,"font-size","1rem"],["title","A\xF1adir",1,"btn","mouse-dir","danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1rem"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],["value","PRIMERA EVALUACI\xD3N"],["value","SEGUNDA EVALUACI\xD3N"],["value","TERCERA EVALUACI\xD3N"],["value","CUARTA EVALUACI\xD3N"],["value","QUINTA EVALUACI\xD3N"],["value","SEXTA EVALUACI\xD3N"],["value","S\xC9PTIMA EVALUACI\xD3N"],["value","OCTAVA EVALUACI\xD3N"],["value","NOVENA EVALUACI\xD3N"],["value","D\xC9CIMA EVALUACI\xD3N"],["value","UND\xC9CIMA EVALUACI\xD3N"],["value","DUOD\xC9CIMA EVALUACI\xD3N"],["value","DECIMOTERCERA EVALUACI\xD3N"],["value","DECIMOCUARTA EVALUACI\xD3N"],["value","DECIMOQUINTA EVALUACI\xD3N"],["value","DECIMOSEXTA EVALUACI\xD3N"],["value","DECIMOS\xC9PTIMA EVALUACI\xD3N"],["value","DECIMOCTAVA EVALUACI\xD3N"],["value","DECIMONOVENA EVALUACI\xD3N"],["value","VIG\xC9SIMA EVALUACI\xD3N"],[1,"nav","nav-tabs","mb-3"],["class","nav-item",4,"ngFor","ngForOf"],["id","modalgestionDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["formControlName","evaluacion",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","rango",1,"form-control",3,"ngClass"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","palabra",1,"form-control",3,"ngClass"],["formControlName","escala",1,"form-control",3,"ngClass"],["value","NADA"],["value","POCO"],["value","MUCHO"],["type","number","placeholder","","formControlName","multiplicar",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["id","modalgrupoaddgestionDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["value","TODOS"],["id","modalgrupodeletegestionDemucas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"form-control",3,"change"],[1,"btn","mouse-dir","danger",3,"click"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Mostrar m\xE1s Informaci\xF3n",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-info",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-center"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],["type","button","title","GENERAR REPORTE",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-download",2,"font-size","1.5rem"],["type","button","title","ABRIR GRAFICAS (ctrl+click)",1,"btn","btn-secondary",3,"mousedown"],[1,"bi","bi-bar-chart",2,"font-size","1.5rem"],["type","button","title","ABRIR DEMUCAS",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-file-ruled",2,"font-size","1.5rem"],["title","ABRIR PLANES DE INTERVENCIONES",1,"btn","btn-primary",3,"click","href"],[1,"bi","bi-file-earmark-text",2,"font-size","1.5rem"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"text-center","text-light","bg-primary"],[1,""],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-outline-primary",3,"click"],["type","radio","value","NADA",3,"ngModelChange","id","name","ngModel"],["type","radio","value","POCO",3,"ngModelChange","id","name","ngModel"],["type","radio","value","MUCHO",3,"ngModelChange","id","name","ngModel"],[3,"value"],["colspan","2",1,"text-center"]],template:function(t,i){if(t&1){let r=xe();G(0,"hr"),a(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),h(5,"Gesti\xF3n de Clientes"),s(),a(6,"p",5),h(7,"Administra toda la informaci\xF3n de los Clientes de manera sencilla y eficiente"),s()()()(),a(8,"div",2)(9,"div",6)(10,"button",7),ee("click",function(){return se(r),le(i.AbrirModalClientes())}),G(11,"i",8),h(12," A\xF1adir Clientes"),G(13,"span",9),s()(),a(14,"div",10)(15,"div",11)(16,"span",12),G(17,"i",13),s(),a(18,"div",14)(19,"input",15),ee("input",function(){return se(r),le(i.paginaClientes=1)}),Ue("ngModelChange",function(d){return se(r),ze(i.filtertxtClientes,d)||(i.filtertxtClientes=d),le(d)}),s(),a(20,"label"),h(21,"Buscar"),s()()()()(),G(22,"hr"),a(23,"div",16)(24,"table",17)(25,"thead")(26,"tr")(27,"th",18),h(28,"#"),s(),a(29,"th",19),h(30,"Nombre Completo"),s(),a(31,"th",19),h(32,"Carnet"),s(),a(33,"th",19),h(34,"Celular"),s(),a(35,"th",19),h(36,"Estado"),s(),a(37,"th",19),h(38,"ACCIONES"),s()()(),a(39,"tbody",20),Ee(40,Jm,6,0,"tr",21)(41,Qm,3,0,"tr",21)(42,tf,19,6,"tr",22),Re(43,"filterapellidosnombrescarnet"),Re(44,"paginate"),s()(),a(45,"pagination-controls",23),ee("pageChange",function(d){return se(r),le(i.paginaClientes=d)}),s()(),G(46,"hr"),a(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"div",28)(52,"h1",29),h(53),s(),a(54,"button",30),ee("click",function(){return se(r),le(i.resetClientes())})("click",function(){return se(r),le(i.CancelarArchivosDropzone())}),s()()(),a(55,"div",31)(56,"div",32)(57,"div",33)(58,"input",34),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newClientes,"apellidos"))}),s(),a(59,"label"),h(60,"apellidos"),s(),a(61,"div",35),h(62,"Este campo es obligatorio*"),s()(),a(63,"div",33)(64,"input",36),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newClientes,"nombres"))}),s(),a(65,"label"),h(66,"nombres"),s(),a(67,"div",35),h(68,"Este campo es obligatorio*"),s()(),a(69,"div",33)(70,"input",37),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newClientes,"carnet"))}),s(),a(71,"label"),h(72,"carnet"),s(),a(73,"div",35),h(74,"Este campo es obligatorio*"),s()(),a(75,"div",33),G(76,"input",38),a(77,"label"),h(78,"celular"),s(),a(79,"div",35),h(80,"Este campo es obligatorio*"),s()(),a(81,"div",33)(82,"input",39,0),ee("ngModelChange",function(){return se(r),le(i.CalcularEdad(i.newClientes.get("fechnac").value))}),s(),a(84,"label"),h(85,"fecha de nacimiento"),s(),a(86,"div",35),h(87,"Este campo es obligatorio*"),s()(),a(88,"div",33),G(89,"input",40),a(90,"label"),h(91,"edad"),s(),a(92,"div",35),h(93,"Este campo es obligatorio*"),s()(),a(94,"div",33)(95,"input",41),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newClientes,"usuario"))}),s(),a(96,"label"),h(97,"usuario"),s(),a(98,"div",35),h(99,"Este campo es obligatorio*"),s()(),a(100,"div",33),G(101,"input",42),a(102,"label"),h(103,"contrase\xF1a"),s(),a(104,"div",35),h(105,"Este campo es obligatorio*"),s()(),a(106,"div",33)(107,"select",43)(108,"option",44),h(109,"Seleccione una opci\xF3n"),s(),a(110,"option",45),h(111,"ACTIVO"),s(),a(112,"option",46),h(113,"INACTIVO"),s()(),a(114,"label"),h(115,"estado"),s(),a(116,"div",35),h(117,"Este campo es obligatorio*"),s()(),a(118,"div",47)(119,"label",48),h(120,"Foto"),s(),G(121,"div",49)(122,"hr"),a(123,"span"),h(124,"IMAGEN ACTUAL:"),s(),G(125,"img",50),s()()(),a(126,"div",51),Ee(127,nf,6,0,"div",52),a(128,"div",53)(129,"div",54)(130,"button",55),ee("click",function(){return se(r),le(i.resetClientes())})("click",function(){return se(r),le(i.CancelarArchivosDropzone())}),G(131,"i",56),h(132," CANCELAR"),G(133,"span",9),s()(),a(134,"div",57),Ee(135,rf,4,4,"button",58)(136,of,2,1,"button",59),s()()()()()(),a(137,"div",60)(138,"div",25)(139,"div",26)(140,"div",27)(141,"h5",61),h(142,"Gestion de Informaci\xF3n de Clientes "),s(),G(143,"button",62),s(),a(144,"div",31),G(145,"hr"),a(146,"div",1)(147,"div",2),G(148,"div",3),s()(),a(149,"div",2)(150,"div",63)(151,"button",64),ee("click",function(){return se(r),le(i.AbrirModalInfoClientes())}),G(152,"i",8),h(153," A\xF1adir Informaci\xF3n del Cliente para la Admisi\xF3n"),G(154,"span",9),s()(),a(155,"div",10)(156,"div",11)(157,"span",12),G(158,"i",13),s(),a(159,"div",14)(160,"input",15),ee("input",function(){return se(r),le(i.paginaInfoClientes=1)}),Ue("ngModelChange",function(d){return se(r),ze(i.filtertxtInfoClientes,d)||(i.filtertxtInfoClientes=d),le(d)}),s(),a(161,"label"),h(162,"Buscar"),s()()()()(),G(163,"hr"),Ee(164,af,6,0,"div",21)(165,sf,3,0,"div",21),a(166,"div",2),Ee(167,lf,95,23,"div",65),s(),G(168,"hr"),a(169,"div",66)(170,"div",25)(171,"div",26)(172,"div",27)(173,"div",28)(174,"h1",29),h(175),s(),a(176,"button",30),ee("click",function(){return se(r),le(i.resetInfoClientes())}),s()()(),a(177,"div",31)(178,"div",32)(179,"div",33)(180,"input",67),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"residenciaactual"))}),s(),a(181,"label"),h(182,"residencia actual"),s(),a(183,"div",35),h(184,"Este campo es obligatorio*"),s()(),a(185,"div",33)(186,"input",68),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"diagnostico"))}),s(),a(187,"label"),h(188,"diagnostico"),s(),a(189,"div",35),h(190,"Este campo es obligatorio*"),s()(),a(191,"div",33)(192,"input",69),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"tipotratamiento"))}),s(),a(193,"label"),h(194,"tipo de tratamiento"),s(),a(195,"div",35),h(196,"Este campo es obligatorio*"),s()(),a(197,"div",33),G(198,"input",70),a(199,"label"),h(200,"duraci\xF3n"),s(),a(201,"div",35),h(202,"Este campo es obligatorio*"),s()(),a(203,"div",33),G(204,"input",71),a(205,"label"),h(206,"fecha de admisi\xF3n"),s(),a(207,"div",35),h(208,"Este campo es obligatorio*"),s()(),a(209,"div",33)(210,"input",72),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"tutor"))}),s(),a(211,"label"),h(212,"tutor"),s(),a(213,"div",35),h(214,"Este campo es obligatorio*"),s()(),a(215,"div",33)(216,"input",73),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"frecuencia"))}),s(),a(217,"label"),h(218,"frecuencia de las sesiones"),s(),a(219,"div",35),h(220,"Este campo es obligatorio*"),s()(),a(221,"div",33)(222,"input",74),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"objgenerales"))}),s(),a(223,"label"),h(224,"objetivos generales"),s(),a(225,"div",35),h(226,"Este campo es obligatorio*"),s()(),a(227,"div",33)(228,"input",75),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"fisico"))}),s(),a(229,"label"),h(230,"fisico"),s(),a(231,"div",35),h(232,"Este campo es obligatorio*"),s()(),a(233,"div",33)(234,"input",76),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"emocional"))}),s(),a(235,"label"),h(236,"emocional"),s(),a(237,"div",35),h(238,"Este campo es obligatorio*"),s()(),a(239,"div",33)(240,"input",77),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"cognitivo"))}),s(),a(241,"label"),h(242,"cognitivo"),s(),a(243,"div",35),h(244,"Este campo es obligatorio*"),s()(),a(245,"div",33)(246,"input",78),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"social"))}),s(),a(247,"label"),h(248,"social"),s(),a(249,"div",35),h(250,"Este campo es obligatorio*"),s()(),a(251,"div",33)(252,"input",79),ee("change",function(d){return se(r),le(i._tools.EscribirEnMayuscula(d,i.newInfoClientes,"metodosausar"))}),s(),a(253,"label"),h(254,"metodos a usar"),s(),a(255,"div",35),h(256,"Este campo es obligatorio*"),s()(),a(257,"label"),h(258,"notas"),s(),a(259,"div",33),G(260,"quill-editor",80),s(),G(261,"hr"),a(262,"label"),h(263,"cuestionario"),s(),a(264,"div",33),G(265,"quill-editor",81),s()()(),a(266,"div",51),Ee(267,cf,6,0,"div",52),a(268,"div",53)(269,"div",54)(270,"button",55),ee("click",function(){return se(r),le(i.resetInfoClientes())}),G(271,"i",56),h(272," CANCELAR"),G(273,"span",9),s()(),a(274,"div",57),Ee(275,uf,4,4,"button",58)(276,df,2,1,"button",59),s()()()()()()()()()(),a(277,"div",82)(278,"div",25)(279,"div",26)(280,"div",27)(281,"h5",61),h(282,"Gestion de Evaluaci\xF3n DEMUCAS "),s(),G(283,"button",62),s(),a(284,"div",31),G(285,"hr"),a(286,"div",83)(287,"div",84)(288,"button",7),ee("click",function(){return se(r),le(i.AbrirModalDemucas())}),G(289,"i",8),h(290," A\xF1adir Demuca"),G(291,"span",9),s(),a(292,"button",85),ee("click",function(){return se(r),le(i.AbrirModalDemucasModos("AddGrupoDemucas"))}),G(293,"i",86),h(294," Grupo Demucas"),G(295,"span",9),s(),a(296,"button",87),ee("click",function(){return se(r),le(i.AbrirModalDemucasModos("DeleteGrupoDemucas"))}),G(297,"i",88),h(298," Grupo Demucas"),G(299,"span",9),s()(),a(300,"div",89)(301,"div",90)(302,"select",91),ee("input",function(){return se(r),le(i.paginaDemucas=1)}),Ue("ngModelChange",function(d){return se(r),ze(i.filterDemucas,d)||(i.filterDemucas=d),le(d)}),a(303,"option",92),h(304,"Seleccione una opci\xF3n"),s(),a(305,"option",93),h(306,"TODA LA INFORMACI\xD3N"),s(),a(307,"option",94),h(308,"PRIMERA EVALUACI\xD3N"),s(),a(309,"option",95),h(310,"SEGUNDA EVALUACI\xD3N"),s(),a(311,"option",96),h(312,"TERCERA EVALUACI\xD3N"),s(),a(313,"option",97),h(314,"CUARTA EVALUACI\xD3N"),s(),a(315,"option",98),h(316,"QUINTA EVALUACI\xD3N"),s(),a(317,"option",99),h(318,"SEXTA EVALUACI\xD3N"),s(),a(319,"option",100),h(320,"S\xC9PTIMA EVALUACI\xD3N"),s(),a(321,"option",101),h(322,"OCTAVA EVALUACI\xD3N"),s(),a(323,"option",102),h(324,"NOVENA EVALUACI\xD3N"),s(),a(325,"option",103),h(326,"D\xC9CIMA EVALUACI\xD3N"),s(),a(327,"option",104),h(328,"UND\xC9CIMA EVALUACI\xD3N"),s(),a(329,"option",105),h(330,"DUOD\xC9CIMA EVALUACI\xD3N"),s(),a(331,"option",106),h(332,"DECIMOTERCERA EVALUACI\xD3N"),s(),a(333,"option",107),h(334,"DECIMOCUARTA EVALUACI\xD3N"),s(),a(335,"option",108),h(336,"DECIMOQUINTA EVALUACI\xD3N"),s(),a(337,"option",109),h(338,"DECIMOSEXTA EVALUACI\xD3N"),s(),a(339,"option",110),h(340,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),s(),a(341,"option",111),h(342,"DECIMOCTAVA EVALUACI\xD3N"),s(),a(343,"option",112),h(344,"DECIMONOVENA EVALUACI\xD3N"),s(),a(345,"option",113),h(346,"VIG\xC9SIMA EVALUACI\xD3N"),s()(),a(347,"label"),h(348,"Filtrar"),s()()(),a(349,"div",10)(350,"div",11)(351,"span",12),G(352,"i",13),s(),a(353,"div",14)(354,"input",15),ee("input",function(){return se(r),le(i.paginaDemucas=1)}),Ue("ngModelChange",function(d){return se(r),ze(i.filtertxtDemucas,d)||(i.filtertxtDemucas=d),le(d)}),s(),a(355,"label"),h(356,"Buscar"),s()()()()(),G(357,"hr"),a(358,"ul",114),Ee(359,hf,3,3,"li",115),s(),a(360,"div",16)(361,"table",17)(362,"thead")(363,"tr")(364,"th",18),h(365,"#"),s(),a(366,"th",19),h(367,"Evaluaci\xF3n/Categoria"),s(),a(368,"th",19),h(369,"N\xBA Orden:Palabra"),s(),a(370,"th",19),h(371,"Escala"),s(),a(372,"th",19),h(373,"Fecha Ev."),s(),a(374,"th",19),h(375,"ACCIONES"),s()()(),a(376,"tbody",20),Ee(377,pf,6,0,"tr",21)(378,mf,3,0,"tr",21)(379,ff,31,31,"tr",22),Re(380,"filtercategoriapestania"),Re(381,"filtercategoria"),Re(382,"filtercategoria"),s()()(),G(383,"hr"),a(384,"div",116)(385,"div",25)(386,"div",26)(387,"div",27)(388,"div",28)(389,"h1",29),h(390),s(),a(391,"button",30),ee("click",function(){return se(r),le(i.resetDemucas())}),s()()(),a(392,"div",31)(393,"div",32)(394,"div",33)(395,"select",117)(396,"option",44),h(397,"Seleccione una opci\xF3n"),s(),a(398,"option",94),h(399,"PRIMERA EVALUACI\xD3N"),s(),a(400,"option",95),h(401,"SEGUNDA EVALUACI\xD3N"),s(),a(402,"option",96),h(403,"TERCERA EVALUACI\xD3N"),s(),a(404,"option",97),h(405,"CUARTA EVALUACI\xD3N"),s(),a(406,"option",98),h(407,"QUINTA EVALUACI\xD3N"),s(),a(408,"option",99),h(409,"SEXTA EVALUACI\xD3N"),s(),a(410,"option",100),h(411,"S\xC9PTIMA EVALUACI\xD3N"),s(),a(412,"option",101),h(413,"OCTAVA EVALUACI\xD3N"),s(),a(414,"option",102),h(415,"NOVENA EVALUACI\xD3N"),s(),a(416,"option",103),h(417,"D\xC9CIMA EVALUACI\xD3N"),s(),a(418,"option",104),h(419,"UND\xC9CIMA EVALUACI\xD3N"),s(),a(420,"option",105),h(421,"DUOD\xC9CIMA EVALUACI\xD3N"),s(),a(422,"option",106),h(423,"DECIMOTERCERA EVALUACI\xD3N"),s(),a(424,"option",107),h(425,"DECIMOCUARTA EVALUACI\xD3N"),s(),a(426,"option",108),h(427,"DECIMOQUINTA EVALUACI\xD3N"),s(),a(428,"option",109),h(429,"DECIMOSEXTA EVALUACI\xD3N"),s(),a(430,"option",110),h(431,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),s(),a(432,"option",111),h(433,"DECIMOCTAVA EVALUACI\xD3N"),s(),a(434,"option",112),h(435,"DECIMONOVENA EVALUACI\xD3N"),s(),a(436,"option",113),h(437,"VIG\xC9SIMA EVALUACI\xD3N"),s()(),a(438,"label"),h(439,"evaluacion"),s(),a(440,"div",35),h(441,"Este campo es obligatorio*"),s()(),a(442,"div",33),G(443,"input",118),a(444,"label"),h(445,"rango"),s(),a(446,"div",35),h(447,"Este campo es obligatorio*"),s()(),a(448,"div",33)(449,"select",119),ee("change",function(d){return se(r),le(i.onCategoriaChange(d.target.value))}),a(450,"option",44),h(451,"Seleccione una opci\xF3n"),s(),a(452,"option",93),h(453,"TODAS LAS CATEGORIAS"),s(),Ee(454,gf,2,2,"option",120),s(),a(455,"label"),h(456,"categoria"),s()(),a(457,"div",33)(458,"select",121)(459,"option",44),h(460,"Seleccione una opci\xF3n"),s(),Ee(461,vf,2,3,"option",120),s(),a(462,"label"),h(463,"palabra"),s(),a(464,"div",35),h(465,"Este campo es obligatorio*"),s()(),a(466,"div",33)(467,"select",122)(468,"option",44),h(469,"Seleccione una opci\xF3n"),s(),a(470,"option",123),h(471,"NADA"),s(),a(472,"option",124),h(473,"POCO"),s(),a(474,"option",125),h(475,"MUCHO"),s()(),a(476,"label"),h(477,"escala"),s(),a(478,"div",35),h(479,"Este campo es obligatorio*"),s()(),a(480,"div",33),G(481,"input",126),a(482,"label"),h(483,"multiplicar"),s(),a(484,"div",35),h(485,"Este campo es obligatorio*"),s()(),a(486,"div",33),G(487,"input",127),a(488,"label"),h(489,"fecha"),s(),a(490,"div",35),h(491,"Este campo es obligatorio*"),s()()()(),a(492,"div",51),Ee(493,bf,6,0,"div",52),a(494,"div",53)(495,"div",54)(496,"button",55),ee("click",function(){return se(r),le(i.resetDemucas())}),G(497,"i",56),h(498," CANCELAR"),G(499,"span",9),s()(),a(500,"div",57),Ee(501,_f,4,4,"button",58)(502,wf,2,1,"button",59),s()()()()()(),a(503,"div",128)(504,"div",25)(505,"div",26)(506,"div",27)(507,"div",28)(508,"h1",29),h(509),s(),a(510,"button",30),ee("click",function(){return se(r),le(i.CerraModalDemucasModos("AddGrupoDemucas"))}),s()()(),a(511,"div",31)(512,"div",32)(513,"div",33)(514,"select",117)(515,"option",44),h(516,"Seleccione una opci\xF3n"),s(),a(517,"option",94),h(518,"PRIMERA EVALUACI\xD3N"),s(),a(519,"option",95),h(520,"SEGUNDA EVALUACI\xD3N"),s(),a(521,"option",96),h(522,"TERCERA EVALUACI\xD3N"),s(),a(523,"option",97),h(524,"CUARTA EVALUACI\xD3N"),s(),a(525,"option",98),h(526,"QUINTA EVALUACI\xD3N"),s(),a(527,"option",99),h(528,"SEXTA EVALUACI\xD3N"),s(),a(529,"option",100),h(530,"S\xC9PTIMA EVALUACI\xD3N"),s(),a(531,"option",101),h(532,"OCTAVA EVALUACI\xD3N"),s(),a(533,"option",102),h(534,"NOVENA EVALUACI\xD3N"),s(),a(535,"option",103),h(536,"D\xC9CIMA EVALUACI\xD3N"),s(),a(537,"option",104),h(538,"UND\xC9CIMA EVALUACI\xD3N"),s(),a(539,"option",105),h(540,"DUOD\xC9CIMA EVALUACI\xD3N"),s(),a(541,"option",106),h(542,"DECIMOTERCERA EVALUACI\xD3N"),s(),a(543,"option",107),h(544,"DECIMOCUARTA EVALUACI\xD3N"),s(),a(545,"option",108),h(546,"DECIMOQUINTA EVALUACI\xD3N"),s(),a(547,"option",109),h(548,"DECIMOSEXTA EVALUACI\xD3N"),s(),a(549,"option",110),h(550,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),s(),a(551,"option",111),h(552,"DECIMOCTAVA EVALUACI\xD3N"),s(),a(553,"option",112),h(554,"DECIMONOVENA EVALUACI\xD3N"),s(),a(555,"option",113),h(556,"VIG\xC9SIMA EVALUACI\xD3N"),s()(),a(557,"label"),h(558,"evaluacion"),s(),a(559,"div",35),h(560,"Este campo es obligatorio*"),s()(),a(561,"div",33)(562,"select",119),ee("change",function(d){return se(r),le(i.onCategoriaChange(d.target.value))}),a(563,"option",44),h(564,"Seleccione una opci\xF3n"),s(),a(565,"option",129),h(566,"TODAS LAS CATEGORIAS"),s(),Ee(567,Ef,2,2,"option",120),s(),a(568,"label"),h(569,"categoria"),s()(),a(570,"div",16)(571,"table",17)(572,"thead")(573,"tr")(574,"th",19),h(575,"Categoria"),s(),a(576,"th",19),h(577,"Palabra"),s()()(),a(578,"tbody",20),Ee(579,yf,3,0,"tr",21)(580,Cf,5,3,"tr",22),s()()(),a(581,"div",33),G(582,"input",127),a(583,"label"),h(584,"fecha"),s(),a(585,"div",35),h(586,"Este campo es obligatorio*"),s()()()(),a(587,"div",51)(588,"div",53)(589,"div",57),Ee(590,xf,4,4,"button",58)(591,Sf,2,1,"button",59),s()()()()()(),a(592,"div",130)(593,"div",25)(594,"div",26)(595,"div",27)(596,"div",28)(597,"h1",29),h(598,"Eliminar Grupo de Demucas"),s(),a(599,"button",30),ee("click",function(){return se(r),le(i.CerraModalDemucasModos("DeleteGrupoDemucas"))}),s()()(),a(600,"div",31)(601,"div")(602,"div",33)(603,"select",131),ee("change",function(d){return se(r),le(i.onEvaluacionChange(d.target.value))}),a(604,"option",44),h(605,"Seleccione una opci\xF3n"),s(),a(606,"option",94),h(607,"PRIMERA EVALUACI\xD3N"),s(),a(608,"option",95),h(609,"SEGUNDA EVALUACI\xD3N"),s(),a(610,"option",96),h(611,"TERCERA EVALUACI\xD3N"),s(),a(612,"option",97),h(613,"CUARTA EVALUACI\xD3N"),s(),a(614,"option",98),h(615,"QUINTA EVALUACI\xD3N"),s(),a(616,"option",99),h(617,"SEXTA EVALUACI\xD3N"),s(),a(618,"option",100),h(619,"S\xC9PTIMA EVALUACI\xD3N"),s(),a(620,"option",101),h(621,"OCTAVA EVALUACI\xD3N"),s(),a(622,"option",102),h(623,"NOVENA EVALUACI\xD3N"),s(),a(624,"option",103),h(625,"D\xC9CIMA EVALUACI\xD3N"),s(),a(626,"option",104),h(627,"UND\xC9CIMA EVALUACI\xD3N"),s(),a(628,"option",105),h(629,"DUOD\xC9CIMA EVALUACI\xD3N"),s(),a(630,"option",106),h(631,"DECIMOTERCERA EVALUACI\xD3N"),s(),a(632,"option",107),h(633,"DECIMOCUARTA EVALUACI\xD3N"),s(),a(634,"option",108),h(635,"DECIMOQUINTA EVALUACI\xD3N"),s(),a(636,"option",109),h(637,"DECIMOSEXTA EVALUACI\xD3N"),s(),a(638,"option",110),h(639,"DECIMOS\xC9PTIMA EVALUACI\xD3N"),s(),a(640,"option",111),h(641,"DECIMOCTAVA EVALUACI\xD3N"),s(),a(642,"option",112),h(643,"DECIMONOVENA EVALUACI\xD3N"),s(),a(644,"option",113),h(645,"VIG\xC9SIMA EVALUACI\xD3N"),s()(),a(646,"label"),h(647,"evaluacion"),s(),a(648,"div",35),h(649,"Este campo es obligatorio*"),s()(),a(650,"div",16)(651,"table",17)(652,"thead")(653,"tr")(654,"th",19),h(655,"Rango"),s(),a(656,"th",19),h(657,"Palabra"),s()()(),a(658,"tbody",20),Ee(659,Af,3,0,"tr",21)(660,If,5,2,"tr",22),s()()()()(),a(661,"div",51)(662,"div",53)(663,"div",57)(664,"button",132),ee("click",function(){return se(r),le(i.EliminarGrupoDemucas())}),G(665,"i",88),h(666," ELIMINAR GRUPO"),G(667,"span",9),s()()()()()()()()()()()}t&2&&(C(19),Fe("ngModel",i.filtertxtClientes),C(21),z("ngIf",i.isLoadingClientes),C(),z("ngIf",!i.isLoadingClientes&&i.Clientes.length===0),C(),z("ngForOf",ke(44,78,ke(43,75,i.Clientes,i.filtertxtClientes),Xe(90,Ym,i.paginaClientes))),C(11),Se("",i.newClientes.get("id").value?"Modificar":"Registrar"," Clientes"),C(3),z("formGroup",i.newClientes),C(2),z("ngClass",i.ValidacionClientesxElemento("apellidos")),C(6),z("ngClass",i.ValidacionClientesxElemento("nombres")),C(6),z("ngClass",i.ValidacionClientesxElemento("carnet")),C(6),z("ngClass",i.ValidacionClientesxElemento("celular")),C(6),z("ngClass",i.ValidacionClientesxElemento("fechnac")),C(7),z("ngClass",i.ValidacionClientesxElemento("edad")),C(6),z("ngClass",i.ValidacionClientesxElemento("usuario")),C(6),z("ngClass",i.ValidacionClientesxElemento("contrasenia")),C(6),z("ngClass",i.ValidacionClientesxElemento("estado")),C(18),z("src",i.ruta+i.newClientes.value.foto,Ze),C(2),z("ngIf",!i.newClientes.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalClientes),C(),z("ngIf",i.AnimacionCargabtnModalClientes),C(24),Fe("ngModel",i.filtertxtInfoClientes),C(4),z("ngIf",i.isLoadingInfoClientes),C(),z("ngIf",!i.isLoadingInfoClientes&&i.InfoClientes.length===0),C(2),z("ngForOf",i.InfoClientes),C(8),Se("",i.newInfoClientes.get("id").value?"Modificar":"Registrar"," Informaci\xF3n de admisi\xF3n Clientes"),C(3),z("formGroup",i.newInfoClientes),C(2),z("ngClass",i.ValidacionInfoClientesxElemento("residenciaactual")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("diagnostico")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("tipotratamiento")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("duracion")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("fechaadmision")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("tutor")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("frecuencia")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("objgenerales")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("fisico")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("emocional")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("cognitivo")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("social")),C(6),z("ngClass",i.ValidacionInfoClientesxElemento("metodosausar")),C(8),z("modules",i._tools.modulesQuillEdicion),C(5),z("modules",i._tools.modulesQuillEdicion),C(2),z("ngIf",!i.newInfoClientes.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalInfoClientes),C(),z("ngIf",i.AnimacionCargabtnModalInfoClientes),C(26),Fe("ngModel",i.filterDemucas),C(52),Fe("ngModel",i.filtertxtDemucas),C(5),z("ngForOf",i.MatrizCategorias),C(18),z("ngIf",i.isLoadingDemucas),C(),z("ngIf",!i.isLoadingDemucas&&i.Demucas.length===0),C(),z("ngForOf",ke(382,87,ke(381,84,ke(380,81,i.Demucas,i.categoriasSeleccionadas),i.filtertxtDemucas),i.filterDemucas)),C(11),Se("",i.newDemucas.get("id").value?"Modificar":"Registrar"," Demucas"),C(3),z("formGroup",i.newDemucas),C(2),z("ngClass",i.ValidacionDemucasxElemento("evaluacion")),C(48),z("ngClass",i.ValidacionDemucasxElemento("rango")),C(6),z("ngClass",i.ValidacionDemucasxElemento("categoria")),C(5),z("ngForOf",i.MatrizCategorias),C(4),z("ngClass",i.ValidacionDemucasxElemento("palabra")),C(3),z("ngForOf",i.MatrizDiferentes),C(6),z("ngClass",i.ValidacionDemucasxElemento("escala")),C(14),z("ngClass",i.ValidacionDemucasxElemento("multiplicar")),C(6),z("ngClass",i.ValidacionDemucasxElemento("fecha")),C(6),z("ngIf",!i.newDemucas.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalDemucas),C(),z("ngIf",i.AnimacionCargabtnModalDemucas),C(7),Se("",i.newDemucas.get("id").value?"Modificar":"Registrar Grupo"," Demucas"),C(3),z("formGroup",i.newDemucas),C(2),z("ngClass",i.ValidacionDemucasxElemento("evaluacion")),C(48),z("ngClass",i.ValidacionDemucasxElemento("categoria")),C(5),z("ngForOf",i.MatrizCategorias),C(12),z("ngIf",i.MatrizDiferentes.length===0),C(),z("ngForOf",i.MatrizDiferentes),C(2),z("ngClass",i.ValidacionDemucasxElemento("fecha")),C(8),z("ngIf",!i.AnimacionCargabtnModalDemucas),C(),z("ngIf",i.AnimacionCargabtnModalDemucas),C(68),z("ngIf",i.DemucasDelete.length===0),C(),z("ngForOf",i.DemucasDelete))},dependencies:[ht,at,st,Et,yt,lt,vt,wt,bu,ct,gt,ut,bt,_t,St,qn,xt,li,qi,xr,ni],encapsulation:2});var Sr=$i;var bi=class bi{constructor(e,t,i){this.router=e;this.http=t;this._tool=i;this.ruta=ft.ruta}canActivate(e,t){let i=localStorage.getItem("token");return i?this.http.post(this.ruta+"api/verify-token",{token:i}).pipe(ln(r=>(console.log(r),r&&r.name==="Admin"?!0:(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1))),Jc(r=>(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),sn(!1)))):(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)}};bi.\u0275fac=function(t){return new(t||bi)(Pn(yi),Pn(ti),Pn(Qe))},bi.\u0275prov=kn({token:bi,factory:bi.\u0275fac,providedIn:"root"});var At=bi;var Zi=class Zi{};Zi.\u0275fac=function(t){return new(t||Zi)},Zi.\u0275cmp=Ke({type:Zi,selectors:[["app-gestiondeciclosdeplanesdeintervencion"]],standalone:!1,decls:2,vars:0,template:function(t,i){t&1&&(a(0,"p"),h(1,"gestiondeciclosdeplanesdeintervencion works!"),s())},encapsulation:2});var Ar=Zi;var Bh=n=>({itemsPerPage:10,currentPage:n}),Tf=()=>({standalone:!0}),Mf=n=>({itemsPerPage:3,currentPage:n});function Rf(n,e){n&1&&(a(0,"tr")(1,"td",94)(2,"div",95)(3,"div",96)(4,"span",97),h(5,"Loading..."),s()()()()())}function Of(n,e){n&1&&(a(0,"tr")(1,"td",94),h(2,"No hay datos disponibles"),s()())}function Nf(n,e){if(n&1&&(a(0,"div",125),G(1,"a",126),a(2,"a",126),Re(3,"dateFormat"),a(4,"sup",127),h(5),s(),G(6,"i",128),a(7,"sub"),h(8),s()()()),n&2){let t=e.$implicit,i=re().$implicit;C(),De(Ne("btn btn-",t.estadopago=="PAGADO"?"success":t.estadopago=="RETRASADO"?"danger":t.estadopago=="PENDIENTE"?"secondary":"warning")),z("href",$e(t.estadopago=="PAGADO"?"https://api.whatsapp.com/send?phone=591"+i.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+t.sesion+" del ciclo "+t.nrociclo+" ha sido *PAGADO*.%0AGracias por su puntualidad.%0A_*Centro Boliviano de Musicoterapia*_":t.estadopago=="RETRASADO"?"https://api.whatsapp.com/send?phone=591"+i.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+t.sesion+" del ciclo "+t.nrociclo+" est\xE1 *RETRASADO*.%0APor favor, regularice su situaci\xF3n lo antes posible.%0A_*Centro Boliviano de Musicoterapia*_":t.estadopago=="PENDIENTE"?"https://api.whatsapp.com/send?phone=591"+i.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+t.sesion+" del ciclo "+t.nrociclo+" est\xE1 *PENDIENTE*.%0APor favor, realice el pago a la brevedad.%0A_*Centro Boliviano de Musicoterapia*_":"https://api.whatsapp.com/send?phone=591"+i.celular+"&text=*Hola*%0AEl pago de la sesi\xF3n "+t.sesion+" del ciclo "+t.nrociclo+" fue de *PAGO PRESTADO*.%0APor favor, realice el pago a la brevedad.%0A_*Centro Boliviano de Musicoterapia*_"),Ze)("title",$e(t.estadopago=="PAGADO"?"CICLO N\xBA "+t.nrociclo+" SESI\xD3N "+t.sesion+" PAGADA":t.estadopago=="RETRASADO"?"CICLO N\xBA "+t.nrociclo+" SESI\xD3N "+t.sesion+" PAGO RETRASADO":t.estadopago=="PENDIENTE"?"CICLO N\xBA "+t.nrociclo+" SESI\xD3N "+t.sesion+" PAGO PENDIENTE":"CICLO N\xBA "+t.nrociclo+" SESI\xD3N "+t.sesion+" PAGO PRESTADO")),C(),De(Ne("btn btn-",t.estadosesion=="REALIZADO"?"success":"secondary")),z("href",$e(t.estadosesion=="REALIZADO"?"https://api.whatsapp.com/send?phone=591"+i.celular+"&text=*Notificaci\xF3n*%0A*Asistencia a Musicoterapia*%0A%0ASesi\xF3n "+t.sesion+" del ciclo "+t.nrociclo+" ha sido *REALIZADA*%0A*Fecha:* "+t.fecha+"%0A*Usuario:* "+i.nombres+" "+i.apellidos+"%0A%0AGracias por su puntualidad.%0A_*Centro Boliviano de Musicoterapia*_":"https://api.whatsapp.com/send?phone=591"+i.celular+"&text=*Hola*%0ALa sesi\xF3n "+t.sesion+" del ciclo "+t.nrociclo+" est\xE1 *PENDIENTE*.%0AGracias por su puntualidad.%0A_*Centro Boliviano de Musicoterapia*_"),Ze)("title",$e(t.estadosesion=="REALIZADO"?"CICLO N\xBA "+t.nrociclo+" SESI\xD3N "+t.sesion+"  REALIZADA EL DIA "+mt(3,19,t.fecha):"CICLO N\xBA "+t.nrociclo+" SESI\xD3N "+t.sesion+" PENDIENTE")),C(3),Se(" ",t.nrociclo," "),C(),De(Ne("bi bi-",t.estadosesion=="REALIZADO"?"check-lg":"clock-history")),C(2),Se(" ",t.sesion)}}function Df(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",98),h(2),s(),a(3,"td",99),h(4),a(5,"div",100)(6,"small",101),h(7),Re(8,"dateFormat"),s()()(),a(9,"td",99)(10,"div",100),h(11),s(),a(12,"div",102)(13,"small",101),h(14),s()()(),a(15,"td",99),h(16),s(),a(17,"td",99)(18,"div",103)(19,"div",104),h(20),s(),a(21,"div",105),h(22),s(),a(23,"div",106),h(24),s()(),a(25,"div",100)(26,"small",101),h(27),s()()(),a(28,"td",99),h(29),a(30,"div",100)(31,"small",101),h(32),s()()(),a(33,"td",107)(34,"div",108)(35,"div",109)(36,"a",110),G(37,"i",111),s(),a(38,"a",110),G(39,"i",112),s(),a(40,"button",113),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarPagos(r.id,"Estabilizar"))}),G(41,"img",114),s(),a(42,"button",115),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarPagos(r.id))}),G(43,"i",116),s(),a(44,"button",117),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarPagos(r.id))}),G(45,"i",118),s(),a(46,"button",119),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarPagos(r.id,"ArchivosPagos"))}),G(47,"i",120),s(),a(48,"button",121),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarPagos(r.id,"GestionCiclos"))})("click",function(){let r=se(t).$implicit,o=re();return o.guardadodeid_infocliente=r.id_infocliente,o.guardadodeNomC=r.apellidos+" "+r.nombres,le(o.guardadodeFechaAdmision=r.fechaadmision)}),G(49,"i",122),s()(),a(50,"div",123),Ee(51,Nf,9,21,"div",124),s()()()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaPagos-1)*10+(t+1)),C(2),Se(" ",i.apellidos+" "+i.nombres," "),C(3),Se("Admisi\xF3n: ",mt(8,51,i.fechaadmision)),C(4),ye(i.tipo),C(3),Se("Ciclo N\xBA ",i.ciclos[0].nrociclo),C(2),ye(i.precio),C(3),Vn("width:"+i.pagado+"%"),z("title",Ne("Realiz\xF3 el Pago de: ",i.pagado," Bs."))("aria-valuenow",$e(i.pagado))("aria-valuemax",$e(i.precio)),C(),Se(" ",i.pagado," "),C(),Vn("width:"+i.saldo+"%"),De(Ne("progress-bar ",i.saldo<0?"bg-warning":"bg-danger")),z("title",Ne("",i.saldo<0?"Debe devolver el Monto de:"+i.saldo*-1:"Le falta Cancelar el Monto de: "+i.saldo," Bs."))("aria-valuenow",$e(i.saldo))("aria-valuemax",$e(i.precio)),C(),Se(" ",i.saldo," "),C(),Vn("width:"+i.descuento+"%"),z("title",Ne("Tiene un Descuento de: ",i.descuento," Bs."))("aria-valuenow",$e(i.descuento))("aria-valuemax",$e(i.precio)),C(),Se(" ",i.descuento," "),C(3),Je("Precio Total a Pagar: ",i.precio-i.descuento,"Bs. ",i.saldo<0?" || Debe devolver el Monto de: "+i.saldo*-1:""),C(2),Se(" ",i.horario," "),C(3),Se("dias: ",i.fecha),C(4),z("title",Ne("Contactar: ",i.celular))("href",cu("https://api.whatsapp.com/send?phone=591",i.celular,"&text=*Hola*%0AAcabamos de concluir las 4 sesiones del mes con *",i.nombres+" "+i.apellidos,"*%0AComentarle que la siguiente semana _*iniciamos*_ un nuevo ciclo de 4 sesiones.%0ATenga buen resto de jornada.%0A_*Centro Boliviano de Musicoterapia*_"),Ze),C(2),z("title",Ne("Notificar recordatorio de Asistencia: ",i.celular))("href",$e("https://api.whatsapp.com/send?phone=591"+i.celular+"&text=\u{1F3B5}%20Recordatorio%20de%20sesi\xF3n%20\u{1F4C5}%0A%0AEste%20es%20un%20recordatorio%20para%20la%20sesi\xF3n%20de%20Musicoterapia%20programada%20para:%20%0A%0AHoy%0A"+i.fecha+"%20%0AHoras:%20"+i.horario+"%0A%0ASaludos%20cordiales%0ACentro%20Boliviano%20de%20Musicoterapia"),Ze),C(3),z("src",r.ruta+"fijos/balanza.svg",Ze),C(10),z("ngForOf",i.ciclos)}}function kf(n,e){if(n&1){let t=xe();a(0,"div",131),ee("click",function(r){let o=se(t).$implicit,d=re(2);return le(d.SeleccionandoInfoCliente(r,o))}),a(1,"div",132)(2,"h5",133),h(3),s(),a(4,"small"),h(5),s()(),a(6,"p",133),h(7),s()()}if(n&2){let t=e.$implicit;C(3),Je("",t.nombres," ",t.apellidos),C(2),Se("Carnet: ",t.carnet),C(2),Se("Fecha de Admisi\xF3n: ",t.fechaadmision)}}function Pf(n,e){if(n&1&&(a(0,"div",129),Ee(1,kf,8,4,"div",130),Re(2,"filterapellidosnombrescarnet"),Re(3,"paginate"),s()),n&2){let t=re();C(),z("ngForOf",ke(3,4,ke(2,1,t.InfoClientes,t.filterInfoClientes),Xe(7,Mf,t.paginaInfoClientes)))}}function Lf(n,e){if(n&1){let t=xe();a(0,"div",40)(1,"input",134),Ue("ngModelChange",function(r){se(t);let o=re();return ze(o.nroCiclo,r)||(o.nroCiclo=r),le(r)}),s(),a(2,"label"),h(3,"N\xBA Ciclo"),s(),a(4,"div",42),h(5,"Este campo es obligatorio*"),s()()}if(n&2){let t=re();C(),Fe("ngModel",t.nroCiclo)}}function Ff(n,e){if(n&1){let t=xe();a(0,"div",135)(1,"button",136),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastPagos())}),G(2,"i",137),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",138),s()()}}function zf(n,e){if(n&1){let t=xe();a(0,"button",139),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarPagos())}),G(1,"i",128),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newPagos.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newPagos.get("id").value?"MODIFICAR":"REGISTRAR")}}function Uf(n,e){if(n&1){let t=xe();a(0,"button",140),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarPagos())}),G(1,"span",141),s()}n&2&&z("disabled",!0)}function Vf(n,e){if(n&1){let t=xe();a(0,"div",142)(1,"div",143)(2,"div")(3,"div",144)(4,"button",145),G(5,"i",146),s()(),a(6,"div",147)(7,"h3",148),h(8),s(),a(9,"div",100)(10,"small"),h(11),s()()(),a(12,"div",149)(13,"div",1)(14,"div",150)(15,"strong"),h(16,"Estado de Pago:"),s(),h(17),s(),a(18,"div",151)(19,"strong"),h(20,"Estado de Sesi\xF3n:"),s(),h(21),Re(22,"dateFormat"),s(),a(23,"div",152)(24,"strong"),h(25,"ERI:"),s(),h(26),s(),a(27,"div",152)(28,"strong"),h(29,"CIM:"),s(),h(30),s()()(),a(31,"div",144)(32,"button",153),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarCiclos(r.id))}),G(33,"i",116),s(),G(34,"br"),a(35,"button",154),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarCiclos(r.id))}),G(36,"i",155),s()()(),a(37,"div",156)(38,"ul",157)(39,"li",158)(40,"h5"),h(41,"APUNTES."),s(),a(42,"quill-editor",159),Ue("ngModelChange",function(r){let o=se(t).$implicit;return ze(o.apuntes,r)||(o.apuntes=r),le(r)}),s()()()()()()}if(n&2){let t=e.$implicit,i=e.index,r=re();C(2),De(Ne("card-header d-flex justify-content-between align-items-center ",t.estadosesion=="REALIZADO"?"bg-success":t.estadosesion=="SESI\xD3N PENDIENTE"?"bg-secondary":"bg-danger")),C(2),Dt("data-bs-target","#collapseCar"+i),C(4),Se("SESI\xD3N ",t.sesion),C(3),Se("CICLO ",t.nrociclo),C(6),Se(" ",t.estadopago," "),C(4),Je(" ",t.estadosesion,". el Dia: ",t.fecha==null?"NO SE REALIZ\xD3":mt(22,14,t.fecha)," "),C(5),Se(" ",t.eri," "),C(4),Se(" ",t.cim," "),C(7),z("id","collapseCar"+i),C(5),z("modules",r._tools.modulesQuillShow),Fe("ngModel",t.apuntes)}}function Gf(n,e){if(n&1&&(a(0,"option",160),h(1),s()),n&2){let t=e.$implicit;z("value",t.nombrematriz),C(),Je("",t.valor,": ",t.nombrematriz)}}function Bf(n,e){if(n&1&&(a(0,"option",160),h(1),s()),n&2){let t=e.$implicit;z("value",t.nombrematriz),C(),Je("",t.valor,": ",t.nombrematriz)}}function jf(n,e){if(n&1){let t=xe();a(0,"div",135)(1,"button",136),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastCiclos())}),G(2,"i",137),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",138),s()()}}function Hf(n,e){if(n&1){let t=xe();a(0,"button",139),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarCiclos())}),G(1,"i",128),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newCiclos.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newCiclos.get("id").value?"MODIFICAR":"REGISTRAR")}}function Wf(n,e){if(n&1){let t=xe();a(0,"button",140),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarCiclos())}),G(1,"span",141),s()}n&2&&z("disabled",!0)}function qf(n,e){n&1&&(a(0,"tr")(1,"td",161)(2,"div",95)(3,"div",96)(4,"span",97),h(5,"Loading..."),s()()()()())}function Kf(n,e){n&1&&(a(0,"tr")(1,"td",161),h(2,"No hay datos disponibles"),s()())}function $f(n,e){if(n&1&&(a(0,"a",163),G(1,"i",164),s()),n&2){let t=re().$implicit,i=re();z("href",i.ruta+t.file,Ze)}}function Xf(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",98),h(2),s(),a(3,"td",99),h(4),s(),a(5,"td",99),h(6),s(),a(7,"td",99),h(8),s(),a(9,"td",99),h(10),s(),a(11,"td",99),h(12),s(),a(13,"td",107)(14,"button",115),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarArchivosPagos(r.id))}),G(15,"i",116),s(),a(16,"button",117),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarArchivosPagos(r.id,r))}),G(17,"i",118),s(),Ee(18,$f,2,1,"a",162),s()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaArchivosPagos-1)*10+(t+1)),C(2),ye(i.monto),C(2),ye(i.fechapago),C(2),ye(i.horapago),C(2),ye(i.observacion),C(2),ye(i.estadopago),C(6),z("ngIf",!(i.file==null||i.file==""))}}function Zf(n,e){if(n&1){let t=xe();a(0,"div",135)(1,"button",136),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastArchivosPagos())}),G(2,"i",137),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",138),s()()}}function Yf(n,e){if(n&1){let t=xe();a(0,"button",139),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarArchivosPagos())}),G(1,"i",128),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newArchivosPagos.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newArchivosPagos.get("id").value?"MODIFICAR":"REGISTRAR")}}function Jf(n,e){if(n&1){let t=xe();a(0,"button",140),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarArchivosPagos())}),G(1,"span",141),s()}n&2&&z("disabled",!0)}var Yi=class Yi{constructor(e,t,i,r,o,d,l){this.router=e;this._pagos=t;this._tools=i;this._ciclos=r;this._archivospagos=o;this._infoclientes=d;this._matrizescalas=l;this.ruta=ft.ruta;this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.guardadodeid_infocliente=0;this.guardadodeNomC="";this.guardadodeFechaAdmision="";this.dataDropZone={iddropzone:"dropzonearchivospagos",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.Pagos=[];this.paginaPagos=1;this.isLoadingPagos=!0;this.AnimacionCargabtnModalPagos=!1;this.filtertxtPagos="";this.nroCiclo=1;this.idPagosSave=0;this.ArchivosPagos=[];this.paginaArchivosPagos=1;this.isLoadingArchivosPagos=!0;this.AnimacionCargabtnModalArchivosPagos=!1;this.filtertxtArchivosPagos="";this.Ciclos=[];this.paginaCiclos=1;this.isLoadingCiclos=!0;this.AnimacionCargabtnModalCiclos=!1;this.filtertxtCiclos="";this.newPagos=this._pagos.createFormGroupPagos(),this.newPagosAnteriorAccion=this._pagos.createFormGroupPagos(),this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagosAnteriorAccion=this._archivospagos.createFormGroupArchivosPagos(),this.newCiclos=this._ciclos.createFormGroupCiclos(),this.newCiclosAnteriorAccion=this._ciclos.createFormGroupCiclos()}ngOnInit(){this.CargarPagos(),this.CargarMatrizEscalas()}ngOnDestroy(){this._tools.cerrarModales()}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(e=>{this.MatrizEscalas=e.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=e.data.filter(t=>t.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)").sort((t,i)=>t.valor-i.valor),this.MatrizCIM=e.data.filter(t=>t.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)").sort((t,i)=>t.valor-i.valor),console.log("MatrizERI",this.MatrizERI),console.log("MatrizCIM",this.MatrizCIM)},e=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",e)})}generateUrl(e){let t={id:e,NomC:this.guardadodeNomC,FechAdmision:this.guardadodeFechaAdmision};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:t}))}onButtonClick(e,t){let i={id:this.guardadodeid_infocliente,NomC:this.guardadodeNomC,FechAdmision:this.guardadodeFechaAdmision};if(e.ctrlKey||e.button===1){e.preventDefault();let r=this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:i}));window.open(r,"_blank")}else this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:i});this._tools.cerrarModal("ModalGestionInfoCliente")}crearDropzone(){sessionStorage.setItem("CategoriaFile","ARCHIVOSPAGO");var e=document.getElementById("dropzonearchivospagos");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),e&&Ct.instances.length>0&&Ct.instances.forEach(t=>{t.element===e&&(t.destroy(),e.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(e=>{console.log("INFO CLIENTES CARGADO",e.data),this.InfoClientes=e.data},e=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",e)})}SeleccionandoInfoCliente(e,t){let i=e.currentTarget;i.classList.contains("active")?(i.classList.remove("active"),this.nombreseleccionado="",this.newPagos.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(o=>{o.classList.remove("active")}),i.classList.add("active"),this.nombreseleccionado=t.apellidos+" "+t.nombres,this.newPagos.patchValue({id_infocliente:t.id}))}CargarPagos(){this.AnimarCargaTablaPagos(),this._pagos.ObtenerPagos().subscribe(e=>{console.log("Pagos CARGADO",e.data),this.Pagos=e.data,this.isLoadingPagos=!1},e=>{console.log("ERROR AL CARGAR Pagos",e),this.isLoadingPagos=!1})}AgregarModificarPagos(){if(this.newPagos.invalid){this.ValidacionTodoElementoPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPagos=!1;return}else{this.AnimarCargaTablaPagos(),this.AnimacionCargabtnModalPagos=!0,this._tools.MostrarMensajeLoading();let e=this.newPagos.controls.id.value;console.log("INFO A PROCESAR",this.newPagos.value),e?(this.newPagos.value.saldo=this.newPagos.value.precio-this.newPagos.value.pagado-this.newPagos.value.descuento,this._pagos.ModificarPagos(this.newPagos.value,this.newPagos.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Pagos",t.data),this.CargarPagos(),this.resetPagos(),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Pagos",t),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()})):(this.newPagos.value.saldo=this.newPagos.value.precio,this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._pagos.AgregarPagos(this.newPagos.value).subscribe(t=>{if(console.log("SE A\xD1ADIO CORRECTAMENTE Pagos",t.data),this.CargarPagos(),this.resetPagos(),t.data.tipo=="MENSUAL")for(var i=0;i<4;)i++,this.resetCiclos(),this.newCiclos.patchValue({id_pago:t.data.id,nrociclo:this.nroCiclo,sesion:i.toString()}),this.AgregarModificarCiclos(),console.log("PASANDO",i);else this.resetCiclos(),this.newCiclos.patchValue({id_pago:t.data.id,nrociclo:this.nroCiclo,sesion:"1"}),this.AgregarModificarCiclos();this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Pagos",t),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPagos(e,t){switch(this._tools.MostrarMensajeLoading(),t){case"ArchivosPagos":this.idPagosSave=e,this.CargarArchivosPagos(),e&&this._pagos.SeleccionarPagos(e).subscribe(i=>{Object.keys(this.newPagos.controls).forEach(r=>{this.newPagos.controls[r].setValue(i.data[r])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("ModalAllGestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL SELECCIONAR Pagos",i),this._tools.MostrarMensajeError()});break;case"GestionCiclos":this.idPagosSave=e,this.CargarCiclos(),this._tools.abrirModal("ModalAllGestionCiclos"),this._tools.MostrarMensajeSuccess();break;case"Estabilizar":this.idPagosSave=e,this._archivospagos.SeleccionarAllInformacionArchivosPagos(e).subscribe(i=>{this.ArchivosPagos=i.data;var r=0;this.ArchivosPagos.forEach(o=>{o.estadopago=="CONFIRMADO"&&(r=r+Number(o.monto))}),console.log("suma Archivos Pago de estabilizacion",r),this._pagos.SeleccionarPagos(e).subscribe(o=>{Object.keys(this.newPagos.controls).forEach(d=>{this.newPagos.controls[d].setValue(o.data[d])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagos.patchValue({saldo:this.newPagos.value.precio-r-this.newPagos.value.descuento,pagado:r}),this.AgregarModificarPagos()},o=>{console.log("ERROR AL SELECCIONAR Pagos",o),this._tools.MostrarMensajeError()})});break;default:e&&this._pagos.SeleccionarPagos(e).subscribe(i=>{Object.keys(this.newPagos.controls).forEach(r=>{this.newPagos.controls[r].setValue(i.data[r])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("modalgestionPagos"),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL SELECCIONAR Pagos",i),this._tools.MostrarMensajeError()});break}}EliminarPagos(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._pagos.EliminarPagos(e).subscribe(i=>{console.log(i.data),this.CargarPagos(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR Pagos",i),this._tools.MostrarMensajeError()}))})}resetPagos(){this.newPagos.reset(),this._tools.cerrarModal("modalgestionPagos")}AbrirModalPagos(){this.CargarInfoClientes(),this.newPagos=this._pagos.createFormGroupPagos(),this._tools.abrirModal("modalgestionPagos")}AutoCompletarLastPagos(){this.newPagos.setValue(this.newPagosAnteriorAccion.value),this.newPagos.patchValue({id:0}),console.log("listo",this.newPagos.value)}AnimarCargaTablaPagos(){this.Pagos=[],this.isLoadingPagos=!0}ValidacionPagosxElemento(e){return this._tools.obtenerValidationClass(this.newPagos,e)}ValidacionTodoElementoPagos(){Object.values(this.newPagos.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}CargarArchivosPagos(){this.AnimarCargaTablaArchivosPagos(),this._archivospagos.SeleccionarAllInformacionArchivosPagos(this.idPagosSave).subscribe(e=>{console.log("ArchivosPagos CARGADO",e.data),this.ArchivosPagos=e.data,this.isLoadingArchivosPagos=!1},e=>{console.log("ERROR AL CARGAR ArchivosPagos",e),this.isLoadingArchivosPagos=!1})}AgregarModificarArchivosPagos(){if(this.newArchivosPagos.invalid){this.ValidacionTodoElementoArchivosPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalArchivosPagos=!1;return}else{this.AnimarCargaTablaArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!0,this._tools.MostrarMensajeLoading();let i=this.newArchivosPagos.controls.id.value;console.log("INFO A PROCESAR",this.newArchivosPagos.value);var e=sessionStorage.getItem("IMG");if(console.log("VALOR img",e),e==null||e==""||(this.newArchivosPagos.value.file=e),i)this._archivospagos.ModificarArchivosPagos(this.newArchivosPagos.value,this.newArchivosPagos.value.id).subscribe(r=>{console.log("SE MODIFICO CORRECTAMENTE ArchivosPagos",r.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this.newArchivosPagosAnteriorAccion.value.file==this.newArchivosPagos.value.file||this._tools.EliminarArchivo(this.newArchivosPagosAnteriorAccion.value.file),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL MODIFICAR ArchivosPagos",r),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()});else{if(this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.newArchivosPagos.value.estadopago=="CONFIRMADO"){var t=Number(this.newPagos.value.pagado)+Number(this.newArchivosPagos.value.monto);this.newPagos.patchValue({saldo:this.newPagos.value.precio-t-this.newPagos.value.descuento,pagado:t}),this.AgregarModificarPagos()}this._archivospagos.AgregarArchivosPagos(this.newArchivosPagos.value).subscribe(r=>{console.log("SE A\xD1ADIO CORRECTAMENTE ArchivosPagos",r.data),this.CargarArchivosPagos(),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL A\xD1ADIR ArchivosPagos",r),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()})}}}SeleccionarArchivosPagos(e){this._tools.MostrarMensajeLoading(),e&&this._archivospagos.SeleccionarArchivosPagos(e).subscribe(t=>{Object.keys(this.newArchivosPagos.controls).forEach(i=>{this.newArchivosPagos.controls[i].setValue(t.data[i])}),console.log("SELECCION DE ArchivosPagos EXITOSA",this.newArchivosPagos.value),this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR ArchivosPagos",t),this._tools.MostrarMensajeError()})}EliminarArchivosPagos(e,t){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(i=>{i&&(this._tools.MostrarMensajeLoading(),this._archivospagos.EliminarArchivosPagos(e).subscribe(r=>{console.log(r.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this._tools.MostrarMensajeSuccess()},r=>{console.log("ERROR AL ELIMINAR ArchivosPagos",r),this._tools.MostrarMensajeError()}))})}resetArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionArchivosPagos")}AbrirModalArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagos.patchValue({id_pago:this.idPagosSave}),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos")}AutoCompletarLastArchivosPagos(){this.newArchivosPagos.setValue(this.newArchivosPagosAnteriorAccion.value),this.newArchivosPagos.patchValue({id:0}),console.log("listo",this.newArchivosPagos.value)}AnimarCargaTablaArchivosPagos(){this.ArchivosPagos=[],this.isLoadingArchivosPagos=!0}ValidacionArchivosPagosxElemento(e){return this._tools.obtenerValidationClass(this.newArchivosPagos,e)}ValidacionTodoElementoArchivosPagos(){Object.values(this.newArchivosPagos.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}CargarCiclos(){this.AnimarCargaTablaCiclos(),this._ciclos.SeleccionarAllInformacionCiclos(this.idPagosSave).subscribe(e=>{console.log("Ciclos CARGADO",e.data),this.Ciclos=e.data,this.isLoadingCiclos=!1},e=>{console.log("ERROR AL CARGAR Ciclos",e),this.isLoadingCiclos=!1})}AgregarModificarCiclos(){if(this.newCiclos.invalid){this.ValidacionTodoElementoCiclos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalCiclos=!1;return}else{this.AnimarCargaTablaCiclos(),this.AnimacionCargabtnModalCiclos=!0,this._tools.MostrarMensajeLoading();let e=this.newCiclos.controls.id.value;console.log("INFO A PROCESAR",this.newCiclos.value),e?this._ciclos.ModificarCiclos(this.newCiclos.value,this.newCiclos.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Ciclos",t.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Ciclos",t),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()}):(this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._ciclos.AgregarCiclos(this.newCiclos.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Ciclos",t.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Ciclos",t),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()})),this.CargarPagos()}}SeleccionarCiclos(e){this._tools.MostrarMensajeLoading(),e&&this._ciclos.SeleccionarCiclos(e).subscribe(t=>{Object.keys(this.newCiclos.controls).forEach(i=>{this.newCiclos.controls[i].setValue(t.data[i])}),console.log("SELECCION DE Ciclos EXITOSA",this.newCiclos.value),this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._tools.abrirModal("modalgestionCiclos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Ciclos",t),this._tools.MostrarMensajeError()})}EliminarCiclos(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._ciclos.EliminarCiclos(e).subscribe(i=>{console.log(i.data),this.CargarCiclos(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR Ciclos",i),this._tools.MostrarMensajeError()}))})}resetCiclos(){this.newCiclos=this._ciclos.createFormGroupCiclos(),this._tools.cerrarModal("modalgestionCiclos")}AbrirModalCiclos(){this.newCiclos.reset(),this.newCiclos.patchValue({id_pago:this.idPagosSave}),this._tools.abrirModal("modalgestionCiclos")}AutoCompletarLastCiclos(){this.newCiclos.setValue(this.newCiclosAnteriorAccion.value),this.newCiclos.patchValue({id:0}),console.log("listo",this.newCiclos.value)}AnimarCargaTablaCiclos(){this.Ciclos=[],this.isLoadingCiclos=!0}ValidacionCiclosxElemento(e){return this._tools.obtenerValidationClass(this.newCiclos,e)}ValidacionTodoElementoCiclos(){Object.values(this.newCiclos.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}};Yi.\u0275fac=function(t){return new(t||Yi)(Me(yi),Me(jn),Me(Qe),Me(yu),Me(Cu),Me(Ci),Me(ii))},Yi.\u0275cmp=Ke({type:Yi,selectors:[["app-gestiondecontrolasistenaciapagos"]],standalone:!1,decls:349,vars:66,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],["scope","col",1,"text-center"],[1,"text-success","bg-light"],[1,"text-danger","bg-light"],[1,"text-secondary","bg-light"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","precio",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","horario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fecha",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","MENSUAL"],["value","SESI\xD3N"],["type","text","placeholder","","formControlName","descuento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-12","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click","href"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","nrociclo",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","sesion",1,"form-control",3,"ngClass"],["formControlName","estadosesion",1,"form-control",3,"ngClass"],["value","REALIZADO"],["value","SESI\xD3N PENDIENTE"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["formControlName","estadopago",1,"form-control",3,"ngClass"],["value","PAGADO"],["value","PRESTADO"],["value","PENDIENTE"],["value","RETRASADO"],["formControlName","eri",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cim",1,"form-control",3,"ngClass"],["formControlName","apuntes",1,"quill-container-wrapper",3,"modules"],["id","ModalAllGestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","modalgestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","monto",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechapago",1,"form-control",3,"ngClass"],["type","time","placeholder","","formControlName","horapago",1,"form-control",3,"ngClass"],["placeholder","","formControlName","observacion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["value","CONFIRMADO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzonearchivospagos",1,"dropzone"],["alt","","width","50%",3,"src"],["colspan","9",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],[1,"text-center","text-light","bg-primary"],[1,"progress",2,"height","30px"],["role","progressbar","aria-label","Segment one","aria-valuemin","0",1,"progress-bar","bg-success",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment two","aria-valuemin","0",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment three","aria-valuemin","0",1,"progress-bar","bg-secondary",3,"title","aria-valuenow","aria-valuemax"],[2,"white-space","nowrap"],[2,"display","flex","align-items","center","gap","10px"],[2,"margin-right","18px"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-success","p-1","py-0",3,"title","href"],[1,"bi","bi-whatsapp",2,"font-size","1.5rem"],[1,"bi","bi-bell",2,"font-size","1.5rem"],["title","Estabilizar",1,"btn","btn-light","p-1","py-0",3,"click"],["alt","Balanza",1,"image",2,"width","24px","height","auto","display","inline-block",3,"src"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Archivos de Pagos",1,"btn","btn-success","p-1","py-0",3,"click"],[1,"bi","bi-currency-dollar",2,"font-size","1.5rem"],["title","Ciclos",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-border-all",2,"font-size","1.5rem"],[1,"rectangle-grid"],["class","group",4,"ngFor","ngForOf"],[1,"group"],["target","_blank",3,"href","title"],[1,"fw-bolder","circle-container"],[2,"font-size","1rem"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],["type","number","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center",2,"width","300px"],[1,"text-light"],[1,"card-body"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"col-sm-12"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],[1,"collapse","card-body","show",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"],[3,"value"],["colspan","6",1,"text-center"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"]],template:function(t,i){t&1&&(G(0,"hr"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),h(5,"Gesti\xF3n de Pagos"),s(),a(6,"p",4),h(7,"Administra toda la informaci\xF3n de los Pagos de manera sencilla y eficiente"),s()()()(),a(8,"div",1)(9,"div",5)(10,"button",6),ee("click",function(){return i.AbrirModalPagos()}),G(11,"i",7),h(12," A\xF1adir Pagos"),G(13,"span",8),s()(),a(14,"div",9)(15,"div",10)(16,"span",11),G(17,"i",12),s(),a(18,"div",13)(19,"input",14),ee("input",function(){return i.paginaPagos=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtPagos,o)||(i.filtertxtPagos=o),o}),s(),a(20,"label"),h(21,"Buscar"),s()()()()(),G(22,"hr"),a(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),h(28,"#"),s(),a(29,"th",18),h(30,"Nombre Completo"),s(),a(31,"th",18),h(32,"Tipo"),s(),a(33,"th",18),h(34,"Precio"),s(),a(35,"th",19)(36,"label",20),h(37,"Pagado/"),s(),a(38,"label",21),h(39,"Deuda/"),s(),a(40,"label",22),h(41,"Descuento"),s()(),a(42,"th",18),h(43,"Horario/Dia"),s(),a(44,"th",18),h(45,"ACCIONES"),s()()(),a(46,"tbody",23),Ee(47,Rf,6,0,"tr",24)(48,Of,3,0,"tr",24)(49,Df,52,53,"tr",25),Re(50,"filterapellidosnombrescarnet"),Re(51,"paginate"),s()(),a(52,"pagination-controls",26),ee("pageChange",function(o){return i.paginaPagos=o}),s()(),G(53,"hr"),a(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"div",31)(59,"h1",32),h(60),s(),a(61,"button",33),ee("click",function(){return i.resetPagos()}),s()()(),a(62,"div",34)(63,"div",35)(64,"div",36)(65,"label",37),h(66,"Buscar:"),s(),a(67,"input",38),Ue("ngModelChange",function(o){return ze(i.filterInfoClientes,o)||(i.filterInfoClientes=o),o}),ee("input",function(){return i.paginaInfoClientes=1}),s()(),Ee(68,Pf,4,9,"div",39),a(69,"pagination-controls",26),ee("pageChange",function(o){return i.paginaInfoClientes=o}),s(),G(70,"hr"),a(71,"div",40),G(72,"input",41),a(73,"label"),h(74,"cliente"),s(),a(75,"div",42),h(76,"Este campo es obligatorio*"),s()(),a(77,"div",40),G(78,"input",43),a(79,"label"),h(80,"precio"),s(),a(81,"div",42),h(82,"Este campo es obligatorio*"),s()(),a(83,"div",40)(84,"input",44),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newPagos,"horario")}),s(),a(85,"label"),h(86,"horario"),s(),a(87,"div",42),h(88,"Este campo es obligatorio*"),s()(),a(89,"div",40)(90,"input",45),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newPagos,"fecha")}),s(),a(91,"label"),h(92,"dias"),s(),a(93,"div",42),h(94,"Este campo es obligatorio*"),s()(),a(95,"div",40)(96,"select",46)(97,"option",47),h(98,"Seleccione una opci\xF3n"),s(),a(99,"option",48),h(100,"MENSUAL"),s(),a(101,"option",49),h(102,"SESI\xD3N"),s()(),a(103,"label"),h(104,"tipo"),s(),a(105,"div",42),h(106,"Este campo es obligatorio*"),s()(),a(107,"div",40)(108,"input",50),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newPagos,"descuento")}),s(),a(109,"label"),h(110,"descuento"),s(),a(111,"div",42),h(112,"Este campo es obligatorio*"),s()()(),Ee(113,Lf,6,1,"div",51),s(),a(114,"div",52),Ee(115,Ff,6,0,"div",53),a(116,"div",54)(117,"div",55)(118,"button",56),ee("click",function(){return i.resetPagos()}),G(119,"i",57),h(120," CANCELAR"),G(121,"span",8),s()(),a(122,"div",58),Ee(123,zf,4,4,"button",59)(124,Uf,2,1,"button",60),s()()()()()(),a(125,"div",61)(126,"div",28)(127,"div",29)(128,"div",30)(129,"h1",62),h(130,"Gestionar Ciclos"),s(),G(131,"button",63),s(),a(132,"div",34),G(133,"hr"),a(134,"div",0)(135,"div",1),G(136,"div",2),s()(),a(137,"div",1)(138,"div",64)(139,"button",6),ee("click",function(){return i.AbrirModalCiclos()}),G(140,"i",7),h(141," A\xF1adir Ciclos"),G(142,"span",8),s(),a(143,"a",65),ee("click",function(o){return i.onButtonClick(o,i.guardadodeid_infocliente)}),G(144,"i",7),h(145," VER PLAN DE INTERVENCIONES(ver con Ctrl+Click o Click con la Rueda)"),G(146,"span",8),s()()(),G(147,"hr"),a(148,"div",1),Ee(149,Vf,43,16,"div",66),s(),G(150,"hr"),a(151,"div",67)(152,"div",28)(153,"div",29)(154,"div",30)(155,"div",31)(156,"h1",32),h(157),s(),a(158,"button",33),ee("click",function(){return i.resetCiclos()}),s()()(),a(159,"div",34)(160,"div",35)(161,"div",40),G(162,"input",68),a(163,"label"),h(164,"nrociclo"),s(),a(165,"div",42),h(166,"Este campo es obligatorio*"),s()(),a(167,"div",40),G(168,"input",69),a(169,"label"),h(170,"sesion"),s(),a(171,"div",42),h(172,"Este campo es obligatorio*"),s()(),a(173,"div",40)(174,"select",70)(175,"option",47),h(176,"Seleccione una opci\xF3n"),s(),a(177,"option",71),h(178,"REALIZADO"),s(),a(179,"option",72),h(180,"SESI\xD3N PENDIENTE"),s()(),a(181,"label"),h(182,"estadosesion"),s(),a(183,"div",42),h(184,"Este campo es obligatorio*"),s()(),a(185,"div",40),G(186,"input",73),a(187,"label"),h(188,"fecha"),s(),a(189,"div",42),h(190,"Este campo es obligatorio*"),s()(),a(191,"div",40)(192,"select",74)(193,"option",47),h(194,"Seleccione una opci\xF3n"),s(),a(195,"option",75),h(196,"PAGADO"),s(),a(197,"option",76),h(198,"PRESTADO"),s(),a(199,"option",77),h(200,"PENDIENTE"),s(),a(201,"option",78),h(202,"RETRASADO"),s()(),a(203,"label"),h(204,"estadopago"),s(),a(205,"div",42),h(206,"Este campo es obligatorio*"),s()(),a(207,"div",40)(208,"select",79)(209,"option",47),h(210,"Seleccione una opci\xF3n"),s(),Ee(211,Gf,2,3,"option",80),s(),a(212,"label"),h(213,"eri"),s(),a(214,"div",42),h(215,"Este campo es obligatorio*"),s()(),a(216,"div",40)(217,"select",81)(218,"option",47),h(219,"Seleccione una opci\xF3n"),s(),Ee(220,Bf,2,3,"option",80),s(),a(221,"label"),h(222,"cim"),s(),a(223,"div",42),h(224,"Este campo es obligatorio*"),s()(),a(225,"label"),h(226,"apuntes"),s(),a(227,"div",40),G(228,"quill-editor",82),s()()(),a(229,"div",52),Ee(230,jf,6,0,"div",53),a(231,"div",54)(232,"div",55)(233,"button",56),ee("click",function(){return i.resetCiclos()}),G(234,"i",57),h(235," CANCELAR"),G(236,"span",8),s()(),a(237,"div",58),Ee(238,Hf,4,4,"button",59)(239,Wf,2,1,"button",60),s()()()()()()()()()(),a(240,"div",83)(241,"div",28)(242,"div",29)(243,"div",30)(244,"h1",62),h(245,"ARCHIVOS DE PAGO "),s(),G(246,"button",63),s(),a(247,"div",34),G(248,"hr"),a(249,"div",0)(250,"div",1),G(251,"div",2),s()(),a(252,"div",1)(253,"div",5)(254,"button",6),ee("click",function(){return i.AbrirModalArchivosPagos()}),G(255,"i",7),h(256," A\xF1adir Archivos de Pagos"),G(257,"span",8),s()()(),G(258,"hr"),a(259,"div",15)(260,"table",16)(261,"thead")(262,"tr")(263,"th",17),h(264,"#"),s(),a(265,"th",18),h(266,"Monto"),s(),a(267,"th",18),h(268,"Fecha de Pago"),s(),a(269,"th",18),h(270,"Hora de Pago"),s(),a(271,"th",18),h(272,"Observaci\xF3n"),s(),a(273,"th",18),h(274,"Estado Pago"),s(),a(275,"th",18),h(276,"ACCIONES"),s()()(),a(277,"tbody",23),Ee(278,qf,6,0,"tr",24)(279,Kf,3,0,"tr",24)(280,Xf,19,7,"tr",25),Re(281,"paginate"),s()(),a(282,"pagination-controls",26),ee("pageChange",function(o){return i.paginaArchivosPagos=o}),s()(),G(283,"hr"),a(284,"div",84)(285,"div",28)(286,"div",29)(287,"div",30)(288,"div",31)(289,"h1",32),h(290),s(),a(291,"button",33),ee("click",function(){return i.resetArchivosPagos()})("click",function(){return i.CancelarArchivosDropzone()}),s()()(),a(292,"div",34)(293,"div",35)(294,"div",40),G(295,"input",85),a(296,"label"),h(297,"monto"),s(),a(298,"div",42),h(299,"Este campo es obligatorio*"),s()(),a(300,"div",40),G(301,"input",86),a(302,"label"),h(303,"fechapago"),s(),a(304,"div",42),h(305,"Este campo es obligatorio*"),s()(),a(306,"div",40),G(307,"input",87),a(308,"label"),h(309,"horapago"),s(),a(310,"div",42),h(311,"Este campo es obligatorio*"),s()(),a(312,"div",40)(313,"textarea",88),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newArchivosPagos,"observacion")}),s(),a(314,"label"),h(315,"observacion"),s(),a(316,"div",42),h(317,"Este campo es obligatorio*"),s()(),a(318,"div",40)(319,"select",74)(320,"option",47),h(321,"Seleccione una opci\xF3n"),s(),a(322,"option",77),h(323,"PENDIENTE"),s(),a(324,"option",89),h(325,"CONFIRMADO"),s()(),a(326,"label"),h(327,"estado de pago"),s(),a(328,"div",42),h(329,"Este campo es obligatorio*"),s()(),a(330,"div",90)(331,"label",91),h(332,"Archivo"),s(),G(333,"div",92)(334,"hr"),a(335,"span"),h(336,"IMAGEN ACTUAL:"),s(),G(337,"img",93),s()()(),a(338,"div",52),Ee(339,Zf,6,0,"div",53),a(340,"div",54)(341,"div",55)(342,"button",56),ee("click",function(){return i.resetArchivosPagos()})("click",function(){return i.CancelarArchivosDropzone()}),G(343,"i",57),h(344," CANCELAR"),G(345,"span",8),s()(),a(346,"div",58),Ee(347,Yf,4,4,"button",59)(348,Jf,2,1,"button",60),s()()()()()()()()()()),t&2&&(C(19),Fe("ngModel",i.filtertxtPagos),C(28),z("ngIf",i.isLoadingPagos),C(),z("ngIf",!i.isLoadingPagos&&i.Pagos.length===0),C(),z("ngForOf",ke(51,55,ke(50,52,i.Pagos,i.filtertxtPagos),Xe(61,Bh,i.paginaPagos))),C(11),Se("",i.newPagos.get("id").value?"Modificar":"Registrar"," Pagos "),C(3),z("formGroup",i.newPagos),C(4),Fe("ngModel",i.filterInfoClientes),z("ngModelOptions",Gn(63,Tf)),C(),z("ngIf",!(i.filterInfoClientes==null||i.filterInfoClientes=="")),C(4),z("value",$e(i.nombreseleccionado))("ngClass",i.ValidacionPagosxElemento("id_infocliente")),C(6),z("ngClass",i.ValidacionPagosxElemento("precio")),C(6),z("ngClass",i.ValidacionPagosxElemento("horario")),C(6),z("ngClass",i.ValidacionPagosxElemento("fecha")),C(6),z("ngClass",i.ValidacionPagosxElemento("tipo")),C(12),z("ngClass",i.ValidacionPagosxElemento("descuento")),C(5),z("ngIf",!i.newPagos.get("id").value),C(2),z("ngIf",!i.newPagos.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalPagos),C(),z("ngIf",i.AnimacionCargabtnModalPagos),C(19),z("href",i.generateUrl(i.guardadodeid_infocliente),Ze),C(6),z("ngForOf",i.Ciclos),C(8),Se(" ",i.newCiclos.get("id").value?"Modificar":"Registrar"," Ciclos"),C(3),z("formGroup",i.newCiclos),C(2),z("ngClass",i.ValidacionCiclosxElemento("nrociclo")),C(6),z("ngClass",i.ValidacionCiclosxElemento("sesion")),C(6),z("ngClass",i.ValidacionCiclosxElemento("estadosesion")),C(12),z("ngClass",i.ValidacionCiclosxElemento("fecha")),C(6),z("ngClass",i.ValidacionCiclosxElemento("estadopago")),C(16),z("ngClass",i.ValidacionCiclosxElemento("eri")),C(3),z("ngForOf",i.MatrizERI),C(6),z("ngClass",i.ValidacionCiclosxElemento("cim")),C(3),z("ngForOf",i.MatrizCIM),C(8),z("modules",i._tools.modulesQuillEdicion),C(2),z("ngIf",!i.newCiclos.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalCiclos),C(),z("ngIf",i.AnimacionCargabtnModalCiclos),C(39),z("ngIf",i.isLoadingArchivosPagos),C(),z("ngIf",!i.isLoadingArchivosPagos&&i.ArchivosPagos.length===0),C(),z("ngForOf",ke(281,58,i.ArchivosPagos,Xe(64,Bh,i.paginaArchivosPagos))),C(10),Se(" ",i.newArchivosPagos.get("id").value?"Modificar":"Registrar"," ArchivosPagos"),C(3),z("formGroup",i.newArchivosPagos),C(2),z("ngClass",i.ValidacionArchivosPagosxElemento("monto")),C(6),z("ngClass",i.ValidacionArchivosPagosxElemento("fechapago")),C(6),z("ngClass",i.ValidacionArchivosPagosxElemento("horapago")),C(6),z("ngClass",i.ValidacionArchivosPagosxElemento("observacion")),C(6),z("ngClass",i.ValidacionArchivosPagosxElemento("estadopago")),C(18),z("src",i.ruta+i.newArchivosPagos.value.foto,Ze),C(2),z("ngIf",!i.newArchivosPagos.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalArchivosPagos),C(),z("ngIf",i.AnimacionCargabtnModalArchivosPagos))},dependencies:[ht,at,st,Et,yt,lt,vt,wt,ct,gt,ut,bt,_t,St,qn,xt,li,ni],styles:[".rectangle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(50,auto)}.group[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,15px);border:2px solid white;border-radius:10px}.group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;text-shadow:1px 1px 2px black}.circle-container[_ngcontent-%COMP%]{display:inline-block;padding:1px;border:1px solid rgb(255,255,255);border-radius:50%;text-align:center;line-height:1}"]});var Ir=Yi;var Qf=n=>({itemsPerPage:10,currentPage:n});function e0(n,e){n&1&&(a(0,"th",31),h(1,"Categoria"),s())}function t0(n,e){n&1&&(a(0,"th",31),h(1,"Titulo"),s())}function i0(n,e){if(n&1&&(a(0,"th",31),h(1),s()),n&2){let t=re();C(),ye(t.txtSubtituloIconotable)}}function n0(n,e){n&1&&(a(0,"th",31),h(1,"Descripci\xF3n"),s())}function r0(n,e){n&1&&(a(0,"th",31),h(1,"Etiqueta"),s())}function o0(n,e){n&1&&(a(0,"th",31),h(1,"Enlace"),s())}function a0(n,e){n&1&&(a(0,"th",31),h(1,"Costo"),s())}function s0(n,e){n&1&&(a(0,"th",31),h(1,"Cupos"),s())}function l0(n,e){n&1&&(a(0,"th",31),h(1,"Duracion"),s())}function c0(n,e){n&1&&(a(0,"th",31),h(1,"Fecha"),s())}function u0(n,e){n&1&&(a(0,"tr")(1,"td",58)(2,"div",59)(3,"div",60)(4,"span",61),h(5,"Loading..."),s()()()()())}function d0(n,e){n&1&&(a(0,"tr")(1,"td",58),h(2,"No hay datos disponibles"),s()())}function h0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgcategoria),C(),ye(t.categoria)}}function p0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgtitulo),C(),ye(t.titulo)}}function m0(n,e){if(n&1&&G(0,"td",72),n&2){let t=re().$implicit;De(Ne("",t.bgsubtitulo," text-center")),z("innerHTML",t.subtitulo,Gr)}}function f0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgdescripcion),C(),ye(t.descripcion)}}function g0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgetiqueta),C(),ye(t.etiqueta)}}function v0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bglink),C(),ye(t.link)}}function b0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgcosto),C(),ye(t.costo)}}function _0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgduracion),C(),ye(t.duracion)}}function w0(n,e){if(n&1&&(a(0,"td",71),h(1),s()),n&2){let t=re().$implicit;De(t.bgcupos),C(),ye(t.cupos)}}function E0(n,e){if(n&1&&(a(0,"td",71),h(1),Re(2,"dateFormat"),s()),n&2){let t=re().$implicit;De(t.bgfecha),C(),ye(mt(2,3,t.fecha))}}function y0(n,e){if(n&1&&(a(0,"a",73),G(1,"i",74),s()),n&2){let t=re().$implicit,i=re();z("href",i.ruta+t.archivo,Ze)}}function C0(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",62),h(2),s(),Ee(3,h0,2,3,"td",63)(4,p0,2,3,"td",63)(5,m0,1,4,"td",64)(6,f0,2,3,"td",63)(7,g0,2,3,"td",63)(8,v0,2,3,"td",63)(9,b0,2,3,"td",63)(10,_0,2,3,"td",63)(11,w0,2,3,"td",63)(12,E0,3,5,"td",63),a(13,"td",65)(14,"button",66),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarInicios(r.id))}),G(15,"i",67),s(),a(16,"button",68),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarInicios(r.id))}),G(17,"i",69),s(),Ee(18,y0,2,1,"a",70),s()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaInicios-1)*10+(t+1)),C(),z("ngIf",r.showtablecategoria),C(),z("ngIf",r.showtabletitulo),C(),z("ngIf",r.showtablesubtitulo),C(),z("ngIf",r.showtabledescripcion),C(),z("ngIf",r.showtableetiqueta),C(),z("ngIf",r.showtablelink),C(),z("ngIf",r.showtablecosto),C(),z("ngIf",r.showtablecosto),C(),z("ngIf",r.showtablecupos),C(),z("ngIf",r.showtablefecha),C(6),z("ngIf",!(i.archivo==null||i.archivo==""))}}function x0(n,e){if(n&1){let t=xe();a(0,"div",75)(1,"select",76),ee("change",function(r){se(t);let o=re();return le(o.VerificarTipoCategoria(r.target.value))}),a(2,"option",77),h(3,"Seleccione una opci\xF3n"),s(),a(4,"option",15),h(5,"BANNER"),s(),a(6,"option",16),h(7,"SERVICIO"),s(),a(8,"option",17),h(9,"PRECIO"),s(),a(10,"option",18),h(11,"GALERIA"),s(),a(12,"option",19),h(13,"CAROUSEL"),s(),a(14,"option",20),h(15,"RED SOCIAL"),s()(),a(16,"label"),h(17,"categoria"),s(),a(18,"div",78),h(19,"Este campo es obligatorio*"),s()()}if(n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("categoria"))}}function S0(n,e){if(n&1&&(a(0,"div",75)(1,"span",79),h(2),s()()),n&2){let t=re();C(2),Se("MODIFICANDO ",t.newInicios.controls.categoria.value)}}function A0(n,e){if(n&1){let t=xe();a(0,"div",75)(1,"input",80),ee("change",function(r){se(t);let o=re();return le(o._tools.EscribirEnMayuscula(r,o.newInicios,"titulo"))}),s(),a(2,"label"),h(3,"titulo"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()}if(n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("titulo"))}}function I0(n,e){if(n&1&&(a(0,"div",75),G(1,"input",81),a(2,"label"),h(3),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()),n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("subtitulo")),C(2),ye(t.txtSubtituloIcono)}}function T0(n,e){if(n&1){let t=xe();a(0,"div",75)(1,"textarea",82),ee("change",function(r){se(t);let o=re();return le(o._tools.EscribirEnMayuscula(r,o.newInicios,"descripcion"))}),s(),a(2,"label"),h(3,"descripcion"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()}if(n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("descripcion"))}}function M0(n,e){if(n&1){let t=xe();a(0,"div",75)(1,"input",83),ee("change",function(r){se(t);let o=re();return le(o._tools.EscribirEnMayuscula(r,o.newInicios,"etiqueta"))}),s(),a(2,"label"),h(3,"etiqueta"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()}if(n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("etiqueta"))}}function R0(n,e){if(n&1&&(a(0,"div",75),G(1,"input",84),a(2,"label"),h(3,"link"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()),n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("link"))}}function O0(n,e){if(n&1&&(a(0,"div",75),G(1,"input",85),a(2,"label"),h(3,"costo"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()),n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("costo"))}}function N0(n,e){if(n&1){let t=xe();a(0,"div",75)(1,"input",86),ee("change",function(r){se(t);let o=re();return le(o._tools.EscribirEnMayuscula(r,o.newInicios,"duracion"))}),s(),a(2,"label"),h(3,"duracion"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()}if(n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("duracion"))}}function D0(n,e){if(n&1&&(a(0,"div",75),G(1,"input",87),a(2,"label"),h(3,"cupos"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()),n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("cupos"))}}function k0(n,e){if(n&1&&(a(0,"div",75),G(1,"input",88),a(2,"label"),h(3,"fecha"),s(),a(4,"div",78),h(5,"Este campo es obligatorio*"),s()()),n&2){let t=re();C(),z("ngClass",t.ValidacionIniciosxElemento("fecha"))}}function P0(n,e){if(n&1){let t=xe();a(0,"div",89)(1,"button",90),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastInicios())}),G(2,"i",91),h(3," AUTO COMPLETAR "),G(4,"span",9)(5,"i",92),s(),a(6,"a",93),G(7,"i",94),h(8," IR A DOCUMENTACION PARA ICONOS "),s()()}}function L0(n,e){if(n&1){let t=xe();a(0,"button",95),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarInicios())}),G(1,"i",96),h(2),G(3,"span",9),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newInicios.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newInicios.get("id").value?"MODIFICAR":"REGISTRAR")}}function F0(n,e){if(n&1){let t=xe();a(0,"button",97),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarInicios())}),G(1,"span",98),s()}n&2&&z("disabled",!0)}var Ji=class Ji{constructor(e,t,i){this._ini=e;this._tools=t;this.http=i;this.ruta=ft.ruta;this.dataDropZone={iddropzone:"my-dropzone",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.filtercategoria="";this.showtitulo=!1;this.showsubtitulo=!1;this.showdescripcion=!1;this.showetiqueta=!1;this.showlink=!1;this.showcosto=!1;this.showcupos=!1;this.showfecha=!1;this.showarchivo=!1;this.showcategoria=!0;this.showduracion=!1;this.txtSubtituloIcono="Subtitulo";this.showtabletitulo=!0;this.showtablesubtitulo=!0;this.showtabledescripcion=!0;this.showtableetiqueta=!0;this.showtablelink=!0;this.showtablecosto=!0;this.showtablecupos=!0;this.showtablefecha=!0;this.showtablearchivo=!0;this.showtablecategoria=!0;this.showtableduracion=!0;this.txtSubtituloIconotable="Subtitulo|icono";this.Inicios=[];this.paginaInicios=1;this.isLoadingInicios=!0;this.AnimacionCargabtnModalInicios=!1;this.filtertxtInicios="";this.newInicios=this._ini.createFormGroupInicios(),this.newIniciosAnteriorAccion=this._ini.createFormGroupInicios()}ngOnInit(){this.CargarInicios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){var e=document.getElementById("my-dropzone");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),e&&Ct.instances.length>0&&Ct.instances.forEach(t=>{t.element===e&&(t.destroy(),e.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}VerificarTipoCategoria(e){switch(sessionStorage.setItem("CategoriaFile",e),e){case"BANNER":this.showtitulo=!0,this.showsubtitulo=!1,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"SERVICIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;case"PRECIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!0,this.showcupos=!0,this.showfecha=!0,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!0,this.txtSubtituloIcono="Subtitulo";break;case"GALERIA":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"CAROUSEL":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"RED SOCIAL":this.showtitulo=!1,this.showsubtitulo=!0,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;default:this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break}}VerificarTipoCategoriaTabla(e){switch(e){case"BANNER":this.showtabletitulo=!0,this.showtablesubtitulo=!1,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"SERVICIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;case"PRECIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!0,this.txtSubtituloIconotable="Subtitulo";break;case"GALERIA":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"CAROUSEL":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"RED SOCIAL":this.showtabletitulo=!1,this.showtablesubtitulo=!0,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;default:this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo|icono";break}}CargarInicios(){this.AnimarCargaTablaInicios(),this._ini.ObtenerInicios().subscribe(e=>{console.log("Inicios CARGADO",e.data),e.data.forEach(t=>{switch(t.categoria){case"BANNER":t.bgtitulo="",t.bgsubtitulo="bg-dark text-dark",t.bgdescripcion="",t.bgetiqueta="",t.bglink="",t.bgcosto="bg-dark text-dark",t.bgcupos="bg-dark text-dark",t.bgfecha="bg-dark text-dark",t.bgarchivo="bg-dark text-dark",t.bgcategoria="",t.bgduracion="bg-dark text-dark";break;case"SERVICIO":t.bgtitulo="",t.bgsubtitulo="",t.bgdescripcion="",t.bgetiqueta="bg-dark text-dark",t.bglink="bg-dark text-dark",t.bgcosto="bg-dark text-dark",t.bgcupos="bg-dark text-dark",t.bgfecha="bg-dark text-dark",t.bgarchivo="",t.bgcategoria="",t.bgduracion="bg-dark text-dark";break;case"PRECIO":t.bgtitulo="",t.bgsubtitulo="",t.bgdescripcion="",t.bgetiqueta="",t.bglink="",t.bgcosto="",t.bgcupos="",t.bgfecha="",t.bgarchivo="bg-dark text-dark",t.bgcategoria="",t.bgduracion="";break;case"GALERIA":t.bgtitulo="bg-dark text-dark",t.bgsubtitulo="bg-dark text-dark",t.bgdescripcion="bg-dark text-dark",t.bgetiqueta="bg-dark text-dark",t.bglink="bg-dark text-dark",t.bgcosto="bg-dark text-dark",t.bgcupos="bg-dark text-dark",t.bgfecha="",t.bgarchivo="",t.bgcategoria="",t.bgduracion="bg-dark text-dark";break;case"CAROUSEL":t.bgtitulo="bg-dark text-dark",t.bgsubtitulo="bg-dark text-dark",t.bgdescripcion="bg-dark text-dark",t.bgetiqueta="bg-dark text-dark",t.bglink="bg-dark text-dark",t.bgcosto="bg-dark text-dark",t.bgcupos="bg-dark text-dark",t.bgfecha="",t.bgarchivo="",t.bgcategoria="",t.bgduracion="bg-dark text-dark";break;case"RED SOCIAL":t.bgtitulo="bg-dark text-dark",t.bgsubtitulo="",t.bgdescripcion="bg-dark text-dark",t.bgetiqueta="bg-dark text-dark",t.bglink="",t.bgcosto="bg-dark text-dark",t.bgcupos="bg-dark text-dark",t.bgfecha="bg-dark text-dark",t.bgarchivo="bg-dark text-dark",t.bgcategoria="",t.bgduracion="bg-dark text-dark";break;default:break}}),this.Inicios=e.data,this.isLoadingInicios=!1},e=>{console.log("ERROR AL CARGAR Inicios",e),this.isLoadingInicios=!1})}AgregarModificarInicios(){if(this.newInicios.invalid){this.ValidacionTodoElementoInicios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInicios=!1;return}else{this.AnimarCargaTablaInicios(),this.AnimacionCargabtnModalInicios=!0,this._tools.MostrarMensajeLoading();let t=this.newInicios.controls.id.value;console.log("INFO A PROCESAR",this.newInicios.value);var e=sessionStorage.getItem("IMG");console.log("VALOR img",e),e==null||e==""||(this.newInicios.value.archivo=e),t?(console.log("DATA NUEVO",this.newInicios.value),console.log("DATA ANTERIOR",this.newIniciosAnteriorAccion.value),this._ini.ModificarInicios(this.newInicios.value,this.newInicios.value.id).subscribe(i=>{console.log("SE MODIFICO CORRECTAMENTE Inicios",i.data),this.CargarInicios(),this.AnimacionCargabtnModalInicios=!1,this.newIniciosAnteriorAccion.value.archivo==this.newInicios.value.archivo||this._tools.EliminarArchivo(this.newIniciosAnteriorAccion.value.archivo),this.resetInicios(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL MODIFICAR Inicios",i),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()})):(this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._ini.AgregarInicios(this.newInicios.value).subscribe(i=>{console.log("SE A\xD1ADIO CORRECTAMENTE Inicios",i.data),this.CargarInicios(),this.resetInicios(),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL A\xD1ADIR Inicios",i),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInicios(e){this._tools.MostrarMensajeLoading(),e&&this._ini.SeleccionarInicios(e).subscribe(t=>{Object.keys(this.newInicios.controls).forEach(i=>{this.newInicios.controls[i].setValue(t.data[i])}),console.log("SELECCION DE Inicios EXITOSA",this.newInicios.value),this.VerificarTipoCategoria(this.newInicios.controls.categoria.value),this.crearDropzone(),this.showcategoria=!1,this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._tools.abrirModal("modalgestionInicios"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Inicios",t),this._tools.MostrarMensajeError()})}EliminarInicios(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._ini.EliminarInicios(e).subscribe(i=>{console.log(i.data),this.CargarInicios(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR Inicios",i),this._tools.MostrarMensajeError()}))})}resetInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionInicios")}AbrirModalInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this.VerificarTipoCategoria(""),this._tools.abrirModal("modalgestionInicios")}AutoCompletarLastInicios(){this.newInicios.setValue(this.newIniciosAnteriorAccion.value),this.newInicios.patchValue({id:0}),console.log("listo",this.newInicios.value)}AnimarCargaTablaInicios(){this.Inicios=[],this.isLoadingInicios=!0}ValidacionIniciosxElemento(e){return this._tools.obtenerValidationClass(this.newInicios,e)}ValidacionTodoElementoInicios(){Object.values(this.newInicios.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}};Ji.\u0275fac=function(t){return new(t||Ji)(Me(_u),Me(Qe),Me(ti))},Ji.\u0275cmp=Ke({type:Ji,selectors:[["app-gestiondeinicios"]],standalone:!1,decls:111,vars:47,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","change","ngModel"],["value","","disabled","","selected",""],["value",""],["value","BANNER"],["value","SERVICIO"],["value","PRECIO"],["value","GALERIA"],["value","CAROUSEL"],["value","RED SOCIAL"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionInicios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"form-text"],["id","my-dropzone",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","12",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row",3,"class",4,"ngIf"],["scope","row",3,"class","innerHTML",4,"ngIf"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["scope","row"],["scope","row",3,"innerHTML"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"form-floating","mb-3","col-sm-12"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],["disabled","","selected","",3,"value"],[1,"invalid-feedback"],[1,"form-text","text-center"],["type","text","placeholder","","formControlName","titulo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","subtitulo",1,"form-control",3,"ngClass"],["placeholder","","formControlName","descripcion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["type","text","placeholder","","formControlName","etiqueta",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","link",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","costo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","cupos",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],["href","https://icons.getbootstrap.com/","target","_blank",1,"btn","mouse-dir","primary"],[1,"bi","bi-bootstrap"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,i){t&1&&(G(0,"hr"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),h(5,"Gesti\xF3n de Inicios"),s(),a(6,"p",4),h(7,"Administra toda la informaci\xF3n de los Inicios de manera sencilla y eficiente"),s()()()(),a(8,"div",5)(9,"div",6)(10,"button",7),ee("click",function(){return i.AbrirModalInicios()}),G(11,"i",8),h(12," A\xF1adir Inicios"),G(13,"span",9),s()(),a(14,"div",10)(15,"div",11)(16,"select",12),ee("input",function(){return i.paginaInicios=1}),Ue("ngModelChange",function(o){return ze(i.filtercategoria,o)||(i.filtercategoria=o),o}),ee("change",function(o){return i.VerificarTipoCategoriaTabla(o.target.value)}),a(17,"option",13),h(18,"Seleccione una opci\xF3n"),s(),a(19,"option",14),h(20,"TODA LA INFORMACI\xD3N"),s(),a(21,"option",15),h(22,"BANNER"),s(),a(23,"option",16),h(24,"SERVICIO"),s(),a(25,"option",17),h(26,"PRECIO"),s(),a(27,"option",18),h(28,"GALERIA"),s(),a(29,"option",19),h(30,"CAROUSEL"),s(),a(31,"option",20),h(32,"RED SOCIAL"),s()(),a(33,"label"),h(34,"Filtrar"),s()()(),a(35,"div",21)(36,"div",22)(37,"span",23),G(38,"i",24),s(),a(39,"div",25)(40,"input",26),ee("input",function(){return i.paginaInicios=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtInicios,o)||(i.filtertxtInicios=o),o}),s(),a(41,"label"),h(42,"Buscar"),s()()()()(),G(43,"hr"),a(44,"div",27)(45,"table",28)(46,"thead")(47,"tr")(48,"th",29),h(49,"#"),s(),Ee(50,e0,2,0,"th",30)(51,t0,2,0,"th",30)(52,i0,2,1,"th",30)(53,n0,2,0,"th",30)(54,r0,2,0,"th",30)(55,o0,2,0,"th",30)(56,a0,2,0,"th",30)(57,s0,2,0,"th",30)(58,l0,2,0,"th",30)(59,c0,2,0,"th",30),a(60,"th",31),h(61,"ACCIONES"),s()()(),a(62,"tbody",32),Ee(63,u0,6,0,"tr",33)(64,d0,3,0,"tr",33)(65,C0,19,12,"tr",34),Re(66,"filtercategoria"),Re(67,"filtercategoria"),Re(68,"paginate"),s()(),a(69,"pagination-controls",35),ee("pageChange",function(o){return i.paginaInicios=o}),s()(),G(70,"hr"),a(71,"div",36)(72,"div",37)(73,"div",38)(74,"div",39)(75,"div",40)(76,"h1",41),h(77),s(),a(78,"button",42),ee("click",function(){return i.resetInicios()})("click",function(){return i.CancelarArchivosDropzone()}),s()()(),a(79,"div",43)(80,"div",44),Ee(81,x0,20,1,"div",45)(82,S0,3,1,"div",45)(83,A0,6,1,"div",45)(84,I0,6,2,"div",45)(85,T0,6,1,"div",45)(86,M0,6,1,"div",45)(87,R0,6,1,"div",45)(88,O0,6,1,"div",45)(89,N0,6,1,"div",45)(90,D0,6,1,"div",45)(91,k0,6,1,"div",45),a(92,"div")(93,"label",46),h(94,"Archivo"),s(),G(95,"div",47)(96,"hr"),a(97,"span"),h(98,"IMAGEN ACTUAL:"),s(),G(99,"img",48),s()()(),a(100,"div",49),Ee(101,P0,9,0,"div",50),a(102,"div",51)(103,"div",52)(104,"button",53),ee("click",function(){return i.resetInicios()})("click",function(){return i.CancelarArchivosDropzone()}),G(105,"i",54),h(106," CANCELAR"),G(107,"span",9),s()(),a(108,"div",55),Ee(109,L0,4,4,"button",56)(110,F0,2,1,"button",57),s()()()()()()),t&2&&(C(16),Fe("ngModel",i.filtercategoria),C(24),Fe("ngModel",i.filtertxtInicios),C(10),z("ngIf",i.showtablecategoria),C(),z("ngIf",i.showtabletitulo),C(),z("ngIf",i.showtablesubtitulo),C(),z("ngIf",i.showtabledescripcion),C(),z("ngIf",i.showtableetiqueta),C(),z("ngIf",i.showtablelink),C(),z("ngIf",i.showtablecosto),C(),z("ngIf",i.showtablecupos),C(),z("ngIf",i.showtableduracion),C(),z("ngIf",i.showtablefecha),C(4),z("ngIf",i.isLoadingInicios),C(),z("ngIf",!i.isLoadingInicios&&i.Inicios.length===0),C(),z("ngForOf",ke(68,42,ke(67,39,ke(66,36,i.Inicios,i.filtercategoria),i.filtertxtInicios),Xe(45,Qf,i.paginaInicios))),C(12),Je("",i.newInicios.get("id").value?"MODIFICAR":"Registrar Inicio"," ",i.newInicios.controls.categoria.value),C(3),z("formGroup",i.newInicios),C(),z("ngIf",i.showcategoria),C(),z("ngIf",!i.showcategoria),C(),z("ngIf",i.showtitulo),C(),z("ngIf",i.showsubtitulo),C(),z("ngIf",i.showdescripcion),C(),z("ngIf",i.showetiqueta),C(),z("ngIf",i.showlink),C(),z("ngIf",i.showcosto),C(),z("ngIf",i.showduracion),C(),z("ngIf",i.showcupos),C(),z("ngIf",i.showfecha),C(),De(Ne("mb-3 col-sm-12 ",i.showarchivo==!0?"":"invisible")),C(7),z("src",i.ruta+i.newInicios.value.archivo,Ze),C(2),z("ngIf",!i.newInicios.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalInicios),C(),z("ngIf",i.AnimacionCargabtnModalInicios))},dependencies:[ht,at,st,Et,yt,lt,vt,wt,ct,gt,ut,bt,_t,St,xt,qi,ni],encapsulation:2});var Tr=Ji;var Qi=class Qi{transform(e,t){if(!t)return e;let i=t.trim().toLowerCase().split(" ").filter(r=>r);return e.filter(r=>i.every(o=>this.normalizarTexto(r.categoria).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.nombrematriz).toLowerCase().includes(this.normalizarTexto(o))||this.normalizarTexto(r.valor).toLowerCase().includes(this.normalizarTexto(o))))}normalizarTexto(e){return e==null&&(e=" "),e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}};Qi.\u0275fac=function(t){return new(t||Qi)},Qi.\u0275pipe=Nt({name:"filtercategorianombrematrizvalor",type:Qi,pure:!0,standalone:!1});var Mr=Qi;var jh=n=>({itemsPerPage:10,currentPage:n});function U0(n,e){if(n&1&&(a(0,"option",62),h(1),s()),n&2){let t=e.$implicit;z("value",$e(t.categoria)),C(),ye(t.categoria)}}function V0(n,e){n&1&&(a(0,"tr")(1,"td",63)(2,"div",64)(3,"div",65)(4,"span",66),h(5,"Loading..."),s()()()()())}function G0(n,e){n&1&&(a(0,"tr")(1,"td",63),h(2,"No hay datos disponibles"),s()())}function B0(n,e){if(n&1){let t=xe();a(0,"button",75),ee("click",function(){se(t);let r=re().$implicit,o=re();return le(o.SeleccionarMatrizEscalas(r.id,"SubMatrizEscalas"))}),G(1,"i",76),s()}}function j0(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",67),h(2),s(),a(3,"td",68),h(4),s(),a(5,"td",68),h(6),s(),a(7,"td",68),h(8),s(),a(9,"td",68),h(10),s(),a(11,"td",69)(12,"button",70),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarMatrizEscalas(r.id))}),G(13,"i",71),s(),a(14,"button",72),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarMatrizEscalas(r.id))}),G(15,"i",73),s(),Ee(16,B0,2,0,"button",74),s()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaMatrizEscalas-1)*10+(t+1)),C(2),ye(i.categoria),C(2),ye(i.nombrematriz),C(2),ye(i.valor),C(2),ye(i.multiplicar),C(6),z("ngIf",i.categoria=="OBJETIVOS")}}function H0(n,e){if(n&1){let t=xe();a(0,"div",77)(1,"button",78),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastMatrizEscalas())}),G(2,"i",79),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",80),s()()}}function W0(n,e){if(n&1){let t=xe();a(0,"button",81),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarMatrizEscalas())}),G(1,"i",82),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newMatrizEscalas.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR")}}function q0(n,e){if(n&1){let t=xe();a(0,"button",83),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarMatrizEscalas())}),G(1,"span",84),s()}n&2&&z("disabled",!0)}function K0(n,e){n&1&&(a(0,"tr")(1,"td",85)(2,"div",64)(3,"div",65)(4,"span",66),h(5,"Loading..."),s()()()()())}function $0(n,e){n&1&&(a(0,"tr")(1,"td",85),h(2,"No hay datos disponibles"),s()())}function X0(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",67),h(2),s(),a(3,"td",68),h(4),s(),a(5,"td",69)(6,"button",70),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarSubMatrizEscalas(r.id))}),G(7,"i",71),s(),a(8,"button",72),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarSubMatrizEscalas(r.id))}),G(9,"i",73),s()()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaSubMatrizEscalas-1)*10+(t+1)),C(2),ye(i.nombresubmatriz)}}function Z0(n,e){if(n&1){let t=xe();a(0,"div",77)(1,"button",78),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastSubMatrizEscalas())}),G(2,"i",79),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",80),s()()}}function Y0(n,e){if(n&1){let t=xe();a(0,"button",81),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarSubMatrizEscalas())}),G(1,"i",82),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newSubMatrizEscalas.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newSubMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR")}}function J0(n,e){if(n&1){let t=xe();a(0,"button",83),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarSubMatrizEscalas())}),G(1,"span",84),s()}n&2&&z("disabled",!0)}var en=class en{constructor(e,t,i){this._mescalas=e;this._tools=t;this._submescalas=i;this.MatrizEscalas=[];this.paginaMatrizEscalas=1;this.isLoadingMatrizEscalas=!0;this.AnimacionCargabtnModalMatrizEscalas=!1;this.filtertxtMatrizEscalas="";this.filtertxtMatrizEscalas1="";this.MatrizEscalasSelectCategoriasData=[];this.idMatrizEscalaSave=0;this.SubMatrizEscalas=[];this.paginaSubMatrizEscalas=1;this.isLoadingSubMatrizEscalas=!0;this.AnimacionCargabtnModalSubMatrizEscalas=!1;this.filtertxtSubMatrizEscalas="";this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this.newMatrizEscalasAnteriorAccion=this._mescalas.createFormGroupMatrizEscalas(),this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this.newSubMatrizEscalasAnteriorAccion=this._submescalas.createFormGroupSubMatrizEscalas()}ngOnInit(){this.CargarMatrizEscalas(),setTimeout(()=>{this.RefrescarFiltradorSelectCategoria()},2e3)}ngOnDestroy(){this._tools.cerrarModales()}RefrescarFiltradorSelectCategoria(){var e=[];this.MatrizEscalas.forEach(i=>{e.push(i.categoria)}),Array.from(new Set(e)).forEach(i=>{this.MatrizEscalasSelectCategoriasData.push({categoria:i})}),console.log(this.MatrizEscalasSelectCategoriasData)}CargarMatrizEscalas(){this.AnimarCargaTablaMatrizEscalas(),this._mescalas.ObtenerMatrizEscalas().subscribe(e=>{console.log("MatrizEscalas CARGADO",e.data),this.MatrizEscalas=e.data,this.isLoadingMatrizEscalas=!1},e=>{console.log("ERROR AL CARGAR MatrizEscalas",e),this.isLoadingMatrizEscalas=!1})}AgregarModificarMatrizEscalas(){if(this.newMatrizEscalas.invalid){this.ValidacionTodoElementoMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalMatrizEscalas=!1;return}else{this.AnimarCargaTablaMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let e=this.newMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newMatrizEscalas.value),e?this._mescalas.ModificarMatrizEscalas(this.newMatrizEscalas.value,this.newMatrizEscalas.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE MatrizEscalas",t.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR MatrizEscalas",t),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._mescalas.AgregarMatrizEscalas(this.newMatrizEscalas.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE MatrizEscalas",t.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR MatrizEscalas",t),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarMatrizEscalas(e,t){switch(t){case"SubMatrizEscalas":this.idMatrizEscalaSave=e,this.CargarSubMatrizEscalas(),this._tools.abrirModal("ModalAllGestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),e&&this._mescalas.SeleccionarMatrizEscalas(e).subscribe(i=>{Object.keys(this.newMatrizEscalas.controls).forEach(r=>{this.newMatrizEscalas.controls[r].setValue(i.data[r])}),console.log("SELECCION DE MatrizEscalas EXITOSA",this.newMatrizEscalas.value),this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._tools.abrirModal("modalgestionMatrizEscalas"),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL SELECCIONAR MatrizEscalas",i),this._tools.MostrarMensajeError()});break}}EliminarMatrizEscalas(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._mescalas.EliminarMatrizEscalas(e).subscribe(i=>{console.log(i.data),this.CargarMatrizEscalas(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR MatrizEscalas",i),this._tools.MostrarMensajeError()}))})}resetMatrizEscalas(){this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this._tools.cerrarModal("modalgestionMatrizEscalas")}AbrirModalMatrizEscalas(){this.newMatrizEscalas.reset(),this._tools.abrirModal("modalgestionMatrizEscalas")}AutoCompletarLastMatrizEscalas(){this.newMatrizEscalas.setValue(this.newMatrizEscalasAnteriorAccion.value),this.newMatrizEscalas.patchValue({id:0}),console.log("listo",this.newMatrizEscalas.value)}AnimarCargaTablaMatrizEscalas(){this.MatrizEscalas=[],this.isLoadingMatrizEscalas=!0}ValidacionMatrizEscalasxElemento(e){return this._tools.obtenerValidationClass(this.newMatrizEscalas,e)}ValidacionTodoElementoMatrizEscalas(){Object.values(this.newMatrizEscalas.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}CargarSubMatrizEscalas(){this.AnimarCargaTablaSubMatrizEscalas(),this._submescalas.SeleccionarAllInformacionSubMatrizEscala(this.idMatrizEscalaSave).subscribe(e=>{console.log("SubMatrizEscalas CARGADO",e.data),this.SubMatrizEscalas=e.data,this.isLoadingSubMatrizEscalas=!1},e=>{console.log("ERROR AL CARGAR SubMatrizEscalas",e),this.isLoadingSubMatrizEscalas=!1})}AgregarModificarSubMatrizEscalas(){if(this.newSubMatrizEscalas.invalid){this.ValidacionTodoElementoSubMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubMatrizEscalas=!1;return}else{this.AnimarCargaTablaSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let e=this.newSubMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newSubMatrizEscalas.value),e?this._submescalas.ModificarSubMatrizEscalas(this.newSubMatrizEscalas.value,this.newSubMatrizEscalas.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE SubMatrizEscalas",t.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR SubMatrizEscalas",t),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._submescalas.AgregarSubMatrizEscalas(this.newSubMatrizEscalas.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubMatrizEscalas",t.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR SubMatrizEscalas",t),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubMatrizEscalas(e){this._tools.MostrarMensajeLoading(),e&&this._submescalas.SeleccionarSubMatrizEscalas(e).subscribe(t=>{Object.keys(this.newSubMatrizEscalas.controls).forEach(i=>{this.newSubMatrizEscalas.controls[i].setValue(t.data[i])}),console.log("SELECCION DE SubMatrizEscalas EXITOSA",this.newSubMatrizEscalas.value),this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._tools.abrirModal("modalgestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()})}EliminarSubMatrizEscalas(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._submescalas.EliminarSubMatrizEscalas(e).subscribe(i=>{console.log(i.data),this.CargarSubMatrizEscalas(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR SubMatrizEscalas",i),this._tools.MostrarMensajeError()}))})}resetSubMatrizEscalas(){this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this._tools.cerrarModal("modalgestionSubMatrizEscalas")}AbrirModalSubMatrizEscalas(){this.newSubMatrizEscalas.reset(),this.newSubMatrizEscalas.patchValue({id_matrizescala:this.idMatrizEscalaSave}),this._tools.abrirModal("modalgestionSubMatrizEscalas")}AutoCompletarLastSubMatrizEscalas(){this.newSubMatrizEscalas.setValue(this.newSubMatrizEscalasAnteriorAccion.value),this.newSubMatrizEscalas.patchValue({id:0}),console.log("listo",this.newSubMatrizEscalas.value)}AnimarCargaTablaSubMatrizEscalas(){this.SubMatrizEscalas=[],this.isLoadingSubMatrizEscalas=!0}ValidacionSubMatrizEscalasxElemento(e){return this._tools.obtenerValidationClass(this.newSubMatrizEscalas,e)}ValidacionTodoElementoSubMatrizEscalas(){Object.values(this.newSubMatrizEscalas.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}};en.\u0275fac=function(t){return new(t||en)(Me(ii),Me(Qe),Me(xu))},en.\u0275cmp=Ke({type:en,selectors:[["app-gestiondematrizdeescalas"]],standalone:!1,decls:181,vars:41,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-9","d-flex","justify-content-end"],["title","REFRESAR TABLA",1,"input-group-text",3,"click"],[1,"bi","bi-cloud-download"],["title","REFRESAR SELECT",1,"input-group-text",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3","col-sm-12"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["type","text","placeholder","","formControlName","categoria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombrematriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","valor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","multiplicar",1,"form-control",3,"ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group-text"],[1,"bi","bi-search"],["id","modalgestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","nombresubmatriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[3,"value"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Gestionar Sub Matriz","class","btn btn-primary p-1 py-0",3,"click",4,"ngIf"],["title","Gestionar Sub Matriz",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-subtract",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","3",1,"text-center"]],template:function(t,i){t&1&&(G(0,"hr"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),h(5,"Gesti\xF3n de MatrizEscalas"),s(),a(6,"p",4),h(7,"Administra toda la informaci\xF3n de los MatrizEscalas de manera sencilla y eficiente"),s()()()(),a(8,"div",1)(9,"div",5)(10,"button",6),ee("click",function(){return i.AbrirModalMatrizEscalas()}),G(11,"i",7),h(12," A\xF1adir MatrizEscalas"),G(13,"span",8),s()(),a(14,"div",9)(15,"button",10),ee("click",function(){return i.CargarMatrizEscalas()}),G(16,"i",11),s(),a(17,"button",12),ee("click",function(){return i.RefrescarFiltradorSelectCategoria()}),G(18,"i",13),s(),a(19,"div",14)(20,"div",15)(21,"select",16),ee("input",function(){return i.paginaMatrizEscalas=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtMatrizEscalas1,o)||(i.filtertxtMatrizEscalas1=o),o}),a(22,"option",17),h(23,"Seleccione una opci\xF3n"),s(),a(24,"option",18),h(25,"TODA LA INFORMACI\xD3N"),s(),Ee(26,U0,2,3,"option",19),s(),a(27,"label"),h(28,"Filtrar"),s()()(),a(29,"div",14)(30,"div",20)(31,"div",21)(32,"input",22),ee("input",function(){return i.paginaMatrizEscalas=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtMatrizEscalas,o)||(i.filtertxtMatrizEscalas=o),o}),s(),a(33,"label"),h(34,"Buscar"),s()()()()()(),G(35,"hr"),a(36,"div",23)(37,"table",24)(38,"thead")(39,"tr")(40,"th",25),h(41,"#"),s(),a(42,"th",26),h(43,"Categoria"),s(),a(44,"th",26),h(45,"Nombre de Matriz"),s(),a(46,"th",26),h(47,"Valor"),s(),a(48,"th",26),h(49,"Multiplicar X?"),s(),a(50,"th",26),h(51,"ACCIONES"),s()()(),a(52,"tbody",27),Ee(53,V0,6,0,"tr",28)(54,G0,3,0,"tr",28)(55,j0,17,6,"tr",29),Re(56,"filtercategorianombrematrizvalor"),Re(57,"filtercategorianombrematrizvalor"),Re(58,"paginate"),s()(),a(59,"pagination-controls",30),ee("pageChange",function(o){return i.paginaMatrizEscalas=o}),s()(),G(60,"hr"),a(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"div",35)(66,"h1",36),h(67),s(),a(68,"button",37),ee("click",function(){return i.resetMatrizEscalas()}),s()()(),a(69,"div",38)(70,"div",39)(71,"div",15)(72,"input",40),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newMatrizEscalas,"categoria")}),s(),a(73,"label"),h(74,"categoria"),s(),a(75,"div",41),h(76,"Este campo es obligatorio*"),s()(),a(77,"div",15)(78,"input",42),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newMatrizEscalas,"nombrematriz")}),s(),a(79,"label"),h(80,"nombrematriz"),s(),a(81,"div",41),h(82,"Este campo es obligatorio*"),s()(),a(83,"div",15)(84,"input",43),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newMatrizEscalas,"valor")}),s(),a(85,"label"),h(86,"valor"),s(),a(87,"div",41),h(88,"Este campo es obligatorio*"),s()(),a(89,"div",15),G(90,"input",44),a(91,"label"),h(92,"multiplicar X2"),s(),a(93,"div",41),h(94,"Este campo es obligatorio*"),s()()()(),a(95,"div",45),Ee(96,H0,6,0,"div",46),a(97,"div",47)(98,"div",48)(99,"button",49),ee("click",function(){return i.resetMatrizEscalas()}),G(100,"i",50),h(101," CANCELAR"),G(102,"span",8),s()(),a(103,"div",51),Ee(104,W0,4,4,"button",52)(105,q0,2,1,"button",53),s()()()()()(),a(106,"div",54)(107,"div",32)(108,"div",33)(109,"div",34)(110,"h1",55),h(111,"Modal Gesti\xF3n Sub Matriz Escalas (Objetivos)"),s(),G(112,"button",56),s(),a(113,"div",38),G(114,"hr"),a(115,"div",0)(116,"div",1)(117,"div",2)(118,"h1",3),h(119,"Gesti\xF3n de SubMatrizEscalas"),s(),a(120,"p",4),h(121,"Administra toda la informaci\xF3n de los SubMatrizEscalas de manera sencilla y eficiente"),s()()()(),a(122,"div",1)(123,"div",5)(124,"button",6),ee("click",function(){return i.AbrirModalSubMatrizEscalas()}),G(125,"i",7),h(126," A\xF1adir SubMatrizEscalas"),G(127,"span",8),s()(),a(128,"div",57)(129,"div",20)(130,"span",58),G(131,"i",59),s(),a(132,"div",21)(133,"input",22),ee("input",function(){return i.paginaSubMatrizEscalas=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtSubMatrizEscalas,o)||(i.filtertxtSubMatrizEscalas=o),o}),s(),a(134,"label"),h(135,"Buscar"),s()()()()(),G(136,"hr"),a(137,"div",23)(138,"table",24)(139,"thead")(140,"tr")(141,"th",25),h(142,"#"),s(),a(143,"th",26),h(144,"Nombre de Sub Matriz"),s(),a(145,"th",26),h(146,"ACCIONES"),s()()(),a(147,"tbody",27),Ee(148,K0,6,0,"tr",28)(149,$0,3,0,"tr",28)(150,X0,10,2,"tr",29),Re(151,"paginate"),s()(),a(152,"pagination-controls",30),ee("pageChange",function(o){return i.paginaSubMatrizEscalas=o}),s()(),G(153,"hr"),a(154,"div",60)(155,"div",32)(156,"div",33)(157,"div",34)(158,"div",35)(159,"h1",36),h(160),s(),a(161,"button",37),ee("click",function(){return i.resetSubMatrizEscalas()}),s()()(),a(162,"div",38)(163,"div",39)(164,"div",15)(165,"input",61),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newSubMatrizEscalas,"nombresubmatriz")}),s(),a(166,"label"),h(167,"Nombre Sub Matriz"),s(),a(168,"div",41),h(169,"Este campo es obligatorio*"),s()()()(),a(170,"div",45),Ee(171,Z0,6,0,"div",46),a(172,"div",47)(173,"div",48)(174,"button",49),ee("click",function(){return i.resetSubMatrizEscalas()}),G(175,"i",50),h(176," CANCELAR"),G(177,"span",8),s()(),a(178,"div",51),Ee(179,Y0,4,4,"button",52)(180,J0,2,1,"button",53),s()()()()()()()()()()),t&2&&(C(21),Fe("ngModel",i.filtertxtMatrizEscalas1),C(5),z("ngForOf",i.MatrizEscalasSelectCategoriasData),C(6),Fe("ngModel",i.filtertxtMatrizEscalas),C(21),z("ngIf",i.isLoadingMatrizEscalas),C(),z("ngIf",!i.isLoadingMatrizEscalas&&i.MatrizEscalas.length===0),C(),z("ngForOf",ke(58,31,ke(57,28,ke(56,25,i.MatrizEscalas,i.filtertxtMatrizEscalas),i.filtertxtMatrizEscalas1),Xe(37,jh,i.paginaMatrizEscalas))),C(12),Se("",i.newMatrizEscalas.get("id").value?"Modificar":"Registrar"," MatrizEscalas"),C(3),z("formGroup",i.newMatrizEscalas),C(2),z("ngClass",i.ValidacionMatrizEscalasxElemento("categoria")),C(6),z("ngClass",i.ValidacionMatrizEscalasxElemento("nombrematriz")),C(6),z("ngClass",i.ValidacionMatrizEscalasxElemento("valor")),C(6),z("ngClass",i.ValidacionMatrizEscalasxElemento("multiplicar")),C(6),z("ngIf",!i.newMatrizEscalas.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalMatrizEscalas),C(),z("ngIf",i.AnimacionCargabtnModalMatrizEscalas),C(28),Fe("ngModel",i.filtertxtSubMatrizEscalas),C(15),z("ngIf",i.isLoadingSubMatrizEscalas),C(),z("ngIf",!i.isLoadingSubMatrizEscalas&&i.SubMatrizEscalas.length===0),C(),z("ngForOf",ke(151,34,i.SubMatrizEscalas,Xe(39,jh,i.paginaSubMatrizEscalas))),C(10),Se("",i.newSubMatrizEscalas.get("id").value?"Modificar":"Registrar"," SubMatrizEscalas"),C(3),z("formGroup",i.newSubMatrizEscalas),C(2),z("ngClass",i.ValidacionSubMatrizEscalasxElemento("nombresubmatriz")),C(6),z("ngIf",!i.newSubMatrizEscalas.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalSubMatrizEscalas),C(),z("ngIf",i.AnimacionCargabtnModalSubMatrizEscalas))},dependencies:[ht,at,st,Et,yt,lt,vt,wt,ct,gt,ut,bt,_t,St,xt,Mr],encapsulation:2});var Rr=en;var Q0=()=>({standalone:!0}),Bc=n=>({itemsPerPage:10,currentPage:n}),eg=n=>({itemsPerPage:3,currentPage:n}),Hh=n=>({checked:n,"custom-border":!0});function tg(n,e){n&1&&(a(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),h(5,"Loading..."),s()()()()())}function ig(n,e){n&1&&(a(0,"tr")(1,"td",78),h(2,"No hay datos disponibles"),s()())}function ng(n,e){n&1&&(ui(0),G(1,"hr",95),di())}function rg(n,e){if(n&1&&(a(0,"li"),h(1),Ee(2,ng,2,0,"ng-container",59),s()),n&2){let t=e.$implicit,i=e.last;C(),Se(" ",t," "),C(),z("ngIf",!i)}}function og(n,e){n&1&&(ui(0),G(1,"hr",95),di())}function ag(n,e){if(n&1&&(a(0,"li"),h(1),Ee(2,og,2,0,"ng-container",59),s()),n&2){let t=e.$implicit,i=e.last;C(),Se(" ",t," "),C(),z("ngIf",!i)}}function sg(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",82),h(2),s(),a(3,"td",83),h(4),s(),a(5,"td",83),h(6),a(7,"div",84)(8,"small",85),h(9),s()()(),a(10,"td",86)(11,"ul",87),Ee(12,rg,3,2,"li",77),s()(),a(13,"td",86)(14,"ul",87),Ee(15,ag,3,2,"li",77),s()(),a(16,"td",83),h(17),a(18,"div",84)(19,"small",85),h(20),s()()(),a(21,"td",83),h(22),s(),a(23,"td",88)(24,"button",89),ee("click",function(){let r=se(t).$implicit,o=re(3);return le(o.SeleccionarPlandeIntervencions(r.id,"SubPlandeIntervencions"))}),G(25,"i",90),s(),a(26,"button",91),ee("click",function(){let r=se(t).$implicit,o=re(3);return le(o.SeleccionarPlandeIntervencions(r.id,"default"))}),G(27,"i",92),s(),a(28,"button",93),ee("click",function(){let r=se(t).$implicit,o=re(3);return le(o.EliminarPlandeIntervencions(r.id))}),G(29,"i",94),s()()()}if(n&2){let t=e.$implicit,i=e.index,r=re(3);C(2),ye((r.paginaPlandeIntervencions-1)*10+(i+1)),C(2),ye(t.momento),C(2),Se(" ",t.objetivo," "),C(3),Se("Foco: ",t.foco),C(3),z("ngForOf",r.getRecursosMusicalesList(t)),C(3),z("ngForOf",r.getEnfasisMusicalList(t)),C(2),Se("",t.mlt," "),C(3),Se("Enfoque: ",t.enfoque),C(2),ye(t.duracion)}}function lg(n,e){if(n&1&&(a(0,"div",63)(1,"div",64)(2,"div",65)(3,"button",66),G(4,"i",67),s()(),a(5,"div",68)(6,"span",69),h(7),s()(),a(8,"div",65)(9,"span",69),h(10),Re(11,"dateFormat"),s(),a(12,"button",70),G(13,"i",67),s()()(),a(14,"div",71)(15,"div",72)(16,"table",73)(17,"thead")(18,"tr")(19,"th",74),h(20,"#"),s(),a(21,"th",75),h(22,"Momento"),s(),a(23,"th",75),h(24,"Objetivo/Foco"),s(),a(25,"th",75),h(26,"Recursos Musicales"),s(),a(27,"th",75),h(28,"Enfasis Musical"),s(),a(29,"th",75),h(30,"MLT/Enfoque"),s(),a(31,"th",75),h(32,"Duraci\xF3n"),s(),a(33,"th",75),h(34,"ACCIONES"),s()()(),a(35,"tbody",76),Ee(36,tg,6,0,"tr",59)(37,ig,3,0,"tr",59)(38,sg,30,9,"tr",77),s()()()()()),n&2){let t=e.$implicit,i=re(2);C(3),Dt("data-bs-target","#collapseCar"+t.id),C(4),ye(t.apellidos+" "+t.nombres),C(3),Se("Fecha de Admisi\xF3n: ",mt(11,8,t.fechaadmision)),C(2),Dt("data-bs-target","#collapseCar"+t.id),C(2),z("id","collapseCar"+t.id),C(22),z("ngIf",i.isLoadingPlandeIntervencions),C(),z("ngIf",!i.isLoadingPlandeIntervencions&&i.PlandeIntervencions.length===0),C(),z("ngForOf",t.intervenciones)}}function cg(n,e){if(n&1){let t=xe();a(0,"div",1)(1,"div",61),Ee(2,lg,39,10,"div",62),Re(3,"filterapellidosnombrescarnet"),Re(4,"paginate"),a(5,"pagination-controls",30),ee("pageChange",function(r){se(t);let o=re();return le(o.paginaPlandeIntervencions=r)}),s()()()}if(n&2){let t=re();C(2),z("ngForOf",ke(4,4,ke(3,1,t.PlandeIntervencions,t.filtertxtPlandeIntervencions),Xe(7,Bc,t.paginaPlandeIntervencions)))}}function ug(n,e){n&1&&(a(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),h(5,"Loading..."),s()()()()())}function dg(n,e){n&1&&(a(0,"tr")(1,"td",78),h(2,"No hay datos disponibles"),s()())}function hg(n,e){n&1&&(ui(0),G(1,"hr",95),di())}function pg(n,e){if(n&1&&(a(0,"li"),h(1),Ee(2,hg,2,0,"ng-container",59),s()),n&2){let t=e.$implicit,i=e.last;C(),Se(" ",t," "),C(),z("ngIf",!i)}}function mg(n,e){n&1&&(ui(0),G(1,"hr",95),di())}function fg(n,e){if(n&1&&(a(0,"li"),h(1),Ee(2,mg,2,0,"ng-container",59),s()),n&2){let t=e.$implicit,i=e.last;C(),Se(" ",t," "),C(),z("ngIf",!i)}}function gg(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",82),h(2),s(),a(3,"td",83),h(4),a(5,"div",84)(6,"small",85),h(7),Re(8,"dateFormat"),s()()(),a(9,"td",83),h(10),s(),a(11,"td",83),h(12),a(13,"div",84)(14,"small",85),h(15),s()()(),a(16,"td",86)(17,"ul",87),Ee(18,pg,3,2,"li",77),s()(),a(19,"td",86)(20,"ul",87),Ee(21,fg,3,2,"li",77),s()(),a(22,"td",83),h(23),a(24,"div",84)(25,"small",85),h(26),s()()(),a(27,"td",83),h(28),s(),a(29,"td",88)(30,"button",89),ee("click",function(){let r=se(t).$implicit,o=re(2);return le(o.SeleccionarPlandeIntervencions(r.id,"SubPlandeIntervencions"))}),G(31,"i",90),s(),a(32,"button",91),ee("click",function(){let r=se(t).$implicit,o=re(2);return le(o.SeleccionarPlandeIntervencions(r.id))}),G(33,"i",92),s(),a(34,"button",93),ee("click",function(){let r=se(t).$implicit,o=re(2);return le(o.EliminarPlandeIntervencions(r.id))}),G(35,"i",94),s()()()}if(n&2){let t=e.$implicit,i=e.index,r=re(2);C(2),ye((r.paginaPlandeIntervencions-1)*10+(i+1)),C(2),Se("",t.apellidos+" "+t.nombres," "),C(3),Se("Admisi\xF3n: ",mt(8,11,t.fechaadmision)),C(3),ye(t.momento),C(2),Se("",t.objetivo," "),C(3),Se("Foco: ",t.foco),C(3),z("ngForOf",r.getRecursosMusicalesList(t)),C(3),z("ngForOf",r.getEnfasisMusicalList(t)),C(2),Se("",t.mlt," "),C(3),Se("Enfoque: ",t.enfoque),C(2),ye(t.duracion)}}function vg(n,e){if(n&1){let t=xe();a(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),h(5,"#"),s(),a(6,"th",75),h(7,"Apellidos nombres"),s(),a(8,"th",75),h(9,"Momento"),s(),a(10,"th",75),h(11,"Objetivo"),s(),a(12,"th",75),h(13,"Recursos Musicales"),s(),a(14,"th",75),h(15,"Enfasis Musical"),s(),a(16,"th",75),h(17,"MLT"),s(),a(18,"th",75),h(19,"Duraci\xF3n"),s(),a(20,"th",75),h(21,"ACCIONES"),s()()(),a(22,"tbody",76),Ee(23,ug,6,0,"tr",59)(24,dg,3,0,"tr",59)(25,gg,36,13,"tr",77),Re(26,"filterapellidosnombrescarnet"),Re(27,"paginate"),s()(),a(28,"pagination-controls",30),ee("pageChange",function(r){se(t);let o=re();return le(o.paginaPlandeIntervencions=r)}),s()()}if(n&2){let t=re();C(23),z("ngIf",t.isLoadingPlandeIntervencions),C(),z("ngIf",!t.isLoadingPlandeIntervencions&&t.PlandeIntervencions.length===0),C(),z("ngForOf",ke(27,6,ke(26,3,t.PlandeIntervencions,t.filtertxtPlandeIntervencions),Xe(9,Bc,t.paginaPlandeIntervencions)))}}function bg(n,e){if(n&1){let t=xe();a(0,"div",98),ee("click",function(r){let o=se(t).$implicit,d=re(2);return le(d.SeleccionandoInfoCliente(r,o))}),a(1,"div",99)(2,"h5",100),h(3),s(),a(4,"small"),h(5),s()(),a(6,"p",100),h(7),s()()}if(n&2){let t=e.$implicit;C(3),Je("",t.nombres," ",t.apellidos),C(2),Se("Carnet: ",t.carnet),C(2),Se("Fecha de Admisi\xF3n: ",t.fechaadmision)}}function _g(n,e){if(n&1&&(a(0,"div",96),Ee(1,bg,8,4,"div",97),Re(2,"filterapellidosnombrescarnet"),Re(3,"paginate"),s()),n&2){let t=re();C(),z("ngForOf",ke(3,4,ke(2,1,t.InfoClientes,t.filterInfoClientes),Xe(7,eg,t.paginaInfoClientes)))}}function wg(n,e){if(n&1&&(a(0,"option",101),h(1),s()),n&2){let t=e.$implicit;z("value",$e(t.nombrematriz)),C(),ye(t.nombrematriz)}}function Eg(n,e){if(n&1&&(a(0,"option",101),h(1),s()),n&2){let t=e.$implicit;z("value",t.nombrematriz),C(),ye(t.nombrematriz)}}function yg(n,e){if(n&1&&(a(0,"option",101),h(1),s()),n&2){let t=e.$implicit;z("value",t.nombresubmatriz),C(),ye(t.nombresubmatriz)}}function Cg(n,e){if(n&1&&(a(0,"option",101),h(1),s()),n&2){let t=e.$implicit;z("value",$e(t.nombrematriz)),C(),ye(t.nombrematriz)}}function xg(n,e){if(n&1&&(a(0,"option",101),h(1),s()),n&2){let t=e.$implicit;z("value",$e(t.nombrematriz)),C(),ye(t.nombrematriz)}}function Sg(n,e){if(n&1){let t=xe();a(0,"div",102)(1,"button",103),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastPlandeIntervencions())}),G(2,"i",104),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",105),s()()}}function Ag(n,e){if(n&1){let t=xe();a(0,"button",106),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarPlandeIntervencions())}),G(1,"i",107),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newPlandeIntervencions.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR")}}function Ig(n,e){if(n&1){let t=xe();a(0,"button",108),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarPlandeIntervencions())}),G(1,"span",109),s()}n&2&&z("disabled",!0)}function Tg(n,e){n&1&&(a(0,"div",116)(1,"span",81),h(2,"Loading..."),s()())}function Mg(n,e){if(n&1){let t=xe();a(0,"div",112)(1,"input",113),ee("click",function(r){let o=se(t).$implicit,d=re(2);return le(d.AccionCheckearAddSubIntervencions(o,r))}),s(),Ee(2,Tg,3,0,"div",114),a(3,"label",115),h(4),s()()}if(n&2){let t=e.$implicit,i=e.index,r=re(2);z("ngClass",Xe(8,Hh,r.isChecked("RECURSOS MUSICALES",t.nombrematriz))),C(),z("id","checkboxMatrizRecursosMusicales"+i)("value",t.nombrematriz)("checked",r.isChecked("RECURSOS MUSICALES",t.nombrematriz))("disabled",r.isLoading[i]),C(),z("ngIf",r.isLoading[i]),C(),z("for","checkboxMatrizRecursosMusicales"+i),C(),ye(t.nombrematriz)}}function Rg(n,e){n&1&&(a(0,"div",116)(1,"span",81),h(2,"Loading..."),s()())}function Og(n,e){if(n&1){let t=xe();a(0,"div",112)(1,"input",113),ee("click",function(r){let o=se(t).$implicit,d=re(2);return le(d.AccionCheckearAddSubIntervencions(o,r))}),s(),Ee(2,Rg,3,0,"div",114),a(3,"label",115),h(4),s()()}if(n&2){let t=e.$implicit,i=e.index,r=re(2);z("ngClass",Xe(8,Hh,r.isChecked("ENFASIS MUSICAL",t.nombrematriz))),C(),z("id","checkboxMatrizEnfasisMusical"+i)("value",t.nombrematriz)("checked",r.isChecked("ENFASIS MUSICAL",t.nombrematriz))("disabled",r.isLoading[i]),C(),z("ngIf",r.isLoading[i]),C(),z("for","checkboxMatrizEnfasisMusical"+i),C(),ye(t.nombrematriz)}}function Ng(n,e){if(n&1&&(a(0,"div"),G(1,"hr"),a(2,"h3",84),h(3,"RECURSOS MUSICALES"),s(),a(4,"div",110),Ee(5,Mg,5,10,"div",111),s(),G(6,"hr"),a(7,"h3",84),h(8,"ENFASIS MUSICAL"),s(),a(9,"div",110),Ee(10,Og,5,10,"div",111),s(),G(11,"hr"),s()),n&2){let t=re();C(5),z("ngForOf",t.MatrizRecursosMusicales),C(5),z("ngForOf",t.MatrizEnfasisMusical)}}function Dg(n,e){n&1&&(a(0,"tr")(1,"td",117)(2,"div",79)(3,"div",80)(4,"span",81),h(5,"Loading..."),s()()()()())}function kg(n,e){n&1&&(a(0,"tr")(1,"td",117),h(2,"No hay datos disponibles"),s()())}function Pg(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",82),h(2),s(),a(3,"td",83),h(4),s(),a(5,"td",83),h(6),s(),a(7,"td",88)(8,"button",93),ee("click",function(){let r=se(t).$implicit,o=re(2);return le(o.EliminarSubPlandeIntervencions(r.id))}),G(9,"i",94),s()()()}if(n&2){let t=e.index,i=e.$implicit,r=re(2);C(2),ye((r.paginaSubPlandeIntervencions-1)*10+(t+1)),C(2),ye(i.categoria),C(2),ye(i.nombre)}}function Lg(n,e){if(n&1){let t=xe();a(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),h(5,"#"),s(),a(6,"th",75),h(7,"Categoria"),s(),a(8,"th",75),h(9,"Nombre"),s(),a(10,"th",75),h(11,"ACCIONES"),s()()(),a(12,"tbody",76),Ee(13,Dg,6,0,"tr",59)(14,kg,3,0,"tr",59)(15,Pg,10,3,"tr",77),Re(16,"paginate"),s()(),a(17,"pagination-controls",30),ee("pageChange",function(r){se(t);let o=re();return le(o.paginaSubPlandeIntervencions=r)}),s()()}if(n&2){let t=re();C(13),z("ngIf",t.isLoadingSubPlandeIntervencions),C(),z("ngIf",!t.isLoadingSubPlandeIntervencions&&t.SubPlandeIntervencions.length===0),C(),z("ngForOf",ke(16,3,t.SubPlandeIntervencions,Xe(6,Bc,t.paginaSubPlandeIntervencions)))}}function Fg(n,e){if(n&1){let t=xe();a(0,"div",102)(1,"button",103),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastSubPlandeIntervencions())}),G(2,"i",104),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",105),s()()}}function zg(n,e){if(n&1){let t=xe();a(0,"button",106),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarSubPlandeIntervencions())}),G(1,"i",107),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newSubPlandeIntervencions.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newSubPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR")}}function Ug(n,e){if(n&1){let t=xe();a(0,"button",108),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarSubPlandeIntervencions())}),G(1,"span",109),s()}n&2&&z("disabled",!0)}var tn=class tn{constructor(e,t,i,r,o,d){this.route=e;this._planintervencion=t;this._tools=i;this._subplanintervencion=r;this._matrizescalas=o;this._infoclientes=d;this.idRecibida=0;this.NomCRecibido="";this.FechAdmisionRecibido="";this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.MatrizMomento=[];this.MatrizObjetivos=[];this.MatrizRecursosMusicales=[];this.MatrizEnfasisMusical=[];this.MatrizEnfoque=[];this.MatrizMLT=[];this.subMatrizObjetivo=[];this.PlandeIntervencions=[];this.paginaPlandeIntervencions=1;this.isLoadingPlandeIntervencions=!0;this.AnimacionCargabtnModalPlandeIntervencions=!1;this.filtertxtPlandeIntervencions="";this.idPlandeIntervencionsSave=0;this.SubPlandeIntervencions=[];this.paginaSubPlandeIntervencions=1;this.isLoadingSubPlandeIntervencions=!0;this.AnimacionCargabtnModalSubPlandeIntervencions=!1;this.filtertxtSubPlandeIntervencions="";this.isLoading=[];this.ModoBoolean=!1;this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this.newPlandeIntervencionsAnteriorAccion=this._planintervencion.createFormGroupPlandeIntervencions(),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencionsAnteriorAccion=this._subplanintervencion.createFormGroupSubPlandeIntervencions()}ngOnInit(){this.CargarMatrizEscalas(),this.route.queryParams.subscribe(e=>{this.idRecibida=e.id,this.NomCRecibido=e.NomC,this.FechAdmisionRecibido=e.FechAdmision,console.log("Variable recibida:",this.idRecibida),this.CargarPlandeIntervencions()})}ngOnDestroy(){this._tools.cerrarModales()}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(e=>{console.log("INFO CLIENTES CARGADO",e.data),this.InfoClientes=e.data},e=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",e)})}SeleccionandoInfoCliente(e,t){let i=e.currentTarget;i.classList.contains("active")?(i.classList.remove("active"),this.nombreseleccionado="",this.newPlandeIntervencions.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(o=>{o.classList.remove("active")}),i.classList.add("active"),this.nombreseleccionado=t.apellidos+" "+t.nombres,this.newPlandeIntervencions.patchValue({id_infocliente:t.id}))}isChecked(e,t){return this.SubPlandeIntervencions.some(i=>i.categoria===e&&i.nombre===t)}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(e=>{this.MatrizEscalas=e.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=e.data.filter(t=>t.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)"),this.MatrizCIM=e.data.filter(t=>t.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)"),this.MatrizMomento=e.data.filter(t=>t.categoria==="MOMENTO"),this.MatrizObjetivos=e.data.filter(t=>t.categoria==="OBJETIVOS"),this.MatrizRecursosMusicales=e.data.filter(t=>t.categoria==="RECURSOS MUSICALES"),this.MatrizEnfasisMusical=e.data.filter(t=>t.categoria==="ENFASIS MUSICAL"),this.MatrizEnfoque=e.data.filter(t=>t.categoria==="ENFOQUE"),this.MatrizMLT=e.data.filter(t=>t.categoria==="ETAPA MLT"),console.log("MATRIZ Recursos",this.MatrizRecursosMusicales)},e=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",e)})}onObjetivoChange(e){let t=this.MatrizObjetivos.find(i=>i.nombrematriz===e);t?this.subMatrizObjetivo=t.submatrizescala:this.subMatrizObjetivo=[]}CargarPlandeIntervencionsAll(){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.ObtenerPlandeIntervencions().subscribe(e=>{console.log("PlandeIntervencions CARGADO",e.data),this.PlandeIntervencions=e.data;let t=this.PlandeIntervencions.reduce((i,r)=>{let o=i.find(d=>d.nombres===r.nombres&&d.apellidos===r.apellidos&&d.fechaadmision===r.fechaadmision);return o?o.intervenciones.push({id:r.id,momento:r.momento,objetivo:r.objetivo,foco:r.foco,mlt:r.mlt,enfoque:r.enfoque,duracion:r.duracion,subplandeintervencion:r.subplandeintervencion}):i.push({id:r.id,nombres:r.nombres,apellidos:r.apellidos,fechaadmision:r.fechaadmision,intervenciones:[{id:r.id,momento:r.momento,objetivo:r.objetivo,foco:r.foco,mlt:r.mlt,enfoque:r.enfoque,duracion:r.duracion,subplandeintervencion:r.subplandeintervencion}]}),i},[]);console.log("Agrupado Plan de Intervenciones:",t),this.PlandeIntervencions=t,this.isLoadingPlandeIntervencions=!1},e=>{console.log("ERROR AL CARGAR PlandeIntervencions",e),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencionxidInfoCliente(e){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.CargarPlandeIntervencionxidInfoCliente(e).subscribe(t=>{console.log("PlandeIntervencions CARGADO",t.data),this.PlandeIntervencions=t.data,this.isLoadingPlandeIntervencions=!1},t=>{console.log("ERROR AL CARGAR PlandeIntervencions",t),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencions(){this.idRecibida==null||this.idRecibida==0||this.idRecibida==null?this.CargarPlandeIntervencionsAll():this.CargarPlandeIntervencionxidInfoCliente(Number(this.idRecibida))}getRecursosMusicalesList(e){return e.subplandeintervencion.filter(t=>t.categoria==="RECURSOS MUSICALES").map(t=>t.nombre)}getEnfasisMusicalList(e){return e.subplandeintervencion.filter(t=>t.categoria==="ENFASIS MUSICAL").map(t=>t.nombre)}AgregarModificarPlandeIntervencions(){if(this.newPlandeIntervencions.invalid){this.ValidacionTodoElementoPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPlandeIntervencions=!1;return}else{this.AnimarCargaTablaPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let e=this.newPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newPlandeIntervencions.value),e?this._planintervencion.ModificarPlandeIntervencions(this.newPlandeIntervencions.value,this.newPlandeIntervencions.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE PlandeIntervencions",t.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR PlandeIntervencions",t),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._planintervencion.AgregarPlandeIntervencions(this.newPlandeIntervencions.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE PlandeIntervencions",t.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR PlandeIntervencions",t),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPlandeIntervencions(e,t){switch(t){case"SubPlandeIntervencions":this.idPlandeIntervencionsSave=e,this.CargarSubPlandeIntervencions(),this._tools.abrirModal("ModalAllGestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),e&&this._planintervencion.SeleccionarPlandeIntervencions(e).subscribe(i=>{Object.keys(this.newPlandeIntervencions.controls).forEach(r=>{this.newPlandeIntervencions.controls[r].setValue(i.data[r])}),console.log("SELECCION DE PlandeIntervencions EXITOSA",this.newPlandeIntervencions.value),this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._tools.abrirModal("modalgestionPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL SELECCIONAR PlandeIntervencions",i),this._tools.MostrarMensajeError()});break}}EliminarPlandeIntervencions(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._planintervencion.EliminarPlandeIntervencions(e).subscribe(i=>{console.log(i.data),this.CargarPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR PlandeIntervencions",i),this._tools.MostrarMensajeError()}))})}resetPlandeIntervencions(){this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this._tools.cerrarModal("modalgestionPlandeIntervencions")}AbrirModalPlandeIntervencions(){this.CargarInfoClientes(),this.newPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionPlandeIntervencions")}AutoCompletarLastPlandeIntervencions(){this.newPlandeIntervencions.setValue(this.newPlandeIntervencionsAnteriorAccion.value),this.newPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newPlandeIntervencions.value)}AnimarCargaTablaPlandeIntervencions(){this.PlandeIntervencions=[],this.isLoadingPlandeIntervencions=!0}ValidacionPlandeIntervencionsxElemento(e){return this._tools.obtenerValidationClass(this.newPlandeIntervencions,e)}ValidacionTodoElementoPlandeIntervencions(){Object.values(this.newPlandeIntervencions.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}CargarSubPlandeIntervencions(){this.AnimarCargaTablaSubPlandeIntervencions(),this._subplanintervencion.SeleccionarAllInformacionSubPlandeIntervencions(this.idPlandeIntervencionsSave).subscribe(e=>{console.log("SubPlandeIntervencions CARGADO",e.data),this.SubPlandeIntervencions=e.data,this.isLoadingSubPlandeIntervencions=!1},e=>{console.log("ERROR AL CARGAR SubPlandeIntervencions",e),this.isLoadingSubPlandeIntervencions=!1})}AgregarModificarSubPlandeIntervencions(){if(this.newSubPlandeIntervencions.invalid){this.ValidacionTodoElementoSubPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1;return}else{this.AnimarCargaTablaSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let e=this.newSubPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newSubPlandeIntervencions.value),e?this._subplanintervencion.ModificarSubPlandeIntervencions(this.newSubPlandeIntervencions.value,this.newSubPlandeIntervencions.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE SubPlandeIntervencions",t.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR SubPlandeIntervencions",t),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",t.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",t),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubPlandeIntervencions(e){this._tools.MostrarMensajeLoading(),e&&this._subplanintervencion.SeleccionarSubPlandeIntervencions(e).subscribe(t=>{Object.keys(this.newSubPlandeIntervencions.controls).forEach(i=>{this.newSubPlandeIntervencions.controls[i].setValue(t.data[i])}),console.log("SELECCION DE SubPlandeIntervencions EXITOSA",this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._tools.abrirModal("modalgestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()})}EliminarSubPlandeIntervencions(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._subplanintervencion.EliminarSubPlandeIntervencions(e).subscribe(i=>{console.log(i.data),this.CargarSubPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",i),this._tools.MostrarMensajeError()}))})}resetSubPlandeIntervencions(){this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this._tools.cerrarModal("modalgestionSubPlandeIntervencions")}AbrirModalSubPlandeIntervencions(){this.newSubPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionSubPlandeIntervencions")}AutoCompletarLastSubPlandeIntervencions(){this.newSubPlandeIntervencions.setValue(this.newSubPlandeIntervencionsAnteriorAccion.value),this.newSubPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newSubPlandeIntervencions.value)}AnimarCargaTablaSubPlandeIntervencions(){this.SubPlandeIntervencions=[],this.isLoadingSubPlandeIntervencions=!0}ValidacionSubPlandeIntervencionsxElemento(e){return this._tools.obtenerValidationClass(this.newSubPlandeIntervencions,e)}ValidacionTodoElementoSubPlandeIntervencions(){Object.values(this.newSubPlandeIntervencions.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}AccionCheckearAddSubIntervencions(e,t){console.log("INFO A PROCESAR",e);let i=t.target.id,r=this.findCheckboxIndexById(i);if(r!==-1&&(this.isLoading[r]=!0),t.target.checked)this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencions.patchValue({id:0,id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:e.categoria,nombre:e.nombrematriz}),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(o=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",o.data),this.SubPlandeIntervencions.push(this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[r]=!1,this._tools.MostrarMensajeSuccess()},o=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",o),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[r]=!1,document.getElementById(i).checked=!1});else{let o={id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:e.categoria,nombre:e.nombrematriz};this._subplanintervencion.eliminarsubplandeintervencionsxdata(o).subscribe(d=>{console.log("SE ELIMIN\xD3 CORRECTAMENTE SubPlandeIntervencions",d.data),this.SubPlandeIntervencions=this.SubPlandeIntervencions.filter(l=>!(l.id_plandeintervencion===o.id_plandeintervencion&&l.categoria===o.categoria&&l.nombre===o.nombre)),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[r]=!1,this._tools.MostrarMensajeSuccess()},d=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",d),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[r]=!1,document.getElementById(i).checked=!0})}}findCheckboxIndexById(e){let t=e.match(/\d+$/);return t?parseInt(t[0],10):-1}onToggleChange(e){this.ModoBoolean=e.target.checked,this.CargarSubPlandeIntervencions(),console.log("Variable Boolean is now:",this.ModoBoolean)}};tn.\u0275fac=function(t){return new(t||tn)(Me(fu),Me(Su),Me(Qe),Me(Au),Me(ii),Me(Ci))},tn.\u0275cmp=Ke({type:tn,selectors:[["app-gestiondeplanesdeintervencion"]],standalone:!1,decls:170,vars:37,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],["class","row",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","modalgestionPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","orden",1,"form-control",3,"ngClass"],["formControlName","momento",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","objetivo",1,"form-control",3,"change","ngClass"],["formControlName","foco",1,"form-control",3,"ngClass"],["formControlName","enfoque",1,"form-control",3,"ngClass"],["formControlName","mlt",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"button","col-sm-6","d-flex","justify-content-start"],[1,"form-check"],["type","checkbox","id","toggleVariable",1,"form-check-input",3,"change"],["for","toggleVariable",1,"form-check-label"],[4,"ngIf"],["id","modalgestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"col-md-12"],["class","card text-bg-primary","style","border-color: aliceblue; border-width: 2px;",4,"ngFor","ngForOf"],[1,"card","text-bg-primary",2,"border-color","aliceblue","border-width","2px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"text-light"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",2,"padding","0","margin","0",3,"id"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],["scope","row",2,"margin","0","padding","0","text-align","center"],[1,"list-unstyled",2,"margin","0","padding","0","text-align","center"],[2,"white-space","nowrap"],["title","Gestionar Sub Planes de Intervencion (Rec. Musicales, Enfasis Musical)",1,"btn","btn-outline-light","p-1","py-0",3,"click"],[1,"bi","bi-music-note",2,"font-size","1.5rem"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],[2,"margin","0","padding","0"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[3,"value"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"d-flex","flex-wrap"],["class","list-group-item col-sm-3 custom-border position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item","col-sm-3","custom-border","position-relative",3,"ngClass"],["type","checkbox",1,"form-check-input","me-1",3,"click","id","value","checked","disabled"],["class","spinner-border spinner-border-sm text-primary position-absolute top-50 start-50 translate-middle","role","status",4,"ngIf"],[1,"form-check-label","stretched-link",3,"for"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute","top-50","start-50","translate-middle"],["colspan","4",1,"text-center"]],template:function(t,i){t&1&&(G(0,"hr"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),h(5,"Gesti\xF3n de Plan de Intervenci\xF3n "),s(),a(6,"p",4),h(7),s()()()(),a(8,"div",1)(9,"div",5)(10,"button",6),ee("click",function(){return i.AbrirModalPlandeIntervencions()}),G(11,"i",7),h(12," A\xF1adir PlandeIntervencions"),G(13,"span",8),s()(),a(14,"div",9)(15,"div",10)(16,"span",11),G(17,"i",12),s(),a(18,"div",13)(19,"input",14),ee("input",function(){return i.paginaPlandeIntervencions=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtPlandeIntervencions,o)||(i.filtertxtPlandeIntervencions=o),o}),s(),a(20,"label"),h(21,"Buscar"),s()()()()(),G(22,"hr"),Ee(23,cg,6,9,"div",15)(24,vg,29,11,"div",16),G(25,"hr"),a(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h1",22),h(32),s(),a(33,"button",23),ee("click",function(){return i.resetPlandeIntervencions()}),s()()(),a(34,"div",24)(35,"div",25)(36,"div",26)(37,"label",27),h(38,"Buscar:"),s(),a(39,"input",28),Ue("ngModelChange",function(o){return ze(i.filterInfoClientes,o)||(i.filterInfoClientes=o),o}),ee("input",function(){return i.paginaInfoClientes=1}),s()(),Ee(40,_g,4,9,"div",29),a(41,"pagination-controls",30),ee("pageChange",function(o){return i.paginaInfoClientes=o}),s(),G(42,"hr"),a(43,"div",31),G(44,"input",32),a(45,"label"),h(46,"cliente"),s(),a(47,"div",33),h(48,"Este campo es obligatorio*"),s()(),a(49,"div",31),G(50,"input",34),a(51,"label"),h(52,"orden"),s(),a(53,"div",33),h(54,"Este campo es obligatorio*"),s()(),a(55,"div",31)(56,"select",35)(57,"option",36),h(58,"Seleccione una opci\xF3n"),s(),Ee(59,wg,2,3,"option",37),s(),a(60,"label"),h(61,"momento"),s(),a(62,"div",33),h(63,"Este campo es obligatorio*"),s()(),a(64,"div",31)(65,"select",38),ee("change",function(o){return i.onObjetivoChange(o.target.value)}),a(66,"option",36),h(67,"Seleccione una opci\xF3n"),s(),Ee(68,Eg,2,2,"option",37),s(),a(69,"label"),h(70,"objetivo"),s(),a(71,"div",33),h(72,"Este campo es obligatorio*"),s()(),a(73,"div",31)(74,"select",39)(75,"option",36),h(76,"Seleccione una opci\xF3n"),s(),Ee(77,yg,2,2,"option",37),s(),a(78,"label"),h(79,"foco"),s(),a(80,"div",33),h(81,"Este campo es obligatorio*"),s()(),a(82,"div",31)(83,"select",40)(84,"option",36),h(85,"Seleccione una opci\xF3n"),s(),Ee(86,Cg,2,3,"option",37),s(),a(87,"label"),h(88,"enfoque"),s(),a(89,"div",33),h(90,"Este campo es obligatorio*"),s()(),a(91,"div",31)(92,"select",41)(93,"option",36),h(94,"Seleccione una opci\xF3n"),s(),Ee(95,xg,2,3,"option",37),s(),a(96,"label"),h(97,"mlt"),s(),a(98,"div",33),h(99,"Este campo es obligatorio*"),s()(),a(100,"div",31)(101,"input",42),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newPlandeIntervencions,"duracion")}),s(),a(102,"label"),h(103,"duracion"),s(),a(104,"div",33),h(105,"Este campo es obligatorio*"),s()()()(),a(106,"div",43),Ee(107,Sg,6,0,"div",44),a(108,"div",45)(109,"div",46)(110,"button",47),ee("click",function(){return i.resetPlandeIntervencions()}),G(111,"i",48),h(112," CANCELAR"),G(113,"span",8),s()(),a(114,"div",49),Ee(115,Ag,4,4,"button",50)(116,Ig,2,1,"button",51),s()()()()()(),a(117,"div",52)(118,"div",18)(119,"div",19)(120,"div",20)(121,"h1",53),h(122,"Sub Plan de Intervencion: Rec. Musicales y Enfasis Musical"),s(),a(123,"button",54),ee("click",function(){return i.CargarPlandeIntervencions()}),s()(),a(124,"div",24),G(125,"hr"),a(126,"div",0)(127,"div",1),G(128,"div",2),s()(),a(129,"div",1)(130,"div",55)(131,"div")(132,"div",56)(133,"input",57),ee("change",function(o){return i.onToggleChange(o)}),s(),a(134,"label",58),h(135,"Modo Visualizaci\xF3n"),s()()()(),a(136,"div",9)(137,"div",10)(138,"span",11),G(139,"i",12),s(),a(140,"div",13)(141,"input",14),ee("input",function(){return i.paginaSubPlandeIntervencions=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtSubPlandeIntervencions,o)||(i.filtertxtSubPlandeIntervencions=o),o}),s(),a(142,"label"),h(143,"Buscar"),s()()()()(),G(144,"hr"),Ee(145,Ng,12,2,"div",59)(146,Lg,18,8,"div",16),G(147,"hr"),a(148,"div",60)(149,"div",18)(150,"div",19)(151,"div",20)(152,"div",21)(153,"h1",22),h(154),s(),a(155,"button",23),ee("click",function(){return i.resetSubPlandeIntervencions()}),s()()(),a(156,"div",24)(157,"div",25),h(158," ... "),s()(),a(159,"div",43),Ee(160,Fg,6,0,"div",44),a(161,"div",45)(162,"div",46)(163,"button",47),ee("click",function(){return i.resetSubPlandeIntervencions()}),G(164,"i",48),h(165," CANCELAR"),G(166,"span",8),s()(),a(167,"div",49),Ee(168,zg,4,4,"button",50)(169,Ug,2,1,"button",51),s()()()()()()()()()()),t&2&&(C(7),Je("Administra toda la informaci\xF3n del Plan de Intervencions ",i.NomCRecibido==""||i.NomCRecibido==null||i.NomCRecibido==null?"":"de: "+i.NomCRecibido," ",i.FechAdmisionRecibido==""||i.FechAdmisionRecibido==null||i.FechAdmisionRecibido==null?"":"Admisi\xF3n: "+i.FechAdmisionRecibido),C(12),Fe("ngModel",i.filtertxtPlandeIntervencions),C(4),z("ngIf",i.idRecibida==null||i.idRecibida==0||i.idRecibida==null),C(),z("ngIf",!(i.idRecibida==null||i.idRecibida==0||i.idRecibida==null)),C(8),Se("",i.newPlandeIntervencions.get("id").value?"Modificar":"Registrar"," Plan de Intervenci\xF3n"),C(3),z("formGroup",i.newPlandeIntervencions),C(4),Fe("ngModel",i.filterInfoClientes),z("ngModelOptions",Gn(36,Q0)),C(),z("ngIf",!(i.filterInfoClientes==null||i.filterInfoClientes=="")),C(4),z("value",$e(i.nombreseleccionado))("ngClass",i.ValidacionPlandeIntervencionsxElemento("id_infocliente")),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("orden")),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("momento")),C(3),z("ngForOf",i.MatrizMomento),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("objetivo")),C(3),z("ngForOf",i.MatrizObjetivos),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("foco")),C(3),z("ngForOf",i.subMatrizObjetivo),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("enfoque")),C(3),z("ngForOf",i.MatrizEnfoque),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("mlt")),C(3),z("ngForOf",i.MatrizMLT),C(6),z("ngClass",i.ValidacionPlandeIntervencionsxElemento("duracion")),C(6),z("ngIf",!i.newPlandeIntervencions.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalPlandeIntervencions),C(),z("ngIf",i.AnimacionCargabtnModalPlandeIntervencions),C(25),Fe("ngModel",i.filtertxtSubPlandeIntervencions),C(4),z("ngIf",!i.ModoBoolean),C(),z("ngIf",i.ModoBoolean),C(8),Se("",i.newSubPlandeIntervencions.get("id").value?"Modificar":"Registrar"," SubPlandeIntervencions"),C(3),z("formGroup",i.newSubPlandeIntervencions),C(3),z("ngIf",!i.newSubPlandeIntervencions.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalSubPlandeIntervencions),C(),z("ngIf",i.AnimacionCargabtnModalSubPlandeIntervencions))},dependencies:[ht,at,st,Et,yt,lt,vt,wt,ct,gt,ut,bt,_t,St,xt,li,ni],styles:['@charset "UTF-8";.custom-border[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;background-color:#f9f9f9}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}.position-absolute[_ngcontent-%COMP%]{position:absolute}.top-50[_ngcontent-%COMP%]{top:50%}.start-50[_ngcontent-%COMP%]{left:50%}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}.custom-border[_ngcontent-%COMP%]:hover{background-color:#e9ecef;cursor:pointer}.custom-border.checked[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.custom-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]:before{border-color:#28a745;background-color:#28a745}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:disabled ~ .spinner-border[_ngcontent-%COMP%]{display:block}.folder-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.folder[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:background-color .3s ease}.folder[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.icon-folder[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:10px;background-size:cover}span[_ngcontent-%COMP%]{font-size:16px;color:#333}']});var Rn=tn;var Vg=n=>({itemsPerPage:10,currentPage:n});function Gg(n,e){n&1&&(a(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),h(5,"Loading..."),s()()()()())}function Bg(n,e){n&1&&(a(0,"tr")(1,"td",62),h(2,"No hay datos disponibles"),s()())}function jg(n,e){if(n&1&&(a(0,"a",73),G(1,"i",74),s()),n&2){let t=re().$implicit,i=re();z("href",i.ruta+t.foto,Ze)}}function Hg(n,e){if(n&1){let t=xe();a(0,"tr")(1,"td",66),h(2),s(),a(3,"td"),h(4),s(),a(5,"td"),h(6),s(),a(7,"td"),h(8),s(),a(9,"td"),h(10),s(),a(11,"td",67)(12,"button",68),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.SeleccionarUsuarios(r.id))}),G(13,"i",69),s(),a(14,"button",70),ee("click",function(){let r=se(t).$implicit,o=re();return le(o.EliminarUsuarios(r.id))}),G(15,"i",71),s(),Ee(16,jg,2,1,"a",72),s()()}if(n&2){let t=e.index,i=e.$implicit,r=re();C(2),ye((r.paginaUsuarios-1)*10+(t+1)),C(2),ye(i.apellidos+" "+i.nombres),C(2),ye(i.carnet),C(2),ye(i.celular),C(2),ye(i.estado),C(6),z("ngIf",!(i.foto==null||i.foto==""))}}function Wg(n,e){if(n&1){let t=xe();a(0,"div",75)(1,"button",76),ee("click",function(){se(t);let r=re();return le(r.AutoCompletarLastUsuarios())}),G(2,"i",77),h(3," AUTO COMPLETAR "),G(4,"span",8)(5,"i",78),s()()}}function qg(n,e){if(n&1){let t=xe();a(0,"button",79),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarUsuarios())}),G(1,"i",80),h(2),G(3,"span",8),s()}if(n&2){let t=re();C(),De(Ne("bi bi-",t.newUsuarios.get("id").value?"pencil":"plus-lg")),C(),Se(" ",t.newUsuarios.get("id").value?"MODIFICAR":"REGISTRAR")}}function Kg(n,e){if(n&1){let t=xe();a(0,"button",81),ee("click",function(){se(t);let r=re();return le(r.AgregarModificarUsuarios())}),G(1,"span",82),s()}n&2&&z("disabled",!0)}var nn=class nn{constructor(e,t){this._user=e;this._tools=t;this.ruta=ft.ruta;this.dataDropZone={iddropzone:"dropzoneusuarios",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.Usuarios=[];this.paginaUsuarios=1;this.isLoadingUsuarios=!0;this.AnimacionCargabtnModalUsuarios=!1;this.filtertxtUsuarios="";this.newUsuarios=this._user.createFormGroupUsuarios(),this.newUsuariosAnteriorAccion=this._user.createFormGroupUsuarios()}ngOnInit(){this.CargarUsuarios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","USUARIO");var e=document.getElementById("dropzoneusuarios");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),e&&Ct.instances.length>0&&Ct.instances.forEach(t=>{t.element===e&&(t.destroy(),e.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarUsuarios(){this.AnimarCargaTablaUsuarios(),this._user.ObtenerUsuarios().subscribe(e=>{console.log("Usuarios CARGADO",e.data),this.Usuarios=e.data,this.isLoadingUsuarios=!1},e=>{console.log("ERROR AL CARGAR Usuarios",e),this.isLoadingUsuarios=!1})}AgregarModificarUsuarios(){if(this.newUsuarios.invalid){this.ValidacionTodoElementoUsuarios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalUsuarios=!1;return}else{this.AnimarCargaTablaUsuarios(),this.AnimacionCargabtnModalUsuarios=!0,this._tools.MostrarMensajeLoading();let t=this.newUsuarios.controls.id.value;console.log("INFO A PROCESAR",this.newUsuarios.value);var e=sessionStorage.getItem("IMG");console.log("VALOR img",e),e==null||e==""||(this.newUsuarios.value.foto=e),t?this._user.ModificarUsuarios(this.newUsuarios.value,this.newUsuarios.value.id).subscribe(i=>{console.log("SE MODIFICO CORRECTAMENTE Usuarios",i.data),this.CargarUsuarios(),console.log("ANTERIOR",this.newUsuariosAnteriorAccion.value.foto),console.log("AHORA",this.newUsuarios.value.foto),this.newUsuariosAnteriorAccion.value.foto==this.newUsuarios.value.foto||this._tools.EliminarArchivo(this.newUsuariosAnteriorAccion.value.foto),sessionStorage.removeItem("IMG"),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL MODIFICAR Usuarios",i),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}):(this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this._user.AgregarUsuarios(this.newUsuarios.value).subscribe(i=>{console.log("SE A\xD1ADIO CORRECTAMENTE Usuarios",i.data),this.CargarUsuarios(),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL A\xD1ADIR Usuarios",i),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarUsuarios(e){this._tools.MostrarMensajeLoading(),e&&this._user.SeleccionarUsuarios(e).subscribe(t=>{Object.keys(this.newUsuarios.controls).forEach(i=>{this.newUsuarios.controls[i].setValue(t.data[i])}),console.log("SELECCION DE Usuarios EXITOSA",this.newUsuarios.value),this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Usuarios",t),this._tools.MostrarMensajeError()})}EliminarUsuarios(e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._user.EliminarUsuarios(e).subscribe(i=>{console.log(i.data),this.CargarUsuarios(),this._tools.MostrarMensajeSuccess()},i=>{console.log("ERROR AL ELIMINAR Usuarios",i),this._tools.MostrarMensajeError()}))})}resetUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionUsuarios")}AbrirModalUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios")}AutoCompletarLastUsuarios(){this.newUsuarios.setValue(this.newUsuariosAnteriorAccion.value),this.newUsuarios.patchValue({id:0}),console.log("listo",this.newUsuarios.value)}AnimarCargaTablaUsuarios(){this.Usuarios=[],this.isLoadingUsuarios=!0}ValidacionUsuariosxElemento(e){return this._tools.obtenerValidationClass(this.newUsuarios,e)}ValidacionTodoElementoUsuarios(){Object.values(this.newUsuarios.controls).forEach(e=>{e.markAsTouched(),e.markAsDirty()})}};nn.\u0275fac=function(t){return new(t||nn)(Me(Iu),Me(Qe))},nn.\u0275cmp=Ke({type:nn,selectors:[["app-gestiondeusuarios"]],standalone:!1,decls:143,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionUsuarios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celulartrabajo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","SUPERADMINISTRADOR"],["value","MUSICOTERAPEUTA"],["value","SECRETARIO(A)"],["formControlName","estado",1,"form-control",3,"ngClass"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneusuarios",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,i){t&1&&(G(0,"hr"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),h(5,"Gesti\xF3n de Usuarios"),s(),a(6,"p",4),h(7,"Administra toda la informaci\xF3n de los Usuarios de manera sencilla y eficiente"),s()()()(),a(8,"div",1)(9,"div",5)(10,"button",6),ee("click",function(){return i.AbrirModalUsuarios()}),G(11,"i",7),h(12," A\xF1adir Usuarios"),G(13,"span",8),s()(),a(14,"div",9)(15,"div",10)(16,"span",11),G(17,"i",12),s(),a(18,"div",13)(19,"input",14),ee("input",function(){return i.paginaUsuarios=1}),Ue("ngModelChange",function(o){return ze(i.filtertxtUsuarios,o)||(i.filtertxtUsuarios=o),o}),s(),a(20,"label"),h(21,"Buscar"),s()()()()(),G(22,"hr"),a(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),h(28,"#"),s(),a(29,"th",18),h(30,"Nombre Completo"),s(),a(31,"th",18),h(32,"Carnet"),s(),a(33,"th",18),h(34,"Celular"),s(),a(35,"th",18),h(36,"Estado"),s(),a(37,"th",18),h(38,"ACCIONES"),s()()(),a(39,"tbody",19),Ee(40,Gg,6,0,"tr",20)(41,Bg,3,0,"tr",20)(42,Hg,17,6,"tr",21),Re(43,"paginate"),s()(),a(44,"pagination-controls",22),ee("pageChange",function(o){return i.paginaUsuarios=o}),s()(),G(45,"hr"),a(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h1",28),h(52),s(),a(53,"button",29),ee("click",function(){return i.resetUsuarios()})("click",function(){return i.CancelarArchivosDropzone()}),s()()(),a(54,"div",30)(55,"div",31)(56,"div",32)(57,"input",33),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newUsuarios,"nombres")}),s(),a(58,"label"),h(59,"nombres"),s(),a(60,"div",34),h(61,"Este campo es obligatorio*"),s()(),a(62,"div",32)(63,"input",35),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newUsuarios,"apellidos")}),s(),a(64,"label"),h(65,"apellidos"),s(),a(66,"div",34),h(67,"Este campo es obligatorio*"),s()(),a(68,"div",32)(69,"input",36),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newUsuarios,"usuario")}),s(),a(70,"label"),h(71,"usuario"),s(),a(72,"div",34),h(73,"Este campo es obligatorio*"),s()(),a(74,"div",32),G(75,"input",37),a(76,"label"),h(77,"contrasenia"),s(),a(78,"div",34),h(79,"Este campo es obligatorio*"),s()(),a(80,"div",32),G(81,"input",38),a(82,"label"),h(83,"celular"),s(),a(84,"div",34),h(85,"Este campo es obligatorio*"),s()(),a(86,"div",32),G(87,"input",39),a(88,"label"),h(89,"celulartrabajo"),s(),a(90,"div",34),h(91,"Este campo es obligatorio*"),s()(),a(92,"div",32)(93,"input",40),ee("change",function(o){return i._tools.EscribirEnMayuscula(o,i.newUsuarios,"carnet")}),s(),a(94,"label"),h(95,"carnet"),s(),a(96,"div",34),h(97,"Este campo es obligatorio*"),s()(),a(98,"div",32)(99,"select",41)(100,"option",42),h(101,"Seleccione una opci\xF3n"),s(),a(102,"option",43),h(103,"SUPERADMINISTRADOR"),s(),a(104,"option",44),h(105,"MUSICOTERAPEUTA"),s(),a(106,"option",45),h(107,"SECRETARIO(A)"),s()(),a(108,"label"),h(109,"tipo"),s(),a(110,"div",34),h(111,"Este campo es obligatorio*"),s()(),a(112,"div",32)(113,"select",46)(114,"option",42),h(115,"Seleccione una opci\xF3n"),s(),a(116,"option",47),h(117,"ACTIVO"),s(),a(118,"option",48),h(119,"INACTIVO"),s()(),a(120,"label"),h(121,"estado"),s(),a(122,"div",34),h(123,"Este campo es obligatorio*"),s()(),a(124,"div",49)(125,"label",50),h(126,"Foto"),s(),G(127,"div",51)(128,"hr"),a(129,"span"),h(130,"IMAGEN ACTUAL:"),s(),G(131,"img",52),s()()(),a(132,"div",53),Ee(133,Wg,6,0,"div",54),a(134,"div",55)(135,"div",56)(136,"button",57),ee("click",function(){return i.resetUsuarios()})("click",function(){return i.CancelarArchivosDropzone()}),G(137,"i",58),h(138," CANCELAR"),G(139,"span",8),s()(),a(140,"div",59),Ee(141,qg,4,4,"button",60)(142,Kg,2,1,"button",61),s()()()()()()),t&2&&(C(19),Fe("ngModel",i.filtertxtUsuarios),C(21),z("ngIf",i.isLoadingUsuarios),C(),z("ngIf",!i.isLoadingUsuarios&&i.Usuarios.length===0),C(),z("ngForOf",ke(43,19,i.Usuarios,Xe(22,Vg,i.paginaUsuarios))),C(10),Se("",i.newUsuarios.get("id").value?"Modificar":"Registrar"," Usuarios"),C(3),z("formGroup",i.newUsuarios),C(2),z("ngClass",i.ValidacionUsuariosxElemento("nombres")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("apellidos")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("usuario")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("contrasenia")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("celular")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("celulartrabajo")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("carnet")),C(6),z("ngClass",i.ValidacionUsuariosxElemento("tipo")),C(14),z("ngClass",i.ValidacionUsuariosxElemento("estado")),C(18),z("src",i.ruta+i.newUsuarios.value.foto,Ze),C(2),z("ngIf",!i.newUsuarios.get("id").value),C(8),z("ngIf",!i.AnimacionCargabtnModalUsuarios),C(),z("ngIf",i.AnimacionCargabtnModalUsuarios))},dependencies:[ht,at,st,Et,yt,lt,vt,wt,ct,gt,ut,bt,_t,St,xt],encapsulation:2});var Or=nn;var rn=class rn{constructor(e,t){this.http=e;this._tools=t;this.txthtml="";this.ruta=ft.ruta}ngOnInit(){this.http.get(this.ruta+"api/paginablog",{responseType:"text"}).subscribe(e=>{this.txthtml=e,console.log("HTML recibido:",e)},e=>console.error("Error al cargar el blog",e))}saveHtml(){this.http.post(this.ruta+"api/paginablog",{html:this.txthtml}).subscribe(()=>this._tools.MostrarMensajeSuccess(),e=>console.error("Error al guardar",e))}};rn.\u0275fac=function(t){return new(t||rn)(Me(ti),Me(Qe))},rn.\u0275cmp=Ke({type:rn,selectors:[["app-blog-editor"]],standalone:!1,decls:11,vars:1,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"btn","btn-primary","mt-3",3,"click"],["rows","20",1,"form-control","rounded-3","shadow-sm",2,"height","100vh","resize","none",3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(G(0,"hr"),a(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),h(5,"Editor de BLOG"),s()()()(),a(6,"button",4),ee("click",function(){return i.saveHtml()}),h(7,"Guardar Cambios Blog"),s(),a(8,"textarea",5),Ue("ngModelChange",function(o){return ze(i.txthtml,o)||(i.txthtml=o),o}),s(),a(9,"button",4),ee("click",function(){return i.saveHtml()}),h(10,"Guardar Cambios Blog"),s()),t&2&&(C(8),Fe("ngModel",i.txthtml))},dependencies:[lt,ct,ut],encapsulation:2});var Nr=rn;var $g=[{path:"clientes",component:Sr,canActivate:[At]},{path:"ciclosplanesintervenciones",component:Ar,canActivate:[At]},{path:"pagos",component:Ir,canActivate:[At]},{path:"inicios",component:Tr,canActivate:[At]},{path:"matrizdeescalas",component:Rr,canActivate:[At]},{path:"usuarios",component:Or,canActivate:[At]},{path:"planesdeintervenciones",component:Rn,canActivate:[At]},{path:"planesdeintervenciones/:variable",component:Rn,canActivate:[At]},{path:"blogeditor",component:Nr,canActivate:[At]}],_i=class _i{};_i.\u0275fac=function(t){return new(t||_i)},_i.\u0275mod=Ei({type:_i}),_i.\u0275inj=wi({imports:[Kr.forChild($g),Kr]});var Wh=_i;export{o1 as a,F1 as b,Wh as c};
