import{a as d}from"./chunk-QV7E4BQJ.js";import{$ as b,Ab as S,Fb as F,Gb as j,K as g,Kb as L,M as l,Mb as x,N as y,O as p,Qb as P,Y as v,Ya as N,Z as a,_ as t,da as h,fb as I,nb as M,qb as C,ra as m,rb as E,tb as O,u as c,vb as R,wb as k,xb as A,yb as w}from"./chunk-6TW3IKKZ.js";import"./chunk-GAL4ENT6.js";var n=class n{constructor(e,o,s){this.authService=e;this.router=o;this._tools=s;this.loginForm=new w({usuario:new S("",[R.required]),contrasenia:new S("")});this.valCheck=["remember"];this.admin=[];this.btnCargadoEstado=!1;this.mostrarContrasena=!1;this.capsLockActivado=!1;this.ruta=E.ruta}ngOnInit(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}manejarTeclado(e){this.capsLockActivado=e.getModifierState("CapsLock")}ingresar(){this.authService.loginConLaravel(this.loginForm.value).subscribe(e=>{console.log(e),localStorage.setItem("token",e.access_token),this._tools.MostrarMensajeSuccess(),this.router.navigateByUrl("/inicio")},e=>{console.log(e),e.status===401&&this._tools.MensajeInformacion("CREDENCIALES INCORRECTAS","VUELVA A INTENTARLO","error")})}};n.\u0275fac=function(o){return new(o||n)(l(d),l(M),l(P))},n.\u0275cmp=y({type:n,selectors:[["app-login"]],standalone:!1,decls:19,vars:2,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-8"],[1,"card","mt-5","shadow"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","formControlName","usuario","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","formControlName","contrasenia","required","",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"click","disabled"]],template:function(o,s){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),m(6,"INICIAR SESI\xD3N"),t(),a(7,"div",6)(8,"div",7)(9,"label",8),m(10,"USUARIO"),t(),b(11,"input",9),t(),a(12,"div",7)(13,"label",10),m(14,"CONTRASE\xD1A"),t(),b(15,"input",11),t(),a(16,"div",12)(17,"button",13),h("click",function(){return s.ingresar()}),m(18,"INGRESAR"),t()()()()()()()()),o&2&&(g(7),v("formGroup",s.loginForm),g(10),v("disabled",s.loginForm.invalid))},dependencies:[O,k,A,L,F,j],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin-top:50px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.container[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block}"]});var f=n;var T=[{path:"login",component:f}],r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=p({type:r}),r.\u0275inj=c({imports:[C.forChild(T),C]});var u=r;var i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=p({type:i}),i.\u0275inj=c({providers:[d],imports:[N,u,I,x]});var _=i;export{_ as AuthModule};
