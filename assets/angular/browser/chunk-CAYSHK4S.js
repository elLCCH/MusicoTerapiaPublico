import{a as He,b as $e,c as We,d as Ue}from"./chunk-ANIR5Z5A.js";import{c as Ve,d as Y,e as Fe,f as Q,g as Le,h as je,i as K,o as Ne}from"./chunk-7W64THH5.js";import{a as Be}from"./chunk-ZNXNJK4P.js";import{$ as h,Bb as Me,Cb as Te,Ea as ce,Fa as ve,Ga as Ce,Ha as I,I as se,Ia as A,J as he,Ja as O,K as l,Ka as W,Kb as ke,Lb as Re,M as w,Mb as De,N as B,O as H,Qa as xe,Qb as J,Ra as U,S as g,Sa as X,Ua as be,Va as Ee,Xa as Se,Y as m,Ya as Ie,Z as a,_ as t,aa as _e,ba as ge,ca as E,cb as Pe,da as v,ea as p,f as me,fb as ye,i as pe,ma as $,n as fe,nb as q,oa as y,qb as de,ra as o,rb as we,sa as P,t as ue,ta as _,tb as Oe,u as j,ua as z,w as N,wa as R,wb as Ge,xa as D,xb as Ae,y as C,ya as V,z as x,zb as ze}from"./chunk-SR3KCT23.js";import{a as re,b as le}from"./chunk-GAL4ENT6.js";var it=r=>({"sidebar-collapsed":r}),at=r=>({"text-danger fw-bold":r}),nt=(r,i)=>({"badge bg-success":r,"badge bg-warning text-dark":i}),ot=(r,i,e)=>({"badge bg-success":r,"badge bg-warning text-dark":i,"badge bg-danger":e});function rt(r,i){r&1&&(a(0,"span",42),o(1,"P\xE1gina principal"),t())}function lt(r,i){r&1&&(a(0,"span",42),o(1,"Cuenta"),t())}function st(r,i){r&1&&(a(0,"span",42),o(1,"Demucas"),t())}function ct(r,i){if(r&1){let e=E();a(0,"li")(1,"button",43),v("click",function(){C(e);let s=p();return x(s.setTab("estadisticas"))}),h(2,"i",44),g(3,st,2,0,"span",13),t()()}if(r&2){let e=p();l(3),m("ngIf",e.menuOpen)}}function dt(r,i){r&1&&(a(0,"span",42),o(1,"Pagos"),t())}function mt(r,i){if(r&1){let e=E();a(0,"li")(1,"button",43),v("click",function(){C(e);let s=p();return x(s.setTab("EstadoPagos"))}),h(2,"i",45),g(3,dt,2,0,"span",13),t()()}if(r&2){let e=p();l(3),m("ngIf",e.menuOpen)}}function pt(r,i){if(r&1){let e=E();a(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56),h(4,"i",62),a(5,"h5",58),o(6,"Ver Hoja de Vida"),t()(),a(7,"p",59),o(8,'Modifique la informaci\xF3n de su "HOJA DE VIDA".'),t(),a(9,"button",60),v("click",function(){C(e);let s=p(2);return x(s.setTab("cuenta"))}),o(10,"Modificar"),t()()()()}}function ft(r,i){if(r&1){let e=E();a(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56),h(4,"i",63),a(5,"h5",58),o(6,"Verificar Pagos"),t()(),a(7,"p",59),o(8,"Verificar los estados de tus Sesiones y Pagos"),t(),a(9,"button",64),v("click",function(){C(e);let s=p(2);return x(s.setTab("EstadoPagos"))}),o(10,"Verificar"),t()()()()}}function ut(r,i){if(r&1){let e=E();a(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56),h(4,"i",65),a(5,"h5",58),o(6,"Verificar progreso"),t()(),a(7,"p",59),o(8,"Consulta tu progreso y logros."),t(),a(9,"button",66),v("click",function(){C(e);let s=p(2);return x(s.setTab("estadisticas"))}),o(10,"Ver progreso"),t()()()()}}function ht(r,i){if(r&1){let e=E();a(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",49)(4,"div",50)(5,"h2"),o(6),t(),a(7,"p",51),o(8,"Aqu\xED puedes gestionar todas tus configuraciones, ver tu actividad reciente y actualizar tu informaci\xF3n personal."),t(),a(9,"div",52)(10,"div",53)(11,"div",54)(12,"div",55)(13,"div",56),h(14,"i",57),a(15,"h5",58),o(16,"Cambiar contrase\xF1a"),t()(),a(17,"p",59),o(18,"Actualiza tu contrase\xF1a para mantener tu cuenta segura."),t(),a(19,"button",60),v("click",function(){C(e);let s=p();return x(s.setTab("cuenta"))}),o(20,"Cambiar"),t()()()(),g(21,pt,11,0,"div",61)(22,ft,11,0,"div",61)(23,ut,11,0,"div",61),t()()()()()()}if(r&2){let e=p();l(6),_("BIENVENIDO ",e.datasesion.usuario.nombres+" "+e.datasesion.usuario.apellidos),l(15),m("ngIf",e.datasesion.abilities&&!e.datasesion.abilities.includes("CLIENTELA")),l(),m("ngIf",e.datasesion.abilities&&e.datasesion.abilities.includes("CLIENTELA")),l(),m("ngIf",e.datasesion.abilities&&e.datasesion.abilities.includes("CLIENTELA"))}}function _t(r,i){if(r&1&&h(0,"img",87),r&2){let e=p(2);m("src",e.datasesion.usuario.foto,he)}}function gt(r,i){r&1&&(a(0,"div",88),h(1,"i",89),t())}function vt(r,i){if(r&1&&(a(0,"tr")(1,"th"),o(2,"Edad en el momento de registro"),t(),a(3,"td"),o(4),t()()),r&2){let e=p(2);l(4),P(e.datasesion.usuario.edad)}}function Ct(r,i){if(r&1&&(a(0,"tr")(1,"th"),o(2,"Fecha de nacimiento"),t(),a(3,"td"),o(4),I(5,"dateFormat"),t()()),r&2){let e=p(2);l(4),P(A(5,1,e.datasesion.usuario.fechnac))}}function xt(r,i){if(r&1&&(a(0,"tr")(1,"th"),o(2,"Funciones"),t(),a(3,"td"),o(4),t()()),r&2){let e=p(2);l(4),P(e.datasesion.usuario.funciones&&e.datasesion.usuario.funciones.trim()||"SIN DESIGNAR")}}function bt(r,i){r&1&&(a(0,"button",90),h(1,"i",91),o(2," Modificar Hoja de Vida "),t())}function Et(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Tutor:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.tutor)}}function St(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Residencia actual:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.residenciaactual)}}function It(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Objetivos generales:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.objgenerales)}}function Pt(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"F\xEDsico:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.fisico)}}function yt(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Emocional:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.emocional)}}function wt(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Cognitivo:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.cognitivo)}}function Ot(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Social:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.social)}}function Gt(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"M\xE9todos a usar:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.metodosausar)}}function At(r,i){if(r&1&&(a(0,"p")(1,"strong"),o(2,"Notas:"),t(),o(3),t()),r&2){let e=p().$implicit;l(3),_(" ",e.notas)}}function zt(r,i){if(r&1&&(a(0,"div")(1,"strong"),o(2,"Cuestionario:"),t(),h(3,"div",100),t()),r&2){let e=p().$implicit;l(3),m("innerHTML",e.cuestionario,se)}}function Mt(r,i){if(r&1){let e=E();_e(0),a(1,"div",94)(2,"div",95)(3,"div",50)(4,"div",96)(5,"h3",58),o(6),I(7,"dateFormat"),t(),a(8,"button",97),v("mousedown",function(s){let d=C(e).$implicit,c=p(3);return x(c.CargarGraficas(d.id,d.fechaadmision,s))}),h(9,"i",98),t()(),a(10,"h5",99),o(11),t(),a(12,"p")(13,"strong"),o(14,"Tipo de Tratamiento:"),t(),o(15),t(),a(16,"p")(17,"strong"),o(18,"Duraci\xF3n:"),t(),o(19),t(),a(20,"p")(21,"strong"),o(22,"Fecha de admisi\xF3n:"),t(),o(23),I(24,"date"),t(),a(25,"p")(26,"strong"),o(27,"Frecuencia:"),t(),o(28),t(),g(29,Et,4,1,"p",16)(30,St,4,1,"p",16)(31,It,4,1,"p",16)(32,Pt,4,1,"p",16)(33,yt,4,1,"p",16)(34,wt,4,1,"p",16)(35,Ot,4,1,"p",16)(36,Gt,4,1,"p",16)(37,At,4,1,"p",16)(38,zt,4,1,"div",16),h(39,"hr"),a(40,"small",73),o(41),I(42,"date"),I(43,"date"),t()()()(),ge()}if(r&2){let e=i.$implicit;l(6),_("Fecha de admisi\xF3n: ",A(7,18,e.fechaadmision)),l(5),_("Diagn\xF3stico: ",e.diagnostico),l(4),_(" ",e.tipotratamiento),l(4),_(" ",e.duracion," minutos"),l(4),_(" ",O(24,20,e.fechaadmision,"longDate")),l(5),_(" ",e.frecuencia),l(),m("ngIf",e.tutor),l(),m("ngIf",e.residenciaactual),l(),m("ngIf",e.objgenerales),l(),m("ngIf",e.fisico),l(),m("ngIf",e.emocional),l(),m("ngIf",e.cognitivo),l(),m("ngIf",e.social),l(),m("ngIf",e.metodosausar),l(),m("ngIf",e.notas),l(),m("ngIf",e.cuestionario),l(3),z("Creado: ",O(42,23,e.created_at,"longDate")," | Actualizado: ",O(43,26,e.updated_at,"longDate"))}}function Tt(r,i){if(r&1&&(a(0,"div",46)(1,"div",49)(2,"div",50)(3,"h3"),o(4,"INFORMACI\xD3N DEMUCAS Y AVANCES"),t(),a(5,"p"),o(6,"Visualiza tus estad\xEDsticas de DEMUCAS aqu\xED."),t(),a(7,"div",92),g(8,Mt,44,29,"ng-container",93),t()()()()),r&2){let e=p(2);l(8),m("ngForOf",e.InfoClientes)}}function kt(r,i){r&1&&(a(0,"span",119),o(1,"Activo"),t())}function Rt(r,i){if(r&1&&(a(0,"span",120),o(1),t()),r&2){let e=p().$implicit;l(),P(e.estado)}}function Dt(r,i){if(r&1&&(a(0,"span"),o(1),I(2,"dateFormat"),t()),r&2){let e=p().$implicit;l(),P(A(2,1,e.fecha))}}function Vt(r,i){r&1&&(a(0,"span",73),o(1,"Sin fecha"),t())}function Ft(r,i){if(r&1&&h(0,"span",100),r&2){let e=p().$implicit;m("innerHTML",e.apuntes,se)}}function Lt(r,i){r&1&&(a(0,"span",73),o(1,"Sin apuntes"),t())}function jt(r,i){if(r&1&&(a(0,"tr")(1,"td"),o(2),t(),a(3,"td")(4,"span",114),o(5),t()(),a(6,"td"),g(7,Dt,3,3,"span",121)(8,Vt,2,0,"ng-template",null,2,W),t(),a(10,"td")(11,"span",114),o(12),t()(),a(13,"td",122),g(14,Ft,1,1,"span",123)(15,Lt,2,0,"ng-template",null,3,W),t()()),r&2){let e=i.$implicit,n=$(9),s=$(16);l(2),P(e.sesion),l(2),m("ngClass",ve(9,nt,e.estadosesion==="REALIZADO",e.estadosesion==="SESI\xD3N PENDIENTE")),l(),P(e.estadosesion),l(2),m("ngIf",e.fecha)("ngIfElse",n),l(4),m("ngClass",Ce(12,ot,e.estadopago==="PAGADO",e.estadopago==="PENDIENTE",e.estadopago==="VENCIDO")),l(),P(e.estadopago),l(2),m("ngIf",e.apuntes)("ngIfElse",s)}}function Nt(r,i){r&1&&(a(0,"tr")(1,"td",124),o(2,"No hay sesiones registradas."),t()())}function Bt(r,i){if(r&1&&(a(0,"div",104)(1,"div",49)(2,"div",105)(3,"div",106)(4,"h4",107)(5,"strong"),o(6,"FECHA DE ADMISI\xD3N"),t(),a(7,"span",108),o(8),I(9,"dateFormat"),t()()(),a(10,"div",109)(11,"span",110)(12,"strong"),o(13),t()(),g(14,kt,2,0,"span",111)(15,Rt,2,1,"span",112),a(16,"span",113),o(17),I(18,"currency"),a(19,"span",114),o(20),I(21,"currency"),t(),o(22),I(23,"currency"),t()()(),a(24,"div",50)(25,"div",115)(26,"div",94)(27,"strong"),o(28,"Cliente:"),t(),o(29),h(30,"br"),a(31,"strong"),o(32,"Carnet:"),t(),o(33),h(34,"br"),a(35,"strong"),o(36,"Celular:"),t(),o(37),h(38,"br"),t(),a(39,"div",94)(40,"strong"),o(41,"Dias:"),t(),o(42),h(43,"br"),a(44,"strong"),o(45,"Horario:"),t(),o(46),h(47,"br"),a(48,"strong"),o(49,"Tipo:"),t(),o(50),h(51,"br"),t()(),a(52,"div",116)(53,"table",117)(54,"thead",118)(55,"tr")(56,"th"),o(57,"# Sesi\xF3n"),t(),a(58,"th"),o(59,"Estado Sesi\xF3n"),t(),a(60,"th"),o(61,"Fecha"),t(),a(62,"th"),o(63,"Estado de Pago"),t(),a(64,"th"),o(65,"Apuntes"),t()()(),a(66,"tbody"),g(67,jt,17,16,"tr",93)(68,Nt,3,0,"tr",16),t()()(),a(69,"small",73),o(70),I(71,"date"),I(72,"date"),t()()()()),r&2){let e=i.$implicit;l(8),P(A(9,19,e.fechaadmision)),l(5),_("Pago #",e.id),l(),m("ngIf",e.estado==="ACTIVO"),l(),m("ngIf",e.estado!=="ACTIVO"),l(2),_(" Precio: ",O(18,21,e.precio,"BOB")," | "),l(2),m("ngClass",ce(36,at,e.saldo>0)),l(),_(" Deuda: ",O(21,24,e.saldo,"BOB")," "),l(2),_(" | Pagado: ",O(23,27,e.pagado,"BOB")," "),l(7),z(" ",e.nombres," ",e.apellidos),l(4),_(" ",e.carnet),l(4),_(" ",e.celular),l(5),_(" ",e.fecha),l(4),_(" ",e.horario),l(4),_(" ",e.tipo),l(17),m("ngForOf",e.ciclos),l(),m("ngIf",!e.ciclos||e.ciclos.length===0),l(2),z("Creado: ",O(71,30,e.created_at,"longDate")," | Actualizado: ",O(72,33,e.updated_at,"longDate"))}}function Ht(r,i){r&1&&(a(0,"div",125),o(1," No hay registros de pagos. "),t())}function $t(r,i){if(r&1&&(a(0,"div",101)(1,"div",49)(2,"div",50)(3,"h3"),o(4,"Estado de Pagos de Sesiones"),t(),a(5,"p"),o(6,"Consulta el estado de los pagos realizados y pendientes de tus sesiones."),t(),g(7,Bt,73,38,"div",102)(8,Ht,2,0,"div",103),t()()()),r&2){let e=p(2);l(7),m("ngForOf",e.Pagos),l(),m("ngIf",!e.Pagos||e.Pagos.length===0)}}function Wt(r,i){r&1&&(a(0,"div",46)(1,"div",49)(2,"div",50)(3,"h3"),o(4,"Pesta\xF1a de Prueba 2"),t(),a(5,"p"),o(6,"Contenido de prueba 2."),t()()()())}function Ut(r,i){if(r&1){let e=E();a(0,"div",46)(1,"div",49)(2,"div",50)(3,"h3"),o(4,"Cuenta"),t(),a(5,"p"),o(6,"Informaci\xF3n de la cuenta y opciones de seguridad."),t(),a(7,"div",47)(8,"div",67),g(9,_t,1,1,"img",68)(10,gt,2,0,"ng-template",null,1,W),a(12,"h4"),o(13),t(),a(14,"span",69),o(15),t()(),a(16,"div",70)(17,"table",71)(18,"tbody")(19,"tr")(20,"th"),o(21,"Usuario"),t(),a(22,"td"),o(23),t()(),g(24,vt,5,1,"tr",16)(25,Ct,6,3,"tr",16),a(26,"tr")(27,"th"),o(28,"Carnet"),t(),a(29,"td"),o(30),t()(),a(31,"tr")(32,"th"),o(33,"Celular"),t(),a(34,"td"),o(35),t()(),g(36,xt,5,1,"tr",16),a(37,"tr")(38,"th"),o(39,"Informaci\xF3n registrada el"),t(),a(40,"td")(41,"div",72)(42,"span"),o(43),I(44,"date"),t(),a(45,"small",73),o(46,"Creado"),t()()()(),a(47,"tr")(48,"th"),o(49,"\xDAltima actualizaci\xF3n de Informaci\xF3n"),t(),a(50,"td")(51,"div",72)(52,"span"),o(53),I(54,"date"),t(),a(55,"small",73),o(56,"\xDAltima modificaci\xF3n"),t()()()()()(),a(57,"div",74)(58,"div",75)(59,"span",69),o(60),t(),a(61,"small",73),o(62),I(63,"date"),t()(),a(64,"div",76)(65,"button",77),h(66,"i",78),o(67," Cambiar contrase\xF1a "),t(),g(68,bt,3,0,"button",79),t()()()(),h(69,"hr",80),a(70,"div",81)(71,"div",82)(72,"h5",83),o(73,"Hoja de Vida"),t(),a(74,"small",73),o(75,"Vista previa"),t()(),a(76,"div",50)(77,"quill-editor",84),V("ngModelChange",function(s){C(e);let d=p();return D(d.datasesion.usuario.hojadevida,s)||(d.datasesion.usuario.hojadevida=s),x(s)}),t(),a(78,"small",85),o(79,'Utiliza el bot\xF3n "Modificar Hoja de Vida" para editar esta informaci\xF3n.'),t()()(),g(80,Tt,9,1,"div",18)(81,$t,9,2,"div",86)(82,Wt,7,0,"div",18),t()()()}if(r&2){let e=$(11),n=p();l(9),m("ngIf",n.datasesion.usuario.foto)("ngIfElse",e),l(4),z("",n.datasesion.usuario.nombres," ",n.datasesion.usuario.apellidos),l(2),P(n.datasesion.usuario.estado),l(8),P(n.datasesion.usuario.usuario),l(),m("ngIf",n.datasesion.abilities&&n.datasesion.abilities.includes("CLIENTELA")),l(),m("ngIf",n.datasesion.abilities&&n.datasesion.abilities.includes("CLIENTELA")),l(5),P(n.datasesion.usuario.carnet),l(5),P(n.datasesion.usuario.celular),l(),m("ngIf",n.datasesion.abilities&&!n.datasesion.abilities.includes("CLIENTELA")),l(7),P(O(44,21,n.datasesion.usuario.created_at,"longDate")),l(10),P(O(54,24,n.datasesion.usuario.updated_at,"longDate")),l(7),P(n.datasesion.usuario.estado),l(2),_("Cuenta activa desde ",O(63,27,n.datasesion.usuario.created_at,"shortDate")),l(6),m("ngIf",n.datasesion.abilities&&!n.datasesion.abilities.includes("CLIENTELA")),l(9),m("modules",n._tools.modulesQuillShow),R("ngModel",n.datasesion.usuario.hojadevida),l(3),m("ngIf",n.activeTab==="estadisticas"),l(),m("ngIf",n.activeTab==="EstadoPagos"),l(),m("ngIf",n.activeTab==="prueba2")}}function Xt(r,i){if(r&1&&(a(0,"div",126),o(1),t()),r&2){let e=p();l(),P(e.errorClave)}}var F=class F{constructor(i,e,n,s,d,c,u){this.router=i;this._auth=e;this._infocli=n;this._demucas=s;this._pagos=d;this._tools=c;this._user=u;this.infoHJVida="";this.isLoadingInfoClientes=!0;this.InfoClientes=[];this.Demucas=[];this.Pagos=[];this.activeTab="home";this.menuOpen=!1;this.claveActual="";this.nuevaClave="";this.confirmarClave="";this.errorClave="";this.mostrarModalCambioClave=!1}ngOnInit(){this.PedirInformacionPerfil()}CargarInfoClientes(){this._infocli.SeleccionarAllInformacionCliente(this.datasesion.usuario.id).subscribe(i=>{console.log("InfoClientes CARGADO",i.data),this.InfoClientes=i.data,this.isLoadingInfoClientes=!1},i=>{console.log("ERROR AL CARGAR InfoClientes",i),this.isLoadingInfoClientes=!1})}CargarGraficas(i,e,n){this._demucas.SeleccionarAllInformacionDemucas(i).subscribe(s=>{switch(console.log("Demucas para GRAFICOS CARGADO",s.data),this.Demucas=s.data,sessionStorage.setItem("idDemucas",i),sessionStorage.setItem("Nombre",this.datasesion.usuario.nombres+" "+this.datasesion.usuario.apellidos),sessionStorage.setItem("FechaAdmision",e),(n.button===2||n.button===1)&&n.preventDefault(),n.button){case 0:console.log("Clic izquierdo"),this.router.navigate(["/me/graficas"]);break;case 1:console.log("Clic de la rueda"),window.open("/me/graficas","_blank");break;case 2:console.log("Clic derecho");break;default:console.log("Otro tipo de clic")}},s=>{console.log("ERROR AL CARGAR Demucas",s)})}CargarPagos(){this._pagos.SeleccionarAllInformacionPagoIDCliente(this.datasesion.usuario.id).subscribe(i=>{console.log("Pagos CARGADO",i.data),this.Pagos=i.data},i=>{console.log("ERROR AL CARGAR Pagos",i)})}setTab(i){switch(i){case"estadisticas":this.activeTab=i,this.CargarInfoClientes();break;case"EstadoPagos":this.activeTab=i,this.CargarPagos();break;default:this.activeTab=i;break}}PedirInformacionPerfil(){this._auth.pedirPerfil().subscribe({next:i=>{console.log("Perfil data:",i),this.datasesion=i,this.infoHJVida=this.datasesion.usuario.hojadevida},error:i=>{console.error("Error al obtener el perfil:",i)}})}toggleMenu(){this.menuOpen=!this.menuOpen}cambiarClave(){if(this.errorClave="",!this.claveActual||!this.nuevaClave||!this.confirmarClave){this.errorClave="Todos los campos son obligatorios.";return}if(this.nuevaClave!==this.confirmarClave){this.errorClave="Las contrase\xF1as nuevas no coinciden.";return}if(this.nuevaClave.length<6){this.errorClave="La nueva contrase\xF1a debe tener al menos 6 caracteres.";return}this._auth.cambiarClave({claveActual:this.claveActual,nuevaClave:this.nuevaClave}).subscribe({next:i=>{this.mostrarModalCambioClave=!1,this.claveActual="",this.nuevaClave="",this.confirmarClave="",this.errorClave="",this._tools.MensajeInformacion("\xC9xito","Contrase\xF1a cambiada correctamente.","success")},error:i=>{this.errorClave=i?.error?.mensaje||"Error al cambiar la contrase\xF1a."}})}modificarHojadeVida(){let i={hojadevida:this.infoHJVida};this._user.ModificarHojadeVida(i,this.datasesion.usuario.id).subscribe({next:e=>{this._tools.MensajeInformacion("\xC9xito","Hoja de vida modificada correctamente.","success"),this.PedirInformacionPerfil()},error:e=>{this._tools.MensajeInformacion("Error",e?.error?.message||"Error al modificar la hoja de vida.","error")}})}};F.\u0275fac=function(e){return new(e||F)(w(q),w(Be),w(Ve),w(Y),w(Q),w(J),w(Ne))},F.\u0275cmp=B({type:F,selectors:[["app-perfil"]],standalone:!1,decls:66,vars:15,consts:[["formClave","ngForm"],["defaultFoto",""],["sinFecha",""],["sinApuntes",""],[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","sidebar",3,"ngClass"],["type","button",1,"navbar-toggler","text-dark","toggle-btn",3,"click"],[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","min-vh-100"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],[1,"nav-item"],[1,"nav-link","align-middle","px-0",3,"click"],[1,"fs-4","bi-house"],["class","ms-1 d-sm-inline",4,"ngIf"],[1,"nav-link","px-0","align-middle","text-primary",3,"click"],[1,"fs-4","bi-person"],[4,"ngIf"],[1,"col","py-3","bg-light"],["class","container mt-5",4,"ngIf"],["id","modalCambioClave","tabindex","-1","aria-labelledby","modalCambioClaveLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalCambioClaveLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","claveActual",1,"form-label"],["type","password","id","claveActual","name","claveActual","required","","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel"],["for","nuevaClave",1,"form-label"],["type","password","id","nuevaClave","name","nuevaClave","required","","autocomplete","new-password",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmarClave",1,"form-label"],["type","password","id","confirmarClave","name","confirmarClave","required","","autocomplete","new-password",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"button"],[1,"btn","mouse-dir","success",3,"click"],[1,"bi","bi-pencil",2,"font-size","1rem"],[1,"dir-part"],["id","modalcambiohojadevida","tabindex","-1","aria-labelledby","modalCambioClaveLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"form-floating","mb-3","col-sm-12"],["name","infoHJVida",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"],[1,"ms-1","d-sm-inline"],[1,"nav-link","px-0","align-middle",3,"click"],[1,"fs-4","bi-table"],[1,"fs-4","bi-currency-dollar"],[1,"container","mt-5"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"card-text"],[1,"row","mt-4","g-4"],[1,"col-md-6","col-lg-3"],[1,"card","h-100","shadow-sm"],[1,"card-body","d-flex","flex-column"],[1,"d-flex","align-items-center","mb-3"],[1,"bi","bi-key","fs-2","text-primary","me-2"],[1,"card-title","mb-0"],[1,"card-text","flex-grow-1"],[1,"btn","btn-outline-primary","mt-auto",3,"click"],["class","col-md-6 col-lg-3",4,"ngIf"],[1,"bi","bi-calendar-check","fs-2","text-success","me-2"],[1,"bi","bi-pencil-square","fs-2","text-warning","me-2"],[1,"btn","btn-outline-warning","mt-auto",3,"click"],[1,"bi","bi-bar-chart-line","fs-2","text-info","me-2"],[1,"btn","btn-outline-info","mt-auto",3,"click"],[1,"col-md-4","text-center"],["alt","Foto de perfil","class","img-fluid rounded-circle mb-3","style","width: 150px; height: 150px; object-fit: cover;",3,"src",4,"ngIf","ngIfElse"],[1,"badge","bg-success"],[1,"col-md-8"],[1,"table","table-bordered"],[1,"d-flex","flex-column"],[1,"text-muted"],[1,"d-flex","flex-column","flex-md-row","justify-content-between","align-items-start","align-items-md-center","gap-2","mb-3"],[1,"d-flex","align-items-center","gap-2"],["role","group","aria-label","Acciones de cuenta",1,"btn-group"],["type","button","data-bs-toggle","modal","data-bs-target","#modalCambioClave","title","Cambiar contrase\xF1a",1,"btn","btn-warning"],[1,"bi","bi-key-fill","me-1"],["type","button","class","btn btn-outline-secondary","data-bs-toggle","modal","data-bs-target","#modalcambiohojadevida","title",'Modificar "Hoja de vida"',4,"ngIf"],[1,"my-4"],[1,"card","shadow-sm","mb-4"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"],[1,"text-muted","d-block","mt-3"],["class","container mt-5","style","max-width: 90%;",4,"ngIf"],["alt","Foto de perfil",1,"img-fluid","rounded-circle","mb-3",2,"width","150px","height","150px","object-fit","cover",3,"src"],[1,"bg-secondary","rounded-circle","d-flex","align-items-center","justify-content-center","mb-3",2,"width","150px","height","150px"],[1,"bi-person","fs-1","text-white"],["type","button","data-bs-toggle","modal","data-bs-target","#modalcambiohojadevida","title",'Modificar "Hoja de vida"',1,"btn","btn-outline-secondary"],[1,"bi","bi-pencil-square","me-1"],[1,"row","mt-4"],[4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],["type","button","title","ABRIR GRAFICAS (ctrl+click)",1,"btn","btn-secondary","ms-2",3,"mousedown"],[1,"bi","bi-bar-chart",2,"font-size","1.5rem"],[1,"card-title"],[3,"innerHTML"],[1,"container","mt-5",2,"max-width","90%"],["class","mb-4",4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"mb-4"],[1,"card-header","d-flex","flex-column","flex-md-row","align-items-center","justify-content-between"],[1,"w-100","text-center","mb-2","mb-md-0"],[1,"mb-0","text-light"],[1,"ms-2"],[1,"d-flex","align-items-center","flex-wrap","justify-content-center","justify-content-md-end","w-100"],[1,"me-2"],["class","badge bg-success ms-2",4,"ngIf"],["class","badge bg-secondary ms-2",4,"ngIf"],[1,"ms-3"],[3,"ngClass"],[1,"row","mb-2"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"table-light"],[1,"badge","bg-success","ms-2"],[1,"badge","bg-secondary","ms-2"],[4,"ngIf","ngIfElse"],[1,"bg-light"],[3,"innerHTML",4,"ngIf","ngIfElse"],["colspan","5",1,"text-center","text-muted"],[1,"text-center","text-muted"],[1,"alert","alert-danger"]],template:function(e,n){if(e&1){let s=E();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"button",7),v("click",function(){return C(s),x(n.toggleMenu())}),o(4," \u2630 "),t(),a(5,"div",8)(6,"ul",9)(7,"li",10)(8,"button",11),v("click",function(){return C(s),x(n.setTab("home"))}),h(9,"i",12),g(10,rt,2,0,"span",13),t()(),a(11,"li")(12,"button",14),v("click",function(){return C(s),x(n.setTab("cuenta"))}),h(13,"i",15),g(14,lt,2,0,"span",13),t()(),g(15,ct,4,1,"li",16)(16,mt,4,1,"li",16),t(),h(17,"hr"),t()(),a(18,"div",17),g(19,ht,24,4,"div",18)(20,Ut,83,30,"div",18),a(21,"div",19)(22,"div",20)(23,"div",21)(24,"div",22)(25,"h5",23),o(26,"Cambiar contrase\xF1a"),t(),h(27,"button",24),t(),a(28,"div",25)(29,"form",null,0)(31,"div",26)(32,"label",27),o(33,"Contrase\xF1a actual"),t(),a(34,"input",28),V("ngModelChange",function(c){return C(s),D(n.claveActual,c)||(n.claveActual=c),x(c)}),t()(),a(35,"div",26)(36,"label",29),o(37,"Nueva contrase\xF1a"),t(),a(38,"input",30),V("ngModelChange",function(c){return C(s),D(n.nuevaClave,c)||(n.nuevaClave=c),x(c)}),t()(),a(39,"div",26)(40,"label",31),o(41,"Confirmar nueva contrase\xF1a"),t(),a(42,"input",32),V("ngModelChange",function(c){return C(s),D(n.confirmarClave,c)||(n.confirmarClave=c),x(c)}),t()(),g(43,Xt,2,1,"div",33),a(44,"div",34)(45,"button",35),v("click",function(){return C(s),x(n.cambiarClave())}),h(46,"i",36),o(47,"CAMBIAR CONTRASE\xD1A"),h(48,"span",37),t()()()()()()(),a(49,"div",38)(50,"div",39)(51,"div",21)(52,"div",22)(53,"h5",23),o(54,"Modificar Hoja de Vida"),t(),h(55,"button",24),t(),a(56,"div",25)(57,"form",null,0)(59,"div",40)(60,"quill-editor",41),V("ngModelChange",function(c){return C(s),D(n.infoHJVida,c)||(n.infoHJVida=c),x(c)}),t()(),a(61,"div",34)(62,"button",35),v("click",function(){return C(s),x(n.modificarHojadeVida())}),h(63,"i",36),o(64,"CAMBIAR INFORMACION DE HOJA DE VIDA"),h(65,"span",37),t()()()()()()()()()()}e&2&&(l(2),m("ngClass",ce(13,it,!n.menuOpen)),l(8),m("ngIf",n.menuOpen),l(4),m("ngIf",n.menuOpen),l(),m("ngIf",n.datasesion.abilities&&n.datasesion.abilities.includes("CLIENTELA")),l(),m("ngIf",n.datasesion.abilities&&n.datasesion.abilities.includes("CLIENTELA")),l(3),m("ngIf",n.activeTab==="home"),l(),m("ngIf",n.activeTab==="cuenta"),l(14),R("ngModel",n.claveActual),l(4),R("ngModel",n.nuevaClave),l(4),R("ngModel",n.confirmarClave),l(),m("ngIf",n.errorClave),l(17),m("modules",n._tools.modulesQuillEdicion),R("ngModel",n.infoHJVida))},dependencies:[xe,U,X,Te,Oe,Ge,Ae,ke,Me,ze,Le,Se,be,K],styles:[".sidebar[_ngcontent-%COMP%]{border-right:2px solid black;background-color:#f8f9fa;transition:width .3s}.sidebar.sidebar-collapsed[_ngcontent-%COMP%]{width:60px}.sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar.sidebar-expanded[_ngcontent-%COMP%]{width:250px}.sidebar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:block;margin:1rem;border:none;background:transparent;cursor:pointer;font-size:1.5rem}.sidebar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{outline:none}.sidebar[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#343a40}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:70%}.sidebar.sidebar-collapsed[_ngcontent-%COMP%]{width:60px}.sidebar.sidebar-expanded[_ngcontent-%COMP%]{width:250px}}"]});var Z=F;function qt(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXEvaluaciones(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionEvaluacion.includes(e)),l(),_(" ",e," ")}}function Jt(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXCategorias(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionCategoria.includes(e)),l(),_(" ",e," ")}}function Yt(r,i){if(r&1){let e=E();a(0,"div")(1,"div")(2,"h1",16),o(3,"Estadistica General por categor\xEDas"),t(),a(4,"h4",17),o(5,"Selecciona las Evaluaciones:"),t(),a(6,"ul",6),g(7,qt,3,3,"li",18),t()(),a(8,"div")(9,"h4",17),o(10,"Selecciona categorias:"),t(),a(11,"ul",6),g(12,Jt,3,3,"li",18),t()(),a(13,"div")(14,"ul",6)(15,"li",7)(16,"button",13),v("click",function(){C(e);let s=p();return x(s.GeneracionGrafica())}),h(17,"i",14),o(18," REFRESCAR GR\xC1FICA "),t()()()(),a(19,"div",19)(20,"div",20),h(21,"apx-chart",21),t()()()}if(r&2){let e=p();l(7),m("ngForOf",e.allevaluacionesdata),l(5),m("ngForOf",e.allcategoriasdata),l(9),m("series",e.OpcionesGraficas.series)("chart",e.OpcionesGraficas.chart)("xaxis",e.OpcionesGraficas.xaxis)("title",e.OpcionesGraficas.title)("dataLabels",e.OpcionesGraficas.dataLabels)("plotOptions",e.OpcionesGraficas.plotOptions)("legend",e.OpcionesGraficas.legend)}}function Qt(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXEvaluaciones2(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionEvaluacion2.includes(e)),l(),_(" ",e," ")}}function Kt(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXCategorias2(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionCategoria2.includes(e)),l(),_(" ",e," ")}}function Zt(r,i){if(r&1){let e=E();a(0,"div")(1,"h1",12),o(2,"Estadistica General por evaluaci\xF3n"),t(),a(3,"div")(4,"h4",17),o(5,"Selecciona las Evaluaciones:"),t(),a(6,"ul",6),g(7,Qt,3,3,"li",18),t()(),a(8,"div")(9,"h4",17),o(10,"Selecciona categorias:"),t(),a(11,"ul",6),g(12,Kt,3,3,"li",18),t()(),a(13,"div")(14,"ul",6)(15,"li",7)(16,"button",13),v("click",function(){C(e);let s=p();return x(s.GeneracionGrafica2())}),h(17,"i",14),o(18," REFRESCAR GR\xC1FICA "),t()()()(),a(19,"div",22),h(20,"apx-chart",21),t()()}if(r&2){let e=p();l(7),m("ngForOf",e.allevaluacionesdata),l(5),m("ngForOf",e.allcategoriasdata),l(8),m("series",e.OpcionesGraficas2.series)("chart",e.OpcionesGraficas2.chart)("xaxis",e.OpcionesGraficas2.xaxis)("title",e.OpcionesGraficas2.title)("dataLabels",e.OpcionesGraficas2.dataLabels)("plotOptions",e.OpcionesGraficas2.plotOptions)("legend",e.OpcionesGraficas2.legend)}}function ei(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXEvaluacionesChorizo(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionEvaluacionChorizo.includes(e)),l(),_(" ",e," ")}}function ti(r,i){if(r&1){let e=E();a(0,"li",7)(1,"button",26),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.filtrarPorCategoria(s.key))}),h(2,"i",27),o(3),t()()}if(r&2){let e=i.$implicit;l(3),_(" Seleccionar ",e.key," ")}}function ii(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXPalabrasChorizo(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionPalabrasChorizo.includes(e)),l(),_(" ",e," ")}}function ai(r,i){if(r&1){let e=E();a(0,"div"),h(1,"hr"),a(2,"h1",23),o(3,"Estadistica por \xE1reas"),t(),a(4,"div")(5,"h4",17),o(6,"Selecciona las Evaluaciones:"),t(),a(7,"ul",6),g(8,ei,3,3,"li",18),t()(),a(9,"div")(10,"h4",17),o(11,"Click Grupales:"),t(),a(12,"ul",6),g(13,ti,4,1,"li",18),I(14,"keyvalue"),t()(),a(15,"div")(16,"h4",17),o(17,"Selecciona palabras:"),t(),a(18,"ul",6),g(19,ii,3,3,"li",18),t()(),a(20,"div")(21,"ul",6)(22,"li",7)(23,"button",13),v("click",function(){C(e);let s=p();return x(s.GeneracionGraficaChorizo())}),h(24,"i",14),o(25," REFRESCAR GR\xC1FICA "),t()()()(),a(26,"div",24),h(27,"apx-chart",25),t()()}if(r&2){let e=p();l(8),m("ngForOf",e.allevaluacionesdata),l(5),m("ngForOf",A(14,11,e.categoriasMap)),l(6),m("ngForOf",e.allpalabrasdata),l(8),m("series",e.OpcionesGraficasChorizo.series)("chart",e.OpcionesGraficasChorizo.chart)("xaxis",e.OpcionesGraficasChorizo.xaxis)("yaxis",e.OpcionesGraficasChorizo.yaxis)("title",e.OpcionesGraficasChorizo.title)("dataLabels",e.OpcionesGraficasChorizo.dataLabels)("plotOptions",e.OpcionesGraficasChorizo.plotOptions)("legend",e.OpcionesGraficasChorizo.legend)}}function ni(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXEvaluacionesChorizo2(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionEvaluacionChorizo2.includes(e)),l(),_(" ",e," ")}}function oi(r,i){if(r&1){let e=E();a(0,"li",7)(1,"button",26),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.filtrarPorCategoria2(s.key))}),h(2,"i",27),o(3),t()()}if(r&2){let e=i.$implicit;l(3),_(" Seleccionar ",e.key," ")}}function ri(r,i){if(r&1){let e=E();a(0,"li",7)(1,"a",8),v("click",function(){let s=C(e).$implicit,d=p(2);return x(d.FiltrarXPalabrasChorizo2(s))}),o(2),t()()}if(r&2){let e=i.$implicit,n=p(2);l(),y("active",n.seleccionPalabrasChorizo2.includes(e)),l(),_(" ",e," ")}}function li(r,i){if(r&1){let e=E();a(0,"div"),h(1,"hr"),a(2,"h1",28),o(3,"Estadistica de \xE1reas por\xA0evaluaci\xF3n"),t(),a(4,"div")(5,"h4",17),o(6,"Selecciona las Evaluaciones:"),t(),a(7,"ul",6),g(8,ni,3,3,"li",18),t()(),a(9,"div")(10,"h4",17),o(11,"Click Grupales:"),t(),a(12,"ul",6),g(13,oi,4,1,"li",18),I(14,"keyvalue"),t()(),a(15,"div")(16,"h4",17),o(17,"Selecciona palabras:"),t(),a(18,"ul",6),g(19,ri,3,3,"li",18),t()(),a(20,"div")(21,"ul",6)(22,"li",7)(23,"button",13),v("click",function(){C(e);let s=p();return x(s.GeneracionGraficaChorizo2())}),h(24,"i",14),o(25," REFRESCAR GR\xC1FICA "),t()()()(),a(26,"div",29),h(27,"apx-chart",25),t()()}if(r&2){let e=p();l(8),m("ngForOf",e.allevaluacionesdata),l(5),m("ngForOf",A(14,11,e.categoriasMap2)),l(6),m("ngForOf",e.allpalabrasdata),l(8),m("series",e.OpcionesGraficasChorizo2.series)("chart",e.OpcionesGraficasChorizo2.chart)("xaxis",e.OpcionesGraficasChorizo2.xaxis)("yaxis",e.OpcionesGraficasChorizo2.yaxis)("title",e.OpcionesGraficasChorizo2.title)("dataLabels",e.OpcionesGraficasChorizo2.dataLabels)("plotOptions",e.OpcionesGraficasChorizo2.plotOptions)("legend",e.OpcionesGraficasChorizo2.legend)}}function si(r,i){if(r&1&&(a(0,"div"),h(1,"apx-chart",30),t()),r&2){let e=p();l(),m("series",e.chartOptionsERICIM.series)("chart",e.chartOptionsERICIM.chart)("dataLabels",e.chartOptionsERICIM.dataLabels)("stroke",e.chartOptionsERICIM.stroke)("markers",e.chartOptionsERICIM.markers)("title",e.chartOptionsERICIM.title)("xaxis",e.chartOptionsERICIM.xaxis)("yaxis",e.chartOptionsERICIM.yaxis)("tooltip",e.chartOptionsERICIM.tooltip)("grid",e.chartOptionsERICIM.grid)("legend",e.chartOptionsERICIM.legend)}}function ci(r,i){r&1&&(a(0,"div",31),o(1," Cargando gr\xE1fico... "),t())}var L=class L{constructor(i,e,n){this._demucas=i;this._pagos=e;this._mescalas=n;this.infoRecolectada=[];this.infoRecolectada2=[];this.Pagos=[];this.MatrizEscalas=[];this.dataERICIM=[];this.nombrecliente="";this.fechaadmisioncliente="";this.estadisticaGeneralCategorias=!0;this.estadisticaGeneralEvaluacion=!0;this.estadisticaPorAreas=!0;this.estadisticaAreasEvaluacion=!0;this.estadisticaERICIM=!0;this.allcategoriasdata=[];this.allevaluacionesdata=[];this.allpalabrasdata=[];this.seleccionCategoria=[];this.seleccionEvaluacion=[];this.seleccionCategoria2=[];this.seleccionEvaluacion2=[];this.seleccionCategoriaChorizo=[];this.seleccionEvaluacionChorizo=[];this.seleccionPalabrasChorizo=[];this.seleccionCategoriaChorizo2=[];this.seleccionEvaluacionChorizo2=[];this.seleccionPalabrasChorizo2=[];this.DetalleGrafica1={};this.categoriasMap={};this.categoriasMap2={};this.OpcionesGraficas={};this.DetalleGrafica2={};this.OpcionesGraficas2={};this.DetalleGraficaChorizo={};this.OpcionesGraficasChorizo={};this.DetalleGraficaChorizo2={};this.OpcionesGraficasChorizo2={};this.chartOptions={};this.allcategorias=["PRIMERA EVALUACI\xD3N","SEGUNDA EVALUACI\xD3N","TERCERA EVALUACI\xD3N","CUARTA EVALUACI\xD3N","QUINTA EVALUACI\xD3N","SEXTA EVALUACI\xD3N","S\xC9PTIMA EVALUACI\xD3N","OCTAVA EVALUACI\xD3N"];this.selectedMonths=[...this.allcategorias];this.allProducts=["Producto A","Producto B","Producto C"];this.selectedProducts=[...this.allProducts];this.productData={"Producto A":[44,55,41,67,22,43,21,49,13,10,20,30,40,50,60,70,80,90,100,110],"Producto B":[13,23,20,8,13,27,33,12,25,23,12,14,15,16,17,18,19,20,21,22],"Producto C":[11,17,15,15,21,14,15,13,17,18,19,20,21,22,23,24,25,26,27,28]};this.showChart=!1;this.chartOptionsERICIM={}}ngOnInit(){var i=Number(sessionStorage.getItem("idDemucas"));this.nombrecliente=sessionStorage.getItem("Nombre"),this.fechaadmisioncliente=sessionStorage.getItem("FechaAdmision"),this._demucas.SeleccionarAllInformacionDemucas(i).subscribe(e=>{this.infoRecolectada=e.data,this.infoRecolectada2=e.data,console.log(this.infoRecolectada),console.table(this.infoRecolectada),this.preparandoInformacion(),this.GeneracionGrafica(),this.GeneracionGrafica2(),this.GeneracionGraficaChorizo(),this.GeneracionGraficaChorizo2()},e=>{console.log("ERROR AL CARGAR Demucas",e)}),this._mescalas.ObtenerMatrizEscalas().subscribe(e=>{this.MatrizEscalas=e.data.filter(n=>n.categoria.includes("ESCALA DE RELACIONES INTERMUSICALES (ERI)")||n.categoria.includes("CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)")),console.log("MatrizEscalas ERI CIM CARGADO",this.MatrizEscalas),this._pagos.SeleccionarAllInformacionPagoIDinfoCliente(i).subscribe(n=>{console.log("Pagos para ERI CIM CARGADO",n.data),this.Pagos=n.data;let c=[...this.Pagos.reduce((u,f)=>u.concat(f.ciclos),[]).map(u=>{let f={eri:null,cim:null};if(u.eri){let S=this.MatrizEscalas.find(b=>b.nombrematriz.trim()===u.eri.trim()&&b.categoria.includes("ERI"));S&&(f.eri=S.valor)}if(u.cim){let S=this.MatrizEscalas.find(b=>b.nombrematriz.trim()===u.cim.trim()&&b.categoria.includes("CIM"));S&&(f.cim=S.valor)}return le(re({},u),{puntaje:f})})].sort((u,f)=>Number(u.nrociclo)-Number(f.nrociclo)||Number(u.sesion)-Number(f.sesion));this.dataERICIM=c,console.log(this.dataERICIM),this.prepareChartData()},n=>{console.log("ERROR AL CARGAR Pagos para ERI CIM",n)})},e=>{console.log("ERROR AL CARGAR MatrizEscalas",e)})}filtrarPorCategoria(i){(this.categoriasMap[i]||[]).forEach(n=>this.FiltrarXPalabrasChorizo(n))}filtrarPorCategoria2(i){(this.categoriasMap[i]||[]).forEach(n=>this.FiltrarXPalabrasChorizo2(n))}preparandoInformacion(){let i=[...new Set(this.infoRecolectada.map(d=>d.categoria))],e=[...new Set(this.infoRecolectada.map(d=>d.evaluacion))],n=[...new Set(this.infoRecolectada.map(d=>d.palabra))];this.allcategoriasdata=i,this.allevaluacionesdata=e,this.allpalabrasdata=n,console.log(i),console.log(e),console.log("inforecolectada",this.infoRecolectada),console.log("all palabras",n);let s=this.infoRecolectada.reduce((d,c)=>(d[c.categoria]||(d[c.categoria]=[]),d[c.categoria].push(c.palabra),d),{});this.categoriasMap=s,this.categoriasMap2=s,this.seleccionCategoria=[...this.allcategoriasdata],this.seleccionEvaluacion=[...this.allevaluacionesdata],this.seleccionCategoria2=[...this.allcategoriasdata],this.seleccionEvaluacion2=[...this.allevaluacionesdata],this.seleccionCategoriaChorizo=[...this.allcategoriasdata],this.seleccionEvaluacionChorizo=[...this.allevaluacionesdata],this.seleccionPalabrasChorizo=[...this.allpalabrasdata],this.seleccionCategoriaChorizo2=[...this.allcategoriasdata],this.seleccionEvaluacionChorizo2=[...this.allevaluacionesdata],this.seleccionPalabrasChorizo2=[...this.allpalabrasdata]}prepararCategoriaData(){this.DetalleGrafica1={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionCategoria.forEach(e=>{let n=this.infoRecolectada.filter(d=>d.categoria===e),s=[];this.seleccionEvaluacion.forEach(d=>{let c=n.filter(b=>b.evaluacion===d),u=0,f=0;c.forEach(b=>{let G=b.multiplicar?b.multiplicar:1,ne=2*G;if(!(b.escala==null||i[b.escala]==null)){u+=ne;let oe=i[b.escala]*G;f+=oe}});let S=0;u>0&&(S=Math.round(f/u*100)),s.push(S)}),this.DetalleGrafica1[e]=s}),console.log(this.DetalleGrafica1)}GeneracionGrafica(){if(this.prepararCategoriaData(),this.seleccionCategoria.length===0||this.seleccionEvaluacion.length===0){console.error("No hay categor\xEDas o evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGrafica1).length===0){console.error("DetalleGrafica1 est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionCategoria.map(f=>({name:f,data:this.seleccionEvaluacion.map((S,b)=>this.DetalleGrafica1[f][b]||0)})),e=30,n=10,s=500,d=this.seleccionEvaluacion.length*(this.seleccionCategoria.length*(e+n)+n),c=200,u=d+c+100;this.OpcionesGraficas={series:i,chart:{animations:{enabled:!1},type:"bar",height:s,width:u,stacked:!1,toolbar:{show:!0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0}},zoom:{enabled:!0},events:{mounted:f=>{let S=f.el.querySelector(".apexcharts-legend");S&&(S.style.right="0",S.style.left="auto")}}},title:{text:"Estadistica General por categor\xEDas",align:"center",margin:10,style:{fontSize:"16px",fontWeight:"bold",color:"#333"}},xaxis:{categories:this.seleccionEvaluacion,labels:{formatter:f=>f.split(" ").join(`
`),style:{fontSize:"12px",fontWeight:600}},axisBorder:{show:!0,color:"#78909C"},axisTicks:{show:!0,color:"#78909C"},title:{text:"Evaluaciones",style:{fontSize:"14px",fontWeight:"bold",color:"#333"}}},yaxis:{min:0,max:100,labels:{formatter:f=>`${f}%`,style:{fontSize:"12px"}},title:{text:"Porcentaje",style:{fontSize:"14px",fontWeight:"bold",color:"#333"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",fontWeight:"bold",colors:["#333"]},formatter:f=>`${f}%`,background:{enabled:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:`${e}px`,endingShape:"rounded",dataLabels:{position:"top"},distributed:!1}},legend:{position:"right",horizontalAlign:"center",verticalAlign:"middle",offsetY:0,offsetX:0,height:"auto",width:c,itemMargin:{horizontal:5,vertical:8},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0},fontSize:"12px",fontWeight:600,markers:{width:14,height:14,radius:4,offsetX:-4,offsetY:0},labels:{colors:"#333",useSeriesColors:!1},formatter:function(f,S){return f.length>200?f.substring(0,200)+"...":f}},colors:["#3f51b5","#ff4081","#4caf50","#ff9800","#9c27b0","#00bcd4","#e91e63","#8bc34a","#ff5722","#607d8b"],grid:{row:{colors:["#f5f5f5","transparent"],opacity:.1},padding:{top:10,right:c+20,bottom:0,left:20}},tooltip:{y:{formatter:f=>`${f}%`,title:{formatter:f=>`${f}:`}},theme:"light",style:{fontSize:"14px"}},responsive:[{breakpoint:1200,options:{chart:{width:"100%"},legend:{position:"bottom",horizontalAlign:"center"},grid:{padding:{right:20}}}}]}}FiltrarXEvaluaciones(i){this.seleccionEvaluacion.includes(i)?this.seleccionEvaluacion=this.seleccionEvaluacion.filter(e=>e!==i):this.seleccionEvaluacion.push(i),console.log(this.seleccionEvaluacion),this.seleccionEvaluacion.sort((e,n)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(n)),this.GeneracionGrafica()}FiltrarXCategorias(i){this.seleccionCategoria.includes(i)?this.seleccionCategoria=this.seleccionCategoria.filter(e=>e!==i):this.seleccionCategoria.push(i),this.seleccionCategoria.sort((e,n)=>this.allcategoriasdata.indexOf(e)-this.allcategoriasdata.indexOf(n)),this.GeneracionGrafica()}prepararCategoriaData2(){this.DetalleGrafica2={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionCategoria2.forEach(e=>{let n=this.infoRecolectada2.filter(d=>d.categoria===e),s=[];this.seleccionEvaluacion2.forEach(d=>{let c=n.filter(b=>b.evaluacion===d),u=0,f=0;c.forEach(b=>{let G=b.multiplicar?b.multiplicar:1,ne=2*G;if(!(b.escala==null||i[b.escala]==null)){u+=ne;let oe=i[b.escala]*G;f+=oe}});let S=0;u>0&&(S=Math.round(f/u*100)),s.push(S)}),this.DetalleGrafica2[e]=s})}GeneracionGrafica2(){if(this.prepararCategoriaData2(),this.seleccionCategoria2.length===0||this.seleccionEvaluacion2.length===0){console.error("No hay categor\xEDas o evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGrafica2).length===0){console.error("DetalleGrafica2 est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionEvaluacion2.map(u=>({name:u,data:this.seleccionCategoria2.map(f=>this.DetalleGrafica2[f]?.[this.seleccionEvaluacion2.indexOf(u)]||0)})),e=38,n=10,s=400,c=this.seleccionCategoria2.length*this.seleccionEvaluacion2.length*(e+n)+100;this.OpcionesGraficas2={series:i,chart:{animations:{enabled:!1},type:"bar",height:s,width:c,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Estadistica General por evaluaci\xF3n"},xaxis:{categories:this.seleccionCategoria2,labels:{formatter:u=>u.split(" ").join(`
`),style:{fontSize:"12px"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]},formatter:u=>`${u}%`},plotOptions:{bar:{horizontal:!1,columnWidth:e+"px",endingShape:"rounded",dataLabels:{position:"top"}}},legend:{position:"top",onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}}}FiltrarXEvaluaciones2(i){this.seleccionEvaluacion2.includes(i)?this.seleccionEvaluacion2=this.seleccionEvaluacion2.filter(e=>e!==i):this.seleccionEvaluacion2.push(i),console.log(this.seleccionEvaluacion2),this.seleccionEvaluacion2.sort((e,n)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(n)),this.GeneracionGrafica2()}FiltrarXCategorias2(i){this.seleccionCategoria2.includes(i)?this.seleccionCategoria2=this.seleccionCategoria2.filter(e=>e!==i):this.seleccionCategoria2.push(i),this.seleccionCategoria2.sort((e,n)=>this.allcategoriasdata.indexOf(e)-this.allcategoriasdata.indexOf(n)),this.GeneracionGrafica2()}prepararCategoriaDataChorizo(){this.DetalleGraficaChorizo={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionEvaluacionChorizo.forEach(e=>{let n=this.infoRecolectada.filter(d=>d.evaluacion===e),s=[];this.seleccionPalabrasChorizo.forEach(d=>{let c=n.filter(f=>f.palabra===d),u=0;c.forEach(f=>{let S=f.multiplicar?f.multiplicar:1;if(!(f.escala==null||i[f.escala]==null)){let G=i[f.escala]*S;u+=G}}),s.push(u)}),this.DetalleGraficaChorizo[e]=s}),console.table(this.DetalleGraficaChorizo)}GeneracionGraficaChorizo(){if(this.prepararCategoriaDataChorizo(),this.seleccionEvaluacionChorizo.length===0){console.error("No hay evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGraficaChorizo).length===0){console.error("DetalleGraficaChorizo est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionEvaluacionChorizo.map(u=>({name:u,data:this.DetalleGraficaChorizo[u]||[]})),e=30,n=10,s=400,c=this.seleccionPalabrasChorizo.length*this.seleccionEvaluacionChorizo.length*(e+n)+100;this.OpcionesGraficasChorizo={series:i,chart:{animations:{enabled:!1},type:"bar",height:c,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Estadistica por \xE1reas"},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:10,style:{fontSize:"12px",colors:["#000"]}},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1},xaxis:{categories:this.seleccionPalabrasChorizo,labels:{formatter:u=>u.length>200?u.substring(0,200)+"...":u,style:{fontSize:"12px"}}},legend:{position:"top",onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}}}FiltrarXEvaluacionesChorizo(i){this.seleccionEvaluacionChorizo.includes(i)?this.seleccionEvaluacionChorizo=this.seleccionEvaluacionChorizo.filter(e=>e!==i):this.seleccionEvaluacionChorizo.push(i),console.log(this.seleccionEvaluacionChorizo),this.seleccionEvaluacionChorizo.sort((e,n)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(n)),this.GeneracionGraficaChorizo()}FiltrarXPalabrasChorizo(i){this.seleccionPalabrasChorizo.includes(i)?this.seleccionPalabrasChorizo=this.seleccionPalabrasChorizo.filter(e=>e!==i):this.seleccionPalabrasChorizo.push(i),this.seleccionPalabrasChorizo.sort((e,n)=>this.allpalabrasdata.indexOf(e)-this.allpalabrasdata.indexOf(n)),this.GeneracionGraficaChorizo()}prepararCategoriaDataChorizo2(){this.DetalleGraficaChorizo2={};let i={NADA:0,POCO:1,MUCHO:2};this.seleccionEvaluacionChorizo2.forEach(e=>{let n=this.infoRecolectada.filter(d=>d.evaluacion===e),s=[];this.seleccionPalabrasChorizo2.forEach(d=>{let c=n.filter(f=>f.palabra===d),u=0;c.forEach(f=>{let S=f.multiplicar?f.multiplicar:1;if(!(f.escala==null||i[f.escala]==null)){let G=i[f.escala]*S;u+=G}}),s.push(u)}),this.DetalleGraficaChorizo2[e]=s}),console.table(this.DetalleGraficaChorizo2)}GeneracionGraficaChorizo2(){if(this.prepararCategoriaDataChorizo2(),this.seleccionEvaluacionChorizo2.length===0){console.error("No hay evaluaciones seleccionadas.");return}if(Object.keys(this.DetalleGraficaChorizo2).length===0){console.error("DetalleGraficaChorizo2 est\xE1 vac\xEDo o no est\xE1 correctamente formado.");return}let i=this.seleccionPalabrasChorizo2.map(c=>({name:c,data:this.seleccionEvaluacionChorizo2.map(u=>{let f=this.seleccionPalabrasChorizo2.indexOf(c);return this.DetalleGraficaChorizo2[u][f]||0})})),s=this.seleccionPalabrasChorizo2.length*(30+10)+150,d=i.map(c=>le(re({},c),{data:c.data.map(u=>u===0?.01:u)}));this.OpcionesGraficasChorizo2={series:d,chart:{animations:{enabled:!1},type:"bar",height:s,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Estadistica de \xE1reas por evaluaci\xF3n",align:"center",style:{fontSize:"16px",fontWeight:"bold"}},plotOptions:{bar:{barHeight:"100%",horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:10,style:{fontSize:"12px",colors:["#000"]},formatter:c=>c===.01?0:c},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1,y:{formatter:function(c){return c===.01?0:c}}},xaxis:{categories:this.seleccionEvaluacionChorizo2,labels:{formatter:c=>c.length>13?c.substring(0,13)+"...":c,style:{fontSize:"12px"}},axisBorder:{show:!0},axisTicks:{show:!0},title:{text:"Evaluaciones",style:{fontSize:"14px",fontWeight:"bold"}}},legend:{position:"right",labels:{colors:"#333",useSeriesColors:!1,style:{fontSize:"12px",fontWeight:"bold"}},markers:{width:12,height:12,radius:4,offsetX:-4,offsetY:0},itemMargin:{horizontal:10,vertical:5}},grid:{padding:{right:20,left:20}},colors:["#7e007eff","#ff4081","#4caf50","#ff9800","#85628bff","#00bcd4","#e91e63","#8bc34a","#ff5722","#607d8b","#795548","#cddc39","#f44336","#2196f3","#ffc107","#440da3ff","#009688","#bdbdbd","#ffeb3b","#c69dd1ff","#d84315","#43a047","#1e88e5","#fbc02d","#6d4c41","#00acc1","#d4e157","#e53935","#3949ab","#fdd835","#5e35b1","#00897b","#a1887f","#595264ff","#388e3c","#0288d1","#afb42b","#c62828","#303f9f","#ffa000","#512da8","#00796b","#f5f5f5","#b2dfdb","#ffb300","#ff7043","#968299ff","#26a69a","#ec407a","#78909c","#dce775","#ff5252","#448aff","#ffd600","#b0bec5","#ff8a65","#9b8a9eff","#4dd0e1","#e4195dff","#90a4ae","#e6ee9c","#ff1744","#2979ff","#ffff00","#cfd8dc","#ffccbc","#bda1c2ff","#80cbc4","#f8bbd0","#b3e5fc","#d1c4e9","#c8e6c9","#ffecb3","#ffe0b2","#d7ccc8","#f0f4c3","#fff9c4","#fbe9e7","#ede7f6","#e0f7fa"]}}FiltrarXEvaluacionesChorizo2(i){this.seleccionEvaluacionChorizo2.includes(i)?this.seleccionEvaluacionChorizo2=this.seleccionEvaluacionChorizo2.filter(e=>e!==i):this.seleccionEvaluacionChorizo2.push(i),console.log(this.seleccionEvaluacionChorizo2),this.seleccionEvaluacionChorizo2.sort((e,n)=>this.allevaluacionesdata.indexOf(e)-this.allevaluacionesdata.indexOf(n)),this.GeneracionGraficaChorizo2()}FiltrarXPalabrasChorizo2(i){this.seleccionPalabrasChorizo2.includes(i)?this.seleccionPalabrasChorizo2=this.seleccionPalabrasChorizo2.filter(e=>e!==i):this.seleccionPalabrasChorizo2.push(i),this.seleccionPalabrasChorizo2.sort((e,n)=>this.allpalabrasdata.indexOf(e)-this.allpalabrasdata.indexOf(n)),this.GeneracionGraficaChorizo2()}cargarbarras(){let i=this.selectedProducts.map(u=>({name:u,data:this.selectedMonths.map(f=>{let S=this.allcategorias.indexOf(f);return this.productData[u][S]})})),e=30,n=10,s=400,c=this.selectedProducts.length*this.selectedMonths.length*(e+n)+100;this.chartOptions={series:i,chart:{type:"bar",height:s,width:c,stacked:!1,toolbar:{show:!0},zoom:{enabled:!0}},title:{text:"Ventas Mensuales por Producto"},xaxis:{categories:this.selectedMonths,labels:{formatter:u=>u.split(" ").join(`
`),style:{fontSize:"12px"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#000"]}},plotOptions:{bar:{horizontal:!1,columnWidth:e+"px",endingShape:"rounded",dataLabels:{position:"top"}}},legend:{position:"top"}}}toggleMonth(i){this.selectedMonths.includes(i)?this.selectedMonths=this.selectedMonths.filter(e=>e!==i):this.selectedMonths.push(i),this.selectedMonths.sort((e,n)=>this.allcategorias.indexOf(e)-this.allcategorias.indexOf(n)),this.cargarbarras()}toggleProduct(i){this.selectedProducts.includes(i)?this.selectedProducts=this.selectedProducts.filter(e=>e!==i):this.selectedProducts.push(i),this.selectedProducts.sort((e,n)=>this.allProducts.indexOf(e)-this.allProducts.indexOf(n)),this.cargarbarras()}prepareChartData(){let i=this.dataERICIM.filter(c=>c.estadosesion==="REALIZADO"&&c.fecha);i.sort((c,u)=>new Date(c.fecha).getTime()-new Date(u.fecha).getTime());let e=c=>new Date(c).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g," "),n=i.map(c=>`${e(c.fecha)}
C${c.nrociclo}-S${c.sesion}`),s=i.map(c=>c.puntaje.eri?parseFloat(c.puntaje.eri):null),d=i.map(c=>c.puntaje.cim?parseFloat(c.puntaje.cim):null);this.chartOptionsERICIM={series:[{name:"ERI",data:s,color:"#3B82F6"},{name:"CIM",data:d,color:"#10B981"}],chart:{animations:{enabled:!1},height:500,type:"line",zoom:{enabled:!0},toolbar:{show:!0}},dataLabels:{enabled:!0,formatter:c=>c?.toFixed(1)||"",background:{enabled:!0,borderRadius:2}},stroke:{curve:"smooth",width:3},markers:{size:5,hover:{size:8}},title:{text:"Evoluci\xF3n de Puntajes ERI y CIM",align:"center",style:{fontSize:"16px"}},xaxis:{categories:n,labels:{trim:!1,hideOverlappingLabels:!1,style:{fontSize:"10px"}},tickPlacement:"on"},yaxis:{min:0,max:10,title:{text:"Puntaje"},labels:{formatter:c=>c.toFixed(0)}},tooltip:{custom:({series:c,seriesIndex:u,dataPointIndex:f,w:S})=>{let b=i[f];return`
          <div class="apexcharts-tooltip-box">
            <div><strong>Ciclo:</strong> ${b.nrociclo}</div>
            <div><strong>Sesi\xF3n:</strong> ${b.sesion}</div>
            <div><strong>Fecha:</strong> ${e(b.fecha)}</div>
            <div class="mt-2"><strong>ERI:</strong> ${b.puntaje.eri||"N/A"}</div>
            <div><strong>CIM:</strong> ${b.puntaje.cim||"N/A"}</div>
          </div>
        `}},grid:{row:{colors:["#f3f3f3f3","transparent"],opacity:.5}},legend:{position:"top"}},this.showChart=!0}};L.\u0275fac=function(e){return new(e||L)(w(Y),w(Q),w(Fe))},L.\u0275cmp=B({type:L,selectors:[["app-graficas"]],standalone:!1,decls:43,vars:20,consts:[[1,"mt-4","fondoBajo"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","text-danger"],[1,"lead","text-primary"],[1,"row","justify-content-center"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"fondoBajo"],[4,"ngIf"],[1,"chart-container"],["id","generalXevaluacion",1,"text-center","text-danger"],["href","javascript:void(0)","title","CLICK",1,"btn","btn-outline-primary","p-1","py-0",3,"click"],[1,"bi","bi-arrow-clockwise",2,"font-size","1.5rem"],["class","loading-message",4,"ngIf"],["id","generalXcategoria",1,"text-center","text-danger"],[1,"text-primary"],["class","nav-item",4,"ngFor","ngForOf"],["id","chart",2,"width","100%","overflow-x","auto"],[2,"min-width","800px"],[3,"series","chart","xaxis","title","dataLabels","plotOptions","legend"],["id","chart2",2,"width","100%","overflow-x","auto"],["id","Xareas",1,"text-center","text-danger"],["id","chart3",2,"width","100%","overflow-x","auto"],[3,"series","chart","xaxis","yaxis","title","dataLabels","plotOptions","legend"],["href","javascript:void(0)","title","CLICK GRUPAL",1,"btn","btn-outline-primary","p-1","py-0",3,"click"],[1,"bi","bi-hand-index",2,"font-size","1.5rem"],["id","areasXevaluacion",1,"text-center","text-danger"],["id","chart4",2,"width","100%","overflow-x","auto"],[3,"series","chart","dataLabels","stroke","markers","title","xaxis","yaxis","tooltip","grid","legend"],[1,"loading-message"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"GR\xC1FICAS DE LOS DEMUCAS "),t(),a(5,"p",4),o(6),I(7,"dateFormat"),t()()(),h(8,"hr"),a(9,"div",5)(10,"ul",6)(11,"li",7)(12,"a",8),v("click",function(){return n.estadisticaGeneralCategorias=!n.estadisticaGeneralCategorias}),o(13," Ir a Estadistica General por categor\xEDas "),t()(),a(14,"li",7)(15,"a",8),v("click",function(){return n.estadisticaGeneralEvaluacion=!n.estadisticaGeneralEvaluacion}),o(16," Ir a Estadistica General por evaluaci\xF3n "),t()(),a(17,"li",7)(18,"a",8),v("click",function(){return n.estadisticaPorAreas=!n.estadisticaPorAreas}),o(19," Ir a Estadistica por \xE1reas "),t()(),a(20,"li",7)(21,"a",8),v("click",function(){return n.estadisticaAreasEvaluacion=!n.estadisticaAreasEvaluacion}),o(22," Ir a Estadistica de \xE1reas por evaluaci\xF3n "),t()(),a(23,"li",7)(24,"a",8),v("click",function(){return n.estadisticaERICIM=!n.estadisticaERICIM}),o(25," Ir a Evoluci\xF3n de puntajes ERI y CIM "),t()()()()(),a(26,"div",9),g(27,Yt,22,9,"div",10),h(28,"hr"),g(29,Zt,21,9,"div",10)(30,ai,28,13,"div",10)(31,li,28,13,"div",10),a(32,"div",11)(33,"h1",12),o(34,"EVOLUCI\xD3N DE PUNTAJES ERI y CIM"),t(),a(35,"div")(36,"ul",6)(37,"li",7)(38,"button",13),v("click",function(){return n.prepareChartData()}),h(39,"i",14),o(40," REFRESCAR GR\xC1FICA "),t()()()(),g(41,si,2,11,"div",10)(42,ci,2,0,"div",15),t()()),e&2&&(l(6),z("Visualizando Gr\xE1ficas Demucas del Cliente: ",n.nombrecliente," de la Admisi\xF3n: ",A(7,18,n.fechaadmisioncliente)),l(6),y("active",n.estadisticaGeneralCategorias),l(3),y("active",n.estadisticaGeneralEvaluacion),l(3),y("active",n.estadisticaPorAreas),l(3),y("active",n.estadisticaAreasEvaluacion),l(3),y("active",n.estadisticaERICIM),l(3),m("ngIf",n.estadisticaGeneralCategorias),l(2),m("ngIf",n.estadisticaGeneralEvaluacion),l(),m("ngIf",n.estadisticaPorAreas),l(),m("ngIf",n.estadisticaAreasEvaluacion),l(10),m("ngIf",n.estadisticaERICIM),l(),m("ngIf",!n.showChart))},dependencies:[U,X,We,Ee,K],encapsulation:2});var te=L;var M=class M{constructor(i,e,n){this.router=i;this.http=e;this._tool=n;this.ruta=we.ruta}canActivate(i,e){let n=localStorage.getItem("token");return n?this.http.post(this.ruta+"api/verify-token",{token:n}).pipe(pe(s=>(console.log(s),s&&s.name?!0:(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1))),fe(s=>(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),me(!1)))):(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)}};M.\u0275fac=function(e){return new(e||M)(N(q),N(Pe),N(J))},M.\u0275prov=ue({token:M,factory:M.\u0275fac,providedIn:"root"});var ie=M;var di=[{path:"perfil",component:Z,canActivate:[ie]},{path:"graficas",component:te}],T=class T{};T.\u0275fac=function(e){return new(e||T)},T.\u0275mod=H({type:T}),T.\u0275inj=j({imports:[de.forChild(di),de]});var ae=T;var k=class k{};k.\u0275fac=function(e){return new(e||k)},k.\u0275mod=H({type:k}),k.\u0275inj=j({imports:[Ie,Re,De,ae,Ue,ye,$e,He,je]});var Xe=k;export{Xe as PrivadosModule};
