import{a as M,d as ce,e as q}from"./chunk-CRGVUGVA.js";import{$ as k,$a as si,A as he,Aa as Qe,B as Qt,Ba as N,C as He,Ca as S,D as g,Da as ue,E as h,Ea as w,F as Yt,G as $e,Ga as Ye,H as B,Ha as At,I as Et,Ia as J,J as A,Ja as Q,K as St,Ka as Y,L as Xt,M as Jt,Ma as ni,N as It,Na as oi,O as W,Oa as ai,P as l,Pa as yt,Q as x,R as xt,Ra as P,S as Mt,T as Kt,U as v,V as Ce,W as d,Wa as ri,Y as Fe,Z as We,_ as fe,a as Nt,aa as wt,b as qe,ba as i,bb as Xe,ca as n,d as Ft,da as m,e as Ge,ea as Me,eb as Pt,f as Dt,fa as we,fb as li,g as jt,ga as C,gb as ee,h as Ne,ha as p,hb as ci,i as Ut,ia as u,ib as H,j as qt,ja as ei,jb as te,k as vt,ka as Ze,kb as ie,l as xe,la as U,lb as G,m as Bt,ma as Oe,mb as b,n as _t,nb as ne,o as Ht,ob as be,p as $t,pb as oe,q as Wt,qa as Z,qb as ae,r as Ct,ra as r,rb as re,s as R,sa as _,sb as se,t as ye,ta as E,tb as le,u as Zt,ua as _e,v as O,va as z,w as $,wa as L,x as D,xa as V,y as Pe,ya as ti,z as Be,za as ii}from"./chunk-Q7BX5HDX.js";import{g as Gt}from"./chunk-GAL4ENT6.js";function vi(a,o){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){g(e),u(3);let s=Z(1);return h(s.previous())})("click",function(){g(e),u(3);let s=Z(1);return h(s.previous())}),r(1),i(2,"span",13),r(3),n()()}if(a&2){let e=u(3);l(),E(" ",e.previousLabel," "),l(2),_(e.screenReaderPageLabel)}}function _i(a,o){if(a&1&&(i(0,"span",14),r(1),i(2,"span",13),r(3),n()()),a&2){let e=u(3);l(),E(" ",e.previousLabel," "),l(2),_(e.screenReaderPageLabel)}}function Ci(a,o){if(a&1&&(i(0,"li",9),v(1,vi,4,2,"a",10)(2,_i,4,2,"span",11),n()),a&2){u(2);let e=Z(1);Fe("disabled",e.isFirstPage()),l(),d("ngIf",1<e.getCurrent()),l(),d("ngIf",e.isFirstPage())}}function Ei(a,o){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){g(e);let s=u().$implicit;u(2);let c=Z(1);return h(c.setCurrent(s.value))})("click",function(){g(e);let s=u().$implicit;u(2);let c=Z(1);return h(c.setCurrent(s.value))}),i(1,"span",13),r(2),n(),i(3,"span"),r(4),S(5,"number"),n()()}if(a&2){let e=u().$implicit,t=u(2);l(2),E("",t.screenReaderPageLabel," "),l(2),_(e.label==="..."?e.label:w(5,2,e.label,""))}}function Si(a,o){if(a&1&&(Me(0),i(1,"span",16)(2,"span",13),r(3),n(),i(4,"span"),r(5),S(6,"number"),n()(),we()),a&2){let e=u().$implicit,t=u(2);l(3),E("",t.screenReaderCurrentLabel," "),l(2),_(e.label==="..."?e.label:w(6,2,e.label,""))}}function Ii(a,o){if(a&1&&(i(0,"li"),v(1,Ei,6,5,"a",10)(2,Si,7,5,"ng-container",15),n()),a&2){let e=o.$implicit;u(2);let t=Z(1);Fe("current",t.getCurrent()===e.value)("ellipsis",e.label==="..."),l(),d("ngIf",t.getCurrent()!==e.value),l(),d("ngIf",t.getCurrent()===e.value)}}function xi(a,o){if(a&1){let e=C();i(0,"a",12),p("keyup.enter",function(){g(e),u(3);let s=Z(1);return h(s.next())})("click",function(){g(e),u(3);let s=Z(1);return h(s.next())}),r(1),i(2,"span",13),r(3),n()()}if(a&2){let e=u(3);l(),E(" ",e.nextLabel," "),l(2),_(e.screenReaderPageLabel)}}function Mi(a,o){if(a&1&&(i(0,"span",14),r(1),i(2,"span",13),r(3),n()()),a&2){let e=u(3);l(),E(" ",e.nextLabel," "),l(2),_(e.screenReaderPageLabel)}}function wi(a,o){if(a&1&&(i(0,"li",17),v(1,xi,4,2,"a",10)(2,Mi,4,2,"span",11),n()),a&2){u(2);let e=Z(1);Fe("disabled",e.isLastPage()),l(),d("ngIf",!e.isLastPage()),l(),d("ngIf",e.isLastPage())}}function Ai(a,o){if(a&1&&(i(0,"ul",4),v(1,Ci,3,4,"li",5),i(2,"li",6),r(3),n(),v(4,Ii,3,6,"li",7)(5,wi,3,4,"li",8),n()),a&2){let e=u(),t=Z(1);Fe("responsive",e.responsive),l(),d("ngIf",e.directionLinks),l(2),_e(" ",t.getCurrent()," / ",t.getLastPage()," "),l(),d("ngForOf",t.pages)("ngForTrackBy",e.trackByIndex),l(),d("ngIf",e.directionLinks)}}var De=class{constructor(){this.change=new B,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(o){return o.id==null&&(o.id=this.DEFAULT_ID),this.instances[o.id]?this.updateInstance(o):(this.instances[o.id]=o,!0)}updateInstance(o){let e=!1;for(let t in this.instances[o.id])o[t]!==this.instances[o.id][t]&&(this.instances[o.id][t]=o[t],e=!0);return e}getCurrentPage(o){return this.instances[o]?this.instances[o].currentPage:1}setCurrentPage(o,e){if(this.instances[o]){let t=this.instances[o],s=Math.ceil(t.totalItems/t.itemsPerPage);e<=s&&1<=e&&(this.instances[o].currentPage=e,this.change.emit(o))}}setTotalItems(o,e){this.instances[o]&&0<=e&&(this.instances[o].totalItems=e,this.change.emit(o))}setItemsPerPage(o,e){this.instances[o]&&(this.instances[o].itemsPerPage=e,this.change.emit(o))}getInstance(o=this.DEFAULT_ID){return this.instances[o]?this.clone(this.instances[o]):{}}clone(o){var e={};for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}},yi=Number.MAX_SAFE_INTEGER,de=(()=>{class a{constructor(e){this.service=e,this.state={}}transform(e,t){if(!(e instanceof Array)){let j=t.id||this.service.defaultId();return this.state[j]?this.state[j].slice:e}let s=t.totalItems&&t.totalItems!==e.length,c=this.createInstance(e,t),f=c.id,I,y,F=c.itemsPerPage,pe=this.service.register(c);if(!s&&e instanceof Array){if(F=+F||yi,I=(c.currentPage-1)*F,y=I+F,this.stateIsIdentical(f,e,I,y))return this.state[f].slice;{let X=e.slice(I,y);return this.saveState(f,e,X,I,y),this.service.change.emit(f),X}}else return pe&&this.service.change.emit(f),this.saveState(f,e,e,I,y),e}createInstance(e,t){return this.checkConfig(t),{id:t.id!=null?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}}checkConfig(e){let s=["itemsPerPage","currentPage"].filter(c=>!(c in e));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(e,t,s,c,f){this.state[e]={collection:t,size:t.length,slice:s,start:c,end:f}}stateIsIdentical(e,t,s,c){let f=this.state[e];return!f||!(f.size===t.length&&f.start===s&&f.end===c)?!1:f.slice.every((y,F)=>y===t[s+F])}}return a.\u0275fac=function(e){return new(e||a)(x(De,16))},a.\u0275pipe=he({name:"paginate",type:a,pure:!1}),a})();var Pi=(()=>{class a{constructor(e,t){this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new B,this.pageBoundsCorrection=new B,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),t=this.outOfBoundCorrection(e);t!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(t),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage}createPageArray(e,t,s,c){c=+c;let f=[],I=Math.max(Math.ceil(s/t),1),y=Math.ceil(c/2),F=e<=y,pe=I-y<e,j=!F&&!pe,X=c<I,Ie=1;for(;Ie<=I&&Ie<=c;){let Ve,Vt=this.calculatePageNumber(Ie,e,c,I),fi=Ie===2&&(j||pe),bi=Ie===c-1&&(j||F);X&&(fi||bi)?Ve="...":Ve=Vt,f.push({label:Ve,value:Vt}),Ie++}return f}calculatePageNumber(e,t,s,c){let f=Math.ceil(s/2);return e===s?c:e===1?e:s<c?c-f<t?c-s+e:f<t?t-f+e:e:e}}return a.\u0275fac=function(e){return new(e||a)(x(De),x(Ye))},a.\u0275dir=Be({type:a,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[He]}),a})();function Ot(a){return!!a&&a!=="false"}var me=(()=>{class a{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new B,this.pageBoundsCorrection=new B,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Ot(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Ot(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Ot(e)}trackByIndex(e){return e}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=D({type:a,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,t){if(e&1){let s=C();i(0,"pagination-template",1,0),p("pageChange",function(f){return g(s),h(t.pageChange.emit(f))})("pageBoundsCorrection",function(f){return g(s),h(t.pageBoundsCorrection.emit(f))}),i(2,"nav",2),v(3,Ai,6,8,"ul",3),n()()}if(e&2){let s=Z(1);d("id",t.id)("maxSize",t.maxSize),l(2),Ce("aria-label",t.screenReaderPaginationLabel),l(),d("ngIf",!(t.autoHide&&s.pages.length<=1))}},dependencies:[Pi,Y,Q,ni],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),a})(),Da=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=Pe({type:a}),a.\u0275inj=ye({providers:[De],imports:[[oi]]}),a})();var Je={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Rt=new Zt("config",{providedIn:"root",factory:()=>({modules:Je})});function ke(a){a||(Qt(ke),a=$($e));let o=new qe(e=>a.onDestroy(e.next.bind(e)));return e=>e.pipe($t(o))}var Oi=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],Ri=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function Ti(a,o){a&1&&m(0,"div",0)}function ki(a,o){a&1&&m(0,"div",0)}var Ke=(a,o)=>a||o||"html",zi=()=>new qe(a=>{let o=requestAnimationFrame(()=>{a.next(),a.complete()});return()=>cancelAnimationFrame(o)}),Li=(()=>{class a{constructor(){this.config=$(Rt)||{modules:Je},this.document=$(At),this.quill$=qt(()=>Gt(this,null,function*(){if(!this.Quill){let e=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let t=yield import("./chunk-GTJGVPUT.js");this.document.addEventListener=e,this.Quill=t.default?.default??t.default??t}return this.config.customOptions?.forEach(e=>{let t=this.Quill.import(e.import);t.whitelist=e.whitelist,this.Quill.register(t,!0,this.config.suppressGlobalRegisterWarning)}),jt(this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning))})).pipe(Ht({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(e,t,s=this.config.beforeRender){let c=[this.registerCustomModules(e,t)];return s&&c.push(Ft(s())),vt(c).pipe(Ne(()=>e))}registerCustomModules(e,t,s){if(!Array.isArray(t))return Ge(e);let c=[];for(let f of t){let{path:I,implementation:y}=f;this.registeredModules.has(I)||(this.registeredModules.add(I),Dt(y)?c.push(y.pipe(Wt(F=>{e.register(I,F,s)}))):e.register(I,y,s))}return c.length>0?vt(c).pipe(Ne(()=>e)):Ge(e)}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Vi=(()=>{class a{constructor(){this.format=A(void 0),this.theme=A(void 0),this.modules=A(void 0),this.debug=A(!1),this.readOnly=A(!1),this.placeholder=A(void 0),this.maxLength=A(void 0),this.minLength=A(void 0),this.required=A(!1),this.formats=A(void 0),this.customToolbarPosition=A("top"),this.sanitize=A(void 0),this.beforeRender=A(void 0),this.styles=A(null),this.registry=A(void 0),this.bounds=A(void 0),this.customOptions=A([]),this.customModules=A([]),this.trackChanges=A(void 0),this.classes=A(void 0),this.trimOnValidation=A(!1),this.linkPlaceholder=A(void 0),this.compareValues=A(!1),this.filterNull=A(!1),this.debounceTime=A(void 0),this.defaultEmptyValue=A(null),this.onEditorCreated=new B,this.onEditorChanged=new B,this.onContentChanged=new B,this.onSelectionChanged=new B,this.onFocus=new B,this.onBlur=new B,this.onNativeFocus=new B,this.onNativeBlur=new B,this.disabled=!1,this.toolbarPosition=Mt("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=$(St),this.document=$(At),this.cd=$(Ye),this.domSanitizer=$(ri),this.platformId=$(Xt),this.renderer=$(xt),this.zone=$(Et),this.service=$(Li),this.destroyRef=$($e),this.valueGetter=A(e=>{let t=e.getSemanticHTML();this.isEmptyValue(t)&&(t=this.defaultEmptyValue());let s=t,c=Ke(this.format(),this.service.config.format);if(c==="text")s=e.getText();else if(c==="object")s=e.getContents();else if(c==="json")try{s=JSON.stringify(e.getContents())}catch{s=e.getText()}return s}),this.valueSetter=A((e,t)=>{let s=Ke(this.format(),this.service.config.format);if(s==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(t=this.domSanitizer.sanitize(Jt.HTML,t)),e.clipboard.convert({html:t});if(s==="json")try{return JSON.parse(t)}catch{return[{insert:t}]}return t}),this.selectionChangeHandler=(e,t,s)=>{let c=this.trackChanges()||this.service.config.trackChanges,f=!e&&!!this.onModelTouched&&(s==="user"||c&&c==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!f||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:s}):t===null&&this.onFocus.emit({editor:this.quillEditor,source:s}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:t,range:e,source:s}),f&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,t,s)=>{let c=this.quillEditor.getText(),f=this.quillEditor.getContents(),I=this.quillEditor.getSemanticHTML();this.isEmptyValue(I)&&(I=this.defaultEmptyValue());let y=this.trackChanges()||this.service.config.trackChanges,F=(s==="user"||y&&y==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!F||this.zone.run(()=>{if(F){let pe=this.valueGetter();this.onModelChange(pe(this.quillEditor))}this.onContentChanged.emit({content:f,delta:e,editor:this.quillEditor,html:I,oldDelta:t,source:s,text:c}),this.cd.markForCheck()})},this.editorChangeHandler=(e,t,s,c)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let f=this.quillEditor.getText(),I=this.quillEditor.getContents(),y=this.quillEditor.getSemanticHTML();this.isEmptyValue(y)&&(y=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:I,delta:t,editor:this.quillEditor,event:e,html:y,oldDelta:s,source:c,text:f}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:s,range:t,source:c}),this.cd.markForCheck()})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((s,c)=>{let f=c.trim();return f&&s.push(f),s},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){ai(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(Ut(e=>this.service.beforeRender(e,this.customModules(),this.beforeRender()))).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let t=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),s=Object.assign({},this.modules()||this.service.config.modules);t?s.toolbar=t:s.toolbar===void 0&&(s.toolbar=Je.toolbar);let c=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;c===void 0&&(c="Insert text here ...");let f=this.styles();f&&Object.keys(f).forEach(j=>{this.renderer.setStyle(this.editorElem,j,f[j])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(j=>{let X=e.import(j.import);X.whitelist=j.whitelist,e.register(X,!0)});let I=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();I||(I=this.service.config.bounds?this.service.config.bounds:this.document.body);let y=this.debug();!y&&y!==!1&&this.service.config.debug&&(y=this.service.config.debug);let F=this.readOnly();!F&&this.readOnly()!==!1&&(F=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let pe=this.formats();if(!pe&&pe===void 0&&(pe=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:I,debug:y,formats:pe,modules:s,placeholder:c,readOnly:F,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){xe(this.quillEditor.scroll.domNode,"blur").pipe(ke(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let j=this.quillEditor.getModule("toolbar");j.container&&xe(j.container,"mousedown").pipe(ke(this.destroyRef)).subscribe(X=>X.preventDefault())}if(this.onNativeFocus.observed&&xe(this.quillEditor.scroll.domNode,"focus").pipe(ke(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let X=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");X?.dataset&&(X.dataset.link=this.linkPlaceholder())}}),this.content){if(Ke(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let Ve=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(Ve,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&zi().pipe(ke(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){let t=e.styles.currentValue,s=e.styles.previousValue;s&&Object.keys(s).forEach(c=>{this.renderer.removeStyle(this.editorElem,c)}),t&&Object.keys(t).forEach(c=>{this.renderer.setStyle(this.editorElem,c,this.styles()[c])})}if(e.classes){let t=e.classes.currentValue,s=e.classes.previousValue;s&&this.removeClasses(s),t&&this.addClasses(t)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){a.normalizeClassNames(e).forEach(t=>{this.renderer.addClass(this.editorElem,t)})}removeClasses(e){a.normalizeClassNames(e).forEach(t=>{this.renderer.removeClass(this.editorElem,t)})}writeValue(e){if(this.filterNull()&&e===null||(this.content=e,!this.quillEditor))return;let t=Ke(this.format(),this.service.config.format),c=this.valueSetter()(this.quillEditor,e);if(this.compareValues()){let f=this.quillEditor.getContents();if(JSON.stringify(f)===JSON.stringify(c))return}if(e){t==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(c);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},t=!0,s=this.quillEditor.getText(),c=this.trimOnValidation()?s.trim().length:s.length===1&&s.trim().length===0?0:s.length-1,f=this.quillEditor.getContents().ops,I=!!f&&f.length===1&&[`
`,""].includes(f[0].insert?.toString());return this.minLength()&&c&&c<this.minLength()&&(e.minLengthError={given:c,minLength:this.minLength()},t=!1),this.maxLength()&&c>this.maxLength()&&(e.maxLengthError={given:c,maxLength:this.maxLength()},t=!1),this.required()&&!c&&I&&(e.requiredError={empty:!0},t=!1),t?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Nt,this.subscription.add(xe(this.quillEditor,"selection-change").subscribe(([s,c,f])=>{this.selectionChangeHandler(s,c,f)}));let e=xe(this.quillEditor,"text-change"),t=xe(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(e=e.pipe(_t(this.debounceTime())),t=t.pipe(_t(this.debounceTime()))),this.subscription.add(e.subscribe(([s,c,f])=>{this.textChangeHandler(s,c,f)})),this.subscription.add(t.subscribe(([s,c,f,I])=>{this.editorChangeHandler(s,c,f,I)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(e){return e==="<p></p>"||e==="<div></div>"||e==="<p><br></p>"||e==="<div><br></div>"}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275dir=Be({type:a,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[He]})}}return a})(),di=(()=>{class a extends Vi{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Yt(a)))(s||a)}})()}static{this.\u0275cmp=D({type:a,selectors:[["quill-editor"]],standalone:!0,features:[ti([{multi:!0,provide:li,useExisting:Ct(()=>a)},{multi:!0,provide:ci,useExisting:Ct(()=>a)}]),Kt,ii],ngContentSelectors:Ri,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(t,s){t&1&&(ei(Oi),v(0,Ti,1,0,"div",0),Ze(1),Ze(2,1),Ze(3,2),v(4,ki,1,0,"div",0)),t&2&&(wt(s.toolbarPosition()!=="top"?0:-1),l(4),wt(s.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return a})();var vr=(()=>{class a{static forRoot(e){return{ngModule:a,providers:[{provide:Rt,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=Pe({type:a})}static{this.\u0275inj=ye({})}}return a})();var et=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerClientes(){return this.http.get(this.ruta+"api/Clientes/")}AgregarClientes(o){return this.http.post(this.ruta+"api/Clientes/",o)}ModificarClientes(o,e){return this.http.put(this.ruta+"api/Clientes/"+e,o)}SeleccionarClientes(o){return this.http.get(this.ruta+"api/Clientes/"+o)}EliminarClientes(o){return this.http.delete(this.ruta+"api/Clientes/"+o)}createFormGroupClientes(){return new G({id:new b(0),nombres:new b("",[H.required]),apellidos:new b("",[H.required]),carnet:new b("",[H.required]),celular:new b("",[H.required]),fechnac:new b("",[H.required]),edad:new b("",[H.required]),usuario:new b("",[H.required]),contrasenia:new b("",[H.required]),foto:new b(""),estado:new b("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Ee=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerInfoClientes(){return this.http.get(this.ruta+"api/InfoClientes/")}AgregarInfoClientes(o){return this.http.post(this.ruta+"api/InfoClientes/",o)}ModificarInfoClientes(o,e){return this.http.put(this.ruta+"api/InfoClientes/"+e,o)}SeleccionarInfoClientes(o){return this.http.get(this.ruta+"api/InfoClientes/"+o)}EliminarInfoClientes(o){return this.http.delete(this.ruta+"api/InfoClientes/"+o)}createFormGroupInfoClientes(){return new G({id:new b(0),id_cliente:new b(""),diagnostico:new b(""),residenciaactual:new b(""),tipotratamiento:new b(""),duracion:new b(""),fechaadmision:new b(""),tutor:new b(""),frecuencia:new b(""),objgenerales:new b(""),fisico:new b(""),emocional:new b(""),cognitivo:new b(""),social:new b(""),metodosausar:new b(""),notas:new b(""),cuestionario:new b(M.plantilla)})}SeleccionarAllInformacionCliente(o){return this.http.get(this.ruta+"api/AllInfoClientes/"+o)}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Se=class a{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.apellidos).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.nombres).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.carnet).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"filterapellidosnombrescarnet",type:a,pure:!0})}};var ve=class a{transform(o){if(!o)return"";let e;if(typeof o=="string"){let f=o.split(/[-/]/);if(f.length===3){let[I,y,F]=f.map(Number);e=new Date(I,y-1,F)}else return console.error("Formato de fecha no v\xE1lido:",o),""}else if(o instanceof Date)e=o;else return console.error("Valor de fecha no v\xE1lido:",o),"";let t=this.pad(e.getDate()),s=this.pad(e.getMonth()+1),c=e.getFullYear();return`${t}/${s}/${c}`}pad(o){return o<10?"0"+o:o.toString()}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"dateFormat",type:a,pure:!0})}};var Fi=a=>({itemsPerPage:10,currentPage:a});function Di(a,o){a&1&&(i(0,"tr")(1,"td",82)(2,"div",83)(3,"div",84)(4,"span",85),r(5,"Loading..."),n()()()()())}function ji(a,o){a&1&&(i(0,"tr")(1,"td",82),r(2,"No hay datos disponibles"),n()())}function Ui(a,o){if(a&1&&(i(0,"a",95),m(1,"i",96),n()),a&2){let e=u().$implicit,t=u();d("href",t.ruta+e.foto,W)}}function qi(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",86),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),r(8),n(),i(9,"td"),r(10),n(),i(11,"td",87)(12,"button",88),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarClientes(s.id))}),m(13,"i",89),n(),i(14,"button",90),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarClientes(s.id))}),m(15,"i",91),n(),i(16,"button",92),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarClientes(s.id,"InfoClientes",s.apellidos+" "+s.nombres))}),m(17,"i",93),n(),v(18,Ui,2,1,"a",94),n()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaClientes-1)*10+(e+1)),l(2),_(t.apellidos+" "+t.nombres),l(2),_(t.carnet),l(2),_(t.celular),l(2),_(t.estado),l(8),d("ngIf",!(t.foto==null||t.foto==""))}}function Bi(a,o){if(a&1){let e=C();i(0,"div",97)(1,"button",98),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastClientes())}),m(2,"i",99),r(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",100),n()()}}function Hi(a,o){if(a&1){let e=C();i(0,"button",101),p("click",function(){g(e);let s=u();return h(s.AgregarModificarClientes())}),m(1,"i",102),r(2),m(3,"span",9),n()}if(a&2){let e=u();l(),k("bi bi-",e.newClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function $i(a,o){if(a&1){let e=C();i(0,"button",103),p("click",function(){g(e);let s=u();return h(s.AgregarModificarClientes())}),m(1,"span",104),n()}a&2&&d("disabled",!0)}function Wi(a,o){a&1&&(i(0,"div")(1,"div",105)(2,"div",83)(3,"div",84)(4,"span",85),r(5,"Loading..."),n()()()()())}function Zi(a,o){a&1&&(i(0,"div")(1,"td",105),r(2,"No hay datos disponibles"),n()())}function Qi(a,o){if(a&1){let e=C();i(0,"div",106)(1,"div",107)(2,"div",108)(3,"div",109)(4,"button",110),m(5,"i",111),n()(),i(6,"div",112)(7,"span"),r(8),S(9,"dateFormat"),n()(),i(10,"div",109)(11,"a",113),p("click",function(s){let c=g(e).$implicit,f=u();return h(f.onButtonClick(s,c.id))}),m(12,"i",114),n(),i(13,"button",115),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarInfoClientes(s.id))}),m(14,"i",89),n(),i(15,"button",116),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarInfoClientes(s.id))}),m(16,"i",117),n(),i(17,"button",118),m(18,"i",111),n()()(),i(19,"div",119)(20,"ul",120)(21,"li",121)(22,"h5"),r(23,"RESIDENCIA ACTUAL."),n(),i(24,"a",122),r(25),n()(),i(26,"li",121)(27,"h5"),r(28,"DIAGNOSTICO."),n(),i(29,"a",122),r(30),n()(),i(31,"li",121)(32,"h5"),r(33,"TIPO DE TRATAMIENTO."),n(),i(34,"a",122),r(35),n()(),i(36,"li",121)(37,"h5"),r(38,"DURACI\xD3N."),n(),i(39,"a",122),r(40),n()(),i(41,"li",121)(42,"h5"),r(43,"TUTOR."),n(),i(44,"a",122),r(45),n()(),i(46,"li",121)(47,"h5"),r(48,"FRECUENCIA DE LAS SESIONES."),n(),i(49,"a",122),r(50),n()(),i(51,"li",121)(52,"h5"),r(53,"OBJETIVOS GENERALES."),n(),i(54,"a",122),r(55),n()(),i(56,"li",121)(57,"h5"),r(58,"FISICO."),n(),i(59,"a",122),r(60),n()(),i(61,"li",121)(62,"h5"),r(63,"EMOCIONAL."),n(),i(64,"a",122),r(65),n()(),i(66,"li",121)(67,"h5"),r(68,"COGNITIVO."),n(),i(69,"a",122),r(70),n()(),i(71,"li",121)(72,"h5"),r(73,"SOCIAL."),n(),i(74,"a",122),r(75),n()(),i(76,"li",121)(77,"h5"),r(78,"METODOS A USAR."),n(),i(79,"a",122),r(80),n()(),i(81,"li",121)(82,"h5"),r(83,"NOTAS."),n(),i(84,"quill-editor",123),V("ngModelChange",function(s){let c=g(e).$implicit;return L(c.notas,s)||(c.notas=s),h(s)}),n()(),i(85,"li",121)(86,"h5"),r(87,"CUESTIONARIO."),n(),i(88,"quill-editor",123),V("ngModelChange",function(s){let c=g(e).$implicit;return L(c.cuestionario,s)||(c.cuestionario=s),h(s)}),n()()()()()()}if(a&2){let e=o.$implicit,t=o.index,s=u();l(4),Ce("data-bs-target","#collapseCar"+t),l(4),E("FECHA DE ADMISI\xD3N: ",ue(9,21,e.fechaadmision),""),l(3),d("href",s.generateUrl(e.id),W),l(6),Ce("data-bs-target","#collapseCar"+t),l(2),d("id","collapseCar"+t),l(6),_(e.residenciaactual==null?"NINGUNA":e.residenciaactual),l(5),_(e.diagnostico==null?"NINGUNA":e.diagnostico),l(5),_(e.tipotratamiento==null?"NINGUNA":e.tipotratamiento),l(5),_(e.duracion==null?"NINGUNA":e.duracion),l(5),_(e.tutor==null?"NINGUNA":e.tutor),l(5),_(e.frecuencia==null?"NINGUNA":e.frecuencia),l(5),_(e.objgenerales==null?"NINGUNA":e.objgenerales),l(5),_(e.fisico==null?"NINGUNA":e.fisico),l(5),_(e.emocional==null?"NINGUNA":e.emocional),l(5),_(e.cognitivo==null?"NINGUNA":e.cognitivo),l(5),_(e.social==null?"NINGUNA":e.social),l(5),_(e.metodosausar==null?"NINGUNA":e.metodosausar),l(4),d("modules",s._tools.modulesQuillShow),z("ngModel",e.notas),l(4),d("modules",s._tools.modulesQuillShow),z("ngModel",e.cuestionario)}}function Yi(a,o){if(a&1){let e=C();i(0,"div",97)(1,"button",98),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastInfoClientes())}),m(2,"i",99),r(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",100),n()()}}function Xi(a,o){if(a&1){let e=C();i(0,"button",101),p("click",function(){g(e);let s=u();return h(s.AgregarModificarInfoClientes())}),m(1,"i",102),r(2),m(3,"span",9),n()}if(a&2){let e=u();l(),k("bi bi-",e.newInfoClientes.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInfoClientes.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Ji(a,o){if(a&1){let e=C();i(0,"button",103),p("click",function(){g(e);let s=u();return h(s.AgregarModificarInfoClientes())}),m(1,"span",104),n()}a&2&&d("disabled",!0)}var it=class a{constructor(o,e,t,s,c){this.router=o;this._cli=e;this._tools=t;this._infocli=s;this.http=c;this.ruta=M.ruta;this.dataDropZone={iddropzone:"dropzoneclientes",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.uploadProgress=null;this.Clientes=[];this.paginaClientes=1;this.isLoadingClientes=!0;this.AnimacionCargabtnModalClientes=!1;this.filtertxtClientes="";this.idClientesSave=0;this.NameClientesSave="";this.InfoClientes=[];this.paginaInfoClientes=1;this.isLoadingInfoClientes=!0;this.AnimacionCargabtnModalInfoClientes=!1;this.filtertxtInfoClientes="";this.newClientes=this._cli.createFormGroupClientes(),this.newClientesAnteriorAccion=this._cli.createFormGroupClientes(),this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientesAnteriorAccion=this._infocli.createFormGroupInfoClientes()}ngOnInit(){this.CargarClientes()}ngOnDestroy(){this._tools.cerrarModales()}CalcularEdad(o){var e=this._tools.calcularEdadyMeses(o);this.newClientes.patchValue({edad:e})}crearDropzone(){sessionStorage.setItem("CategoriaFile","CLIENTE");var o=document.getElementById("dropzoneclientes");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}onFileSelected(o){let e=o.target.files[0];if(!window.FileReader){alert("El navegador no soporta la lectura de archivos");return}if(/\.(jpg|png|jpeg)$/i.test(e.name)){let t="";if(e.size>1e7)switch(this._tools.MostrarMensaje("warning","\xA1TAMA\xD1O EXCEDIDO!. EL TAMA\xD1O DEL ARCHIVO NO PUEDE EXCEDER LOS 10MB"),t){default:o.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}else this.uploadFile(e)}else{switch(this._tools.MostrarMensaje("error","FORMATO INVALIDO!."),""){default:o.target.value="",this.newClientes.patchValue({foto:this.previousFilePath.filePath});break}return}}uploadFile(o){let e=new FormData;e.append("file",o),e.append("type","CLIENTE"),this.http.post(this.ruta+"api/uploadFile",e,{reportProgress:!0,observe:"events"}).subscribe(t=>{t.type===yt.UploadProgress?t.total&&(this.uploadProgress=Math.round(100*t.loaded/t.total)):t.type===yt.Response&&(console.log("File uploaded successfully",t),this.uploadProgress=100,this.previousFilePath=t.body,this.newClientes.value.foto=this.previousFilePath.filePath)},t=>{console.error("File upload failed",t),this.uploadProgress=null})}generateUrl(o){let e={id:o,NomC:this.NameClientesSave};return this.router.serializeUrl(this.router.createUrlTree(["/gestion/planesdeintervenciones"],{queryParams:e}))}onButtonClick(o,e){if(!(o.ctrlKey||o.button===1)){o.preventDefault();let t={id:e,NomC:this.NameClientesSave};this.router.navigate(["/gestion/planesdeintervenciones"],{queryParams:t})}this._tools.cerrarModal("ModalGestionInfoCliente")}CargarClientes(){this.AnimarCargaTablaClientes(),this._cli.ObtenerClientes().subscribe(o=>{console.log("Clientes CARGADO",o.data),this.Clientes=o.data,this.isLoadingClientes=!1},o=>{console.log("ERROR AL CARGAR Clientes",o),this.isLoadingClientes=!1})}AgregarModificarClientes(){if(this.newClientes.invalid){this.ValidacionTodoElementoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalClientes=!1;return}else{this.AnimarCargaTablaClientes(),this.AnimacionCargabtnModalClientes=!0,this._tools.MostrarMensajeLoading();let e=this.newClientes.controls.id.value;console.log("INFO A PROCESAR",this.newClientes.value);var o=sessionStorage.getItem("IMG");console.log("VALOR img",o),o==null||o==""||(this.newClientes.value.foto=o),e?(console.log("DATA NUEVO",this.newClientes.value),console.log("DATA ANTERIOR",this.newClientesAnteriorAccion.value),this._cli.ModificarClientes(this.newClientes.value,this.newClientes.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Clientes",t.data),this.CargarClientes(),this.newClientesAnteriorAccion.value.foto==this.newClientes.value.foto||this._tools.EliminarArchivo(this.newClientesAnteriorAccion.value.foto),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Clientes",t),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()})):(this.newClientesAnteriorAccion.setValue(this.newClientes.value),this._cli.AgregarClientes(this.newClientes.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Clientes",t.data),this.CargarClientes(),this.resetClientes(),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Clientes",t),this.AnimacionCargabtnModalClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarClientes(o,e,t){if(this._tools.MostrarMensajeLoading(),o)switch(e){case"InfoClientes":this.idClientesSave=o,this.NameClientesSave=t,this.CargarInfoClientes(),this._tools.abrirModal("ModalGestionInfoCliente"),this._tools.MostrarMensajeSuccess();break;default:this._cli.SeleccionarClientes(o).subscribe(s=>{Object.keys(this.newClientes.controls).forEach(c=>{this.newClientes.controls[c].setValue(s.data[c])}),s.data.foto?this.selectedFileUrl=this.ruta+s.data.foto:this.selectedFileUrl=null,console.log("SELECCION DE Clientes EXITOSA",this.newClientes.value),this.newClientesAnteriorAccion.setValue(this.newClientes.value),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL SELECCIONAR Clientes",s),this._tools.MostrarMensajeError()});break}}EliminarClientes(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._cli.EliminarClientes(o).subscribe(t=>{console.log(t.data),this.CargarClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Clientes",t),this._tools.MostrarMensajeError()}))})}resetClientes(){this.selectedFileUrl="",this.newClientes.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionClientes")}AbrirModalClientes(){this.newClientes.reset(),this.crearDropzone(),this._tools.abrirModal("modalgestionClientes")}AutoCompletarLastClientes(){this.newClientes.setValue(this.newClientesAnteriorAccion.value),this.newClientes.patchValue({id:0}),console.log("listo",this.newClientes.value)}AnimarCargaTablaClientes(){this.Clientes=[],this.isLoadingClientes=!0}ValidacionClientesxElemento(o){return this._tools.obtenerValidationClass(this.newClientes,o)}ValidacionTodoElementoClientes(){Object.values(this.newClientes.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarInfoClientes(){this.AnimarCargaTablaInfoClientes(),this._infocli.SeleccionarAllInformacionCliente(this.idClientesSave).subscribe(o=>{console.log("InfoClientes CARGADO",o.data),this.InfoClientes=o.data,this.isLoadingInfoClientes=!1},o=>{console.log("ERROR AL CARGAR InfoClientes",o),this.isLoadingInfoClientes=!1})}AgregarModificarInfoClientes(){if(this.newInfoClientes.invalid){this.ValidacionTodoElementoInfoClientes(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInfoClientes=!1;return}else{this.AnimarCargaTablaInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!0,this._tools.MostrarMensajeLoading();let o=this.newInfoClientes.controls.id.value;console.log("INFO A PROCESAR",this.newInfoClientes.value),o?this._infocli.ModificarInfoClientes(this.newInfoClientes.value,this.newInfoClientes.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}):(this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._infocli.AgregarInfoClientes(this.newInfoClientes.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE InfoClientes",e.data),this.CargarInfoClientes(),this.resetInfoClientes(),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR InfoClientes",e),this.AnimacionCargabtnModalInfoClientes=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInfoClientes(o){this._tools.MostrarMensajeLoading(),o&&this._infocli.SeleccionarInfoClientes(o).subscribe(e=>{Object.keys(this.newInfoClientes.controls).forEach(t=>{this.newInfoClientes.controls[t].setValue(e.data[t])}),console.log("SELECCION DE InfoClientes EXITOSA",this.newInfoClientes.value),this.newInfoClientesAnteriorAccion.setValue(this.newInfoClientes.value),this._tools.abrirModal("modalgestionInfoClientes"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR InfoClientes",e),this._tools.MostrarMensajeError()})}EliminarInfoClientes(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._infocli.EliminarInfoClientes(o).subscribe(t=>{console.log(t.data),this.CargarInfoClientes(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR InfoClientes",t),this._tools.MostrarMensajeError()}))})}resetInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this._tools.cerrarModal("modalgestionInfoClientes")}AbrirModalInfoClientes(){this.newInfoClientes=this._infocli.createFormGroupInfoClientes(),this.newInfoClientes.patchValue({id_cliente:this.idClientesSave}),this._tools.abrirModal("modalgestionInfoClientes")}AutoCompletarLastInfoClientes(){this.newInfoClientes.setValue(this.newInfoClientesAnteriorAccion.value),this.newInfoClientes.patchValue({id:0}),console.log("listo",this.newInfoClientes.value)}AnimarCargaTablaInfoClientes(){this.InfoClientes=[],this.isLoadingInfoClientes=!0}ValidacionInfoClientesxElemento(o){return this._tools.obtenerValidationClass(this.newInfoClientes,o)}ValidacionTodoElementoInfoClientes(){Object.values(this.newInfoClientes.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(Xe),x(et),x(q),x(Ee),x(P))}}static{this.\u0275cmp=D({type:a,selectors:[["app-clientes"]],decls:277,vars:51,consts:[["fechnacvalor",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechnac",1,"form-control",3,"ngModelChange","ngClass"],["type","text","placeholder","","formControlName","edad",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["formControlName","estado",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneclientes",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalGestionInfoCliente","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"button","col-sm-7","d-flex","justify-content-start"],["title","Admitir Cliente",1,"btn","mouse-dir","primary",3,"click"],["class","col-md-12",4,"ngFor","ngForOf"],["id","modalgestionInfoClientes","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","residenciaactual",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","diagnostico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","tipotratamiento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","duracion",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechaadmision",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","tutor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","frecuencia",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","objgenerales",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fisico",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","emocional",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cognitivo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","social",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","metodosausar",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","notas",1,"quill-container-wrapper",3,"modules"],["formControlName","cuestionario",1,"quill-container-wrapper",3,"modules"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Mostrar m\xE1s Informaci\xF3n",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-info",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-center"],[1,"col-md-12"],[1,"card","text-bg-primary",2,"padding","0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"btn","btn-primary",3,"click","href"],[1,"bi","bi-file-earmark-text",2,"font-size","1.5rem"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash",2,"font-size","1.5rem"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body","show",3,"id"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link"],["disabled","",1,"quill-container-wrapper",3,"ngModelChange","modules","ngModel"]],template:function(e,t){if(e&1){let s=C();m(0,"hr"),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),r(5,"Gesti\xF3n de Clientes"),n(),i(6,"p",5),r(7,"Administra toda la informaci\xF3n de los Clientes de manera sencilla y eficiente"),n()()()(),i(8,"div",2)(9,"div",6)(10,"button",7),p("click",function(){return g(s),h(t.AbrirModalClientes())}),m(11,"i",8),r(12," A\xF1adir Clientes"),m(13,"span",9),n()(),i(14,"div",10)(15,"div",11)(16,"span",12),m(17,"i",13),n(),i(18,"div",14)(19,"input",15),p("input",function(){return g(s),h(t.paginaClientes=1)}),V("ngModelChange",function(f){return g(s),L(t.filtertxtClientes,f)||(t.filtertxtClientes=f),h(f)}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",16)(24,"table",17)(25,"thead")(26,"tr")(27,"th",18),r(28,"#"),n(),i(29,"th",19),r(30,"Nombre Completo"),n(),i(31,"th",19),r(32,"Carnet"),n(),i(33,"th",19),r(34,"Celular"),n(),i(35,"th",19),r(36,"Estado"),n(),i(37,"th",19),r(38,"ACCIONES"),n()()(),i(39,"tbody",20),v(40,Di,6,0,"tr",21)(41,ji,3,0,"tr",21)(42,qi,19,6,"tr",22),S(43,"filterapellidosnombrescarnet"),S(44,"paginate"),n()(),i(45,"pagination-controls",23),p("pageChange",function(f){return g(s),h(t.paginaClientes=f)}),n()(),m(46,"hr"),i(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"div",28)(52,"h1",29),r(53),n(),i(54,"button",30),p("click",function(){return g(s),h(t.resetClientes())})("click",function(){return g(s),h(t.CancelarArchivosDropzone())}),n()()(),i(55,"div",31)(56,"div",32)(57,"div",33)(58,"input",34),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"apellidos"))}),n(),i(59,"label"),r(60,"apellidos"),n(),i(61,"div",35),r(62,"Este campo es obligatorio*"),n()(),i(63,"div",33)(64,"input",36),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"nombres"))}),n(),i(65,"label"),r(66,"nombres"),n(),i(67,"div",35),r(68,"Este campo es obligatorio*"),n()(),i(69,"div",33)(70,"input",37),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"carnet"))}),n(),i(71,"label"),r(72,"carnet"),n(),i(73,"div",35),r(74,"Este campo es obligatorio*"),n()(),i(75,"div",33),m(76,"input",38),i(77,"label"),r(78,"celular"),n(),i(79,"div",35),r(80,"Este campo es obligatorio*"),n()(),i(81,"div",33)(82,"input",39,0),p("ngModelChange",function(){g(s);let f=Z(83);return h(t.CalcularEdad(f.value))}),n(),i(84,"label"),r(85,"fecha de nacimiento"),n(),i(86,"div",35),r(87,"Este campo es obligatorio*"),n()(),i(88,"div",33),m(89,"input",40),i(90,"label"),r(91,"edad"),n(),i(92,"div",35),r(93,"Este campo es obligatorio*"),n()(),i(94,"div",33)(95,"input",41),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newClientes,"usuario"))}),n(),i(96,"label"),r(97,"usuario"),n(),i(98,"div",35),r(99,"Este campo es obligatorio*"),n()(),i(100,"div",33),m(101,"input",42),i(102,"label"),r(103,"contrase\xF1a"),n(),i(104,"div",35),r(105,"Este campo es obligatorio*"),n()(),i(106,"div",33)(107,"select",43)(108,"option",44),r(109,"Seleccione una opci\xF3n"),n(),i(110,"option",45),r(111,"ACTIVO"),n(),i(112,"option",46),r(113,"INACTIVO"),n()(),i(114,"label"),r(115,"estado"),n(),i(116,"div",35),r(117,"Este campo es obligatorio*"),n()(),i(118,"div",47)(119,"label",48),r(120,"Foto"),n(),m(121,"div",49)(122,"hr"),i(123,"span"),r(124,"IMAGEN ACTUAL:"),n(),m(125,"img",50),n()()(),i(126,"div",51),v(127,Bi,6,0,"div",52),i(128,"div",53)(129,"div",54)(130,"button",55),p("click",function(){return g(s),h(t.resetClientes())})("click",function(){return g(s),h(t.CancelarArchivosDropzone())}),m(131,"i",56),r(132," CANCELAR"),m(133,"span",9),n()(),i(134,"div",57),v(135,Hi,4,4,"button",58)(136,$i,2,1,"button",59),n()()()()()(),i(137,"div",60)(138,"div",25)(139,"div",26)(140,"div",27)(141,"h5",61),r(142,"Gestion de Informaci\xF3n de Clientes "),n(),m(143,"button",62),n(),i(144,"div",31),m(145,"hr"),i(146,"div",1)(147,"div",2),m(148,"div",3),n()(),i(149,"div",2)(150,"div",63)(151,"button",64),p("click",function(){return g(s),h(t.AbrirModalInfoClientes())}),m(152,"i",8),r(153," A\xF1adir Informaci\xF3n del Cliente para la Admisi\xF3n"),m(154,"span",9),n()(),i(155,"div",10)(156,"div",11)(157,"span",12),m(158,"i",13),n(),i(159,"div",14)(160,"input",15),p("input",function(){return g(s),h(t.paginaInfoClientes=1)}),V("ngModelChange",function(f){return g(s),L(t.filtertxtInfoClientes,f)||(t.filtertxtInfoClientes=f),h(f)}),n(),i(161,"label"),r(162,"Buscar"),n()()()()(),m(163,"hr"),v(164,Wi,6,0,"div",21)(165,Zi,3,0,"div",21),i(166,"div",2),v(167,Qi,89,23,"div",65),n(),m(168,"hr"),i(169,"div",66)(170,"div",25)(171,"div",26)(172,"div",27)(173,"div",28)(174,"h1",29),r(175),n(),i(176,"button",30),p("click",function(){return g(s),h(t.resetInfoClientes())}),n()()(),i(177,"div",31)(178,"div",32)(179,"div",33)(180,"input",67),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"residenciaactual"))}),n(),i(181,"label"),r(182,"residencia actual"),n(),i(183,"div",35),r(184,"Este campo es obligatorio*"),n()(),i(185,"div",33)(186,"input",68),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"diagnostico"))}),n(),i(187,"label"),r(188,"diagnostico"),n(),i(189,"div",35),r(190,"Este campo es obligatorio*"),n()(),i(191,"div",33)(192,"input",69),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"tipotratamiento"))}),n(),i(193,"label"),r(194,"tipo de tratamiento"),n(),i(195,"div",35),r(196,"Este campo es obligatorio*"),n()(),i(197,"div",33),m(198,"input",70),i(199,"label"),r(200,"duraci\xF3n"),n(),i(201,"div",35),r(202,"Este campo es obligatorio*"),n()(),i(203,"div",33),m(204,"input",71),i(205,"label"),r(206,"fecha de admisi\xF3n"),n(),i(207,"div",35),r(208,"Este campo es obligatorio*"),n()(),i(209,"div",33)(210,"input",72),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"tutor"))}),n(),i(211,"label"),r(212,"tutor"),n(),i(213,"div",35),r(214,"Este campo es obligatorio*"),n()(),i(215,"div",33)(216,"input",73),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"frecuencia"))}),n(),i(217,"label"),r(218,"frecuencia de las sesiones"),n(),i(219,"div",35),r(220,"Este campo es obligatorio*"),n()(),i(221,"div",33)(222,"input",74),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"objgenerales"))}),n(),i(223,"label"),r(224,"objetivos generales"),n(),i(225,"div",35),r(226,"Este campo es obligatorio*"),n()(),i(227,"div",33)(228,"input",75),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"fisico"))}),n(),i(229,"label"),r(230,"fisico"),n(),i(231,"div",35),r(232,"Este campo es obligatorio*"),n()(),i(233,"div",33)(234,"input",76),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"emocional"))}),n(),i(235,"label"),r(236,"emocional"),n(),i(237,"div",35),r(238,"Este campo es obligatorio*"),n()(),i(239,"div",33)(240,"input",77),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"cognitivo"))}),n(),i(241,"label"),r(242,"cognitivo"),n(),i(243,"div",35),r(244,"Este campo es obligatorio*"),n()(),i(245,"div",33)(246,"input",78),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"social"))}),n(),i(247,"label"),r(248,"social"),n(),i(249,"div",35),r(250,"Este campo es obligatorio*"),n()(),i(251,"div",33)(252,"input",79),p("change",function(f){return g(s),h(t._tools.EscribirEnMayuscula(f,t.newInfoClientes,"metodosausar"))}),n(),i(253,"label"),r(254,"metodos a usar"),n(),i(255,"div",35),r(256,"Este campo es obligatorio*"),n()(),i(257,"label"),r(258,"notas"),n(),i(259,"div",33),m(260,"quill-editor",80),n(),m(261,"hr"),i(262,"label"),r(263,"cuestionario"),n(),i(264,"div",33),m(265,"quill-editor",81),n()()(),i(266,"div",51),v(267,Yi,6,0,"div",52),i(268,"div",53)(269,"div",54)(270,"button",55),p("click",function(){return g(s),h(t.resetInfoClientes())}),m(271,"i",56),r(272," CANCELAR"),m(273,"span",9),n()(),i(274,"div",57),v(275,Xi,4,4,"button",58)(276,Ji,2,1,"button",59),n()()()()()()()()()()}e&2&&(l(19),z("ngModel",t.filtertxtClientes),l(21),d("ngIf",t.isLoadingClientes),l(),d("ngIf",!t.isLoadingClientes&&t.Clientes.length===0),l(),d("ngForOf",w(44,46,w(43,43,t.Clientes,t.filtertxtClientes),N(49,Fi,t.paginaClientes))),l(11),E("",t.newClientes.get("id").value?"Modificar":"Registrar"," Clientes"),l(3),d("formGroup",t.newClientes),l(2),d("ngClass",t.ValidacionClientesxElemento("apellidos")),l(6),d("ngClass",t.ValidacionClientesxElemento("nombres")),l(6),d("ngClass",t.ValidacionClientesxElemento("carnet")),l(6),d("ngClass",t.ValidacionClientesxElemento("celular")),l(6),d("ngClass",t.ValidacionClientesxElemento("fechnac")),l(7),d("ngClass",t.ValidacionClientesxElemento("edad")),l(6),d("ngClass",t.ValidacionClientesxElemento("usuario")),l(6),d("ngClass",t.ValidacionClientesxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionClientesxElemento("estado")),l(18),d("src",t.ruta+t.newClientes.value.foto,W),l(2),d("ngIf",!t.newClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalClientes),l(),d("ngIf",t.AnimacionCargabtnModalClientes),l(24),z("ngModel",t.filtertxtInfoClientes),l(4),d("ngIf",t.isLoadingInfoClientes),l(),d("ngIf",!t.isLoadingInfoClientes&&t.InfoClientes.length===0),l(2),d("ngForOf",t.InfoClientes),l(8),E("",t.newInfoClientes.get("id").value?"Modificar":"Registrar"," Informaci\xF3n de admisi\xF3n Clientes"),l(3),d("formGroup",t.newInfoClientes),l(2),d("ngClass",t.ValidacionInfoClientesxElemento("residenciaactual")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("diagnostico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tipotratamiento")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("duracion")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fechaadmision")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("tutor")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("frecuencia")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("objgenerales")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("fisico")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("emocional")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("cognitivo")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("social")),l(6),d("ngClass",t.ValidacionInfoClientesxElemento("metodosausar")),l(8),d("modules",t._tools.modulesQuillEdicion),l(5),d("modules",t._tools.modulesQuillEdicion),l(2),d("ngIf",!t.newInfoClientes.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInfoClientes),l(),d("ngIf",t.AnimacionCargabtnModalInfoClientes))},dependencies:[J,Q,Y,se,le,ee,be,re,te,ie,ne,oe,ae,me,di,de,Se,ve]})}};var ge=class a{constructor(o,e,t){this.router=o;this.http=e;this._tool=t;this.ruta=M.ruta}canActivate(o,e){let t=localStorage.getItem("token");return t?this.http.post(this.ruta+"api/verify-token",{token:t}).pipe(Ne(s=>s&&s.name==="Admin"?!0:(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)),Bt(s=>(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),Ge(!1)))):(this._tool.MensajeInformacionAccesoNoPermitidoGuard(),!1)}static{this.\u0275fac=function(e){return new(e||a)(O(Xe),O(P),O(q))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var nt=class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeciclosdeplanesdeintervencion"]],decls:2,vars:0,template:function(e,t){e&1&&(i(0,"p"),r(1,"gestiondeciclosdeplanesdeintervencion works!"),n())}})}};var ot=class a{constructor(o,e){this.http=o;this._tools=e;this.ruta=M.ruta}ObtenerPagos(){return this.http.get(this.ruta+"api/Pagos/")}AgregarPagos(o){return this.http.post(this.ruta+"api/Pagos/",o)}ModificarPagos(o,e){return this.http.put(this.ruta+"api/Pagos/"+e,o)}SeleccionarPagos(o){return this.http.get(this.ruta+"api/Pagos/"+o)}EliminarPagos(o){return this.http.delete(this.ruta+"api/Pagos/"+o)}createFormGroupPagos(){return new G({id:new b(0),id_infocliente:new b("",[H.required]),precio:new b("",[H.required]),saldo:new b(""),pagado:new b("0"),horario:new b(""),tipo:new b("MENSUAL",[H.required]),descuento:new b("0"),fecha:new b("")})}static{this.\u0275fac=function(e){return new(e||a)(O(P),O(q))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var at=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerCiclos(){return this.http.get(this.ruta+"api/Ciclos/")}AgregarCiclos(o){return this.http.post(this.ruta+"api/Ciclos/",o)}ModificarCiclos(o,e){return this.http.put(this.ruta+"api/Ciclos/"+e,o)}SeleccionarCiclos(o){return this.http.get(this.ruta+"api/Ciclos/"+o)}EliminarCiclos(o){return this.http.delete(this.ruta+"api/Ciclos/"+o)}createFormGroupCiclos(){return new G({id:new b(0),id_pago:new b(""),nrociclo:new b(""),sesion:new b(""),estadosesion:new b("SESI\xD3N PENDIENTE"),fecha:new b(""),estadopago:new b("PENDIENTE"),eri:new b(""),cim:new b("")})}SeleccionarAllInformacionCiclos(o){return this.http.get(this.ruta+"api/AllInfoCiclos/"+o)}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var rt=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerArchivosPagos(){return this.http.get(this.ruta+"api/ArchivosPagos/")}AgregarArchivosPagos(o){return this.http.post(this.ruta+"api/ArchivosPagos/",o)}ModificarArchivosPagos(o,e){return this.http.put(this.ruta+"api/ArchivosPagos/"+e,o)}SeleccionarArchivosPagos(o){return this.http.get(this.ruta+"api/ArchivosPagos/"+o)}EliminarArchivosPagos(o){return this.http.delete(this.ruta+"api/ArchivosPagos/"+o)}createFormGroupArchivosPagos(){return new G({id:new b(0),id_pago:new b(""),monto:new b(""),fechapago:new b(""),horapago:new b(""),file:new b(""),observacion:new b("NINGUNA"),estadopago:new b("PENDIENTE")})}SeleccionarAllInformacionArchivosPagos(o){return this.http.get(this.ruta+"api/AllInfoArchivosPagos/"+o)}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var zt=a=>({itemsPerPage:10,currentPage:a}),nn=()=>({standalone:!0}),on=a=>({itemsPerPage:3,currentPage:a});function an(a,o){a&1&&(i(0,"tr")(1,"td",89)(2,"div",90)(3,"div",91)(4,"span",92),r(5,"Loading..."),n()()()()())}function rn(a,o){a&1&&(i(0,"tr")(1,"td",89),r(2,"No hay datos disponibles"),n()())}function sn(a,o){if(a&1){let e=C();i(0,"div",118)(1,"button",119),p("click",function(){g(e);let s=u().$implicit,c=u();return h(c.SeleccionarPagos(s.id,"GestionCiclos"))}),n(),i(2,"button",119),S(3,"dateFormat"),p("click",function(){g(e);let s=u().$implicit,c=u();return h(c.SeleccionarPagos(s.id,"GestionCiclos"))}),i(4,"sup",120),r(5),n(),m(6,"i",121),i(7,"sub"),r(8),n()()()}if(a&2){let e=o.$implicit;l(),k("btn btn-",e.estadopago=="PAGADO"?"success":e.estadopago=="RETRASADO"?"danger":e.estadopago=="PENDIENTE"?"secondary":"warning",""),U("title",e.estadopago=="SESI\xD3N PAGADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGADA":e.estadopago=="RETRASADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO RETRASADO":e.estadopago=="PENDIENTE"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PENDIENTE":"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PAGO PRESTADO"),l(),k("btn btn-",e.estadosesion=="REALIZADO"?"success":"secondary",""),U("title",e.estadosesion=="REALIZADO"?"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+"  REALIZADA EL DIA "+ue(3,13,e.fecha):"CICLO N\xBA "+e.nrociclo+" SESI\xD3N "+e.sesion+" PENDIENTE"),l(3),E(" ",e.nrociclo," "),l(),k("bi bi-",e.estadosesion=="REALIZADO"?"check-lg":"clock-history",""),l(2),E(" ",e.sesion,"")}}function ln(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",93),r(2),n(),i(3,"td",94),r(4),i(5,"div",95)(6,"small",96),r(7),S(8,"dateFormat"),n()()(),i(9,"td",94)(10,"div",95),r(11),n(),i(12,"div",97)(13,"small",96),r(14),n()()(),i(15,"td",94),r(16),n(),i(17,"td",94)(18,"div",98)(19,"div",99),r(20),n(),i(21,"div",100),r(22),n(),i(23,"div",101),r(24),n()(),i(25,"div",95)(26,"small",96),r(27),n()()(),i(28,"td",94),r(29),i(30,"div",95)(31,"small",96),r(32),n()()(),i(33,"td",102)(34,"div",103)(35,"div")(36,"a",104),m(37,"i",105),n(),i(38,"button",106),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarPagos(s.id,"Estabilizar"))}),m(39,"img",107),n(),i(40,"button",108),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarPagos(s.id))}),m(41,"i",109),n(),i(42,"button",110),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarPagos(s.id))}),m(43,"i",111),n(),i(44,"button",112),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarPagos(s.id,"ArchivosPagos"))}),m(45,"i",113),n(),i(46,"button",114),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarPagos(s.id,"GestionCiclos"))}),m(47,"i",115),n()(),i(48,"div",116),v(49,sn,9,15,"div",117),n()()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaPagos-1)*10+(e+1)),l(2),E(" ",t.apellidos+" "+t.nombres," "),l(3),E("Admisi\xF3n: ",ue(8,40,t.fechaadmision),""),l(4),_(t.tipo),l(3),E("Ciclo N\xBA ",t.ciclos[0].nrociclo,""),l(2),_(t.precio),l(3),We("width:"+t.pagado+"%"),Oe("title","Realiz\xF3 el Pago de: ",t.pagado," Bs."),U("aria-valuenow",t.pagado),U("aria-valuemax",t.precio),l(),E(" ",t.pagado," "),l(),We("width:"+t.saldo+"%"),k("progress-bar ",t.saldo<0?"bg-warning":"bg-danger",""),Oe("title","",t.saldo<0?"Debe devolver el Monto de:"+t.saldo*-1:"Le falta Cancelar el Monto de: "+t.saldo," Bs."),U("aria-valuenow",t.saldo),U("aria-valuemax",t.precio),l(),E(" ",t.saldo," "),l(),We("width:"+t.descuento+"%"),Oe("title","Tiene un Descuento de: ",t.descuento," Bs."),U("aria-valuenow",t.descuento),U("aria-valuemax",t.precio),l(),E(" ",t.descuento," "),l(3),_e("Precio Total a Pagar: ",t.precio-t.descuento,"Bs. ",t.saldo<0?" || Debe devolver el Monto de: "+t.saldo*-1:"",""),l(2),E(" ",t.horario," "),l(3),E("dias: ",t.fecha,""),l(4),Oe("title","Contactar: ",t.celular,""),Oe("href","https://api.whatsapp.com/send?phone=591",t.celular,"",W),l(3),d("src",s.ruta+"fijos/balanza.svg",W),l(10),d("ngForOf",t.ciclos)}}function cn(a,o){if(a&1){let e=C();i(0,"div",124),p("click",function(s){let c=g(e).$implicit,f=u(2);return h(f.SeleccionandoInfoCliente(s,c))}),i(1,"div",125)(2,"h5",126),r(3),n(),i(4,"small"),r(5),n()(),i(6,"p",126),r(7),n()()}if(a&2){let e=o.$implicit;l(3),_e("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function dn(a,o){if(a&1&&(i(0,"div",122),v(1,cn,8,4,"div",123),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),n()),a&2){let e=u();l(),d("ngForOf",w(3,4,w(2,1,e.InfoClientes,e.filterInfoClientes),N(7,on,e.paginaInfoClientes)))}}function mn(a,o){if(a&1){let e=C();i(0,"div",40)(1,"input",127),V("ngModelChange",function(s){g(e);let c=u();return L(c.nroCiclo,s)||(c.nroCiclo=s),h(s)}),n(),i(2,"label"),r(3,"N\xBA Ciclo"),n(),i(4,"div",42),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),z("ngModel",e.nroCiclo)}}function pn(a,o){if(a&1){let e=C();i(0,"div",128)(1,"button",129),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastPagos())}),m(2,"i",130),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",131),n()()}}function un(a,o){if(a&1){let e=C();i(0,"button",132),p("click",function(){g(e);let s=u();return h(s.AgregarModificarPagos())}),m(1,"i",121),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function gn(a,o){if(a&1){let e=C();i(0,"button",133),p("click",function(){g(e);let s=u();return h(s.AgregarModificarPagos())}),m(1,"span",134),n()}a&2&&d("disabled",!0)}function hn(a,o){a&1&&(i(0,"tr")(1,"td",135)(2,"div",90)(3,"div",91)(4,"span",92),r(5,"Loading..."),n()()()()())}function fn(a,o){a&1&&(i(0,"tr")(1,"td",135),r(2,"No hay datos disponibles"),n()())}function bn(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",93),r(2),n(),i(3,"td",94),r(4),n(),i(5,"td",94),r(6),n(),i(7,"td",94),r(8),n(),i(9,"td",94),r(10),n(),i(11,"td",94),r(12),S(13,"dateFormat"),n(),i(14,"td",102)(15,"button",108),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarCiclos(s.id))}),m(16,"i",109),n(),i(17,"button",110),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarCiclos(s.id))}),m(18,"i",111),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaCiclos-1)*10+(e+1)),l(2),E("Ciclo ",t.nrociclo,""),l(2),E("Sesi\xF3n ",t.sesion,""),l(2),_(t.estadopago),l(2),_(t.estadosesion),l(2),_(ue(13,6,t.fecha))}}function vn(a,o){if(a&1){let e=C();i(0,"div",128)(1,"button",129),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastCiclos())}),m(2,"i",130),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",131),n()()}}function _n(a,o){if(a&1){let e=C();i(0,"button",132),p("click",function(){g(e);let s=u();return h(s.AgregarModificarCiclos())}),m(1,"i",121),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newCiclos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newCiclos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Cn(a,o){if(a&1){let e=C();i(0,"button",133),p("click",function(){g(e);let s=u();return h(s.AgregarModificarCiclos())}),m(1,"span",134),n()}a&2&&d("disabled",!0)}function En(a,o){a&1&&(i(0,"tr")(1,"td",136)(2,"div",90)(3,"div",91)(4,"span",92),r(5,"Loading..."),n()()()()())}function Sn(a,o){a&1&&(i(0,"tr")(1,"td",136),r(2,"No hay datos disponibles"),n()())}function In(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",93),r(2),n(),i(3,"td",94),r(4),n(),i(5,"td",94),r(6),n(),i(7,"td",94),r(8),n(),i(9,"td",94),r(10),n(),i(11,"td",94),r(12),n(),i(13,"td",102)(14,"button",108),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarArchivosPagos(s.id))}),m(15,"i",109),n(),i(16,"button",110),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarArchivosPagos(s.id,s))}),m(17,"i",111),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaArchivosPagos-1)*10+(e+1)),l(2),_(t.monto),l(2),_(t.fechapago),l(2),_(t.horapago),l(2),_(t.observacion),l(2),_(t.estadopago)}}function xn(a,o){if(a&1){let e=C();i(0,"div",128)(1,"button",129),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastArchivosPagos())}),m(2,"i",130),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",131),n()()}}function Mn(a,o){if(a&1){let e=C();i(0,"button",132),p("click",function(){g(e);let s=u();return h(s.AgregarModificarArchivosPagos())}),m(1,"i",121),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newArchivosPagos.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newArchivosPagos.get("id").value?"MODIFICAR":"REGISTRAR","")}}function wn(a,o){if(a&1){let e=C();i(0,"button",133),p("click",function(){g(e);let s=u();return h(s.AgregarModificarArchivosPagos())}),m(1,"span",134),n()}a&2&&d("disabled",!0)}var st=class a{constructor(o,e,t,s,c){this._pagos=o;this._tools=e;this._ciclos=t;this._archivospagos=s;this._infoclientes=c;this.ruta=M.ruta;this.dataDropZone={iddropzone:"dropzonearchivospagos",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.Pagos=[];this.paginaPagos=1;this.isLoadingPagos=!0;this.AnimacionCargabtnModalPagos=!1;this.filtertxtPagos="";this.nroCiclo=1;this.idPagosSave=0;this.ArchivosPagos=[];this.paginaArchivosPagos=1;this.isLoadingArchivosPagos=!0;this.AnimacionCargabtnModalArchivosPagos=!1;this.filtertxtArchivosPagos="";this.Ciclos=[];this.paginaCiclos=1;this.isLoadingCiclos=!0;this.AnimacionCargabtnModalCiclos=!1;this.filtertxtCiclos="";this.newPagos=this._pagos.createFormGroupPagos(),this.newPagosAnteriorAccion=this._pagos.createFormGroupPagos(),this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagosAnteriorAccion=this._archivospagos.createFormGroupArchivosPagos(),this.newCiclos=this._ciclos.createFormGroupCiclos(),this.newCiclosAnteriorAccion=this._ciclos.createFormGroupCiclos()}ngOnInit(){this.CargarPagos()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","ARCHIVOSPAGO");var o=document.getElementById("dropzonearchivospagos");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(o=>{console.log("INFO CLIENTES CARGADO",o.data),this.InfoClientes=o.data},o=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",o)})}SeleccionandoInfoCliente(o,e){let t=o.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPagos.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPagos.patchValue({id_infocliente:e.id}))}CargarPagos(){this.AnimarCargaTablaPagos(),this._pagos.ObtenerPagos().subscribe(o=>{console.log("Pagos CARGADO",o.data),this.Pagos=o.data,this.isLoadingPagos=!1},o=>{console.log("ERROR AL CARGAR Pagos",o),this.isLoadingPagos=!1})}AgregarModificarPagos(){if(this.newPagos.invalid){this.ValidacionTodoElementoPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPagos=!1;return}else{this.AnimarCargaTablaPagos(),this.AnimacionCargabtnModalPagos=!0,this._tools.MostrarMensajeLoading();let o=this.newPagos.controls.id.value;console.log("INFO A PROCESAR",this.newPagos.value),o?(this.newPagos.value.saldo=this.newPagos.value.precio-this.newPagos.value.pagado-this.newPagos.value.descuento,this._pagos.ModificarPagos(this.newPagos.value,this.newPagos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()})):(this.newPagos.value.saldo=this.newPagos.value.precio,this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._pagos.AgregarPagos(this.newPagos.value).subscribe(e=>{if(console.log("SE A\xD1ADIO CORRECTAMENTE Pagos",e.data),this.CargarPagos(),this.resetPagos(),e.data.tipo=="MENSUAL")for(var t=0;t<4;)t++,this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:t.toString()}),this.AgregarModificarCiclos(),console.log("PASANDO",t);else this.resetCiclos(),this.newCiclos.patchValue({id_pago:e.data.id,nrociclo:this.nroCiclo,sesion:"1"}),this.AgregarModificarCiclos();this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Pagos",e),this.AnimacionCargabtnModalPagos=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPagos(o,e){switch(this._tools.MostrarMensajeLoading(),e){case"ArchivosPagos":this.idPagosSave=o,this.CargarArchivosPagos(),o&&this._pagos.SeleccionarPagos(o).subscribe(t=>{Object.keys(this.newPagos.controls).forEach(s=>{this.newPagos.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("ModalAllGestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Pagos",t),this._tools.MostrarMensajeError()});break;case"GestionCiclos":this.idPagosSave=o,this.CargarCiclos(),this._tools.abrirModal("ModalAllGestionCiclos"),this._tools.MostrarMensajeSuccess();break;case"Estabilizar":this.idPagosSave=o,this._archivospagos.SeleccionarAllInformacionArchivosPagos(o).subscribe(t=>{this.ArchivosPagos=t.data;var s=0;this.ArchivosPagos.forEach(c=>{c.estadopago=="CONFIRMADO"&&(s=s+Number(c.monto))}),console.log("suma Archivos Pago de estabilizacion",s),this._pagos.SeleccionarPagos(o).subscribe(c=>{Object.keys(this.newPagos.controls).forEach(f=>{this.newPagos.controls[f].setValue(c.data[f])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagos.patchValue({saldo:this.newPagos.value.precio-s-this.newPagos.value.descuento,pagado:s}),this.AgregarModificarPagos()},c=>{console.log("ERROR AL SELECCIONAR Pagos",c),this._tools.MostrarMensajeError()})});break;default:o&&this._pagos.SeleccionarPagos(o).subscribe(t=>{Object.keys(this.newPagos.controls).forEach(s=>{this.newPagos.controls[s].setValue(t.data[s])}),console.log("SELECCION DE Pagos EXITOSA",this.newPagos.value),this.newPagosAnteriorAccion.setValue(this.newPagos.value),this._tools.abrirModal("modalgestionPagos"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR Pagos",t),this._tools.MostrarMensajeError()});break}}EliminarPagos(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._pagos.EliminarPagos(o).subscribe(t=>{console.log(t.data),this.CargarPagos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Pagos",t),this._tools.MostrarMensajeError()}))})}resetPagos(){this.newPagos.reset(),this._tools.cerrarModal("modalgestionPagos")}AbrirModalPagos(){this.CargarInfoClientes(),this.newPagos=this._pagos.createFormGroupPagos(),this._tools.abrirModal("modalgestionPagos")}AutoCompletarLastPagos(){this.newPagos.setValue(this.newPagosAnteriorAccion.value),this.newPagos.patchValue({id:0}),console.log("listo",this.newPagos.value)}AnimarCargaTablaPagos(){this.Pagos=[],this.isLoadingPagos=!0}ValidacionPagosxElemento(o){return this._tools.obtenerValidationClass(this.newPagos,o)}ValidacionTodoElementoPagos(){Object.values(this.newPagos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarArchivosPagos(){this.AnimarCargaTablaArchivosPagos(),this._archivospagos.SeleccionarAllInformacionArchivosPagos(this.idPagosSave).subscribe(o=>{console.log("ArchivosPagos CARGADO",o.data),this.ArchivosPagos=o.data,this.isLoadingArchivosPagos=!1},o=>{console.log("ERROR AL CARGAR ArchivosPagos",o),this.isLoadingArchivosPagos=!1})}AgregarModificarArchivosPagos(){if(this.newArchivosPagos.invalid){this.ValidacionTodoElementoArchivosPagos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalArchivosPagos=!1;return}else{this.AnimarCargaTablaArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!0,this._tools.MostrarMensajeLoading();let t=this.newArchivosPagos.controls.id.value;console.log("INFO A PROCESAR",this.newArchivosPagos.value);var o=sessionStorage.getItem("IMG");if(console.log("VALOR img",o),o==null||o==""||(this.newArchivosPagos.value.file=o),t)this._archivospagos.ModificarArchivosPagos(this.newArchivosPagos.value,this.newArchivosPagos.value.id).subscribe(s=>{console.log("SE MODIFICO CORRECTAMENTE ArchivosPagos",s.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this.newArchivosPagosAnteriorAccion.value.file==this.newArchivosPagos.value.file||this._tools.EliminarArchivo(this.newArchivosPagosAnteriorAccion.value.file),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL MODIFICAR ArchivosPagos",s),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()});else{if(this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.newArchivosPagos.value.estadopago=="CONFIRMADO"){var e=Number(this.newPagos.value.pagado)+Number(this.newArchivosPagos.value.monto);this.newPagos.patchValue({saldo:this.newPagos.value.precio-e-this.newPagos.value.descuento,pagado:e}),this.AgregarModificarPagos()}this._archivospagos.AgregarArchivosPagos(this.newArchivosPagos.value).subscribe(s=>{console.log("SE A\xD1ADIO CORRECTAMENTE ArchivosPagos",s.data),this.CargarArchivosPagos(),this.resetArchivosPagos(),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL A\xD1ADIR ArchivosPagos",s),this.AnimacionCargabtnModalArchivosPagos=!1,this._tools.MostrarMensajeError()})}}}SeleccionarArchivosPagos(o){this._tools.MostrarMensajeLoading(),o&&this._archivospagos.SeleccionarArchivosPagos(o).subscribe(e=>{Object.keys(this.newArchivosPagos.controls).forEach(t=>{this.newArchivosPagos.controls[t].setValue(e.data[t])}),console.log("SELECCION DE ArchivosPagos EXITOSA",this.newArchivosPagos.value),this.newArchivosPagosAnteriorAccion.setValue(this.newArchivosPagos.value),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR ArchivosPagos",e),this._tools.MostrarMensajeError()})}EliminarArchivosPagos(o,e){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(t=>{t&&(this._tools.MostrarMensajeLoading(),this._archivospagos.EliminarArchivosPagos(o).subscribe(s=>{console.log(s.data),this.CargarArchivosPagos(),this.SeleccionarPagos(this.idPagosSave,"Estabilizar"),this._tools.MostrarMensajeSuccess()},s=>{console.log("ERROR AL ELIMINAR ArchivosPagos",s),this._tools.MostrarMensajeError()}))})}resetArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionArchivosPagos")}AbrirModalArchivosPagos(){this.newArchivosPagos=this._archivospagos.createFormGroupArchivosPagos(),this.newArchivosPagos.patchValue({id_pago:this.idPagosSave}),this.crearDropzone(),this._tools.abrirModal("modalgestionArchivosPagos")}AutoCompletarLastArchivosPagos(){this.newArchivosPagos.setValue(this.newArchivosPagosAnteriorAccion.value),this.newArchivosPagos.patchValue({id:0}),console.log("listo",this.newArchivosPagos.value)}AnimarCargaTablaArchivosPagos(){this.ArchivosPagos=[],this.isLoadingArchivosPagos=!0}ValidacionArchivosPagosxElemento(o){return this._tools.obtenerValidationClass(this.newArchivosPagos,o)}ValidacionTodoElementoArchivosPagos(){Object.values(this.newArchivosPagos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarCiclos(){this.AnimarCargaTablaCiclos(),this._ciclos.SeleccionarAllInformacionCiclos(this.idPagosSave).subscribe(o=>{console.log("Ciclos CARGADO",o.data),this.Ciclos=o.data,this.isLoadingCiclos=!1},o=>{console.log("ERROR AL CARGAR Ciclos",o),this.isLoadingCiclos=!1})}AgregarModificarCiclos(){if(this.newCiclos.invalid){this.ValidacionTodoElementoCiclos(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalCiclos=!1;return}else{this.AnimarCargaTablaCiclos(),this.AnimacionCargabtnModalCiclos=!0,this._tools.MostrarMensajeLoading();let o=this.newCiclos.controls.id.value;console.log("INFO A PROCESAR",this.newCiclos.value),o?this._ciclos.ModificarCiclos(this.newCiclos.value,this.newCiclos.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()}):(this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._ciclos.AgregarCiclos(this.newCiclos.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE Ciclos",e.data),this.CargarCiclos(),this.resetCiclos(),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR Ciclos",e),this.AnimacionCargabtnModalCiclos=!1,this._tools.MostrarMensajeError()})),this.CargarPagos()}}SeleccionarCiclos(o){this._tools.MostrarMensajeLoading(),o&&this._ciclos.SeleccionarCiclos(o).subscribe(e=>{Object.keys(this.newCiclos.controls).forEach(t=>{this.newCiclos.controls[t].setValue(e.data[t])}),console.log("SELECCION DE Ciclos EXITOSA",this.newCiclos.value),this.newCiclosAnteriorAccion.setValue(this.newCiclos.value),this._tools.abrirModal("modalgestionCiclos"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR Ciclos",e),this._tools.MostrarMensajeError()})}EliminarCiclos(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ciclos.EliminarCiclos(o).subscribe(t=>{console.log(t.data),this.CargarCiclos(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Ciclos",t),this._tools.MostrarMensajeError()}))})}resetCiclos(){this.newCiclos=this._ciclos.createFormGroupCiclos(),this._tools.cerrarModal("modalgestionCiclos")}AbrirModalCiclos(){this.newCiclos.reset(),this.newCiclos.patchValue({id_pago:this.idPagosSave}),this._tools.abrirModal("modalgestionCiclos")}AutoCompletarLastCiclos(){this.newCiclos.setValue(this.newCiclosAnteriorAccion.value),this.newCiclos.patchValue({id:0}),console.log("listo",this.newCiclos.value)}AnimarCargaTablaCiclos(){this.Ciclos=[],this.isLoadingCiclos=!0}ValidacionCiclosxElemento(o){return this._tools.obtenerValidationClass(this.newCiclos,o)}ValidacionTodoElementoCiclos(){Object.values(this.newCiclos.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(ot),x(q),x(at),x(rt),x(Ee))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondecontrolasistenaciapagos"]],decls:357,vars:68,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],["scope","col",1,"text-center"],[1,"text-success","bg-light"],[1,"text-danger","bg-light"],[1,"text-secondary","bg-light"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","precio",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","horario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","fecha",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","MENSUAL"],["value","SESI\xD3N"],["type","text","placeholder","","formControlName","descuento",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","modalgestionCiclos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","nrociclo",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","sesion",1,"form-control",3,"ngClass"],["formControlName","estadosesion",1,"form-control",3,"ngClass"],["value","REALIZADO"],["value","SESI\xD3N PENDIENTE"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],["formControlName","estadopago",1,"form-control",3,"ngClass"],["value","PAGADO"],["value","PRESTADO"],["value","PENDIENTE"],["value","RETRASADO"],["type","text","placeholder","","formControlName","eri",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","cim",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["id","ModalAllGestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","modalgestionArchivosPagos","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","number","placeholder","","formControlName","monto",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fechapago",1,"form-control",3,"ngClass"],["type","time","placeholder","","formControlName","horapago",1,"form-control",3,"ngClass"],["placeholder","","formControlName","observacion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["value","CONFIRMADO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzonearchivospagos",1,"dropzone"],["alt","","width","50%",3,"src"],["colspan","9",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],[1,"text-center","text-light","bg-primary"],[1,"progress",2,"height","30px"],["role","progressbar","aria-label","Segment one","aria-valuemin","0",1,"progress-bar","bg-success",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment two","aria-valuemin","0",3,"title","aria-valuenow","aria-valuemax"],["role","progressbar","aria-label","Segment three","aria-valuemin","0",1,"progress-bar","bg-secondary",3,"title","aria-valuenow","aria-valuemax"],[2,"white-space","nowrap"],[2,"display","flex","align-items","center","gap","10px"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-success","p-1","py-0",3,"title","href"],[1,"bi","bi-whatsapp",2,"font-size","1.5rem"],["title","Estabilizar",1,"btn","btn-light","p-1","py-0",3,"click"],["alt","Balanza",1,"image",2,"width","24px","height","auto","display","inline-block",3,"src"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Archivos de Pagos",1,"btn","btn-success","p-1","py-0",3,"click"],[1,"bi","bi-currency-dollar",2,"font-size","1.5rem"],["title","Ciclos",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-border-all",2,"font-size","1.5rem"],[1,"rectangle-grid"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[3,"click","title"],[1,"fw-bolder","circle-container"],[2,"font-size","1rem"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],["type","number","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","7",1,"text-center"],["colspan","6",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Pagos"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Pagos de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalPagos()}),m(11,"i",7),r(12," A\xF1adir Pagos"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaPagos=1}),V("ngModelChange",function(c){return L(t.filtertxtPagos,c)||(t.filtertxtPagos=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),r(28,"#"),n(),i(29,"th",18),r(30,"Nombre Completo"),n(),i(31,"th",18),r(32,"Tipo"),n(),i(33,"th",18),r(34,"Precio"),n(),i(35,"th",19)(36,"label",20),r(37,"Pagado/"),n(),i(38,"label",21),r(39,"Deuda/"),n(),i(40,"label",22),r(41,"Descuento"),n()(),i(42,"th",18),r(43,"Horario/Dia"),n(),i(44,"th",18),r(45,"ACCIONES"),n()()(),i(46,"tbody",23),v(47,an,6,0,"tr",24)(48,rn,3,0,"tr",24)(49,ln,50,42,"tr",25),S(50,"filterapellidosnombrescarnet"),S(51,"paginate"),n()(),i(52,"pagination-controls",26),p("pageChange",function(c){return t.paginaPagos=c}),n()(),m(53,"hr"),i(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"div",31)(59,"h1",32),r(60),n(),i(61,"button",33),p("click",function(){return t.resetPagos()}),n()()(),i(62,"div",34)(63,"div",35)(64,"div",36)(65,"label",37),r(66,"Buscar:"),n(),i(67,"input",38),V("ngModelChange",function(c){return L(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),p("input",function(){return t.paginaInfoClientes=1}),n()(),v(68,dn,4,9,"div",39),i(69,"pagination-controls",26),p("pageChange",function(c){return t.paginaInfoClientes=c}),n(),m(70,"hr"),i(71,"div",40),m(72,"input",41),i(73,"label"),r(74,"cliente"),n(),i(75,"div",42),r(76,"Este campo es obligatorio*"),n()(),i(77,"div",40),m(78,"input",43),i(79,"label"),r(80,"precio"),n(),i(81,"div",42),r(82,"Este campo es obligatorio*"),n()(),i(83,"div",40)(84,"input",44),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"horario")}),n(),i(85,"label"),r(86,"horario"),n(),i(87,"div",42),r(88,"Este campo es obligatorio*"),n()(),i(89,"div",40)(90,"input",45),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"fecha")}),n(),i(91,"label"),r(92,"dias"),n(),i(93,"div",42),r(94,"Este campo es obligatorio*"),n()(),i(95,"div",40)(96,"select",46)(97,"option",47),r(98,"Seleccione una opci\xF3n"),n(),i(99,"option",48),r(100,"MENSUAL"),n(),i(101,"option",49),r(102,"SESI\xD3N"),n()(),i(103,"label"),r(104,"tipo"),n(),i(105,"div",42),r(106,"Este campo es obligatorio*"),n()(),i(107,"div",40)(108,"input",50),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPagos,"descuento")}),n(),i(109,"label"),r(110,"descuento"),n(),i(111,"div",42),r(112,"Este campo es obligatorio*"),n()()(),v(113,mn,6,1,"div",51),n(),i(114,"div",52),v(115,pn,6,0,"div",53),i(116,"div",54)(117,"div",55)(118,"button",56),p("click",function(){return t.resetPagos()}),m(119,"i",57),r(120," CANCELAR"),m(121,"span",8),n()(),i(122,"div",58),v(123,un,4,4,"button",59)(124,gn,2,1,"button",60),n()()()()()(),i(125,"div",61)(126,"div",28)(127,"div",29)(128,"div",30)(129,"h1",62),r(130,"Gestionar Ciclos"),n(),m(131,"button",63),n(),i(132,"div",34),m(133,"hr"),i(134,"div",0)(135,"div",1),m(136,"div",2),n()(),i(137,"div",1)(138,"div",5)(139,"button",6),p("click",function(){return t.AbrirModalCiclos()}),m(140,"i",7),r(141," A\xF1adir Ciclos"),m(142,"span",8),n()()(),m(143,"hr"),i(144,"div",15)(145,"table",16)(146,"thead")(147,"tr")(148,"th",17),r(149,"#"),n(),i(150,"th",18),r(151,"Nro. Ciclo"),n(),i(152,"th",18),r(153,"Nro. Sesi\xF3n"),n(),i(154,"th",18),r(155,"Estado de Pago"),n(),i(156,"th",18),r(157,"Estado de Sesi\xF3n"),n(),i(158,"th",18),r(159,"Fecha de Realizaci\xF3n"),n(),i(160,"th",18),r(161,"ACCIONES"),n()()(),i(162,"tbody",23),v(163,hn,6,0,"tr",24)(164,fn,3,0,"tr",24)(165,bn,19,8,"tr",25),S(166,"paginate"),n()(),i(167,"pagination-controls",26),p("pageChange",function(c){return t.paginaCiclos=c}),n()(),m(168,"hr"),i(169,"div",64)(170,"div",28)(171,"div",29)(172,"div",30)(173,"div",31)(174,"h1",32),r(175),n(),i(176,"button",33),p("click",function(){return t.resetCiclos()}),n()()(),i(177,"div",34)(178,"div",35)(179,"div",40),m(180,"input",65),i(181,"label"),r(182,"nrociclo"),n(),i(183,"div",42),r(184,"Este campo es obligatorio*"),n()(),i(185,"div",40),m(186,"input",66),i(187,"label"),r(188,"sesion"),n(),i(189,"div",42),r(190,"Este campo es obligatorio*"),n()(),i(191,"div",40)(192,"select",67)(193,"option",47),r(194,"Seleccione una opci\xF3n"),n(),i(195,"option",68),r(196,"REALIZADO"),n(),i(197,"option",69),r(198,"SESI\xD3N PENDIENTE"),n()(),i(199,"label"),r(200,"estadosesion"),n(),i(201,"div",42),r(202,"Este campo es obligatorio*"),n()(),i(203,"div",40),m(204,"input",70),i(205,"label"),r(206,"fecha"),n(),i(207,"div",42),r(208,"Este campo es obligatorio*"),n()(),i(209,"div",40)(210,"select",71)(211,"option",47),r(212,"Seleccione una opci\xF3n"),n(),i(213,"option",72),r(214,"PAGADO"),n(),i(215,"option",73),r(216,"PRESTADO"),n(),i(217,"option",74),r(218,"PENDIENTE"),n(),i(219,"option",75),r(220,"RETRASADO"),n()(),i(221,"label"),r(222,"estadopago"),n(),i(223,"div",42),r(224,"Este campo es obligatorio*"),n()(),i(225,"div",40)(226,"input",76),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newCiclos,"eri")}),n(),i(227,"label"),r(228,"eri"),n(),i(229,"div",42),r(230,"Este campo es obligatorio*"),n()(),i(231,"div",40)(232,"input",77),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newCiclos,"cim")}),n(),i(233,"label"),r(234,"cim"),n(),i(235,"div",42),r(236,"Este campo es obligatorio*"),n()()()(),i(237,"div",52),v(238,vn,6,0,"div",53),i(239,"div",54)(240,"div",55)(241,"button",56),p("click",function(){return t.resetCiclos()}),m(242,"i",57),r(243," CANCELAR"),m(244,"span",8),n()(),i(245,"div",58),v(246,_n,4,4,"button",59)(247,Cn,2,1,"button",60),n()()()()()()()()()(),i(248,"div",78)(249,"div",28)(250,"div",29)(251,"div",30)(252,"h1",62),r(253,"ARCHIVOS DE PAGO "),n(),m(254,"button",63),n(),i(255,"div",34),m(256,"hr"),i(257,"div",0)(258,"div",1),m(259,"div",2),n()(),i(260,"div",1)(261,"div",5)(262,"button",6),p("click",function(){return t.AbrirModalArchivosPagos()}),m(263,"i",7),r(264," A\xF1adir Archivos de Pagos"),m(265,"span",8),n()()(),m(266,"hr"),i(267,"div",15)(268,"table",16)(269,"thead")(270,"tr")(271,"th",17),r(272,"#"),n(),i(273,"th",18),r(274,"Monto"),n(),i(275,"th",18),r(276,"Fecha de Pago"),n(),i(277,"th",18),r(278,"Hora de Pago"),n(),i(279,"th",18),r(280,"Observaci\xF3n"),n(),i(281,"th",18),r(282,"Estado Pago"),n(),i(283,"th",18),r(284,"ACCIONES"),n()()(),i(285,"tbody",23),v(286,En,6,0,"tr",24)(287,Sn,3,0,"tr",24)(288,In,18,6,"tr",25),S(289,"paginate"),n()(),i(290,"pagination-controls",26),p("pageChange",function(c){return t.paginaArchivosPagos=c}),n()(),m(291,"hr"),i(292,"div",79)(293,"div",28)(294,"div",29)(295,"div",30)(296,"div",31)(297,"h1",32),r(298),n(),i(299,"button",33),p("click",function(){return t.resetArchivosPagos()})("click",function(){return t.CancelarArchivosDropzone()}),n()()(),i(300,"div",34)(301,"div",35)(302,"div",40),m(303,"input",80),i(304,"label"),r(305,"monto"),n(),i(306,"div",42),r(307,"Este campo es obligatorio*"),n()(),i(308,"div",40),m(309,"input",81),i(310,"label"),r(311,"fechapago"),n(),i(312,"div",42),r(313,"Este campo es obligatorio*"),n()(),i(314,"div",40),m(315,"input",82),i(316,"label"),r(317,"horapago"),n(),i(318,"div",42),r(319,"Este campo es obligatorio*"),n()(),i(320,"div",40)(321,"textarea",83),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newArchivosPagos,"observacion")}),n(),i(322,"label"),r(323,"observacion"),n(),i(324,"div",42),r(325,"Este campo es obligatorio*"),n()(),i(326,"div",40)(327,"select",71)(328,"option",47),r(329,"Seleccione una opci\xF3n"),n(),i(330,"option",74),r(331,"PENDIENTE"),n(),i(332,"option",84),r(333,"CONFIRMADO"),n()(),i(334,"label"),r(335,"estado de pago"),n(),i(336,"div",42),r(337,"Este campo es obligatorio*"),n()(),i(338,"div",85)(339,"label",86),r(340,"Archivo"),n(),m(341,"div",87)(342,"hr"),i(343,"span"),r(344,"IMAGEN ACTUAL:"),n(),m(345,"img",88),n()()(),i(346,"div",52),v(347,xn,6,0,"div",53),i(348,"div",54)(349,"div",55)(350,"button",56),p("click",function(){return t.resetArchivosPagos()})("click",function(){return t.CancelarArchivosDropzone()}),m(351,"i",57),r(352," CANCELAR"),m(353,"span",8),n()(),i(354,"div",58),v(355,Mn,4,4,"button",59)(356,wn,2,1,"button",60),n()()()()()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtPagos),l(28),d("ngIf",t.isLoadingPagos),l(),d("ngIf",!t.isLoadingPagos&&t.Pagos.length===0),l(),d("ngForOf",w(51,52,w(50,49,t.Pagos,t.filtertxtPagos),N(61,zt,t.paginaPagos))),l(11),E("",t.newPagos.get("id").value?"Modificar":"Registrar"," Pagos "),l(3),d("formGroup",t.newPagos),l(4),z("ngModel",t.filterInfoClientes),d("ngModelOptions",Qe(63,nn)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),U("value",t.nombreseleccionado),d("ngClass",t.ValidacionPagosxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPagosxElemento("precio")),l(6),d("ngClass",t.ValidacionPagosxElemento("horario")),l(6),d("ngClass",t.ValidacionPagosxElemento("fecha")),l(6),d("ngClass",t.ValidacionPagosxElemento("tipo")),l(12),d("ngClass",t.ValidacionPagosxElemento("descuento")),l(5),d("ngIf",!t.newPagos.get("id").value),l(2),d("ngIf",!t.newPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPagos),l(),d("ngIf",t.AnimacionCargabtnModalPagos),l(39),d("ngIf",t.isLoadingCiclos),l(),d("ngIf",!t.isLoadingCiclos&&t.Ciclos.length===0),l(),d("ngForOf",w(166,55,t.Ciclos,N(64,zt,t.paginaCiclos))),l(10),E(" ",t.newCiclos.get("id").value?"Modificar":"Registrar"," Ciclos"),l(3),d("formGroup",t.newCiclos),l(2),d("ngClass",t.ValidacionCiclosxElemento("nrociclo")),l(6),d("ngClass",t.ValidacionCiclosxElemento("sesion")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadosesion")),l(12),d("ngClass",t.ValidacionCiclosxElemento("fecha")),l(6),d("ngClass",t.ValidacionCiclosxElemento("estadopago")),l(16),d("ngClass",t.ValidacionCiclosxElemento("eri")),l(6),d("ngClass",t.ValidacionCiclosxElemento("cim")),l(6),d("ngIf",!t.newCiclos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalCiclos),l(),d("ngIf",t.AnimacionCargabtnModalCiclos),l(39),d("ngIf",t.isLoadingArchivosPagos),l(),d("ngIf",!t.isLoadingArchivosPagos&&t.ArchivosPagos.length===0),l(),d("ngForOf",w(289,58,t.ArchivosPagos,N(66,zt,t.paginaArchivosPagos))),l(10),E(" ",t.newArchivosPagos.get("id").value?"Modificar":"Registrar"," ArchivosPagos"),l(3),d("formGroup",t.newArchivosPagos),l(2),d("ngClass",t.ValidacionArchivosPagosxElemento("monto")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("fechapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("horapago")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("observacion")),l(6),d("ngClass",t.ValidacionArchivosPagosxElemento("estadopago")),l(18),d("src",t.ruta+t.newArchivosPagos.value.foto,W),l(2),d("ngIf",!t.newArchivosPagos.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalArchivosPagos),l(),d("ngIf",t.AnimacionCargabtnModalArchivosPagos))},dependencies:[J,Q,Y,se,le,ee,be,re,te,ie,ne,oe,ae,me,de,Se,ve],styles:[".rectangle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(50,auto)}.group[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,15px);border:2px solid white;border-radius:10px}.group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;text-shadow:1px 1px 2px black}.circle-container[_ngcontent-%COMP%]{display:inline-block;padding:1px;border:1px solid rgb(255,255,255);border-radius:50%;text-align:center;line-height:1}"]})}};var lt=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerInicios(){return this.http.get(this.ruta+"api/Inicios/")}AgregarInicios(o){return this.http.post(this.ruta+"api/Inicios/",o)}ModificarInicios(o,e){return this.http.put(this.ruta+"api/Inicios/"+e,o)}SeleccionarInicios(o){return this.http.get(this.ruta+"api/Inicios/"+o)}EliminarInicios(o){return this.http.delete(this.ruta+"api/Inicios/"+o)}createFormGroupInicios(){return new G({id:new b(0),archivo:new b(""),etiqueta:new b(""),titulo:new b(""),subtitulo:new b(""),descripcion:new b(""),categoria:new b(""),link:new b(""),costo:new b(""),duracion:new b(""),cupos:new b(""),fecha:new b("")})}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ct=class a{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.categoria).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"filtercategoria",type:a,pure:!0})}};var Pn=a=>({itemsPerPage:10,currentPage:a});function On(a,o){a&1&&(i(0,"th",31),r(1,"Categoria"),n())}function Rn(a,o){a&1&&(i(0,"th",31),r(1,"Titulo"),n())}function Tn(a,o){if(a&1&&(i(0,"th",31),r(1),n()),a&2){let e=u();l(),_(e.txtSubtituloIconotable)}}function kn(a,o){a&1&&(i(0,"th",31),r(1,"Descripci\xF3n"),n())}function zn(a,o){a&1&&(i(0,"th",31),r(1,"Etiqueta"),n())}function Ln(a,o){a&1&&(i(0,"th",31),r(1,"Enlace"),n())}function Vn(a,o){a&1&&(i(0,"th",31),r(1,"Costo"),n())}function Gn(a,o){a&1&&(i(0,"th",31),r(1,"Cupos"),n())}function Nn(a,o){a&1&&(i(0,"th",31),r(1,"Duracion"),n())}function Fn(a,o){a&1&&(i(0,"th",31),r(1,"Fecha"),n())}function Dn(a,o){a&1&&(i(0,"tr")(1,"td",58)(2,"div",59)(3,"div",60)(4,"span",61),r(5,"Loading..."),n()()()()())}function jn(a,o){a&1&&(i(0,"tr")(1,"td",58),r(2,"No hay datos disponibles"),n()())}function Un(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgcategoria),l(),_(e.categoria)}}function qn(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgtitulo),l(),_(e.titulo)}}function Bn(a,o){if(a&1&&m(0,"td",72),a&2){let e=u().$implicit;k("",e.bgsubtitulo," text-center"),d("innerHTML",e.subtitulo,It)}}function Hn(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgdescripcion),l(),_(e.descripcion)}}function $n(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgetiqueta),l(),_(e.etiqueta)}}function Wn(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bglink),l(),_(e.link)}}function Zn(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgcosto),l(),_(e.costo)}}function Qn(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgduracion),l(),_(e.duracion)}}function Yn(a,o){if(a&1&&(i(0,"td",71),r(1),n()),a&2){let e=u().$implicit;fe(e.bgcupos),l(),_(e.cupos)}}function Xn(a,o){if(a&1&&(i(0,"td",71),r(1),S(2,"dateFormat"),n()),a&2){let e=u().$implicit;fe(e.bgfecha),l(),_(ue(2,4,e.fecha))}}function Jn(a,o){if(a&1&&(i(0,"a",73),m(1,"i",74),n()),a&2){let e=u().$implicit,t=u();d("href",t.ruta+e.archivo,W)}}function Kn(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",62),r(2),n(),v(3,Un,2,4,"td",63)(4,qn,2,4,"td",63)(5,Bn,1,4,"td",64)(6,Hn,2,4,"td",63)(7,$n,2,4,"td",63)(8,Wn,2,4,"td",63)(9,Zn,2,4,"td",63)(10,Qn,2,4,"td",63)(11,Yn,2,4,"td",63)(12,Xn,3,6,"td",63),i(13,"td",65)(14,"button",66),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarInicios(s.id))}),m(15,"i",67),n(),i(16,"button",68),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarInicios(s.id))}),m(17,"i",69),n(),v(18,Jn,2,1,"a",70),n()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaInicios-1)*10+(e+1)),l(),d("ngIf",s.showtablecategoria),l(),d("ngIf",s.showtabletitulo),l(),d("ngIf",s.showtablesubtitulo),l(),d("ngIf",s.showtabledescripcion),l(),d("ngIf",s.showtableetiqueta),l(),d("ngIf",s.showtablelink),l(),d("ngIf",s.showtablecosto),l(),d("ngIf",s.showtablecosto),l(),d("ngIf",s.showtablecupos),l(),d("ngIf",s.showtablefecha),l(6),d("ngIf",!(t.archivo==null||t.archivo==""))}}function eo(a,o){if(a&1){let e=C();i(0,"div",75)(1,"select",76),p("change",function(s){g(e);let c=u();return h(c.VerificarTipoCategoria(s.target.value))}),i(2,"option",77),r(3,"Seleccione una opci\xF3n"),n(),i(4,"option",15),r(5,"BANNER"),n(),i(6,"option",16),r(7,"SERVICIO"),n(),i(8,"option",17),r(9,"PRECIO"),n(),i(10,"option",18),r(11,"GALERIA"),n(),i(12,"option",19),r(13,"CAROUSEL"),n(),i(14,"option",20),r(15,"RED SOCIAL"),n()(),i(16,"label"),r(17,"categoria"),n(),i(18,"div",78),r(19,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("categoria"))}}function to(a,o){if(a&1&&(i(0,"div",75)(1,"span",79),r(2),n()()),a&2){let e=u();l(2),E("MODIFICANDO ",e.newInicios.controls.categoria.value,"")}}function io(a,o){if(a&1){let e=C();i(0,"div",75)(1,"input",80),p("change",function(s){g(e);let c=u();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"titulo"))}),n(),i(2,"label"),r(3,"titulo"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("titulo"))}}function no(a,o){if(a&1&&(i(0,"div",75),m(1,"input",81),i(2,"label"),r(3),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("subtitulo")),l(2),_(e.txtSubtituloIcono)}}function oo(a,o){if(a&1){let e=C();i(0,"div",75)(1,"textarea",82),p("change",function(s){g(e);let c=u();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"descripcion"))}),n(),i(2,"label"),r(3,"descripcion"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("descripcion"))}}function ao(a,o){if(a&1){let e=C();i(0,"div",75)(1,"input",83),p("change",function(s){g(e);let c=u();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"etiqueta"))}),n(),i(2,"label"),r(3,"etiqueta"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("etiqueta"))}}function ro(a,o){if(a&1&&(i(0,"div",75),m(1,"input",84),i(2,"label"),r(3,"link"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("link"))}}function so(a,o){if(a&1&&(i(0,"div",75),m(1,"input",85),i(2,"label"),r(3,"costo"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("costo"))}}function lo(a,o){if(a&1){let e=C();i(0,"div",75)(1,"input",86),p("change",function(s){g(e);let c=u();return h(c._tools.EscribirEnMayuscula(s,c.newInicios,"duracion"))}),n(),i(2,"label"),r(3,"duracion"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()}if(a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("duracion"))}}function co(a,o){if(a&1&&(i(0,"div",75),m(1,"input",87),i(2,"label"),r(3,"cupos"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("cupos"))}}function mo(a,o){if(a&1&&(i(0,"div",75),m(1,"input",88),i(2,"label"),r(3,"fecha"),n(),i(4,"div",78),r(5,"Este campo es obligatorio*"),n()()),a&2){let e=u();l(),d("ngClass",e.ValidacionIniciosxElemento("fecha"))}}function po(a,o){if(a&1){let e=C();i(0,"div",89)(1,"button",90),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastInicios())}),m(2,"i",91),r(3," AUTO COMPLETAR "),m(4,"span",9)(5,"i",92),n(),i(6,"a",93),m(7,"i",94),r(8," IR A DOCUMENTACION PARA ICONOS "),n()()}}function uo(a,o){if(a&1){let e=C();i(0,"button",95),p("click",function(){g(e);let s=u();return h(s.AgregarModificarInicios())}),m(1,"i",96),r(2),m(3,"span",9),n()}if(a&2){let e=u();l(),k("bi bi-",e.newInicios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newInicios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function go(a,o){if(a&1){let e=C();i(0,"button",97),p("click",function(){g(e);let s=u();return h(s.AgregarModificarInicios())}),m(1,"span",98),n()}a&2&&d("disabled",!0)}var dt=class a{constructor(o,e,t){this._ini=o;this._tools=e;this.http=t;this.ruta=M.ruta;this.dataDropZone={iddropzone:"my-dropzone",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.filtercategoria="";this.showtitulo=!1;this.showsubtitulo=!1;this.showdescripcion=!1;this.showetiqueta=!1;this.showlink=!1;this.showcosto=!1;this.showcupos=!1;this.showfecha=!1;this.showarchivo=!1;this.showcategoria=!0;this.showduracion=!1;this.txtSubtituloIcono="Subtitulo";this.showtabletitulo=!0;this.showtablesubtitulo=!0;this.showtabledescripcion=!0;this.showtableetiqueta=!0;this.showtablelink=!0;this.showtablecosto=!0;this.showtablecupos=!0;this.showtablefecha=!0;this.showtablearchivo=!0;this.showtablecategoria=!0;this.showtableduracion=!0;this.txtSubtituloIconotable="Subtitulo|icono";this.Inicios=[];this.paginaInicios=1;this.isLoadingInicios=!0;this.AnimacionCargabtnModalInicios=!1;this.filtertxtInicios="";this.newInicios=this._ini.createFormGroupInicios(),this.newIniciosAnteriorAccion=this._ini.createFormGroupInicios()}ngOnInit(){this.CargarInicios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){var o=document.getElementById("my-dropzone");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}VerificarTipoCategoria(o){switch(sessionStorage.setItem("CategoriaFile",o),o){case"BANNER":this.showtitulo=!0,this.showsubtitulo=!1,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"SERVICIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;case"PRECIO":this.showtitulo=!0,this.showsubtitulo=!0,this.showdescripcion=!0,this.showetiqueta=!0,this.showlink=!0,this.showcosto=!0,this.showcupos=!0,this.showfecha=!0,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!0,this.txtSubtituloIcono="Subtitulo";break;case"GALERIA":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"CAROUSEL":this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!0,this.showarchivo=!0,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break;case"RED SOCIAL":this.showtitulo=!1,this.showsubtitulo=!0,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!0,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Icono";break;default:this.showtitulo=!1,this.showsubtitulo=!1,this.showdescripcion=!1,this.showetiqueta=!1,this.showlink=!1,this.showcosto=!1,this.showcupos=!1,this.showfecha=!1,this.showarchivo=!1,this.showcategoria=!0,this.showduracion=!1,this.txtSubtituloIcono="Subtitulo";break}}VerificarTipoCategoriaTabla(o){switch(o){case"BANNER":this.showtabletitulo=!0,this.showtablesubtitulo=!1,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"SERVICIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;case"PRECIO":this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!0,this.txtSubtituloIconotable="Subtitulo";break;case"GALERIA":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"CAROUSEL":this.showtabletitulo=!1,this.showtablesubtitulo=!1,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!1,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo";break;case"RED SOCIAL":this.showtabletitulo=!1,this.showtablesubtitulo=!0,this.showtabledescripcion=!1,this.showtableetiqueta=!1,this.showtablelink=!0,this.showtablecosto=!1,this.showtablecupos=!1,this.showtablefecha=!1,this.showtablearchivo=!1,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Icono";break;default:this.showtabletitulo=!0,this.showtablesubtitulo=!0,this.showtabledescripcion=!0,this.showtableetiqueta=!0,this.showtablelink=!0,this.showtablecosto=!0,this.showtablecupos=!0,this.showtablefecha=!0,this.showtablearchivo=!0,this.showtablecategoria=!0,this.showtableduracion=!1,this.txtSubtituloIconotable="Subtitulo|icono";break}}CargarInicios(){this.AnimarCargaTablaInicios(),this._ini.ObtenerInicios().subscribe(o=>{console.log("Inicios CARGADO",o.data),o.data.forEach(e=>{switch(e.categoria){case"BANNER":e.bgtitulo="",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"SERVICIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"PRECIO":e.bgtitulo="",e.bgsubtitulo="",e.bgdescripcion="",e.bgetiqueta="",e.bglink="",e.bgcosto="",e.bgcupos="",e.bgfecha="",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="";break;case"GALERIA":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"CAROUSEL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="bg-dark text-dark",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="bg-dark text-dark",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="",e.bgarchivo="",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;case"RED SOCIAL":e.bgtitulo="bg-dark text-dark",e.bgsubtitulo="",e.bgdescripcion="bg-dark text-dark",e.bgetiqueta="bg-dark text-dark",e.bglink="",e.bgcosto="bg-dark text-dark",e.bgcupos="bg-dark text-dark",e.bgfecha="bg-dark text-dark",e.bgarchivo="bg-dark text-dark",e.bgcategoria="",e.bgduracion="bg-dark text-dark";break;default:break}}),this.Inicios=o.data,this.isLoadingInicios=!1},o=>{console.log("ERROR AL CARGAR Inicios",o),this.isLoadingInicios=!1})}AgregarModificarInicios(){if(this.newInicios.invalid){this.ValidacionTodoElementoInicios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalInicios=!1;return}else{this.AnimarCargaTablaInicios(),this.AnimacionCargabtnModalInicios=!0,this._tools.MostrarMensajeLoading();let e=this.newInicios.controls.id.value;console.log("INFO A PROCESAR",this.newInicios.value);var o=sessionStorage.getItem("IMG");console.log("VALOR img",o),o==null||o==""||(this.newInicios.value.archivo=o),e?(console.log("DATA NUEVO",this.newInicios.value),console.log("DATA ANTERIOR",this.newIniciosAnteriorAccion.value),this._ini.ModificarInicios(this.newInicios.value,this.newInicios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.AnimacionCargabtnModalInicios=!1,this.newIniciosAnteriorAccion.value.archivo==this.newInicios.value.archivo||this._tools.EliminarArchivo(this.newIniciosAnteriorAccion.value.archivo),this.resetInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()})):(this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._ini.AgregarInicios(this.newInicios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Inicios",t.data),this.CargarInicios(),this.resetInicios(),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Inicios",t),this.AnimacionCargabtnModalInicios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarInicios(o){this._tools.MostrarMensajeLoading(),o&&this._ini.SeleccionarInicios(o).subscribe(e=>{Object.keys(this.newInicios.controls).forEach(t=>{this.newInicios.controls[t].setValue(e.data[t])}),console.log("SELECCION DE Inicios EXITOSA",this.newInicios.value),this.VerificarTipoCategoria(this.newInicios.controls.categoria.value),this.crearDropzone(),this.showcategoria=!1,this.newIniciosAnteriorAccion.setValue(this.newInicios.value),this._tools.abrirModal("modalgestionInicios"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR Inicios",e),this._tools.MostrarMensajeError()})}EliminarInicios(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._ini.EliminarInicios(o).subscribe(t=>{console.log(t.data),this.CargarInicios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Inicios",t),this._tools.MostrarMensajeError()}))})}resetInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionInicios")}AbrirModalInicios(){this.newInicios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this.VerificarTipoCategoria(""),this._tools.abrirModal("modalgestionInicios")}AutoCompletarLastInicios(){this.newInicios.setValue(this.newIniciosAnteriorAccion.value),this.newInicios.patchValue({id:0}),console.log("listo",this.newInicios.value)}AnimarCargaTablaInicios(){this.Inicios=[],this.isLoadingInicios=!0}ValidacionIniciosxElemento(o){return this._tools.obtenerValidationClass(this.newInicios,o)}ValidacionTodoElementoInicios(){Object.values(this.newInicios.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(lt),x(q),x(P))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeinicios"]],decls:110,vars:44,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"row","d-flex","align-items-center"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3"],[1,"form-control",3,"input","ngModelChange","change","ngModel"],["value","","disabled","","selected",""],["value",""],["value","BANNER"],["value","SERVICIO"],["value","PRECIO"],["value","GALERIA"],["value","CAROUSEL"],["value","RED SOCIAL"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col",4,"ngIf"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionInicios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"form-text"],["id","my-dropzone",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","12",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row",3,"class",4,"ngIf"],["scope","row",3,"class","innerHTML",4,"ngIf"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["scope","row"],["scope","row",3,"innerHTML"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"form-floating","mb-3","col-sm-12"],["formControlName","categoria",1,"form-control",3,"change","ngClass"],["disabled","","selected","",3,"value"],[1,"invalid-feedback"],[1,"form-text","text-center"],["type","text","placeholder","","formControlName","titulo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","subtitulo",1,"form-control",3,"ngClass"],["placeholder","","formControlName","descripcion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],["type","text","placeholder","","formControlName","etiqueta",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","link",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","costo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","cupos",1,"form-control",3,"ngClass"],["type","date","placeholder","","formControlName","fecha",1,"form-control",3,"ngClass"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],["href","https://icons.getbootstrap.com/","target","_blank",1,"btn","mouse-dir","primary"],[1,"bi","bi-bootstrap"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Inicios"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Inicios de manera sencilla y eficiente"),n()()()(),i(8,"div",5)(9,"div",6)(10,"button",7),p("click",function(){return t.AbrirModalInicios()}),m(11,"i",8),r(12," A\xF1adir Inicios"),m(13,"span",9),n()(),i(14,"div",10)(15,"div",11)(16,"select",12),p("input",function(){return t.paginaInicios=1}),V("ngModelChange",function(c){return L(t.filtercategoria,c)||(t.filtercategoria=c),c}),p("change",function(c){return t.VerificarTipoCategoriaTabla(c.target.value)}),i(17,"option",13),r(18,"Seleccione una opci\xF3n"),n(),i(19,"option",14),r(20,"TODA LA INFORMACI\xD3N"),n(),i(21,"option",15),r(22,"BANNER"),n(),i(23,"option",16),r(24,"SERVICIO"),n(),i(25,"option",17),r(26,"PRECIO"),n(),i(27,"option",18),r(28,"GALERIA"),n(),i(29,"option",19),r(30,"CAROUSEL"),n(),i(31,"option",20),r(32,"RED SOCIAL"),n()(),i(33,"label"),r(34,"Filtrar"),n()()(),i(35,"div",21)(36,"div",22)(37,"span",23),m(38,"i",24),n(),i(39,"div",25)(40,"input",26),p("input",function(){return t.paginaInicios=1}),V("ngModelChange",function(c){return L(t.filtertxtInicios,c)||(t.filtertxtInicios=c),c}),n(),i(41,"label"),r(42,"Buscar"),n()()()()(),m(43,"hr"),i(44,"div",27)(45,"table",28)(46,"thead")(47,"tr")(48,"th",29),r(49,"#"),n(),v(50,On,2,0,"th",30)(51,Rn,2,0,"th",30)(52,Tn,2,1,"th",30)(53,kn,2,0,"th",30)(54,zn,2,0,"th",30)(55,Ln,2,0,"th",30)(56,Vn,2,0,"th",30)(57,Gn,2,0,"th",30)(58,Nn,2,0,"th",30)(59,Fn,2,0,"th",30),i(60,"th",31),r(61,"ACCIONES"),n()()(),i(62,"tbody",32),v(63,Dn,6,0,"tr",33)(64,jn,3,0,"tr",33)(65,Kn,19,12,"tr",34),S(66,"filtercategoria"),S(67,"paginate"),n()(),i(68,"pagination-controls",35),p("pageChange",function(c){return t.paginaInicios=c}),n()(),m(69,"hr"),i(70,"div",36)(71,"div",37)(72,"div",38)(73,"div",39)(74,"div",40)(75,"h1",41),r(76),n(),i(77,"button",42),p("click",function(){return t.resetInicios()})("click",function(){return t.CancelarArchivosDropzone()}),n()()(),i(78,"div",43)(79,"div",44),v(80,eo,20,1,"div",45)(81,to,3,1,"div",45)(82,io,6,1,"div",45)(83,no,6,2,"div",45)(84,oo,6,1,"div",45)(85,ao,6,1,"div",45)(86,ro,6,1,"div",45)(87,so,6,1,"div",45)(88,lo,6,1,"div",45)(89,co,6,1,"div",45)(90,mo,6,1,"div",45),i(91,"div")(92,"label",46),r(93,"Archivo"),n(),m(94,"div",47)(95,"hr"),i(96,"span"),r(97,"IMAGEN ACTUAL:"),n(),m(98,"img",48),n()()(),i(99,"div",49),v(100,po,9,0,"div",50),i(101,"div",51)(102,"div",52)(103,"button",53),p("click",function(){return t.resetInicios()})("click",function(){return t.CancelarArchivosDropzone()}),m(104,"i",54),r(105," CANCELAR"),m(106,"span",9),n()(),i(107,"div",55),v(108,uo,4,4,"button",56)(109,go,2,1,"button",57),n()()()()()()),e&2&&(l(16),z("ngModel",t.filtercategoria),l(24),z("ngModel",t.filtertxtInicios),l(10),d("ngIf",t.showtablecategoria),l(),d("ngIf",t.showtabletitulo),l(),d("ngIf",t.showtablesubtitulo),l(),d("ngIf",t.showtabledescripcion),l(),d("ngIf",t.showtableetiqueta),l(),d("ngIf",t.showtablelink),l(),d("ngIf",t.showtablecosto),l(),d("ngIf",t.showtablecupos),l(),d("ngIf",t.showtableduracion),l(),d("ngIf",t.showtablefecha),l(4),d("ngIf",t.isLoadingInicios),l(),d("ngIf",!t.isLoadingInicios&&t.Inicios.length===0),l(),d("ngForOf",w(67,39,w(66,36,t.Inicios,t.filtercategoria),N(42,Pn,t.paginaInicios))),l(11),_e("",t.newInicios.get("id").value?"MODIFICAR":"Registrar Inicio"," ",t.newInicios.controls.categoria.value,""),l(3),d("formGroup",t.newInicios),l(),d("ngIf",t.showcategoria),l(),d("ngIf",!t.showcategoria),l(),d("ngIf",t.showtitulo),l(),d("ngIf",t.showsubtitulo),l(),d("ngIf",t.showdescripcion),l(),d("ngIf",t.showetiqueta),l(),d("ngIf",t.showlink),l(),d("ngIf",t.showcosto),l(),d("ngIf",t.showduracion),l(),d("ngIf",t.showcupos),l(),d("ngIf",t.showfecha),l(),k("mb-3 col-sm-12 ",t.showarchivo==!0?"":"invisible",""),l(7),d("src",t.ruta+t.newInicios.value.archivo,W),l(2),d("ngIf",!t.newInicios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalInicios),l(),d("ngIf",t.AnimacionCargabtnModalInicios))},dependencies:[J,Q,Y,se,le,ee,be,re,te,ie,ne,oe,ae,me,de,ct,ve]})}};var Le=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerMatrizEscalas(){return this.http.get(this.ruta+"api/MatrizEscalas/")}AgregarMatrizEscalas(o){return this.http.post(this.ruta+"api/MatrizEscalas/",o)}ModificarMatrizEscalas(o,e){return this.http.put(this.ruta+"api/MatrizEscalas/"+e,o)}SeleccionarMatrizEscalas(o){return this.http.get(this.ruta+"api/MatrizEscalas/"+o)}EliminarMatrizEscalas(o){return this.http.delete(this.ruta+"api/MatrizEscalas/"+o)}createFormGroupMatrizEscalas(){return new G({id:new b(0),categoria:new b(""),nombrematriz:new b(""),valor:new b("")})}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var mt=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerSubMatrizEscalas(){return this.http.get(this.ruta+"api/SubMatrizEscalas/")}AgregarSubMatrizEscalas(o){return this.http.post(this.ruta+"api/SubMatrizEscalas/",o)}ModificarSubMatrizEscalas(o,e){return this.http.put(this.ruta+"api/SubMatrizEscalas/"+e,o)}SeleccionarSubMatrizEscalas(o){return this.http.get(this.ruta+"api/SubMatrizEscalas/"+o)}EliminarSubMatrizEscalas(o){return this.http.delete(this.ruta+"api/SubMatrizEscalas/"+o)}createFormGroupSubMatrizEscalas(){return new G({id:new b(0),id_matrizescala:new b(""),tipo:new b(""),nombresubmatriz:new b("")})}SeleccionarAllInformacionSubMatrizEscala(o){return this.http.get(this.ruta+"api/AllInfoSubMatrizEscalas/"+o)}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var pt=class a{transform(o,e){if(!e)return o;let t=e.trim().toLowerCase().split(" ").filter(s=>s);return o.filter(s=>t.every(c=>this.normalizarTexto(s.categoria).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.nombrematriz).toLowerCase().includes(this.normalizarTexto(c))||this.normalizarTexto(s.valor).toLowerCase().includes(this.normalizarTexto(c))))}normalizarTexto(o){return o==null&&(o=" "),o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275pipe=he({name:"filtercategorianombrematrizvalor",type:a,pure:!0})}};var ui=a=>({itemsPerPage:10,currentPage:a});function bo(a,o){if(a&1&&(i(0,"option",61),r(1),n()),a&2){let e=o.$implicit;U("value",e.categoria),l(),_(e.categoria)}}function vo(a,o){a&1&&(i(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),r(5,"Loading..."),n()()()()())}function _o(a,o){a&1&&(i(0,"tr")(1,"td",62),r(2,"No hay datos disponibles"),n()())}function Co(a,o){if(a&1){let e=C();i(0,"button",74),p("click",function(){g(e);let s=u().$implicit,c=u();return h(c.SeleccionarMatrizEscalas(s.id,"SubMatrizEscalas"))}),m(1,"i",75),n()}}function Eo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",66),r(2),n(),i(3,"td",67),r(4),n(),i(5,"td",67),r(6),n(),i(7,"td",67),r(8),n(),i(9,"td",68)(10,"button",69),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarMatrizEscalas(s.id))}),m(11,"i",70),n(),i(12,"button",71),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarMatrizEscalas(s.id))}),m(13,"i",72),n(),v(14,Co,2,0,"button",73),n()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaMatrizEscalas-1)*10+(e+1)),l(2),_(t.categoria),l(2),_(t.nombrematriz),l(2),_(t.valor),l(6),d("ngIf",t.categoria=="OBJETIVOS")}}function So(a,o){if(a&1){let e=C();i(0,"div",76)(1,"button",77),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastMatrizEscalas())}),m(2,"i",78),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",79),n()()}}function Io(a,o){if(a&1){let e=C();i(0,"button",80),p("click",function(){g(e);let s=u();return h(s.AgregarModificarMatrizEscalas())}),m(1,"i",81),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function xo(a,o){if(a&1){let e=C();i(0,"button",82),p("click",function(){g(e);let s=u();return h(s.AgregarModificarMatrizEscalas())}),m(1,"span",83),n()}a&2&&d("disabled",!0)}function Mo(a,o){a&1&&(i(0,"tr")(1,"td",84)(2,"div",63)(3,"div",64)(4,"span",65),r(5,"Loading..."),n()()()()())}function wo(a,o){a&1&&(i(0,"tr")(1,"td",84),r(2,"No hay datos disponibles"),n()())}function Ao(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",66),r(2),n(),i(3,"td",67),r(4),n(),i(5,"td",68)(6,"button",69),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarSubMatrizEscalas(s.id))}),m(7,"i",70),n(),i(8,"button",71),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarSubMatrizEscalas(s.id))}),m(9,"i",72),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaSubMatrizEscalas-1)*10+(e+1)),l(2),_(t.nombresubmatriz)}}function yo(a,o){if(a&1){let e=C();i(0,"div",76)(1,"button",77),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastSubMatrizEscalas())}),m(2,"i",78),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",79),n()()}}function Po(a,o){if(a&1){let e=C();i(0,"button",80),p("click",function(){g(e);let s=u();return h(s.AgregarModificarSubMatrizEscalas())}),m(1,"i",81),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newSubMatrizEscalas.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubMatrizEscalas.get("id").value?"MODIFICAR":"REGISTRAR","")}}function Oo(a,o){if(a&1){let e=C();i(0,"button",82),p("click",function(){g(e);let s=u();return h(s.AgregarModificarSubMatrizEscalas())}),m(1,"span",83),n()}a&2&&d("disabled",!0)}var ut=class a{constructor(o,e,t){this._mescalas=o;this._tools=e;this._submescalas=t;this.MatrizEscalas=[];this.paginaMatrizEscalas=1;this.isLoadingMatrizEscalas=!0;this.AnimacionCargabtnModalMatrizEscalas=!1;this.filtertxtMatrizEscalas="";this.filtertxtMatrizEscalas1="";this.MatrizEscalasSelectCategoriasData=[];this.idMatrizEscalaSave=0;this.SubMatrizEscalas=[];this.paginaSubMatrizEscalas=1;this.isLoadingSubMatrizEscalas=!0;this.AnimacionCargabtnModalSubMatrizEscalas=!1;this.filtertxtSubMatrizEscalas="";this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this.newMatrizEscalasAnteriorAccion=this._mescalas.createFormGroupMatrizEscalas(),this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this.newSubMatrizEscalasAnteriorAccion=this._submescalas.createFormGroupSubMatrizEscalas()}ngOnInit(){this.CargarMatrizEscalas(),setTimeout(()=>{this.RefrescarFiltradorSelectCategoria()},1e3)}ngOnDestroy(){this._tools.cerrarModales()}RefrescarFiltradorSelectCategoria(){var o=[];this.MatrizEscalas.forEach(t=>{o.push(t.categoria)}),Array.from(new Set(o)).forEach(t=>{this.MatrizEscalasSelectCategoriasData.push({categoria:t})})}CargarMatrizEscalas(){this.AnimarCargaTablaMatrizEscalas(),this._mescalas.ObtenerMatrizEscalas().subscribe(o=>{console.log("MatrizEscalas CARGADO",o.data),this.MatrizEscalas=o.data,this.isLoadingMatrizEscalas=!1},o=>{console.log("ERROR AL CARGAR MatrizEscalas",o),this.isLoadingMatrizEscalas=!1})}AgregarModificarMatrizEscalas(){if(this.newMatrizEscalas.invalid){this.ValidacionTodoElementoMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalMatrizEscalas=!1;return}else{this.AnimarCargaTablaMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let o=this.newMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newMatrizEscalas.value),o?this._mescalas.ModificarMatrizEscalas(this.newMatrizEscalas.value,this.newMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._mescalas.AgregarMatrizEscalas(this.newMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE MatrizEscalas",e.data),this.CargarMatrizEscalas(),this.resetMatrizEscalas(),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR MatrizEscalas",e),this.AnimacionCargabtnModalMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarMatrizEscalas(o,e){switch(e){case"SubMatrizEscalas":this.idMatrizEscalaSave=o,this.CargarSubMatrizEscalas(),this._tools.abrirModal("ModalAllGestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),o&&this._mescalas.SeleccionarMatrizEscalas(o).subscribe(t=>{Object.keys(this.newMatrizEscalas.controls).forEach(s=>{this.newMatrizEscalas.controls[s].setValue(t.data[s])}),console.log("SELECCION DE MatrizEscalas EXITOSA",this.newMatrizEscalas.value),this.newMatrizEscalasAnteriorAccion.setValue(this.newMatrizEscalas.value),this._tools.abrirModal("modalgestionMatrizEscalas"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR MatrizEscalas",t),this._tools.MostrarMensajeError()});break}}EliminarMatrizEscalas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._mescalas.EliminarMatrizEscalas(o).subscribe(t=>{console.log(t.data),this.CargarMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR MatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetMatrizEscalas(){this.newMatrizEscalas=this._mescalas.createFormGroupMatrizEscalas(),this._tools.cerrarModal("modalgestionMatrizEscalas")}AbrirModalMatrizEscalas(){this.newMatrizEscalas.reset(),this._tools.abrirModal("modalgestionMatrizEscalas")}AutoCompletarLastMatrizEscalas(){this.newMatrizEscalas.setValue(this.newMatrizEscalasAnteriorAccion.value),this.newMatrizEscalas.patchValue({id:0}),console.log("listo",this.newMatrizEscalas.value)}AnimarCargaTablaMatrizEscalas(){this.MatrizEscalas=[],this.isLoadingMatrizEscalas=!0}ValidacionMatrizEscalasxElemento(o){return this._tools.obtenerValidationClass(this.newMatrizEscalas,o)}ValidacionTodoElementoMatrizEscalas(){Object.values(this.newMatrizEscalas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarSubMatrizEscalas(){this.AnimarCargaTablaSubMatrizEscalas(),this._submescalas.SeleccionarAllInformacionSubMatrizEscala(this.idMatrizEscalaSave).subscribe(o=>{console.log("SubMatrizEscalas CARGADO",o.data),this.SubMatrizEscalas=o.data,this.isLoadingSubMatrizEscalas=!1},o=>{console.log("ERROR AL CARGAR SubMatrizEscalas",o),this.isLoadingSubMatrizEscalas=!1})}AgregarModificarSubMatrizEscalas(){if(this.newSubMatrizEscalas.invalid){this.ValidacionTodoElementoSubMatrizEscalas(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubMatrizEscalas=!1;return}else{this.AnimarCargaTablaSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!0,this._tools.MostrarMensajeLoading();let o=this.newSubMatrizEscalas.controls.id.value;console.log("INFO A PROCESAR",this.newSubMatrizEscalas.value),o?this._submescalas.ModificarSubMatrizEscalas(this.newSubMatrizEscalas.value,this.newSubMatrizEscalas.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}):(this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._submescalas.AgregarSubMatrizEscalas(this.newSubMatrizEscalas.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubMatrizEscalas",e.data),this.CargarSubMatrizEscalas(),this.resetSubMatrizEscalas(),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubMatrizEscalas",e),this.AnimacionCargabtnModalSubMatrizEscalas=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubMatrizEscalas(o){this._tools.MostrarMensajeLoading(),o&&this._submescalas.SeleccionarSubMatrizEscalas(o).subscribe(e=>{Object.keys(this.newSubMatrizEscalas.controls).forEach(t=>{this.newSubMatrizEscalas.controls[t].setValue(e.data[t])}),console.log("SELECCION DE SubMatrizEscalas EXITOSA",this.newSubMatrizEscalas.value),this.newSubMatrizEscalasAnteriorAccion.setValue(this.newSubMatrizEscalas.value),this._tools.abrirModal("modalgestionSubMatrizEscalas"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR SubMatrizEscalas",e),this._tools.MostrarMensajeError()})}EliminarSubMatrizEscalas(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._submescalas.EliminarSubMatrizEscalas(o).subscribe(t=>{console.log(t.data),this.CargarSubMatrizEscalas(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubMatrizEscalas",t),this._tools.MostrarMensajeError()}))})}resetSubMatrizEscalas(){this.newSubMatrizEscalas=this._submescalas.createFormGroupSubMatrizEscalas(),this._tools.cerrarModal("modalgestionSubMatrizEscalas")}AbrirModalSubMatrizEscalas(){this.newSubMatrizEscalas.reset(),this.newSubMatrizEscalas.patchValue({id_matrizescala:this.idMatrizEscalaSave}),this._tools.abrirModal("modalgestionSubMatrizEscalas")}AutoCompletarLastSubMatrizEscalas(){this.newSubMatrizEscalas.setValue(this.newSubMatrizEscalasAnteriorAccion.value),this.newSubMatrizEscalas.patchValue({id:0}),console.log("listo",this.newSubMatrizEscalas.value)}AnimarCargaTablaSubMatrizEscalas(){this.SubMatrizEscalas=[],this.isLoadingSubMatrizEscalas=!0}ValidacionSubMatrizEscalasxElemento(o){return this._tools.obtenerValidationClass(this.newSubMatrizEscalas,o)}ValidacionTodoElementoSubMatrizEscalas(){Object.values(this.newSubMatrizEscalas.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(Le),x(q),x(mt))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondematrizdeescalas"]],decls:173,vars:40,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-9","d-flex","justify-content-end"],["title","REFRESAR TABLA",1,"input-group-text",3,"click"],[1,"bi","bi-cloud-download"],["title","REFRESAR SELECT",1,"input-group-text",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"form-floating","mb-3","col-sm-12"],[1,"form-control",3,"input","ngModelChange","ngModel"],["value","","disabled","","selected",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["type","text","placeholder","","formControlName","categoria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","nombrematriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","valor",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group-text"],[1,"bi","bi-search"],["id","modalgestionSubMatrizEscalas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],["type","text","placeholder","","formControlName","nombresubmatriz",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[3,"value"],["colspan","5",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["title","Gestionar Sub Matriz","class","btn btn-primary p-1 py-0",3,"click",4,"ngIf"],["title","Gestionar Sub Matriz",1,"btn","btn-primary","p-1","py-0",3,"click"],[1,"bi","bi-subtract",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["colspan","3",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de MatrizEscalas"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los MatrizEscalas de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalMatrizEscalas()}),m(11,"i",7),r(12," A\xF1adir MatrizEscalas"),m(13,"span",8),n()(),i(14,"div",9)(15,"button",10),p("click",function(){return t.CargarMatrizEscalas()}),m(16,"i",11),n(),i(17,"button",12),p("click",function(){return t.RefrescarFiltradorSelectCategoria()}),m(18,"i",13),n(),i(19,"div",14)(20,"div",15)(21,"select",16),p("input",function(){return t.paginaMatrizEscalas=1}),V("ngModelChange",function(c){return L(t.filtertxtMatrizEscalas1,c)||(t.filtertxtMatrizEscalas1=c),c}),i(22,"option",17),r(23,"Seleccione una opci\xF3n"),n(),i(24,"option",18),r(25,"TODA LA INFORMACI\xD3N"),n(),v(26,bo,2,2,"option",19),n(),i(27,"label"),r(28,"Filtrar"),n()()(),i(29,"div",14)(30,"div",20)(31,"div",21)(32,"input",22),p("input",function(){return t.paginaMatrizEscalas=1}),V("ngModelChange",function(c){return L(t.filtertxtMatrizEscalas,c)||(t.filtertxtMatrizEscalas=c),c}),n(),i(33,"label"),r(34,"Buscar"),n()()()()()(),m(35,"hr"),i(36,"div",23)(37,"table",24)(38,"thead")(39,"tr")(40,"th",25),r(41,"#"),n(),i(42,"th",26),r(43,"Categoria"),n(),i(44,"th",26),r(45,"Nombre de Matriz"),n(),i(46,"th",26),r(47,"Valor"),n(),i(48,"th",26),r(49,"ACCIONES"),n()()(),i(50,"tbody",27),v(51,vo,6,0,"tr",28)(52,_o,3,0,"tr",28)(53,Eo,15,5,"tr",29),S(54,"filtercategorianombrematrizvalor"),S(55,"filtercategorianombrematrizvalor"),S(56,"paginate"),n()(),i(57,"pagination-controls",30),p("pageChange",function(c){return t.paginaMatrizEscalas=c}),n()(),m(58,"hr"),i(59,"div",31)(60,"div",32)(61,"div",33)(62,"div",34)(63,"div",35)(64,"h1",36),r(65),n(),i(66,"button",37),p("click",function(){return t.resetMatrizEscalas()}),n()()(),i(67,"div",38)(68,"div",39)(69,"div",15)(70,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"categoria")}),n(),i(71,"label"),r(72,"categoria"),n(),i(73,"div",41),r(74,"Este campo es obligatorio*"),n()(),i(75,"div",15)(76,"input",42),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"nombrematriz")}),n(),i(77,"label"),r(78,"nombrematriz"),n(),i(79,"div",41),r(80,"Este campo es obligatorio*"),n()(),i(81,"div",15)(82,"input",43),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newMatrizEscalas,"valor")}),n(),i(83,"label"),r(84,"valor"),n(),i(85,"div",41),r(86,"Este campo es obligatorio*"),n()()()(),i(87,"div",44),v(88,So,6,0,"div",45),i(89,"div",46)(90,"div",47)(91,"button",48),p("click",function(){return t.resetMatrizEscalas()}),m(92,"i",49),r(93," CANCELAR"),m(94,"span",8),n()(),i(95,"div",50),v(96,Io,4,4,"button",51)(97,xo,2,1,"button",52),n()()()()()(),i(98,"div",53)(99,"div",32)(100,"div",33)(101,"div",34)(102,"h1",54),r(103,"Modal Gesti\xF3n Sub Matriz Escalas (Objetivos)"),n(),m(104,"button",55),n(),i(105,"div",38),m(106,"hr"),i(107,"div",0)(108,"div",1)(109,"div",2)(110,"h1",3),r(111,"Gesti\xF3n de SubMatrizEscalas"),n(),i(112,"p",4),r(113,"Administra toda la informaci\xF3n de los SubMatrizEscalas de manera sencilla y eficiente"),n()()()(),i(114,"div",1)(115,"div",5)(116,"button",6),p("click",function(){return t.AbrirModalSubMatrizEscalas()}),m(117,"i",7),r(118," A\xF1adir SubMatrizEscalas"),m(119,"span",8),n()(),i(120,"div",56)(121,"div",20)(122,"span",57),m(123,"i",58),n(),i(124,"div",21)(125,"input",22),p("input",function(){return t.paginaSubMatrizEscalas=1}),V("ngModelChange",function(c){return L(t.filtertxtSubMatrizEscalas,c)||(t.filtertxtSubMatrizEscalas=c),c}),n(),i(126,"label"),r(127,"Buscar"),n()()()()(),m(128,"hr"),i(129,"div",23)(130,"table",24)(131,"thead")(132,"tr")(133,"th",25),r(134,"#"),n(),i(135,"th",26),r(136,"Nombre de Sub Matriz"),n(),i(137,"th",26),r(138,"ACCIONES"),n()()(),i(139,"tbody",27),v(140,Mo,6,0,"tr",28)(141,wo,3,0,"tr",28)(142,Ao,10,2,"tr",29),S(143,"paginate"),n()(),i(144,"pagination-controls",30),p("pageChange",function(c){return t.paginaSubMatrizEscalas=c}),n()(),m(145,"hr"),i(146,"div",59)(147,"div",32)(148,"div",33)(149,"div",34)(150,"div",35)(151,"h1",36),r(152),n(),i(153,"button",37),p("click",function(){return t.resetSubMatrizEscalas()}),n()()(),i(154,"div",38)(155,"div",39)(156,"div",15)(157,"input",60),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newSubMatrizEscalas,"nombresubmatriz")}),n(),i(158,"label"),r(159,"Nombre Sub Matriz"),n(),i(160,"div",41),r(161,"Este campo es obligatorio*"),n()()()(),i(162,"div",44),v(163,yo,6,0,"div",45),i(164,"div",46)(165,"div",47)(166,"button",48),p("click",function(){return t.resetSubMatrizEscalas()}),m(167,"i",49),r(168," CANCELAR"),m(169,"span",8),n()(),i(170,"div",50),v(171,Po,4,4,"button",51)(172,Oo,2,1,"button",52),n()()()()()()()()()()),e&2&&(l(21),z("ngModel",t.filtertxtMatrizEscalas1),l(5),d("ngForOf",t.MatrizEscalasSelectCategoriasData),l(6),z("ngModel",t.filtertxtMatrizEscalas),l(19),d("ngIf",t.isLoadingMatrizEscalas),l(),d("ngIf",!t.isLoadingMatrizEscalas&&t.MatrizEscalas.length===0),l(),d("ngForOf",w(56,30,w(55,27,w(54,24,t.MatrizEscalas,t.filtertxtMatrizEscalas),t.filtertxtMatrizEscalas1),N(36,ui,t.paginaMatrizEscalas))),l(12),E("",t.newMatrizEscalas.get("id").value?"Modificar":"Registrar"," MatrizEscalas"),l(3),d("formGroup",t.newMatrizEscalas),l(2),d("ngClass",t.ValidacionMatrizEscalasxElemento("categoria")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("nombrematriz")),l(6),d("ngClass",t.ValidacionMatrizEscalasxElemento("valor")),l(6),d("ngIf",!t.newMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalMatrizEscalas),l(28),z("ngModel",t.filtertxtSubMatrizEscalas),l(15),d("ngIf",t.isLoadingSubMatrizEscalas),l(),d("ngIf",!t.isLoadingSubMatrizEscalas&&t.SubMatrizEscalas.length===0),l(),d("ngForOf",w(143,33,t.SubMatrizEscalas,N(38,ui,t.paginaSubMatrizEscalas))),l(10),E("",t.newSubMatrizEscalas.get("id").value?"Modificar":"Registrar"," SubMatrizEscalas"),l(3),d("formGroup",t.newSubMatrizEscalas),l(2),d("ngClass",t.ValidacionSubMatrizEscalasxElemento("nombresubmatriz")),l(6),d("ngIf",!t.newSubMatrizEscalas.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubMatrizEscalas),l(),d("ngIf",t.AnimacionCargabtnModalSubMatrizEscalas))},dependencies:[J,Q,Y,se,le,ee,re,te,ie,ne,oe,ae,me,de,pt]})}};var gt=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerPlandeIntervencions(){return this.http.get(this.ruta+"api/PlandeIntervencions/")}AgregarPlandeIntervencions(o){return this.http.post(this.ruta+"api/PlandeIntervencions/",o)}ModificarPlandeIntervencions(o,e){return this.http.put(this.ruta+"api/PlandeIntervencions/"+e,o)}SeleccionarPlandeIntervencions(o){return this.http.get(this.ruta+"api/PlandeIntervencions/"+o)}EliminarPlandeIntervencions(o){return this.http.delete(this.ruta+"api/PlandeIntervencions/"+o)}createFormGroupPlandeIntervencions(){return new G({id:new b(0),orden:new b(""),id_infocliente:new b("",[H.required]),momento:new b(""),objetivo:new b(""),foco:new b(""),mlt:new b(""),enfoque:new b(""),duracion:new b("")})}CargarPlandeIntervencionxidInfoCliente(o){return this.http.get(this.ruta+"api/CargarPlandeIntervencionxidInfoCliente/"+o)}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ht=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerSubPlandeIntervencions(){return this.http.get(this.ruta+"api/SubPlandeIntervencions/")}AgregarSubPlandeIntervencions(o){return this.http.post(this.ruta+"api/SubPlandeIntervencions/",o)}ModificarSubPlandeIntervencions(o,e){return this.http.put(this.ruta+"api/SubPlandeIntervencions/"+e,o)}SeleccionarSubPlandeIntervencions(o){return this.http.get(this.ruta+"api/SubPlandeIntervencions/"+o)}EliminarSubPlandeIntervencions(o){return this.http.delete(this.ruta+"api/SubPlandeIntervencions/"+o)}createFormGroupSubPlandeIntervencions(){return new G({id:new b(0),id_plandeintervencion:new b(""),categoria:new b(""),nombre:new b("")})}SeleccionarAllInformacionSubPlandeIntervencions(o){return this.http.get(this.ruta+"api/AllInfoSubPlandeIntervencions/"+o)}eliminarsubplandeintervencionsxdata(o){return this.http.post(this.ruta+"api/eliminarsubplandeintervencionsxdata/",o)}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var ko=()=>({standalone:!0}),Lt=a=>({itemsPerPage:10,currentPage:a}),zo=a=>({itemsPerPage:3,currentPage:a}),gi=a=>({checked:a,"custom-border":!0});function Lo(a,o){a&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),r(5,"Loading..."),n()()()()())}function Vo(a,o){a&1&&(i(0,"tr")(1,"td",78),r(2,"No hay datos disponibles"),n()())}function Go(a,o){a&1&&(Me(0),m(1,"hr",95),we())}function No(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Go,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Fo(a,o){a&1&&(Me(0),m(1,"hr",95),we())}function Do(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Fo,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function jo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",82),r(2),n(),i(3,"td",83),r(4),n(),i(5,"td",83),r(6),i(7,"div",84)(8,"small",85),r(9),n()()(),i(10,"td",86)(11,"ul",87),v(12,No,3,2,"li",77),n()(),i(13,"td",86)(14,"ul",87),v(15,Do,3,2,"li",77),n()(),i(16,"td",83),r(17),i(18,"div",84)(19,"small",85),r(20),n()()(),i(21,"td",83),r(22),n(),i(23,"td",88)(24,"button",89),p("click",function(){let s=g(e).$implicit,c=u(3);return h(c.SeleccionarPlandeIntervencions(s.id,"SubPlandeIntervencions"))}),m(25,"i",90),n(),i(26,"button",91),p("click",function(){let s=g(e).$implicit,c=u(3);return h(c.SeleccionarPlandeIntervencions(s.id,"default"))}),m(27,"i",92),n(),i(28,"button",93),p("click",function(){let s=g(e).$implicit,c=u(3);return h(c.EliminarPlandeIntervencions(s.id))}),m(29,"i",94),n()()()}if(a&2){let e=o.$implicit,t=o.index,s=u(3);l(2),_((s.paginaPlandeIntervencions-1)*10+(t+1)),l(2),_(e.momento),l(2),E(" ",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",s.getRecursosMusicalesList(e)),l(3),d("ngForOf",s.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),_(e.duracion)}}function Uo(a,o){if(a&1&&(i(0,"div",63)(1,"div",64)(2,"div",65)(3,"button",66),m(4,"i",67),n()(),i(5,"div",68)(6,"span",69),r(7),n()(),i(8,"div",65)(9,"span",69),r(10),S(11,"dateFormat"),n(),i(12,"button",70),m(13,"i",67),n()()(),i(14,"div",71)(15,"div",72)(16,"table",73)(17,"thead")(18,"tr")(19,"th",74),r(20,"#"),n(),i(21,"th",75),r(22,"Momento"),n(),i(23,"th",75),r(24,"Objetivo/Foco"),n(),i(25,"th",75),r(26,"Recursos Musicales"),n(),i(27,"th",75),r(28,"Enfasis Musical"),n(),i(29,"th",75),r(30,"MLT/Enfoque"),n(),i(31,"th",75),r(32,"Duraci\xF3n"),n(),i(33,"th",75),r(34,"ACCIONES"),n()()(),i(35,"tbody",76),v(36,Lo,6,0,"tr",59)(37,Vo,3,0,"tr",59)(38,jo,30,9,"tr",77),n()()()()()),a&2){let e=o.$implicit,t=u(2);l(3),Ce("data-bs-target","#collapseCar"+e.id),l(4),_(e.apellidos+" "+e.nombres),l(3),E("Fecha de Admisi\xF3n: ",ue(11,8,e.fechaadmision),""),l(2),Ce("data-bs-target","#collapseCar"+e.id),l(2),d("id","collapseCar"+e.id),l(22),d("ngIf",t.isLoadingPlandeIntervencions),l(),d("ngIf",!t.isLoadingPlandeIntervencions&&t.PlandeIntervencions.length===0),l(),d("ngForOf",e.intervenciones)}}function qo(a,o){if(a&1){let e=C();i(0,"div",1)(1,"div",61),v(2,Uo,39,10,"div",62),S(3,"filterapellidosnombrescarnet"),S(4,"paginate"),i(5,"pagination-controls",30),p("pageChange",function(s){g(e);let c=u();return h(c.paginaPlandeIntervencions=s)}),n()()()}if(a&2){let e=u();l(2),d("ngForOf",w(4,4,w(3,1,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),N(7,Lt,e.paginaPlandeIntervencions)))}}function Bo(a,o){a&1&&(i(0,"tr")(1,"td",78)(2,"div",79)(3,"div",80)(4,"span",81),r(5,"Loading..."),n()()()()())}function Ho(a,o){a&1&&(i(0,"tr")(1,"td",78),r(2,"No hay datos disponibles"),n()())}function $o(a,o){a&1&&(Me(0),m(1,"hr",95),we())}function Wo(a,o){if(a&1&&(i(0,"li"),r(1),v(2,$o,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Zo(a,o){a&1&&(Me(0),m(1,"hr",95),we())}function Qo(a,o){if(a&1&&(i(0,"li"),r(1),v(2,Zo,2,0,"ng-container",59),n()),a&2){let e=o.$implicit,t=o.last;l(),E(" ",e," "),l(),d("ngIf",!t)}}function Yo(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",82),r(2),n(),i(3,"td",83),r(4),i(5,"div",84)(6,"small",85),r(7),S(8,"dateFormat"),n()()(),i(9,"td",83),r(10),n(),i(11,"td",83),r(12),i(13,"div",84)(14,"small",85),r(15),n()()(),i(16,"td",86)(17,"ul",87),v(18,Wo,3,2,"li",77),n()(),i(19,"td",86)(20,"ul",87),v(21,Qo,3,2,"li",77),n()(),i(22,"td",83),r(23),i(24,"div",84)(25,"small",85),r(26),n()()(),i(27,"td",83),r(28),n(),i(29,"td",88)(30,"button",89),p("click",function(){let s=g(e).$implicit,c=u(2);return h(c.SeleccionarPlandeIntervencions(s.id,"SubPlandeIntervencions"))}),m(31,"i",90),n(),i(32,"button",91),p("click",function(){let s=g(e).$implicit,c=u(2);return h(c.SeleccionarPlandeIntervencions(s.id))}),m(33,"i",92),n(),i(34,"button",93),p("click",function(){let s=g(e).$implicit,c=u(2);return h(c.EliminarPlandeIntervencions(s.id))}),m(35,"i",94),n()()()}if(a&2){let e=o.$implicit,t=o.index,s=u(2);l(2),_((s.paginaPlandeIntervencions-1)*10+(t+1)),l(2),E("",e.apellidos+" "+e.nombres," "),l(3),E("Admisi\xF3n: ",ue(8,11,e.fechaadmision),""),l(3),_(e.momento),l(2),E("",e.objetivo," "),l(3),E("Foco: ",e.foco,""),l(3),d("ngForOf",s.getRecursosMusicalesList(e)),l(3),d("ngForOf",s.getEnfasisMusicalList(e)),l(2),E("",e.mlt," "),l(3),E("Enfoque: ",e.enfoque,""),l(2),_(e.duracion)}}function Xo(a,o){if(a&1){let e=C();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),r(5,"#"),n(),i(6,"th",75),r(7,"Apellidos nombres"),n(),i(8,"th",75),r(9,"Momento"),n(),i(10,"th",75),r(11,"Objetivo"),n(),i(12,"th",75),r(13,"Recursos Musicales"),n(),i(14,"th",75),r(15,"Enfasis Musical"),n(),i(16,"th",75),r(17,"MLT"),n(),i(18,"th",75),r(19,"Duraci\xF3n"),n(),i(20,"th",75),r(21,"ACCIONES"),n()()(),i(22,"tbody",76),v(23,Bo,6,0,"tr",59)(24,Ho,3,0,"tr",59)(25,Yo,36,13,"tr",77),S(26,"filterapellidosnombrescarnet"),S(27,"paginate"),n()(),i(28,"pagination-controls",30),p("pageChange",function(s){g(e);let c=u();return h(c.paginaPlandeIntervencions=s)}),n()()}if(a&2){let e=u();l(23),d("ngIf",e.isLoadingPlandeIntervencions),l(),d("ngIf",!e.isLoadingPlandeIntervencions&&e.PlandeIntervencions.length===0),l(),d("ngForOf",w(27,6,w(26,3,e.PlandeIntervencions,e.filtertxtPlandeIntervencions),N(9,Lt,e.paginaPlandeIntervencions)))}}function Jo(a,o){if(a&1){let e=C();i(0,"div",98),p("click",function(s){let c=g(e).$implicit,f=u(2);return h(f.SeleccionandoInfoCliente(s,c))}),i(1,"div",99)(2,"h5",100),r(3),n(),i(4,"small"),r(5),n()(),i(6,"p",100),r(7),n()()}if(a&2){let e=o.$implicit;l(3),_e("",e.nombres," ",e.apellidos,""),l(2),E("Carnet: ",e.carnet,""),l(2),E("Fecha de Admisi\xF3n: ",e.fechaadmision,"")}}function Ko(a,o){if(a&1&&(i(0,"div",96),v(1,Jo,8,4,"div",97),S(2,"filterapellidosnombrescarnet"),S(3,"paginate"),n()),a&2){let e=u();l(),d("ngForOf",w(3,4,w(2,1,e.InfoClientes,e.filterInfoClientes),N(7,zo,e.paginaInfoClientes)))}}function ea(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;U("value",e.nombrematriz),l(),_(e.nombrematriz)}}function ta(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;d("value",e.nombrematriz),l(),_(e.nombrematriz)}}function ia(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;d("value",e.nombresubmatriz),l(),_(e.nombresubmatriz)}}function na(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;U("value",e.nombrematriz),l(),_(e.nombrematriz)}}function oa(a,o){if(a&1&&(i(0,"option",101),r(1),n()),a&2){let e=o.$implicit;U("value",e.nombrematriz),l(),_(e.nombrematriz)}}function aa(a,o){if(a&1){let e=C();i(0,"div",102)(1,"button",103),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastPlandeIntervencions())}),m(2,"i",104),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),n()()}}function ra(a,o){if(a&1){let e=C();i(0,"button",106),p("click",function(){g(e);let s=u();return h(s.AgregarModificarPlandeIntervencions())}),m(1,"i",107),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function sa(a,o){if(a&1){let e=C();i(0,"button",108),p("click",function(){g(e);let s=u();return h(s.AgregarModificarPlandeIntervencions())}),m(1,"span",109),n()}a&2&&d("disabled",!0)}function la(a,o){a&1&&(i(0,"div",116)(1,"span",81),r(2,"Loading..."),n()())}function ca(a,o){if(a&1){let e=C();i(0,"div",112)(1,"input",113),p("click",function(s){let c=g(e).$implicit,f=u(2);return h(f.AccionCheckearAddSubIntervencions(c,s))}),n(),v(2,la,3,0,"div",114),i(3,"label",115),r(4),n()()}if(a&2){let e=o.$implicit,t=o.index,s=u(2);d("ngClass",N(8,gi,s.isChecked("RECURSOS MUSICALES",e.nombrematriz))),l(),d("id","checkboxMatrizRecursosMusicales"+t)("value",e.nombrematriz)("checked",s.isChecked("RECURSOS MUSICALES",e.nombrematriz))("disabled",s.isLoading[t]),l(),d("ngIf",s.isLoading[t]),l(),d("for","checkboxMatrizRecursosMusicales"+t),l(),_(e.nombrematriz)}}function da(a,o){a&1&&(i(0,"div",116)(1,"span",81),r(2,"Loading..."),n()())}function ma(a,o){if(a&1){let e=C();i(0,"div",112)(1,"input",113),p("click",function(s){let c=g(e).$implicit,f=u(2);return h(f.AccionCheckearAddSubIntervencions(c,s))}),n(),v(2,da,3,0,"div",114),i(3,"label",115),r(4),n()()}if(a&2){let e=o.$implicit,t=o.index,s=u(2);d("ngClass",N(8,gi,s.isChecked("ENFASIS MUSICAL",e.nombrematriz))),l(),d("id","checkboxMatrizEnfasisMusical"+t)("value",e.nombrematriz)("checked",s.isChecked("ENFASIS MUSICAL",e.nombrematriz))("disabled",s.isLoading[t]),l(),d("ngIf",s.isLoading[t]),l(),d("for","checkboxMatrizEnfasisMusical"+t),l(),_(e.nombrematriz)}}function pa(a,o){if(a&1&&(i(0,"div"),m(1,"hr"),i(2,"h3",84),r(3,"RECURSOS MUSICALES"),n(),i(4,"div",110),v(5,ca,5,10,"div",111),n(),m(6,"hr"),i(7,"h3",84),r(8,"ENFASIS MUSICAL"),n(),i(9,"div",110),v(10,ma,5,10,"div",111),n(),m(11,"hr"),n()),a&2){let e=u();l(5),d("ngForOf",e.MatrizRecursosMusicales),l(5),d("ngForOf",e.MatrizEnfasisMusical)}}function ua(a,o){a&1&&(i(0,"tr")(1,"td",117)(2,"div",79)(3,"div",80)(4,"span",81),r(5,"Loading..."),n()()()()())}function ga(a,o){a&1&&(i(0,"tr")(1,"td",117),r(2,"No hay datos disponibles"),n()())}function ha(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",82),r(2),n(),i(3,"td",83),r(4),n(),i(5,"td",83),r(6),n(),i(7,"td",88)(8,"button",93),p("click",function(){let s=g(e).$implicit,c=u(2);return h(c.EliminarSubPlandeIntervencions(s.id))}),m(9,"i",94),n()()()}if(a&2){let e=o.index,t=o.$implicit,s=u(2);l(2),_((s.paginaSubPlandeIntervencions-1)*10+(e+1)),l(2),_(t.categoria),l(2),_(t.nombre)}}function fa(a,o){if(a&1){let e=C();i(0,"div",72)(1,"table",73)(2,"thead")(3,"tr")(4,"th",74),r(5,"#"),n(),i(6,"th",75),r(7,"Categoria"),n(),i(8,"th",75),r(9,"Nombre"),n(),i(10,"th",75),r(11,"ACCIONES"),n()()(),i(12,"tbody",76),v(13,ua,6,0,"tr",59)(14,ga,3,0,"tr",59)(15,ha,10,3,"tr",77),S(16,"paginate"),n()(),i(17,"pagination-controls",30),p("pageChange",function(s){g(e);let c=u();return h(c.paginaSubPlandeIntervencions=s)}),n()()}if(a&2){let e=u();l(13),d("ngIf",e.isLoadingSubPlandeIntervencions),l(),d("ngIf",!e.isLoadingSubPlandeIntervencions&&e.SubPlandeIntervencions.length===0),l(),d("ngForOf",w(16,3,e.SubPlandeIntervencions,N(6,Lt,e.paginaSubPlandeIntervencions)))}}function ba(a,o){if(a&1){let e=C();i(0,"div",102)(1,"button",103),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastSubPlandeIntervencions())}),m(2,"i",104),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",105),n()()}}function va(a,o){if(a&1){let e=C();i(0,"button",106),p("click",function(){g(e);let s=u();return h(s.AgregarModificarSubPlandeIntervencions())}),m(1,"i",107),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newSubPlandeIntervencions.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newSubPlandeIntervencions.get("id").value?"MODIFICAR":"REGISTRAR","")}}function _a(a,o){if(a&1){let e=C();i(0,"button",108),p("click",function(){g(e);let s=u();return h(s.AgregarModificarSubPlandeIntervencions())}),m(1,"span",109),n()}a&2&&d("disabled",!0)}var Ue=class a{constructor(o,e,t,s,c,f){this.route=o;this._planintervencion=e;this._tools=t;this._subplanintervencion=s;this._matrizescalas=c;this._infoclientes=f;this.idRecibida=0;this.NomCRecibido="";this.InfoClientes=[];this.paginaInfoClientes=1;this.filterInfoClientes="";this.nombreseleccionado="";this.MatrizEscalas=[];this.MatrizERI=[];this.MatrizCIM=[];this.MatrizMomento=[];this.MatrizObjetivos=[];this.MatrizRecursosMusicales=[];this.MatrizEnfasisMusical=[];this.MatrizEnfoque=[];this.MatrizMLT=[];this.subMatrizObjetivo=[];this.PlandeIntervencions=[];this.paginaPlandeIntervencions=1;this.isLoadingPlandeIntervencions=!0;this.AnimacionCargabtnModalPlandeIntervencions=!1;this.filtertxtPlandeIntervencions="";this.idPlandeIntervencionsSave=0;this.SubPlandeIntervencions=[];this.paginaSubPlandeIntervencions=1;this.isLoadingSubPlandeIntervencions=!0;this.AnimacionCargabtnModalSubPlandeIntervencions=!1;this.filtertxtSubPlandeIntervencions="";this.isLoading=[];this.ModoBoolean=!1;this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this.newPlandeIntervencionsAnteriorAccion=this._planintervencion.createFormGroupPlandeIntervencions(),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencionsAnteriorAccion=this._subplanintervencion.createFormGroupSubPlandeIntervencions()}ngOnInit(){this.CargarMatrizEscalas(),this.route.queryParams.subscribe(o=>{this.idRecibida=o.id,this.NomCRecibido=o.NomC,console.log("Variable recibida:",this.idRecibida),this.CargarPlandeIntervencions()})}ngOnDestroy(){this._tools.cerrarModales()}CargarInfoClientes(){this._infoclientes.ObtenerInfoClientes().subscribe(o=>{console.log("INFO CLIENTES CARGADO",o.data),this.InfoClientes=o.data},o=>{console.log("ERROR AL CARGAR LISTA DE INFO CLIENTES",o)})}SeleccionandoInfoCliente(o,e){let t=o.currentTarget;t.classList.contains("active")?(t.classList.remove("active"),this.nombreseleccionado="",this.newPlandeIntervencions.patchValue({id_infocliente:null})):(document.querySelectorAll(".list-group-item").forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),this.nombreseleccionado=e.apellidos+" "+e.nombres,this.newPlandeIntervencions.patchValue({id_infocliente:e.id}))}isChecked(o,e){return this.SubPlandeIntervencions.some(t=>t.categoria===o&&t.nombre===e)}CargarMatrizEscalas(){this._matrizescalas.ObtenerMatrizEscalas().subscribe(o=>{this.MatrizEscalas=o.data,console.log("MatrizEscalas CArgado",this.MatrizEscalas),this.MatrizERI=o.data.filter(e=>e.categoria==="ESCALA DE RELACIONES INTERMUSICALES (ERI)"),this.MatrizCIM=o.data.filter(e=>e.categoria==="CLASIFICACI\xD3N EN INTERACCI\xD3N MUSICAL (CIM)"),this.MatrizMomento=o.data.filter(e=>e.categoria==="MOMENTO"),this.MatrizObjetivos=o.data.filter(e=>e.categoria==="OBJETIVOS"),this.MatrizRecursosMusicales=o.data.filter(e=>e.categoria==="RECURSOS MUSICALES"),this.MatrizEnfasisMusical=o.data.filter(e=>e.categoria==="ENFASIS MUSICAL"),this.MatrizEnfoque=o.data.filter(e=>e.categoria==="ETAPA MLT"),this.MatrizMLT=o.data.filter(e=>e.categoria==="ENFOQUE"),console.log("MATRIZ Recursos",this.MatrizRecursosMusicales)},o=>{console.log("OCURRIO UN ERROR AL CARGAR MATRIZ ESCALAS",o)})}onObjetivoChange(o){let e=this.MatrizObjetivos.find(t=>t.nombrematriz===o);e?this.subMatrizObjetivo=e.submatrizescala:this.subMatrizObjetivo=[]}CargarPlandeIntervencionsAll(){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.ObtenerPlandeIntervencions().subscribe(o=>{console.log("PlandeIntervencions CARGADO",o.data),this.PlandeIntervencions=o.data;let e=this.PlandeIntervencions.reduce((t,s)=>{let c=t.find(f=>f.nombres===s.nombres&&f.apellidos===s.apellidos&&f.fechaadmision===s.fechaadmision);return c?c.intervenciones.push({id:s.id,momento:s.momento,objetivo:s.objetivo,foco:s.foco,mlt:s.mlt,enfoque:s.enfoque,duracion:s.duracion,subplandeintervencion:s.subplandeintervencion}):t.push({id:s.id,nombres:s.nombres,apellidos:s.apellidos,fechaadmision:s.fechaadmision,intervenciones:[{id:s.id,momento:s.momento,objetivo:s.objetivo,foco:s.foco,mlt:s.mlt,enfoque:s.enfoque,duracion:s.duracion,subplandeintervencion:s.subplandeintervencion}]}),t},[]);console.log("Agrupado Plan de Intervenciones:",e),this.PlandeIntervencions=e,this.isLoadingPlandeIntervencions=!1},o=>{console.log("ERROR AL CARGAR PlandeIntervencions",o),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencionxidInfoCliente(o){this.AnimarCargaTablaPlandeIntervencions(),this._planintervencion.CargarPlandeIntervencionxidInfoCliente(o).subscribe(e=>{console.log("PlandeIntervencions CARGADO",e.data),this.PlandeIntervencions=e.data,this.isLoadingPlandeIntervencions=!1},e=>{console.log("ERROR AL CARGAR PlandeIntervencions",e),this.isLoadingPlandeIntervencions=!1})}CargarPlandeIntervencions(){this.idRecibida==null||this.idRecibida==0||this.idRecibida==null?this.CargarPlandeIntervencionsAll():this.CargarPlandeIntervencionxidInfoCliente(Number(this.idRecibida))}getRecursosMusicalesList(o){return o.subplandeintervencion.filter(e=>e.categoria==="RECURSOS MUSICALES").map(e=>e.nombre)}getEnfasisMusicalList(o){return o.subplandeintervencion.filter(e=>e.categoria==="ENFASIS MUSICAL").map(e=>e.nombre)}AgregarModificarPlandeIntervencions(){if(this.newPlandeIntervencions.invalid){this.ValidacionTodoElementoPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalPlandeIntervencions=!1;return}else{this.AnimarCargaTablaPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let o=this.newPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newPlandeIntervencions.value),o?this._planintervencion.ModificarPlandeIntervencions(this.newPlandeIntervencions.value,this.newPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._planintervencion.AgregarPlandeIntervencions(this.newPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE PlandeIntervencions",e.data),this.CargarPlandeIntervencions(),this.resetPlandeIntervencions(),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR PlandeIntervencions",e),this.AnimacionCargabtnModalPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarPlandeIntervencions(o,e){switch(e){case"SubPlandeIntervencions":this.idPlandeIntervencionsSave=o,this.CargarSubPlandeIntervencions(),this._tools.abrirModal("ModalAllGestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess();break;default:this._tools.MostrarMensajeLoading(),o&&this._planintervencion.SeleccionarPlandeIntervencions(o).subscribe(t=>{Object.keys(this.newPlandeIntervencions.controls).forEach(s=>{this.newPlandeIntervencions.controls[s].setValue(t.data[s])}),console.log("SELECCION DE PlandeIntervencions EXITOSA",this.newPlandeIntervencions.value),this.newPlandeIntervencionsAnteriorAccion.setValue(this.newPlandeIntervencions.value),this._tools.abrirModal("modalgestionPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR PlandeIntervencions",t),this._tools.MostrarMensajeError()});break}}EliminarPlandeIntervencions(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._planintervencion.EliminarPlandeIntervencions(o).subscribe(t=>{console.log(t.data),this.CargarPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR PlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetPlandeIntervencions(){this.newPlandeIntervencions=this._planintervencion.createFormGroupPlandeIntervencions(),this._tools.cerrarModal("modalgestionPlandeIntervencions")}AbrirModalPlandeIntervencions(){this.CargarInfoClientes(),this.newPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionPlandeIntervencions")}AutoCompletarLastPlandeIntervencions(){this.newPlandeIntervencions.setValue(this.newPlandeIntervencionsAnteriorAccion.value),this.newPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newPlandeIntervencions.value)}AnimarCargaTablaPlandeIntervencions(){this.PlandeIntervencions=[],this.isLoadingPlandeIntervencions=!0}ValidacionPlandeIntervencionsxElemento(o){return this._tools.obtenerValidationClass(this.newPlandeIntervencions,o)}ValidacionTodoElementoPlandeIntervencions(){Object.values(this.newPlandeIntervencions.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}CargarSubPlandeIntervencions(){this.AnimarCargaTablaSubPlandeIntervencions(),this._subplanintervencion.SeleccionarAllInformacionSubPlandeIntervencions(this.idPlandeIntervencionsSave).subscribe(o=>{console.log("SubPlandeIntervencions CARGADO",o.data),this.SubPlandeIntervencions=o.data,this.isLoadingSubPlandeIntervencions=!1},o=>{console.log("ERROR AL CARGAR SubPlandeIntervencions",o),this.isLoadingSubPlandeIntervencions=!1})}AgregarModificarSubPlandeIntervencions(){if(this.newSubPlandeIntervencions.invalid){this.ValidacionTodoElementoSubPlandeIntervencions(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1;return}else{this.AnimarCargaTablaSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!0,this._tools.MostrarMensajeLoading();let o=this.newSubPlandeIntervencions.controls.id.value;console.log("INFO A PROCESAR",this.newSubPlandeIntervencions.value),o?this._subplanintervencion.ModificarSubPlandeIntervencions(this.newSubPlandeIntervencions.value,this.newSubPlandeIntervencions.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}):(this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",e.data),this.CargarSubPlandeIntervencions(),this.resetSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",e),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError()}))}}SeleccionarSubPlandeIntervencions(o){this._tools.MostrarMensajeLoading(),o&&this._subplanintervencion.SeleccionarSubPlandeIntervencions(o).subscribe(e=>{Object.keys(this.newSubPlandeIntervencions.controls).forEach(t=>{this.newSubPlandeIntervencions.controls[t].setValue(e.data[t])}),console.log("SELECCION DE SubPlandeIntervencions EXITOSA",this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencionsAnteriorAccion.setValue(this.newSubPlandeIntervencions.value),this._tools.abrirModal("modalgestionSubPlandeIntervencions"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR SubPlandeIntervencions",e),this._tools.MostrarMensajeError()})}EliminarSubPlandeIntervencions(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._subplanintervencion.EliminarSubPlandeIntervencions(o).subscribe(t=>{console.log(t.data),this.CargarSubPlandeIntervencions(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",t),this._tools.MostrarMensajeError()}))})}resetSubPlandeIntervencions(){this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this._tools.cerrarModal("modalgestionSubPlandeIntervencions")}AbrirModalSubPlandeIntervencions(){this.newSubPlandeIntervencions.reset(),this._tools.abrirModal("modalgestionSubPlandeIntervencions")}AutoCompletarLastSubPlandeIntervencions(){this.newSubPlandeIntervencions.setValue(this.newSubPlandeIntervencionsAnteriorAccion.value),this.newSubPlandeIntervencions.patchValue({id:0}),console.log("listo",this.newSubPlandeIntervencions.value)}AnimarCargaTablaSubPlandeIntervencions(){this.SubPlandeIntervencions=[],this.isLoadingSubPlandeIntervencions=!0}ValidacionSubPlandeIntervencionsxElemento(o){return this._tools.obtenerValidationClass(this.newSubPlandeIntervencions,o)}ValidacionTodoElementoSubPlandeIntervencions(){Object.values(this.newSubPlandeIntervencions.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}AccionCheckearAddSubIntervencions(o,e){console.log("INFO A PROCESAR",o);let t=e.target.id,s=this.findCheckboxIndexById(t);if(s!==-1&&(this.isLoading[s]=!0),e.target.checked)this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.newSubPlandeIntervencions.patchValue({id:0,id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:o.categoria,nombre:o.nombrematriz}),this._subplanintervencion.AgregarSubPlandeIntervencions(this.newSubPlandeIntervencions.value).subscribe(c=>{console.log("SE A\xD1ADIO CORRECTAMENTE SubPlandeIntervencions",c.data),this.SubPlandeIntervencions.push(this.newSubPlandeIntervencions.value),this.newSubPlandeIntervencions=this._subplanintervencion.createFormGroupSubPlandeIntervencions(),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[s]=!1,this._tools.MostrarMensajeSuccess()},c=>{console.log("ERROR AL A\xD1ADIR SubPlandeIntervencions",c),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[s]=!1,document.getElementById(t).checked=!1});else{let c={id_plandeintervencion:this.idPlandeIntervencionsSave,categoria:o.categoria,nombre:o.nombrematriz};this._subplanintervencion.eliminarsubplandeintervencionsxdata(c).subscribe(f=>{console.log("SE ELIMIN\xD3 CORRECTAMENTE SubPlandeIntervencions",f.data),this.SubPlandeIntervencions=this.SubPlandeIntervencions.filter(I=>!(I.id_plandeintervencion===c.id_plandeintervencion&&I.categoria===c.categoria&&I.nombre===c.nombre)),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this.isLoading[s]=!1,this._tools.MostrarMensajeSuccess()},f=>{console.log("ERROR AL ELIMINAR SubPlandeIntervencions",f),this.AnimacionCargabtnModalSubPlandeIntervencions=!1,this._tools.MostrarMensajeError(),this.isLoading[s]=!1,document.getElementById(t).checked=!0})}}findCheckboxIndexById(o){let e=o.match(/\d+$/);return e?parseInt(e[0],10):-1}onToggleChange(o){this.ModoBoolean=o.target.checked,this.CargarSubPlandeIntervencions(),console.log("Variable Boolean is now:",this.ModoBoolean)}static{this.\u0275fac=function(e){return new(e||a)(x(si),x(gt),x(q),x(ht),x(Le),x(Ee))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeplanesdeintervencion"]],decls:170,vars:35,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],["class","row",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","modalgestionPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","search"],["type","text","placeholder","Buscar Cliente...",1,"form-control",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value","ngClass"],[1,"invalid-feedback"],["type","number","placeholder","","formControlName","orden",1,"form-control",3,"ngClass"],["formControlName","momento",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","objetivo",1,"form-control",3,"change","ngClass"],["formControlName","foco",1,"form-control",3,"ngClass"],["formControlName","mlt",1,"form-control",3,"ngClass"],["formControlName","enfoque",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["id","ModalAllGestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5","text-center","w-100"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"button","col-sm-6","d-flex","justify-content-start"],[1,"form-check"],["type","checkbox","id","toggleVariable",1,"form-check-input",3,"change"],["for","toggleVariable",1,"form-check-label"],[4,"ngIf"],["id","modalgestionSubPlandeIntervencions","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"col-md-12"],["class","card text-bg-primary","style","border-color: aliceblue; border-width: 2px;",4,"ngFor","ngForOf"],[1,"card","text-bg-primary",2,"border-color","aliceblue","border-width","2px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-tools"],["type","button","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"bi","bi-chevron-double-down",2,"font-size","1.5rem"],[1,"card-title","text-center","flex-grow-1"],[1,"text-light"],["type","button","title","DESPLAZAR","data-bs-toggle","collapse",1,"btn","btn-tool"],[1,"collapse","card-body",2,"padding","0","margin","0",3,"id"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],["scope","row"],[1,"text-center"],[1,""],["scope","row",2,"margin","0","padding","0","text-align","center"],[1,"list-unstyled",2,"margin","0","padding","0","text-align","center"],[2,"white-space","nowrap"],["title","Gestionar Sub Planes de Intervencion (Rec. Musicales, Enfasis Musical)",1,"btn","btn-outline-light","p-1","py-0",3,"click"],[1,"bi","bi-music-note",2,"font-size","1.5rem"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],[2,"margin","0","padding","0"],[1,"list-group"],["class","list-group-item list-group-item-action","aria-current","true",3,"click",4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[3,"value"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"d-flex","flex-wrap"],["class","list-group-item col-sm-3 custom-border position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item","col-sm-3","custom-border","position-relative",3,"ngClass"],["type","checkbox",1,"form-check-input","me-1",3,"click","id","value","checked","disabled"],["class","spinner-border spinner-border-sm text-primary position-absolute top-50 start-50 translate-middle","role","status",4,"ngIf"],[1,"form-check-label","stretched-link",3,"for"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute","top-50","start-50","translate-middle"],["colspan","4",1,"text-center"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Plan de Intervenci\xF3n "),n(),i(6,"p",4),r(7),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalPlandeIntervencions()}),m(11,"i",7),r(12," A\xF1adir PlandeIntervencions"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaPlandeIntervencions=1}),V("ngModelChange",function(c){return L(t.filtertxtPlandeIntervencions,c)||(t.filtertxtPlandeIntervencions=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),v(23,qo,6,9,"div",15)(24,Xo,29,11,"div",16),m(25,"hr"),i(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h1",22),r(32),n(),i(33,"button",23),p("click",function(){return t.resetPlandeIntervencions()}),n()()(),i(34,"div",24)(35,"div",25)(36,"div",26)(37,"label",27),r(38,"Buscar:"),n(),i(39,"input",28),V("ngModelChange",function(c){return L(t.filterInfoClientes,c)||(t.filterInfoClientes=c),c}),p("input",function(){return t.paginaInfoClientes=1}),n()(),v(40,Ko,4,9,"div",29),i(41,"pagination-controls",30),p("pageChange",function(c){return t.paginaInfoClientes=c}),n(),m(42,"hr"),i(43,"div",31),m(44,"input",32),i(45,"label"),r(46,"cliente"),n(),i(47,"div",33),r(48,"Este campo es obligatorio*"),n()(),i(49,"div",31),m(50,"input",34),i(51,"label"),r(52,"orden"),n(),i(53,"div",33),r(54,"Este campo es obligatorio*"),n()(),i(55,"div",31)(56,"select",35)(57,"option",36),r(58,"Seleccione una opci\xF3n"),n(),v(59,ea,2,2,"option",37),n(),i(60,"label"),r(61,"momento"),n(),i(62,"div",33),r(63,"Este campo es obligatorio*"),n()(),i(64,"div",31)(65,"select",38),p("change",function(c){return t.onObjetivoChange(c.target.value)}),i(66,"option",36),r(67,"Seleccione una opci\xF3n"),n(),v(68,ta,2,2,"option",37),n(),i(69,"label"),r(70,"objetivo"),n(),i(71,"div",33),r(72,"Este campo es obligatorio*"),n()(),i(73,"div",31)(74,"select",39)(75,"option",36),r(76,"Seleccione una opci\xF3n"),n(),v(77,ia,2,2,"option",37),n(),i(78,"label"),r(79,"foco"),n(),i(80,"div",33),r(81,"Este campo es obligatorio*"),n()(),i(82,"div",31)(83,"select",40)(84,"option",36),r(85,"Seleccione una opci\xF3n"),n(),v(86,na,2,2,"option",37),n(),i(87,"label"),r(88,"mlt"),n(),i(89,"div",33),r(90,"Este campo es obligatorio*"),n()(),i(91,"div",31)(92,"select",41)(93,"option",36),r(94,"Seleccione una opci\xF3n"),n(),v(95,oa,2,2,"option",37),n(),i(96,"label"),r(97,"enfoque"),n(),i(98,"div",33),r(99,"Este campo es obligatorio*"),n()(),i(100,"div",31)(101,"input",42),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newPlandeIntervencions,"duracion")}),n(),i(102,"label"),r(103,"duracion"),n(),i(104,"div",33),r(105,"Este campo es obligatorio*"),n()()()(),i(106,"div",43),v(107,aa,6,0,"div",44),i(108,"div",45)(109,"div",46)(110,"button",47),p("click",function(){return t.resetPlandeIntervencions()}),m(111,"i",48),r(112," CANCELAR"),m(113,"span",8),n()(),i(114,"div",49),v(115,ra,4,4,"button",50)(116,sa,2,1,"button",51),n()()()()()(),i(117,"div",52)(118,"div",18)(119,"div",19)(120,"div",20)(121,"h1",53),r(122,"Sub Plan de Intervencion: Rec. Musicales y Enfasis Musical"),n(),i(123,"button",54),p("click",function(){return t.CargarPlandeIntervencions()}),n()(),i(124,"div",24),m(125,"hr"),i(126,"div",0)(127,"div",1),m(128,"div",2),n()(),i(129,"div",1)(130,"div",55)(131,"div")(132,"div",56)(133,"input",57),p("change",function(c){return t.onToggleChange(c)}),n(),i(134,"label",58),r(135,"Modo Visualizaci\xF3n"),n()()()(),i(136,"div",9)(137,"div",10)(138,"span",11),m(139,"i",12),n(),i(140,"div",13)(141,"input",14),p("input",function(){return t.paginaSubPlandeIntervencions=1}),V("ngModelChange",function(c){return L(t.filtertxtSubPlandeIntervencions,c)||(t.filtertxtSubPlandeIntervencions=c),c}),n(),i(142,"label"),r(143,"Buscar"),n()()()()(),m(144,"hr"),v(145,pa,12,2,"div",59)(146,fa,18,8,"div",16),m(147,"hr"),i(148,"div",60)(149,"div",18)(150,"div",19)(151,"div",20)(152,"div",21)(153,"h1",22),r(154),n(),i(155,"button",23),p("click",function(){return t.resetSubPlandeIntervencions()}),n()()(),i(156,"div",24)(157,"div",25),r(158," ... "),n()(),i(159,"div",43),v(160,ba,6,0,"div",44),i(161,"div",45)(162,"div",46)(163,"button",47),p("click",function(){return t.resetSubPlandeIntervencions()}),m(164,"i",48),r(165," CANCELAR"),m(166,"span",8),n()(),i(167,"div",49),v(168,va,4,4,"button",50)(169,_a,2,1,"button",51),n()()()()()()()()()()),e&2&&(l(7),E("Administra toda la informaci\xF3n del Plan de Intervencions ",t.NomCRecibido==""||t.NomCRecibido==null||t.NomCRecibido==null?"":"de: "+t.NomCRecibido," "),l(12),z("ngModel",t.filtertxtPlandeIntervencions),l(4),d("ngIf",t.idRecibida==null||t.idRecibida==0||t.idRecibida==null),l(),d("ngIf",!(t.idRecibida==null||t.idRecibida==0||t.idRecibida==null)),l(8),E("",t.newPlandeIntervencions.get("id").value?"Modificar":"Registrar"," Plan de Intervenci\xF3n"),l(3),d("formGroup",t.newPlandeIntervencions),l(4),z("ngModel",t.filterInfoClientes),d("ngModelOptions",Qe(34,ko)),l(),d("ngIf",!(t.filterInfoClientes==null||t.filterInfoClientes=="")),l(4),U("value",t.nombreseleccionado),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("id_infocliente")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("orden")),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("momento")),l(3),d("ngForOf",t.MatrizMomento),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("objetivo")),l(3),d("ngForOf",t.MatrizObjetivos),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("foco")),l(3),d("ngForOf",t.subMatrizObjetivo),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("mlt")),l(3),d("ngForOf",t.MatrizMLT),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("enfoque")),l(3),d("ngForOf",t.MatrizEnfoque),l(6),d("ngClass",t.ValidacionPlandeIntervencionsxElemento("duracion")),l(6),d("ngIf",!t.newPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalPlandeIntervencions),l(25),z("ngModel",t.filtertxtSubPlandeIntervencions),l(4),d("ngIf",!t.ModoBoolean),l(),d("ngIf",t.ModoBoolean),l(8),E("",t.newSubPlandeIntervencions.get("id").value?"Modificar":"Registrar"," SubPlandeIntervencions"),l(3),d("formGroup",t.newSubPlandeIntervencions),l(3),d("ngIf",!t.newSubPlandeIntervencions.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalSubPlandeIntervencions),l(),d("ngIf",t.AnimacionCargabtnModalSubPlandeIntervencions))},dependencies:[J,Q,Y,se,le,ee,be,re,te,ie,ne,oe,ae,me,de,Se,ve],styles:['@charset "UTF-8";.custom-border[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;background-color:#f9f9f9}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}.position-absolute[_ngcontent-%COMP%]{position:absolute}.top-50[_ngcontent-%COMP%]{top:50%}.start-50[_ngcontent-%COMP%]{left:50%}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}.custom-border[_ngcontent-%COMP%]:hover{background-color:#e9ecef;cursor:pointer}.custom-border.checked[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.custom-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]:before{border-color:#28a745;background-color:#28a745}.custom-border[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:disabled ~ .spinner-border[_ngcontent-%COMP%]{display:block}.folder-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.folder[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:background-color .3s ease}.folder[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.icon-folder[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:10px;background-size:cover}span[_ngcontent-%COMP%]{font-size:16px;color:#333}']})}};var ft=class a{constructor(o){this.http=o;this.ruta=M.ruta}ObtenerUsuarios(){return this.http.get(this.ruta+"api/Usuarios/")}AgregarUsuarios(o){return this.http.post(this.ruta+"api/Usuarios/",o)}ModificarUsuarios(o,e){return this.http.put(this.ruta+"api/Usuarios/"+e,o)}SeleccionarUsuarios(o){return this.http.get(this.ruta+"api/Usuarios/"+o)}EliminarUsuarios(o){return this.http.delete(this.ruta+"api/Usuarios/"+o)}createFormGroupUsuarios(){return new G({id:new b(0),nombres:new b(""),apellidos:new b(""),usuario:new b(""),contrasenia:new b(""),celular:new b(""),celulartrabajo:new b(""),carnet:new b(""),foto:new b(""),tipo:new b(""),estado:new b("ACTIVO")})}static{this.\u0275fac=function(e){return new(e||a)(O(P))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}};var Ea=a=>({itemsPerPage:10,currentPage:a});function Sa(a,o){a&1&&(i(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"span",65),r(5,"Loading..."),n()()()()())}function Ia(a,o){a&1&&(i(0,"tr")(1,"td",62),r(2,"No hay datos disponibles"),n()())}function xa(a,o){if(a&1&&(i(0,"a",73),m(1,"i",74),n()),a&2){let e=u().$implicit,t=u();d("href",t.ruta+e.foto,W)}}function Ma(a,o){if(a&1){let e=C();i(0,"tr")(1,"td",66),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),r(8),n(),i(9,"td"),r(10),n(),i(11,"td",67)(12,"button",68),p("click",function(){let s=g(e).$implicit,c=u();return h(c.SeleccionarUsuarios(s.id))}),m(13,"i",69),n(),i(14,"button",70),p("click",function(){let s=g(e).$implicit,c=u();return h(c.EliminarUsuarios(s.id))}),m(15,"i",71),n(),v(16,xa,2,1,"a",72),n()()}if(a&2){let e=o.index,t=o.$implicit,s=u();l(2),_((s.paginaUsuarios-1)*10+(e+1)),l(2),_(t.apellidos+" "+t.nombres),l(2),_(t.carnet),l(2),_(t.celular),l(2),_(t.estado),l(6),d("ngIf",!(t.foto==null||t.foto==""))}}function wa(a,o){if(a&1){let e=C();i(0,"div",75)(1,"button",76),p("click",function(){g(e);let s=u();return h(s.AutoCompletarLastUsuarios())}),m(2,"i",77),r(3," AUTO COMPLETAR "),m(4,"span",8)(5,"i",78),n()()}}function Aa(a,o){if(a&1){let e=C();i(0,"button",79),p("click",function(){g(e);let s=u();return h(s.AgregarModificarUsuarios())}),m(1,"i",80),r(2),m(3,"span",8),n()}if(a&2){let e=u();l(),k("bi bi-",e.newUsuarios.get("id").value?"pencil":"plus-lg",""),l(),E(" ",e.newUsuarios.get("id").value?"MODIFICAR":"REGISTRAR","")}}function ya(a,o){if(a&1){let e=C();i(0,"button",81),p("click",function(){g(e);let s=u();return h(s.AgregarModificarUsuarios())}),m(1,"span",82),n()}a&2&&d("disabled",!0)}var bt=class a{constructor(o,e){this._user=o;this._tools=e;this.ruta=M.ruta;this.dataDropZone={iddropzone:"dropzoneusuarios",tamanioMB:30,cantidadFiles:1,TipoArchivos:"image/jpeg, image/png, application/pdf"};this.Usuarios=[];this.paginaUsuarios=1;this.isLoadingUsuarios=!0;this.AnimacionCargabtnModalUsuarios=!1;this.filtertxtUsuarios="";this.newUsuarios=this._user.createFormGroupUsuarios(),this.newUsuariosAnteriorAccion=this._user.createFormGroupUsuarios()}ngOnInit(){this.CargarUsuarios()}ngOnDestroy(){this._tools.cerrarModales()}crearDropzone(){sessionStorage.setItem("CategoriaFile","USUARIO");var o=document.getElementById("dropzoneusuarios");sessionStorage.setItem("MODODROPZONE","CREANDODROPZONE"),o&&ce.instances.length>0&&ce.instances.forEach(e=>{e.element===o&&(e.destroy(),o.innerHTML="")}),sessionStorage.removeItem("MODODROPZONE"),this.dropzone=this._tools.DropzoneGestion(this.dataDropZone.iddropzone,this.dataDropZone.tamanioMB,this.dataDropZone.cantidadFiles,this.dataDropZone.TipoArchivos),console.log("drozone creado",this.dropzone)}CancelarArchivosDropzone(){sessionStorage.setItem("MODOREMOVEDFILE","ALLDELETE"),this.dropzone&&this.dropzone.removeAllFiles(!0)}CargarUsuarios(){this.AnimarCargaTablaUsuarios(),this._user.ObtenerUsuarios().subscribe(o=>{console.log("Usuarios CARGADO",o.data),this.Usuarios=o.data,this.isLoadingUsuarios=!1},o=>{console.log("ERROR AL CARGAR Usuarios",o),this.isLoadingUsuarios=!1})}AgregarModificarUsuarios(){if(this.newUsuarios.invalid){this.ValidacionTodoElementoUsuarios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalUsuarios=!1;return}else{this.AnimarCargaTablaUsuarios(),this.AnimacionCargabtnModalUsuarios=!0,this._tools.MostrarMensajeLoading();let e=this.newUsuarios.controls.id.value;console.log("INFO A PROCESAR",this.newUsuarios.value);var o=sessionStorage.getItem("IMG");console.log("VALOR img",o),o==null||o==""||(this.newUsuarios.value.foto=o),e?this._user.ModificarUsuarios(this.newUsuarios.value,this.newUsuarios.value.id).subscribe(t=>{console.log("SE MODIFICO CORRECTAMENTE Usuarios",t.data),this.CargarUsuarios(),console.log("ANTERIOR",this.newUsuariosAnteriorAccion.value.foto),console.log("AHORA",this.newUsuarios.value.foto),this.newUsuariosAnteriorAccion.value.foto==this.newUsuarios.value.foto||this._tools.EliminarArchivo(this.newUsuariosAnteriorAccion.value.foto),sessionStorage.removeItem("IMG"),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL MODIFICAR Usuarios",t),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}):(this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this._user.AgregarUsuarios(this.newUsuarios.value).subscribe(t=>{console.log("SE A\xD1ADIO CORRECTAMENTE Usuarios",t.data),this.CargarUsuarios(),this.resetUsuarios(),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL A\xD1ADIR Usuarios",t),this.AnimacionCargabtnModalUsuarios=!1,this._tools.MostrarMensajeError()}))}}SeleccionarUsuarios(o){this._tools.MostrarMensajeLoading(),o&&this._user.SeleccionarUsuarios(o).subscribe(e=>{Object.keys(this.newUsuarios.controls).forEach(t=>{this.newUsuarios.controls[t].setValue(e.data[t])}),console.log("SELECCION DE Usuarios EXITOSA",this.newUsuarios.value),this.newUsuariosAnteriorAccion.setValue(this.newUsuarios.value),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios"),this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL SELECCIONAR Usuarios",e),this._tools.MostrarMensajeError()})}EliminarUsuarios(o){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._user.EliminarUsuarios(o).subscribe(t=>{console.log(t.data),this.CargarUsuarios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR Usuarios",t),this._tools.MostrarMensajeError()}))})}resetUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this._tools.cerrarModal("modalgestionUsuarios")}AbrirModalUsuarios(){this.newUsuarios.reset(),sessionStorage.removeItem("IMG"),this.crearDropzone(),this._tools.abrirModal("modalgestionUsuarios")}AutoCompletarLastUsuarios(){this.newUsuarios.setValue(this.newUsuariosAnteriorAccion.value),this.newUsuarios.patchValue({id:0}),console.log("listo",this.newUsuarios.value)}AnimarCargaTablaUsuarios(){this.Usuarios=[],this.isLoadingUsuarios=!0}ValidacionUsuariosxElemento(o){return this._tools.obtenerValidationClass(this.newUsuarios,o)}ValidacionTodoElementoUsuarios(){Object.values(this.newUsuarios.controls).forEach(o=>{o.markAsTouched(),o.markAsDirty()})}static{this.\u0275fac=function(e){return new(e||a)(x(ft),x(q))}}static{this.\u0275cmp=D({type:a,selectors:[["app-gestiondeusuarios"]],decls:143,vars:24,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],["title","A\xF1adir",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-plus-lg",2,"font-size","1rem"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","table-hover","table-sm"],["scope","col",1,"text-center",2,"width","45px"],["scope","col"],[1,"table-group-divider"],[4,"ngIf"],[4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","false","responsive","true","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","modalgestionUsuarios","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade",2,"overflow-y","scroll"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","w-100","justify-content-center","position-relative"],[1,"modal-title","fs-5","text-center","w-100"],["type","button","title","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","nombres",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","apellidos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","usuario",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","contrasenia",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celular",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","celulartrabajo",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","carnet",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","tipo",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],["value","SUPERADMINISTRADOR"],["value","MUSICOTERAPEUTA"],["value","SECRETARIA"],["formControlName","estado",1,"form-control",3,"ngClass"],["value","ACTIVO"],["value","INACTIVO"],[1,"mb-3","col-sm-12"],[1,"form-text"],["id","dropzoneusuarios",1,"dropzone"],["alt","","width","50%",3,"src"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"ms-auto","d-flex"],[1,"button","me-2"],[1,"btn","mouse-dir","secondary",3,"click"],[1,"bi","bi-x-octagon",2,"font-size","1rem"],[1,"button"],["class","btn mouse-dir success",3,"click",4,"ngIf"],["class","btn mouse-dir success",3,"disabled","click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["scope","row",1,"text-center"],[2,"white-space","nowrap"],["title","Modificar",1,"btn","btn-outline-warning","p-1","py-0",3,"click"],[1,"bi","bi-pencil",2,"font-size","1.5rem"],["title","Eliminar",1,"btn","btn-outline-danger","p-1","py-0",3,"click"],[1,"bi","bi-trash3",2,"font-size","1.5rem"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-primary p-1 py-0",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-primary","p-1","py-0",3,"href"],[1,"bi","bi-image",2,"font-size","1.5rem"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","primary",3,"click"],[1,"bi","bi-input-cursor",2,"font-size","1rem"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click"],[2,"font-size","1rem"],[1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){e&1&&(m(0,"hr"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5,"Gesti\xF3n de Usuarios"),n(),i(6,"p",4),r(7,"Administra toda la informaci\xF3n de los Usuarios de manera sencilla y eficiente"),n()()()(),i(8,"div",1)(9,"div",5)(10,"button",6),p("click",function(){return t.AbrirModalUsuarios()}),m(11,"i",7),r(12," A\xF1adir Usuarios"),m(13,"span",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),m(17,"i",12),n(),i(18,"div",13)(19,"input",14),p("input",function(){return t.paginaUsuarios=1}),V("ngModelChange",function(c){return L(t.filtertxtUsuarios,c)||(t.filtertxtUsuarios=c),c}),n(),i(20,"label"),r(21,"Buscar"),n()()()()(),m(22,"hr"),i(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),r(28,"#"),n(),i(29,"th",18),r(30,"Nombre Completo"),n(),i(31,"th",18),r(32,"Carnet"),n(),i(33,"th",18),r(34,"Celular"),n(),i(35,"th",18),r(36,"Estado"),n(),i(37,"th",18),r(38,"ACCIONES"),n()()(),i(39,"tbody",19),v(40,Sa,6,0,"tr",20)(41,Ia,3,0,"tr",20)(42,Ma,17,6,"tr",21),S(43,"paginate"),n()(),i(44,"pagination-controls",22),p("pageChange",function(c){return t.paginaUsuarios=c}),n()(),m(45,"hr"),i(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h1",28),r(52),n(),i(53,"button",29),p("click",function(){return t.resetUsuarios()})("click",function(){return t.CancelarArchivosDropzone()}),n()()(),i(54,"div",30)(55,"div",31)(56,"div",32)(57,"input",33),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"nombres")}),n(),i(58,"label"),r(59,"nombres"),n(),i(60,"div",34),r(61,"Este campo es obligatorio*"),n()(),i(62,"div",32)(63,"input",35),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"apellidos")}),n(),i(64,"label"),r(65,"apellidos"),n(),i(66,"div",34),r(67,"Este campo es obligatorio*"),n()(),i(68,"div",32)(69,"input",36),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"usuario")}),n(),i(70,"label"),r(71,"usuario"),n(),i(72,"div",34),r(73,"Este campo es obligatorio*"),n()(),i(74,"div",32),m(75,"input",37),i(76,"label"),r(77,"contrasenia"),n(),i(78,"div",34),r(79,"Este campo es obligatorio*"),n()(),i(80,"div",32),m(81,"input",38),i(82,"label"),r(83,"celular"),n(),i(84,"div",34),r(85,"Este campo es obligatorio*"),n()(),i(86,"div",32),m(87,"input",39),i(88,"label"),r(89,"celulartrabajo"),n(),i(90,"div",34),r(91,"Este campo es obligatorio*"),n()(),i(92,"div",32)(93,"input",40),p("change",function(c){return t._tools.EscribirEnMayuscula(c,t.newUsuarios,"carnet")}),n(),i(94,"label"),r(95,"carnet"),n(),i(96,"div",34),r(97,"Este campo es obligatorio*"),n()(),i(98,"div",32)(99,"select",41)(100,"option",42),r(101,"Seleccione una opci\xF3n"),n(),i(102,"option",43),r(103,"SUPERADMINISTRADOR"),n(),i(104,"option",44),r(105,"MUSICOTERAPEUTA"),n(),i(106,"option",45),r(107,"SECRETARIA"),n()(),i(108,"label"),r(109,"tipo"),n(),i(110,"div",34),r(111,"Este campo es obligatorio*"),n()(),i(112,"div",32)(113,"select",46)(114,"option",42),r(115,"Seleccione una opci\xF3n"),n(),i(116,"option",47),r(117,"ACTIVO"),n(),i(118,"option",48),r(119,"INACTIVO"),n()(),i(120,"label"),r(121,"estado"),n(),i(122,"div",34),r(123,"Este campo es obligatorio*"),n()(),i(124,"div",49)(125,"label",50),r(126,"Foto"),n(),m(127,"div",51)(128,"hr"),i(129,"span"),r(130,"IMAGEN ACTUAL:"),n(),m(131,"img",52),n()()(),i(132,"div",53),v(133,wa,6,0,"div",54),i(134,"div",55)(135,"div",56)(136,"button",57),p("click",function(){return t.resetUsuarios()})("click",function(){return t.CancelarArchivosDropzone()}),m(137,"i",58),r(138," CANCELAR"),m(139,"span",8),n()(),i(140,"div",59),v(141,Aa,4,4,"button",60)(142,ya,2,1,"button",61),n()()()()()()),e&2&&(l(19),z("ngModel",t.filtertxtUsuarios),l(21),d("ngIf",t.isLoadingUsuarios),l(),d("ngIf",!t.isLoadingUsuarios&&t.Usuarios.length===0),l(),d("ngForOf",w(43,19,t.Usuarios,N(22,Ea,t.paginaUsuarios))),l(10),E("",t.newUsuarios.get("id").value?"Modificar":"Registrar"," Usuarios"),l(3),d("formGroup",t.newUsuarios),l(2),d("ngClass",t.ValidacionUsuariosxElemento("nombres")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("apellidos")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("usuario")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("contrasenia")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celular")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("celulartrabajo")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("carnet")),l(6),d("ngClass",t.ValidacionUsuariosxElemento("tipo")),l(14),d("ngClass",t.ValidacionUsuariosxElemento("estado")),l(18),d("src",t.ruta+t.newUsuarios.value.foto,W),l(2),d("ngIf",!t.newUsuarios.get("id").value),l(8),d("ngIf",!t.AnimacionCargabtnModalUsuarios),l(),d("ngIf",t.AnimacionCargabtnModalUsuarios))},dependencies:[J,Q,Y,se,le,ee,be,re,te,ie,ne,oe,ae,me,de]})}};var Pa=[{path:"clientes",component:it,canActivate:[ge]},{path:"ciclosplanesintervenciones",component:nt,canActivate:[ge]},{path:"pagos",component:st,canActivate:[ge]},{path:"inicios",component:dt,canActivate:[ge]},{path:"matrizdeescalas",component:ut,canActivate:[ge]},{path:"usuarios",component:bt,canActivate:[ge]},{path:"planesdeintervenciones",component:Ue,canActivate:[ge]},{path:"planesdeintervenciones/:variable",component:Ue,canActivate:[ge]}],hi=class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=Pe({type:a})}static{this.\u0275inj=ye({imports:[Pt.forChild(Pa),Pt]})}};export{lt as a,et as b,Ee as c,Da as d,vr as e,ot as f,at as g,rt as h,Le as i,mt as j,gt as k,ht as l,ft as m,hi as n};
